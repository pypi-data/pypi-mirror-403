"""teslafleetmanagementapi.

This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
"""

# ruff: noqa: D410, E501, E101, D206
from apimatic_core.authentication.multiple.and_auth_group import (
    And,
)
from apimatic_core.authentication.multiple.single_auth import (
    Single,
)
from apimatic_core.request_builder import RequestBuilder
from apimatic_core.response_handler import ResponseHandler
from apimatic_core.types.parameter import Parameter

from teslafleetmanagementapi.api_helper import (
    APIHelper,
)
from teslafleetmanagementapi.configuration import (
    Server,
)
from teslafleetmanagementapi.controllers.base_controller import (
    BaseController,
)
from teslafleetmanagementapi.http.http_method_enum import (
    HttpMethodEnum,
)
from teslafleetmanagementapi.models.backup_response import (
    BackupResponse,
)
from teslafleetmanagementapi.models.me_response import (
    MeResponse,
)
from teslafleetmanagementapi.models.orders_response import (
    OrdersResponse,
)
from teslafleetmanagementapi.models.region_response import (
    RegionResponse,
)


class UserController(BaseController):
    """A Controller to access Endpoints in the teslafleetmanagementapi API."""

    def __init__(self, config):
        """Initialize UserController object."""
        super(UserController, self).__init__(config)

    def get_custom_feature_flags_for_a_user(self):
        """Perform a GET request to /api/1/users/feature_config.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. Feature flags retrieved

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/api/1/users/feature_config")
            .http_method(HttpMethodEnum.GET)
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .auth(And(Single("bearerAuth"), Single("thirdpartytoken"))),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(BackupResponse.from_dictionary)
            .is_api_response(True),
        ).execute()

    def get_summary_of_a_user_s_account(self):
        """Perform a GET request to /api/1/users/me.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. User account retrieved

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/api/1/users/me")
            .http_method(HttpMethodEnum.GET)
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .auth(And(Single("bearerAuth"), Single("thirdpartytoken"))),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(MeResponse.from_dictionary)
            .is_api_response(True),
        ).execute()

    def get_active_orders_for_a_user(self):
        """Perform a GET request to /api/1/users/orders.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. User orders retrieved

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/api/1/users/orders")
            .http_method(HttpMethodEnum.GET)
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .auth(And(Single("bearerAuth"), Single("thirdpartytoken"))),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(OrdersResponse.from_dictionary)
            .is_api_response(True),
        ).execute()

    def get_user_s_region_and_fleet_api_base_url(self):
        """Perform a GET request to /api/1/users/region.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. Region information
                retrieved

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/api/1/users/region")
            .http_method(HttpMethodEnum.GET)
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .auth(And(Single("bearerAuth"), Single("thirdpartytoken"))),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(RegionResponse.from_dictionary)
            .is_api_response(True),
        ).execute()
