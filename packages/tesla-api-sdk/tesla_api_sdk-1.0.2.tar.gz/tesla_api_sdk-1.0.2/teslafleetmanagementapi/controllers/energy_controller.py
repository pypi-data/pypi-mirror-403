"""teslafleetmanagementapi.

This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
"""

# ruff: noqa: D410, E501, E101, D206
from apimatic_core.authentication.multiple.and_auth_group import (
    And,
)
from apimatic_core.authentication.multiple.single_auth import (
    Single,
)
from apimatic_core.request_builder import RequestBuilder
from apimatic_core.response_handler import ResponseHandler
from apimatic_core.types.parameter import Parameter

from teslafleetmanagementapi.api_helper import (
    APIHelper,
)
from teslafleetmanagementapi.configuration import (
    Server,
)
from teslafleetmanagementapi.controllers.base_controller import (
    BaseController,
)
from teslafleetmanagementapi.http.http_method_enum import (
    HttpMethodEnum,
)
from teslafleetmanagementapi.models.backup_response import (
    BackupResponse,
)
from teslafleetmanagementapi.models.calendar_history_response import (
    CalendarHistoryResponse,
)
from teslafleetmanagementapi.models.charge_history_response import (
    ChargeHistoryResponse,
)
from teslafleetmanagementapi.models.generic_update_response import (
    GenericUpdateResponse,
)
from teslafleetmanagementapi.models.live_status_response import (
    LiveStatusResponse,
)
from teslafleetmanagementapi.models.products_response import (
    ProductsResponse,
)
from teslafleetmanagementapi.models.site_info_response import (
    SiteInfoResponse,
)


class EnergyController(BaseController):
    """A Controller to access Endpoints in the teslafleetmanagementapi API."""

    def __init__(self, config):
        """Initialize EnergyController object."""
        super(EnergyController, self).__init__(config)

    def adjust_site_s_backup_reserve(self,
                                     energy_site_id,
                                     body):
        """Perform a POST request to
        /api/1/energy_sites/{energy_site_id}/backup.

        Args:
            energy_site_id (str): The request template parameter.
            body (BackupRequest): The request body parameter.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. Backup reserve updated

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/api/1/energy_sites/{energy_site_id}/backup")
            .http_method(HttpMethodEnum.POST)
            .template_param(Parameter()
                .key("energy_site_id")
                .value(energy_site_id)
                .is_required(True)
                .should_encode(True))
            .header_param(Parameter()
                .key("Content-Type")
                .value("application/json"))
            .body_param(Parameter()
                .value(body)
                .is_required(True))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .body_serializer(APIHelper.json_serialize)
            .auth(And(Single("bearerAuth"), Single("thirdpartytoken"))),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(BackupResponse.from_dictionary)
            .is_api_response(True),
        ).execute()

    def get_backup_or_energy_history(self,
                                     energy_site_id,
                                     kind,
                                     start_date,
                                     end_date,
                                     period=None,
                                     time_zone=None):
        """Perform a GET request to
        /api/1/energy_sites/{energy_site_id}/calendar_history.

        Args:
            energy_site_id (str): The request template parameter.
            kind (Kind): The request query parameter.
            start_date (datetime): The request query parameter.
            end_date (datetime): The request query parameter.
            period (str, optional): The request query parameter.
            time_zone (str, optional): The request query parameter.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. History retrieved

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/api/1/energy_sites/{energy_site_id}/calendar_history")
            .http_method(HttpMethodEnum.GET)
            .template_param(Parameter()
                .key("energy_site_id")
                .value(energy_site_id)
                .is_required(True)
                .should_encode(True))
            .query_param(Parameter()
                .key("kind")
                .value(kind)
                .is_required(True))
            .query_param(Parameter()
                .key("start_date")
                .value(APIHelper.when_defined(APIHelper.RFC3339DateTime,
                    start_date))
                .is_required(True))
            .query_param(Parameter()
                .key("end_date")
                .value(APIHelper.when_defined(APIHelper.RFC3339DateTime,
                    end_date))
                .is_required(True))
            .query_param(Parameter()
                .key("period")
                .value(period))
            .query_param(Parameter()
                .key("time_zone")
                .value(time_zone))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .auth(And(Single("bearerAuth"), Single("thirdpartytoken"))),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(CalendarHistoryResponse.from_dictionary)
            .is_api_response(True),
        ).execute()

    def get_wall_connector_charging_history(self,
                                            energy_site_id,
                                            kind,
                                            start_date,
                                            end_date,
                                            time_zone=None):
        """Perform a GET request to
        /api/1/energy_sites/{energy_site_id}/telemetry_history.

        Args:
            energy_site_id (str): The request template parameter.
            kind (KindGetWallConnectorChargingHistory): The request query parameter.
            start_date (datetime): The request query parameter.
            end_date (datetime): The request query parameter.
            time_zone (str, optional): The request query parameter.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. Charging history
                retrieved

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/api/1/energy_sites/{energy_site_id}/telemetry_history")
            .http_method(HttpMethodEnum.GET)
            .template_param(Parameter()
                .key("energy_site_id")
                .value(energy_site_id)
                .is_required(True)
                .should_encode(True))
            .query_param(Parameter()
                .key("kind")
                .value(kind)
                .is_required(True))
            .query_param(Parameter()
                .key("start_date")
                .value(APIHelper.when_defined(APIHelper.RFC3339DateTime,
                    start_date))
                .is_required(True))
            .query_param(Parameter()
                .key("end_date")
                .value(APIHelper.when_defined(APIHelper.RFC3339DateTime,
                    end_date))
                .is_required(True))
            .query_param(Parameter()
                .key("time_zone")
                .value(time_zone))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .auth(And(Single("bearerAuth"), Single("thirdpartytoken"))),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(ChargeHistoryResponse.from_dictionary)
            .is_api_response(True),
        ).execute()

    def get_live_site_status(self,
                             energy_site_id):
        """Perform a GET request to
        /api/1/energy_sites/{energy_site_id}/live_status.

        Args:
            energy_site_id (str): The request template parameter.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. Live status retrieved

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/api/1/energy_sites/{energy_site_id}/live_status")
            .http_method(HttpMethodEnum.GET)
            .template_param(Parameter()
                .key("energy_site_id")
                .value(energy_site_id)
                .is_required(True)
                .should_encode(True))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .auth(And(Single("bearerAuth"), Single("thirdpartytoken"))),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(LiveStatusResponse.from_dictionary)
            .is_api_response(True),
        ).execute()

    def set_site_mode_autonomous_or_self_consumption(self,
                                                     energy_site_id,
                                                     body):
        """Perform a POST request to
        /api/1/energy_sites/{energy_site_id}/operation.

        Args:
            energy_site_id (str): The request template parameter.
            body (OperationRequest): The request body parameter.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. Operation mode updated

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/api/1/energy_sites/{energy_site_id}/operation")
            .http_method(HttpMethodEnum.POST)
            .template_param(Parameter()
                .key("energy_site_id")
                .value(energy_site_id)
                .is_required(True)
                .should_encode(True))
            .header_param(Parameter()
                .key("Content-Type")
                .value("application/json"))
            .body_param(Parameter()
                .value(body)
                .is_required(True))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .body_serializer(APIHelper.json_serialize)
            .auth(And(Single("bearerAuth"), Single("thirdpartytoken"))),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(GenericUpdateResponse.from_dictionary)
            .is_api_response(True),
        ).execute()

    def allow_disallow_charging_from_the_grid_and_exporting_energy_to_the_grid(self,
                                                                               energy_site_id,
                                                                               body=None):
        """Perform a POST request to
        /api/1/energy_sites/{energy_site_id}/grid_import_export.

        Args:
            energy_site_id (str): The request template parameter.
            body (Any, optional): The request body parameter.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. Grid import/export
                updated

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/api/1/energy_sites/{energy_site_id}/grid_import_export")
            .http_method(HttpMethodEnum.POST)
            .template_param(Parameter()
                .key("energy_site_id")
                .value(energy_site_id)
                .is_required(True)
                .should_encode(True))
            .header_param(Parameter()
                .key("Content-Type")
                .value("application/json"))
            .body_param(Parameter()
                .value(body))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .body_serializer(APIHelper.json_serialize)
            .auth(And(Single("bearerAuth"), Single("thirdpartytoken"))),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(GenericUpdateResponse.from_dictionary)
            .is_api_response(True),
        ).execute()

    def adjust_site_s_off_grid_vehicle_charging_reserve(self,
                                                        energy_site_id,
                                                        body):
        """Perform a POST request to
        /api/1/energy_sites/{energy_site_id}/off_grid_vehicle_charging_reserve.

        Args:
            energy_site_id (str): The request template parameter.
            body (OffGridVehicleChargingReserveRequest): The request body parameter.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. Reserve updated

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/api/1/energy_sites/{energy_site_id}/off_grid_vehicle_charging_reserve")
            .http_method(HttpMethodEnum.POST)
            .template_param(Parameter()
                .key("energy_site_id")
                .value(energy_site_id)
                .is_required(True)
                .should_encode(True))
            .header_param(Parameter()
                .key("Content-Type")
                .value("application/json"))
            .body_param(Parameter()
                .value(body)
                .is_required(True))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .body_serializer(APIHelper.json_serialize)
            .auth(And(Single("bearerAuth"), Single("thirdpartytoken"))),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(GenericUpdateResponse.from_dictionary)
            .is_api_response(True),
        ).execute()

    def update_storm_watch_participation(self,
                                         energy_site_id,
                                         body):
        """Perform a POST request to
        /api/1/energy_sites/{energy_site_id}/storm_mode.

        Args:
            energy_site_id (str): The request template parameter.
            body (StormModeRequest): The request body parameter.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. Storm mode updated

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/api/1/energy_sites/{energy_site_id}/storm_mode")
            .http_method(HttpMethodEnum.POST)
            .template_param(Parameter()
                .key("energy_site_id")
                .value(energy_site_id)
                .is_required(True)
                .should_encode(True))
            .header_param(Parameter()
                .key("Content-Type")
                .value("application/json"))
            .body_param(Parameter()
                .value(body)
                .is_required(True))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .body_serializer(APIHelper.json_serialize)
            .auth(And(Single("bearerAuth"), Single("thirdpartytoken"))),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(GenericUpdateResponse.from_dictionary)
            .is_api_response(True),
        ).execute()

    def update_time_of_use_tou_settings(self,
                                        energy_site_id,
                                        body):
        """Perform a POST request to
        /api/1/energy_sites/{energy_site_id}/time_of_use_settings.

        Args:
            energy_site_id (str): The request template parameter.
            body (TimeOfUseSettingsRequest): The request body parameter.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. TOU settings updated

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/api/1/energy_sites/{energy_site_id}/time_of_use_settings")
            .http_method(HttpMethodEnum.POST)
            .template_param(Parameter()
                .key("energy_site_id")
                .value(energy_site_id)
                .is_required(True)
                .should_encode(True))
            .header_param(Parameter()
                .key("Content-Type")
                .value("application/json"))
            .body_param(Parameter()
                .value(body)
                .is_required(True))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .body_serializer(APIHelper.json_serialize)
            .auth(And(Single("bearerAuth"), Single("thirdpartytoken"))),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(GenericUpdateResponse.from_dictionary)
            .is_api_response(True),
        ).execute()

    def get_user_products_vehicles_energy_sites(self):
        """Perform a GET request to /api/1/products.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. Products retrieved

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/api/1/products")
            .http_method(HttpMethodEnum.GET)
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .auth(And(Single("bearerAuth"), Single("thirdpartytoken"))),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(ProductsResponse.from_dictionary)
            .is_api_response(True),
        ).execute()

    def get_site_information_assets_settings_features(self,
                                                      energy_site_id):
        """Perform a GET request to
        /api/1/energy_sites/{energy_site_id}/site_info.

        Args:
            energy_site_id (str): The request template parameter.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. Site info retrieved

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/api/1/energy_sites/{energy_site_id}/site_info")
            .http_method(HttpMethodEnum.GET)
            .template_param(Parameter()
                .key("energy_site_id")
                .value(energy_site_id)
                .is_required(True)
                .should_encode(True))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .auth(And(Single("bearerAuth"), Single("thirdpartytoken"))),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(SiteInfoResponse.from_dictionary)
            .is_api_response(True),
        ).execute()
