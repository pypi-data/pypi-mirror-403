"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[7295],{11055:function(e,n,i){i.d(n,{B:function(){return c}});var t=i(76998),r=i(98512),a=i(89105),s=i(76714),o=i(68826),d=i(35891),l=i(78690);const c=({enabled:e,experimentId:n})=>{const i=(0,r.Zp)(),{data:c,loading:m}=(0,o.L)({experimentId:n,options:{skip:!e}}),g=(0,t.useMemo)(()=>{if(m||!c)return null;const e=c&&"tags"in c?null===c||void 0===c?void 0:c.tags:[];if(c){const n=(0,d.BH)(e);return(0,l.SK)(s.Gk,n,s.Gk.NO_INFERRED_TYPE)}return null},[c,m]);return(0,t.useEffect)(()=>{if(!e||!g)return;let t=s.fM.Runs;g===s.Gk.GENAI_DEVELOPMENT&&(t=s.fM.Traces),i(a.Ay.getExperimentPageTabRoute(n,t),{replace:!0})},[i,n,e,g]),{isEnabled:e,isLoading:e&&m}}},18748:function(e,n,i){i.r(n),i.d(n,{default:function(){return Q}});var t=i(64819),r=i(76998),a=i(37733),s=i(29332),o=i(32256),d=i(48523),l=i(71053),c=i.n(l),m=i(98512),g=i(98374),p=i(34139),u=i(89105),f=i(53660),h=i(76714),v=i(51391);const b=({experimentId:e="",activeTab:n})=>{const{theme:i}=(0,a.u)();return(0,v.Y)(o.NavigationMenu.Root,{children:(0,v.FD)(o.NavigationMenu.List,{css:(0,t.AH)({marginBottom:0,li:{lineHeight:i.typography.lineHeightBase,marginRight:i.spacing.lg,paddingTop:1.5*i.spacing.xs,paddingBottom:1.5*i.spacing.xs,"&>a":{padding:0},alignItems:"center"},"li+li":{marginLeft:.5*i.spacing.xs}},""),children:[(0,v.Y)(o.NavigationMenu.Item,{children:(0,v.Y)(m.N_,{to:(r="TABLE",[u.Ay.getExperimentPageRoute(e),[f.b,r].join("=")].join("?")),children:(0,v.Y)(p.A,{id:"qpFaad",defaultMessage:"Runs"})})},"RUNS"),(0,v.Y)(o.NavigationMenu.Item,{active:n===h.fM.Models,children:(0,v.FD)(m.N_,{to:u.Ay.getExperimentPageTabRoute(e,h.fM.Models),children:[(0,v.Y)(p.A,{id:"b8rdDM",defaultMessage:"Models"}),(0,v.Y)(g.W,{})]})},"MODELS")]})});var r};var x=i(68826),E=i(89365),Y=i(1797),M=i(33444),T=i(45901);var A=i(67746),S=i(94062),y=i(25024),I=i(82466),N=i(29708),L=i(16936);const k=({experiment:e,loading:n,onNoteUpdated:i,error:s,experimentKindSelector:d,inferredExperimentKind:l})=>{var c,m;const{theme:g}=(0,a.u)(),[u,f]=(0,r.useState)(!0),[h,b]=(0,r.useState)(!1),x=(0,r.useMemo)(()=>{const n=e;return n?{...n,creationTime:Number(null===n||void 0===n?void 0:n.creationTime),lastUpdateTime:Number(null===n||void 0===n?void 0:n.lastUpdateTime)}:null},[e]),E=null===x||void 0===x||null===(c=x.tags)||void 0===c||null===(m=c.find(e=>e.key===y.e))||void 0===m?void 0:m.value,Y=(0,I.b)(s);return n?(0,L.w7)()?(0,v.Y)(N.l,{}):(0,v.Y)(A.J,{}):Y?(0,v.Y)("div",{css:(0,t.AH)({height:g.general.heightBase,marginTop:g.spacing.sm,marginBottom:g.spacing.md},""),children:(0,v.Y)(o.Alert,{componentId:"mlflow.logged_model.list.header.error",type:"error",message:(0,v.Y)(p.A,{id:"E4Te7L",defaultMessage:"Experiment load error: {errorMessage}",values:{errorMessage:Y}}),closable:!1})}):x?(0,v.FD)(v.FK,{children:[(0,L.w7)()?(0,v.Y)(N.i,{experiment:x,inferredExperimentKind:l,setEditing:b,experimentKindSelector:d}):(0,v.Y)(A.i,{experiment:x,showAddDescriptionButton:u,setEditing:b}),(0,v.Y)(S.A,{experiment:x,setShowAddDescriptionButton:f,editing:h,setEditing:b,onNoteUpdated:i,defaultValue:E})]}):null};var B=i(78690),D=i(10870),K=i(87801),R=i(35891),F=i(16150),P=i(7159);const w=({experimentId:e,activeTab:n})=>{const{theme:i}=(0,a.u)();return(0,v.FD)(v.FK,{children:[(0,v.Y)(s.S,{size:"sm",shrinks:!1}),(0,v.Y)("div",{css:(0,t.AH)({width:"100%",borderTop:`1px solid ${i.colors.border}`},"")})]})};var _={name:"6z2y42",styles:"& > div{margin-bottom:0;}"};const H=({experimentId:e,activeTab:n})=>{const{theme:i}=(0,a.u)();return(0,v.Y)(o.Tabs.Root,{componentId:"mlflow.labeling-sub-tab-selector",value:n,css:_,children:(0,v.FD)(o.Tabs.List,{children:[(0,v.Y)(o.Tabs.Trigger,{value:h.fM.LabelingSessions,children:(0,v.Y)(m.N_,{css:(0,t.AH)({color:i.colors.textPrimary},""),to:u.Ay.getExperimentPageTabRoute(e,h.fM.LabelingSessions),children:(0,v.Y)(p.A,{id:"0vs7Wu",defaultMessage:"Sessions"})})}),(0,v.Y)(o.Tabs.Trigger,{value:h.fM.LabelingSchemas,children:(0,v.Y)(m.N_,{css:(0,t.AH)({color:i.colors.textPrimary},""),to:u.Ay.getExperimentPageTabRoute(e,h.fM.LabelingSchemas),children:(0,v.Y)(p.A,{id:"iKSfnk",defaultMessage:"Schemas"})})})]})})};var z=i(46955),G=i(11055);const U=r.lazy(()=>Promise.all([i.e(600),i.e(4245),i.e(4422),i.e(1510),i.e(7286),i.e(3531),i.e(7331),i.e(7072),i.e(1241),i.e(8733),i.e(7696),i.e(8226),i.e(1246),i.e(3035),i.e(6279),i.e(2037),i.e(483),i.e(1332),i.e(4901)]).then(i.bind(i,71579))),V=r.lazy(()=>Promise.all([i.e(600),i.e(4245),i.e(4422),i.e(7286),i.e(7331),i.e(7072),i.e(1241),i.e(8226),i.e(3035),i.e(6279),i.e(2037),i.e(8827)]).then(i.bind(i,74976))),O=r.lazy(()=>Promise.all([i.e(600),i.e(4245),i.e(1510),i.e(7286),i.e(3531),i.e(3492),i.e(7072),i.e(8733),i.e(7696),i.e(1246),i.e(9160),i.e(4698),i.e(7443),i.e(363)]).then(i.bind(i,37443))),C=()=>{const{experimentId:e,tabName:n}=(0,m.g)(),{theme:i}=(0,a.u)(),l=(0,m.Zp)(),{tabName:g}=(0,z.H)(),p=null!==g&&void 0!==g?g:(0,B.SK)(h.fM,n,h.fM.Models);c()(e,"Experiment ID must be defined"),(0,L.BV)()||c()(n,"Tab name must be defined");const{data:f,loading:A,refetch:S,apiError:y,apolloError:I}=(0,x.L)({experimentId:e}),{mutate:N,isLoading:_}=(0,D.G)(S),C=null!==y&&void 0!==y?y:I;if((e=>{const n=(0,E.wA)();(0,r.useEffect)(()=>{const i=(0,T.get)(e,"experimentId");e&&i&&n((n,t)=>{var r,a;Boolean(null===(r=t().entities)||void 0===r||null===(a=r.experimentsById)||void 0===a?void 0:a[i])||n({type:(0,M.ec)(Y.gT),payload:{experiment:e}})})},[e,n])})(f),C instanceof d.ZR)throw C;const Q=f&&"tags"in f?null===f||void 0===f?void 0:f.tags:[],j=(0,R.BH)(Q),{inferredExperimentKind:Z,inferredExperimentPageTab:$,isLoading:W,dismiss:X}=(0,F.F)({experimentId:e,isLoadingExperiment:A,enabled:(0,L.XQ)()&&!j,experimentTags:Q,updateExperimentKind:N}),{pathname:q}=(0,m.zy)(),J=Boolean((0,m.B6)(u.AY.experimentPage,q));return(0,G.B)({enabled:(0,L.BV)()&&J,experimentId:e}),(0,r.useEffect)(()=>{$&&l(u.Ay.getExperimentPageTabRoute(e,$),{replace:!0})},[e,l,$]),Z===h.Gk.NO_INFERRED_TYPE&&(0,L.XQ)()?(0,v.Y)(P.T,{onConfirm:n=>{N({experimentId:e,kind:n},{onSettled:()=>{X(),(0,L.BV)()&&n===h.Gk.GENAI_DEVELOPMENT&&l(u.Ay.getExperimentPageTabRoute(e,h.fM.Traces),{replace:!0})}})},onDismiss:X}):(0,v.FD)(v.FK,{children:[(0,v.Y)(k,{experiment:f,loading:A||W,onNoteUpdated:S,error:C,inferredExperimentKind:Z,experimentKindSelector:(0,v.Y)(K.f,{value:j,inferredExperimentKind:Z,onChange:n=>N({experimentId:e,kind:n}),isUpdating:_||W,readOnly:!1},Z)}),(0,L.w7)()?p===h.fM.EvaluationRuns||p===h.fM.Datasets?(0,v.Y)(w,{experimentId:e,activeTab:p}):p===h.fM.LabelingSessions||p===h.fM.LabelingSchemas?(0,v.Y)(H,{experimentId:e,activeTab:p}):(0,v.FD)(v.FK,{children:[(0,v.Y)(s.S,{size:"sm",shrinks:!1}),(0,v.Y)("div",{css:(0,t.AH)({width:"100%",borderTop:`1px solid ${i.colors.border}`},"")})]}):(0,v.Y)(v.FK,{children:(0,v.Y)(b,{experimentId:e,activeTab:p})}),(0,v.Y)(s.S,{size:"sm",shrinks:!1}),(0,v.Y)(r.Suspense,{fallback:(0,v.Y)(v.FK,{children:[...Array(8).keys()].map(e=>(0,v.Y)(o.ParagraphSkeleton,{label:"Loading...",seed:`s-${e}`},e))}),children:(0,L.BV)()?(0,v.Y)(m.sv,{}):(0,v.FD)(v.FK,{children:[p===h.fM.Traces&&(0,v.Y)(V,{}),p===h.fM.Runs&&(0,v.Y)(U,{}),p===h.fM.Models&&(0,v.Y)(O,{})]})})]})};var Q=()=>{const{theme:e}=(0,a.u)();return(0,v.Y)("div",{css:(0,t.AH)({flex:1,overflow:"hidden",display:"flex",flexDirection:"column",padding:e.spacing.md,height:"100%"},""),children:(0,v.Y)(C,{})})}},82466:function(e,n,i){i.d(n,{b:function(){return r}});var t=i(16524);const r=e=>{if(e)return e instanceof t.K4&&e.graphQLErrors.length>0?e.graphQLErrors.map(e=>e.toString()).join(", "):"message"in e?e.message:e.toString()}}}]);
//# sourceMappingURL=7295.ca088318.chunk.js.map