"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[36,363],{13804:function(e,t,n){n.d(t,{L:function(){return o}});n(76998);var r=n(32256),a=n(29332),i=n(51391);function o(e){const{usesFullHeight:t,...n}=e;return(0,i.FD)(r.PageWrapper,{css:t?s.useFullHeightLayout:s.wrapper,children:[(0,i.Y)(a.S,{css:s.fixedSpacer}),t?e.children:(0,i.Y)("div",{...n,css:s.container})]})}o.defaultProps={usesFullHeight:!1};const s={useFullHeightLayout:{height:"calc(100% - 60px)",display:"flex",flexDirection:"column","&:last-child":{flexGrow:1}},wrapper:{flex:1},fixedSpacer:{flexShrink:0},container:{width:"100%",flexGrow:1,paddingBottom:24}}},19064:function(e,t,n){n.d(t,{S:function(){return L}});var r=n(64819),a=n(76998),i=n(75523),o=n(37733),s=n(29332),l=n(32256),d=n(34139),u=n(71053),c=n.n(u),m=n(51391);function g({children:e}){const{theme:t}=(0,o.u)();return(0,m.Y)("div",{css:(0,r.AH)({display:"flex",flexDirection:"column",gap:t.spacing.sm},""),children:e})}const p=(0,a.createContext)(null);function f({children:e,...t}){return(0,m.Y)(p.Provider,{value:t,children:e})}function v(){const e=(0,a.useContext)(p);return c()(e,"useTagAssignmentContext must be used within a TagAssignmentRoot"),e}function h({children:e,...t}){const n=(0,i.xW)(),r=(0,m.Y)(f,{...t,children:(0,m.Y)(g,{children:e})});return n?r:(c()(t.form,"Nest your component on a FormProvider or pass a form prop"),(0,m.Y)(i.Op,{...t.form,children:r}))}function y({children:e}){const{theme:t}=(0,o.u)(),n=a.Children.toArray(e);c()(n.length<=3,"TagAssignmentRow must have 3 children or less");const i=Array(3).fill(null).map((e,r)=>{var a;return null!==(a=n[r])&&void 0!==a?a:(0,m.Y)("span",{style:{width:t.general.heightSm}},r)});return(0,m.Y)("div",{css:(0,r.AH)({display:"grid",gridTemplateColumns:"1fr 1fr min-content",gap:t.spacing.sm},""),children:i})}function Y({children:e}){return(0,m.Y)(o.T.Text,{bold:!0,children:e})}var M=n(26737);var x={name:"82a6rk",styles:"flex:1"};const I=(0,a.forwardRef)(({errorMessage:e,...t},n)=>(0,m.FD)("div",{css:x,children:[(0,m.Y)(M.I,{validationState:e?"error":"info",...t,ref:n}),e&&(0,m.Y)(l.FormUI.Message,{message:e,type:"error"})]}));function T({index:e,rules:t,render:n}){const{name:r,keyProperty:a,getTagsValues:o,emptyValue:s,appendIfPossible:l}=v();return(0,m.Y)(i.xI,{name:`${r}.${e}.${a}`,rules:t,render:({field:e,fieldState:t,formState:r})=>{var i;const d=e.onChange;return e.onChange=function(e){var t;d(e);const n=o();null!==n&&void 0!==n&&null!==(t=n.at(-1))&&void 0!==t&&t[a]&&l(s,{shouldFocus:!1})},n?n({field:e,fieldState:t,formState:r}):(0,m.Y)(I,{componentId:"TagAssignmentKey.Default.Input",errorMessage:null===(i=t.error)||void 0===i?void 0:i.message,...e})}})}function C({rules:e,index:t,render:n}){const{name:r,valueProperty:a}=v();return(0,m.Y)(i.xI,{rules:e,name:`${r}.${t}.${a}`,render:({field:e,fieldState:t,formState:r})=>{var a;return n?n({field:e,fieldState:t,formState:r}):(0,m.Y)(I,{componentId:"TagAssignmentValue.Default.Input",errorMessage:null===(a=t.error)||void 0===a?void 0:a.message,...e})}})}function A(e){return(0,m.Y)(o.B,{icon:(0,m.Y)(l.TrashIcon,{}),...e})}function E({index:e,...t}){const{removeOrUpdate:n}=v();return(0,m.Y)(A,{onClick:()=>n(e),...t})}var R=n(86288);function S(e,t){if(void 0!==e)return 0===e&&c()(!1,"maxLength must be greater than 0"),{maxLength:{value:e,message:t.formatMessage({id:"JW0GbU",defaultMessage:"You can set a maximum of {maxLength} values"},{maxLength:e})}}}function _({name:e,maxLength:t,emptyValue:n,defaultValues:r,loading:o,form:s,keyProperty:l,valueProperty:d}){const[u]=(0,a.useState)(n),m=(0,i.xW)(),g=Boolean(m)&&!s,p=g?m:s;c()(p,"Nest your component on a FormProvider or pass a form prop"),c()(!(r&&g),"Define defaultValues at form context level");const{setValue:f}=p,v=function({name:e,maxLength:t,emptyValue:n,form:r,keyProperty:o}){const s=(0,R.A)(),l=(0,i.xW)(),d=Boolean(l)&&!r?l:r;c()(d,"Nest your component on a FormProvider or pass a form prop");const[u]=(0,a.useState)(n),{append:m,update:g,remove:p,...f}=(0,i.jz)({name:e,control:d.control,rules:S(t,s)}),{getValues:v}=d,h=(0,a.useCallback)(()=>v(e),[v,e]),y=(0,a.useCallback)((e,n)=>{const r=h();t&&r&&r.length>=t||m(e,n)},[h,t,m]),Y=(0,a.useCallback)(e=>{const t=h();if(t&&e===t.length-1)return g(e,u);const n=null===t||void 0===t?void 0:t.at(-1);if(null!==n&&void 0!==n&&n[o])return p(e),void m(u,{shouldFocus:!1});p(e)},[u,h,o,m,p,g]);return{form:d,...f,originalAppend:m,update:g,originalRemove:p,appendIfPossible:y,removeOrUpdate:Y,getTagsValues:h}}({name:e,maxLength:t,emptyValue:n,form:p,keyProperty:l}),h=v.getTagsValues;return(0,a.useEffect)(()=>{if(!o){if(r){const n=[...r];return(!t||t&&n.length<t)&&n.push(u),void f(e,n)}if(g){var n;const r=null!==(n=h())&&void 0!==n?n:[];return(!t||t&&r.length<t)&&r.push(u),void f(e,r)}f(e,[u])}},[r,f,o,t,e,u,g,h]),{...v,form:p,maxLength:t,emptyValue:n,name:e,keyProperty:l,valueProperty:d}}const D="value",b=({form:e,name:t,initialTags:n})=>{const r=(0,R.A)(),a=_({name:t,emptyValue:{key:"",value:""},keyProperty:"key",valueProperty:D,form:e,defaultValues:n});return(0,m.FD)(h,{...a,children:[(0,m.FD)(y,{children:[(0,m.Y)(Y,{children:(0,m.Y)(d.A,{id:"h2SXjO",defaultMessage:"Key"})}),(0,m.Y)(Y,{children:(0,m.Y)(d.A,{id:"6yjymQ",defaultMessage:"Value"})})]}),a.fields.map((e,t)=>(0,m.FD)(y,{children:[(0,m.Y)(T,{index:t,rules:{validate:{unique:e=>{const n=a.getTagsValues();return(null===n||void 0===n?void 0:n.findIndex(t=>t.key===e))===t||r.formatMessage({id:"sLBHQp",defaultMessage:"Key must be unique"})},required:e=>{var n;const i=a.getTagsValues();return!(null!==i&&void 0!==i&&null!==(n=i.at(t))&&void 0!==n&&n[D]&&!e)||r.formatMessage({id:"J45Atg",defaultMessage:"Key is required if value is present"})}}}}),(0,m.Y)(C,{index:t}),(0,m.Y)(E,{index:t,componentId:"endpoint-tags-section.remove-button"})]},e.id))]})},w="key",k="value",N="tags",U={key:"",value:""},L=({componentIdPrefix:e,title:t,visible:n,initialTags:u,isLoading:c=!1,error:g,onSubmit:p,onSuccess:f,onClose:v})=>{const h=`${e}.tag-assignment-modal`,[y,Y]=(0,a.useState)(!1),{theme:M}=(0,o.u)(),x=(0,i.mN)({mode:"onChange"}),I=()=>{Y(!1),x.reset({[N]:[U]}),null===v||void 0===v||v()},T=(0,m.Y)(d.A,{id:"AGWpnl",defaultMessage:"Add tags"});return{TagAssignmentModal:(0,m.FD)(s.d,{componentId:`${h}`,title:null!==t&&void 0!==t?t:T,visible:null!==n&&void 0!==n?n:y,destroyOnClose:!0,onCancel:I,footer:(0,m.FD)(m.FK,{children:[(0,m.Y)(o.B,{componentId:`${h}.submit-button`,onClick:I,disabled:c,children:(0,m.Y)(d.A,{id:"awekbG",defaultMessage:"Cancel"})}),(0,m.Y)(o.B,{componentId:`${h}.submit-button`,type:"primary",onClick:x.handleSubmit(e=>{var t,n;const r=e[N].filter(e=>Boolean(e[w])),a=null!==(t=r.filter(e=>!(null!==u&&void 0!==u&&u.some(t=>t[w]===e[w]&&t[k]===e[k]))))&&void 0!==t?t:[],i=null!==(n=null===u||void 0===u?void 0:u.filter(e=>!r.some(t=>t[w]===e[w]&&t[k]===e[k])))&&void 0!==n?n:[];p(a,i).then(()=>{I(),null===f||void 0===f||f()})}),loading:c,disabled:c,children:(0,m.Y)(d.A,{id:"C6ReUY",defaultMessage:"Save"})})]}),children:[g&&(0,m.Y)(l.Alert,{type:"error",message:g,componentId:`${h}.error`,closable:!1,css:(0,r.AH)({marginBottom:M.spacing.sm},"")}),(0,m.Y)(b,{name:N,form:x,initialTags:u})]}),showTagAssignmentModal:()=>{Y(!0)},hideTagAssignmentModal:I}}},27221:function(e,t,n){n.d(t,{Qr:function(){return d},U1:function(){return v},Xb:function(){return g},Y7:function(){return o},fx:function(){return s},ib:function(){return h},yv:function(){return u},z7:function(){return f}});var r=n(45901),a=n.n(r);const i=()=>n.e(7602).then(n.t.bind(n,7602,23)),o=(e,t)=>{const n=a().truncate(e,{length:t});return a().takeWhile(n,e=>"\n"!==e).join("")},s=(e,t)=>{if(e.length>t){const n=Math.floor((t-3)/2),r=t-3-n;return e.substring(0,n)+"..."+e.substring(e.length-r,e.length)}return e},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=e=>{let t="",n=0;const r=c(e);for(;n<r.length;){const e=r.charCodeAt(n++),a=r.charCodeAt(n++),i=r.charCodeAt(n++),o=e>>2,s=(3&e)<<4|a>>4;let d=(15&a)<<2|i>>6,u=63&i;isNaN(a)?(u=64,d=u):isNaN(i)&&(u=64),t=t+l.charAt(o)+l.charAt(s)+l.charAt(d)+l.charAt(u)}return t},u=e=>{let t="",n=0;const r=(null===e||void 0===e?void 0:e.replace(/[^A-Za-z0-9+/=]/g,""))||"";for(;n<r.length;){const e=l.indexOf(r.charAt(n++)),a=l.indexOf(r.charAt(n++)),i=l.indexOf(r.charAt(n++)),o=l.indexOf(r.charAt(n++)),s=e<<2|a>>4,d=(15&a)<<4|i>>2,u=(3&i)<<6|o;t+=String.fromCharCode(s),64!==i&&(t+=String.fromCharCode(d)),64!==o&&(t+=String.fromCharCode(u))}return m(t)},c=(e="")=>{const t=e.replace(/\r\n/g,"\n");let n="";for(let r=0;r<t.length;r++){const e=t.charCodeAt(r);n+=e<128?String.fromCharCode(e):e>127&&e<2048?String.fromCharCode(e>>6|192)+String.fromCharCode(63&e|128):String.fromCharCode(e>>12|224)+String.fromCharCode(e>>6&63|128)+String.fromCharCode(63&e|128)}return n},m=(e="")=>{let t="",n=0;for(;n<e.length;){const r=e.charCodeAt(n);if(r<128)t+=String.fromCharCode(r),n++;else if(r>191&&r<224){const a=e.charCodeAt(n+1);t+=String.fromCharCode((31&r)<<6|63&a),n+=2}else{const a=e.charCodeAt(n+1),i=e.charCodeAt(n+2);t+=String.fromCharCode((15&r)<<12|(63&a)<<6|63&i),n+=3}}return t},g=e=>crypto.subtle.digest("SHA-256",(new TextEncoder).encode(e)).then(e=>Array.prototype.map.call(new Uint8Array(e),e=>("00"+e.toString(16)).slice(-2)).join("")),p="deflate;",f=async e=>{const t=(await i()).deflate(e);if("undefined"!==typeof Buffer){const e=Buffer.from(t).toString("base64");return`${p}${e}`}const n=Array.from(t,e=>String.fromCodePoint(e)).join("");return`${p}${btoa(n)}`},v=async e=>{const t=await i();if(!e.startsWith(p))throw new Error("Invalid compressed text, payload header invalid");const n=e.slice(8);if("undefined"!==typeof Buffer){const e=Buffer.from(n,"base64");return t.inflate(e,{to:"string"})}const r=atob(n);return t.inflate(Uint8Array.from(r,e=>{var t;return null!==(t=e.codePointAt(0))&&void 0!==t?t:0}),{to:"string"})},h=e=>e.startsWith(p)},30126:function(e,t,n){var r=n(76998),a=n(51391);class i extends r.Component{render(){return(0,a.Y)("div",{children:"Resource not found."})}}t.A=i},35891:function(e,t,n){n.d(t,{$g:function(){return u},BH:function(){return i},UI:function(){return l},bf:function(){return d},q5:function(){return s},uk:function(){return o}});var r=n(76714),a=n(55639);const i=e=>{var t;return null===e||void 0===e||null===(t=e.find(e=>"mlflow.experimentKind"===e.key))||void 0===t?void 0:t.value},o=e=>e===r.Gk.GENAI_DEVELOPMENT_INFERRED||e===r.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED||e===r.Gk.NO_INFERRED_TYPE||e===r.Gk.GENAI_DEVELOPMENT||e===r.Gk.CUSTOM_MODEL_DEVELOPMENT||e===r.Gk.EMPTY,s=e=>e===r.Gk.GENAI_DEVELOPMENT_INFERRED?r.Gk.GENAI_DEVELOPMENT:e===r.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED?r.Gk.CUSTOM_MODEL_DEVELOPMENT:e,l={[r.Gk.GENAI_DEVELOPMENT]:(0,a.zR)({id:"PewjIJ",defaultMessage:"GenAI apps & agents"}),[r.Gk.CUSTOM_MODEL_DEVELOPMENT]:(0,a.zR)({id:"nF10K1",defaultMessage:"Machine learning"}),[r.Gk.GENAI_DEVELOPMENT_INFERRED]:(0,a.zR)({id:"ACNZd9",defaultMessage:"GenAI apps & agents"}),[r.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED]:(0,a.zR)({id:"NUjE6C",defaultMessage:"Machine learning"}),[r.Gk.NO_INFERRED_TYPE]:(0,a.zR)({id:"qr7dhT",defaultMessage:"None"}),[r.Gk.FINETUNING]:(0,a.zR)({id:"G4x6G7",defaultMessage:"Finetuning"}),[r.Gk.REGRESSION]:(0,a.zR)({id:"OWfx/j",defaultMessage:"Regression"}),[r.Gk.CLASSIFICATION]:(0,a.zR)({id:"P/Uvf4",defaultMessage:"Classification"}),[r.Gk.FORECASTING]:(0,a.zR)({id:"qDiJI2",defaultMessage:"Forecasting"}),[r.Gk.AUTOML]:(0,a.zR)({id:"wZtuCR",defaultMessage:"AutoML"}),[r.Gk.EMPTY]:(0,a.zR)({id:"0z0lH2",defaultMessage:"None"})},d={[r.Gk.GENAI_DEVELOPMENT]:(0,a.zR)({id:"Fg/zU/",defaultMessage:"GenAI apps & agents"}),[r.Gk.CUSTOM_MODEL_DEVELOPMENT]:(0,a.zR)({id:"T/46y0",defaultMessage:"Machine learning"}),[r.Gk.GENAI_DEVELOPMENT_INFERRED]:(0,a.zR)({id:"CPO2ro",defaultMessage:"GenAI apps & agents"}),[r.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED]:(0,a.zR)({id:"KYJxmN",defaultMessage:"Machine learning"}),[r.Gk.NO_INFERRED_TYPE]:(0,a.zR)({id:"jTqRO+",defaultMessage:"None"}),[r.Gk.FINETUNING]:(0,a.zR)({id:"61P6Da",defaultMessage:"finetuning"}),[r.Gk.REGRESSION]:(0,a.zR)({id:"W60/kq",defaultMessage:"regression"}),[r.Gk.CLASSIFICATION]:(0,a.zR)({id:"KwAeyt",defaultMessage:"classification"}),[r.Gk.FORECASTING]:(0,a.zR)({id:"VwxvII",defaultMessage:"forecasting"}),[r.Gk.AUTOML]:(0,a.zR)({id:"lFnpMi",defaultMessage:"AutoML"}),[r.Gk.EMPTY]:(0,a.zR)({id:"+khKtf",defaultMessage:"None"})},u=()=>[r.Gk.GENAI_DEVELOPMENT,r.Gk.CUSTOM_MODEL_DEVELOPMENT]},82466:function(e,t,n){n.d(t,{b:function(){return a}});var r=n(16524);const a=e=>{if(e)return e instanceof r.K4&&e.graphQLErrors.length>0?e.graphQLErrors.map(e=>e.toString()).join(", "):"message"in e?e.message:e.toString()}},91301:function(e,t,n){n.r(t),n.d(t,{RunPage:function(){return gn},default:function(){return pn}});var r=n(64819),a=n(32256),i=n(37733),o=n(89365),s=n(71053),l=n.n(s),d=n(76998),u=n(13804),c=n(98512),m=n(71146),g=n(76714),p=n(92754),f=n(5233),v=n(33112),h=n(51391);const y=({runTags:e,experimentId:t,runOutputs:n,artifactUri:a,runUuid:o})=>{const{theme:s}=(0,i.u)(),l=(0,v.Ub)(`(min-width: ${s.responsive.breakpoints.sm}px)`);return(0,h.Y)("div",{css:(0,r.AH)({flex:1,overflow:"hidden",display:"flex",paddingBottom:s.spacing.md,position:"relative"},""),children:(0,h.Y)(f.Ay,{runUuid:o,runTags:e,runOutputs:n,useAutoHeight:l,artifactRootUri:a,experimentId:t})})};var Y=n(34139),M=n(18509),x=n(89105);const I=()=>{const{"*":e}=(0,c.g)();return"model-metrics"===e?g.N3.MODEL_METRIC_CHARTS:"system-metrics"===e?g.N3.SYSTEM_METRIC_CHARTS:"traces"===e?g.N3.TRACES:null!==e&&void 0!==e&&e.match(/^(artifactPath|artifacts)/)?g.N3.ARTIFACTS:g.N3.OVERVIEW},T=[g.N3.ARTIFACTS,g.N3.EVALUATIONS],C=()=>{const{experimentId:e,runUuid:t}=(0,c.g)(),n=(0,c.Zp)(),{theme:r}=(0,i.u)(),o=I(),[s,l]=(0,d.useState)(T.includes(o));return(0,h.FD)(a.LegacyTabs,{activeKey:o,onChange:r=>{e&&t&&o!==r&&(l(T.includes(r)),r!==g.N3.OVERVIEW?n(x.Ay.getRunPageTabRoute(e,t,r)):n(x.Ay.getRunPageRoute(e,t)))},tabBarStyle:{margin:s&&"0px"},children:[(0,h.Y)(a.LegacyTabs.TabPane,{tab:(0,h.Y)(Y.A,{id:"kA+QJr",defaultMessage:"Overview"})},g.N3.OVERVIEW),(0,h.Y)(a.LegacyTabs.TabPane,{tab:(0,h.Y)(Y.A,{id:"j25Ttg",defaultMessage:"Model metrics"})},g.N3.MODEL_METRIC_CHARTS),(0,h.Y)(a.LegacyTabs.TabPane,{tab:(0,h.Y)(Y.A,{id:"hFlaPP",defaultMessage:"System metrics"})},g.N3.SYSTEM_METRIC_CHARTS),(0,h.Y)(a.LegacyTabs.TabPane,{tab:(0,h.Y)(Y.A,{id:"s8a93+",defaultMessage:"Traces"})},g.N3.TRACES),(0,h.Y)(a.LegacyTabs.TabPane,{tab:(0,h.Y)(Y.A,{id:"vPqFJE",defaultMessage:"Artifacts"})},g.N3.ARTIFACTS)]})};var A=n(45901),E=n(68666),R=n(69578),S=(n(29037),n(21317));var _={name:"s5xdrg",styles:"display:flex;align-items:center"},D={name:"2ecpu6",styles:"margin-left:8px;margin-right:4px"};function b({models:e,onRegisterClick:t,experimentId:n,runUuid:o}){const{theme:s}=(0,i.u)(),l=(e,l)=>(0,h.FD)(a.DropdownMenu.Group,{children:[(0,h.Y)(a.DropdownMenu.Label,{children:e}),l.map(e=>{const l=(0,A.first)(e.registeredModelVersionSummaries);if(!l)return(0,h.FD)(a.DropdownMenu.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_50",onClick:()=>t(e),children:[(0,h.Y)("div",{css:(0,r.AH)({marginRight:s.spacing.md},""),children:(0,A.last)(e.path.split("/"))}),(0,h.Y)(a.DropdownMenu.HintColumn,{children:(0,h.Y)(c.N_,{target:"_blank",to:x.Ay.getRunPageTabRoute(n,o,"artifacts/"+e.path),children:(0,h.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_58",type:"link",size:"small",onClick:e=>{e.stopPropagation()},endIcon:(0,h.Y)(i.au,{}),children:(0,h.Y)(Y.A,{id:"NqEELO",defaultMessage:"View model"})})})})]},e.absolutePath);const{status:d,displayedName:u,version:m,link:g}=l;return(0,h.Y)(c.N_,{target:"_blank",to:g,children:(0,h.FD)(a.DropdownMenu.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_80",children:[(0,h.Y)(a.DropdownMenu.IconWrapper,{css:_,children:"READY"===d?(0,h.Y)(S.h,{}):d?R.UA[d]:null}),(0,h.FD)("span",{css:(0,r.AH)({marginRight:s.spacing.md},""),children:[u,(0,h.FD)(a.Tag,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_90",css:D,children:["v",m]})]}),(0,h.Y)(a.DropdownMenu.HintColumn,{children:(0,h.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_89",type:"link",size:"small",onClick:e=>{e.stopPropagation()},endIcon:(0,h.Y)(i.au,{}),children:(0,h.Y)(Y.A,{id:"T1sd79",defaultMessage:"Go to model"})})})]})},e.absolutePath)})]}),d=e.filter(e=>e.registeredModelVersionSummaries.length>0),u=e.filter(e=>!e.registeredModelVersionSummaries.length);return(0,h.FD)(h.FK,{children:[u.length?l("Unregistered models",u):null,u.length&&d.length?(0,h.Y)(a.DropdownMenu.Separator,{}):null,d.length?l("Registered models",d):null]})}const w=({runUuid:e,experimentId:t,runTags:n,artifactRootUri:o,registeredModelVersionSummaries:s})=>{const{theme:l}=(0,i.u)(),u=(0,d.useMemo)(()=>n?m.A.getLoggedModelsFromTags(n).map(({artifactPath:e})=>e):[],[n]),g=(0,d.useMemo)(()=>(0,A.orderBy)(u.map(e=>({path:e,absolutePath:`${o}/${e}`,registeredModelVersionSummaries:(null===s||void 0===s?void 0:s.filter(({source:t})=>t===`${o}/${e}`))||[]})),e=>{var t;return parseInt((null===(t=e.registeredModelVersionSummaries[0])||void 0===t?void 0:t.version)||"0",10)},"desc"),[u,s,o]),[p,f]=(0,d.useState)(null);if(g.length>1){const n=g.filter(e=>e.registeredModelVersionSummaries.length>0);return(0,h.FD)(h.FK,{children:[p&&(0,h.Y)(E.vR,{runUuid:e,modelPath:p.absolutePath,modelRelativePath:p.path,disabled:!1,showButton:!1,modalVisible:!0,onCloseModal:()=>f(null)}),(0,h.FD)(a.DropdownMenu.Root,{modal:!1,children:[(0,h.Y)(a.LegacyTooltip,{placement:"bottom",title:(0,h.Y)(Y.A,{id:"qE/ZB7",defaultMessage:"{registeredCount}/{loggedCount} logged models are registered",values:{registeredCount:n.length,loggedCount:g.length}}),children:(0,h.Y)(a.DropdownMenu.Trigger,{asChild:!0,children:(0,h.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_195",type:"primary",endIcon:(0,h.Y)(a.ChevronDownIcon,{}),children:(0,h.Y)(Y.A,{id:"WGN2f3",defaultMessage:"Register model"})})})}),(0,h.Y)(a.DropdownMenu.Content,{align:"end",children:(0,h.Y)(b,{models:g,onRegisterClick:f,experimentId:t,runUuid:e})})]})]})}const v=(0,A.first)(g);if(!v)return null;const y=(0,A.first)(v.registeredModelVersionSummaries);return y?(0,h.Y)(c.N_,{to:y.link,target:"_blank",css:(0,r.AH)({marginLeft:l.spacing.sm},""),children:(0,h.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_231",endIcon:(0,h.Y)(i.au,{}),type:"link",children:"Model registered"})}):(0,h.Y)(E.vR,{disabled:!1,runUuid:e,modelPath:v.absolutePath,modelRelativePath:v.path,showButton:!0,buttonType:"primary"})};var k=n(16936);var N={name:"ozd7xs",styles:"flex-shrink:0"};const U=({hasComparedExperimentsBefore:e,comparedExperimentIds:t=[],experiment:n,runDisplayName:r,runTags:a,runParams:i,runUuid:o,handleRenameRunClick:s,handleDeleteRunClick:l,artifactRootUri:d,registeredModelVersionSummaries:u,isLoading:m})=>{const p=[function(){var r;return e&&t?(0,h.Y)(c.N_,{to:x.Ay.getCompareExperimentsPageRoute(t),children:(0,h.Y)(Y.A,{id:"LLm5Bo",defaultMessage:"Displaying Runs from {numExperiments} Experiments",values:{numExperiments:t.length}})}):(0,h.Y)(c.N_,{to:x.Ay.getExperimentPageRoute(null!==(r=null===n||void 0===n?void 0:n.experimentId)&&void 0!==r?r:""),"data-testid":"experiment-runs-link",children:n.name})}()];(0,k.w7)()&&n.experimentId&&p.push((0,h.Y)(c.N_,{to:x.Ay.getExperimentPageTabRoute(n.experimentId,g.fM.Runs),"data-testid":"experiment-observatory-link-runs",children:(0,h.Y)(Y.A,{id:"ozPVhc",defaultMessage:"Runs"})}));return(0,h.FD)("div",{css:N,children:[(0,h.FD)(M.z,{title:(0,h.Y)("span",{"data-testid":"runs-header",children:r}),breadcrumbs:p,children:[(0,h.Y)(M.o,{menu:[{id:"overflow-rename-button",onClick:s,itemName:(0,h.Y)(Y.A,{id:"fv7vQf",defaultMessage:"Rename"})},...l?[{id:"overflow-delete-button",onClick:l,itemName:(0,h.Y)(Y.A,{id:"7WkP1e",defaultMessage:"Delete"})}]:[]]}),(()=>{var e;return(0,h.Y)(w,{runUuid:o,experimentId:null!==(e=null===n||void 0===n?void 0:n.experimentId)&&void 0!==e?e:"",runTags:a,artifactRootUri:d,registeredModelVersionSummaries:u})})()]}),(0,h.Y)(C,{})]})};var L=n(86288),F=n(29332),P=n(40218),O=n(49590);const V=({status:e})=>{const{theme:t}=(0,i.u)();return(0,h.FD)(a.Tag,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewstatusbox.tsx_81",css:(0,r.AH)({backgroundColor:"FINISHED"===e?t.isDarkMode?t.colors.green800:t.colors.green100:"KILLED"===e||"FAILED"===e?t.isDarkMode?t.colors.red800:t.colors.red100:"SCHEDULED"===e||"RUNNING"===e?t.isDarkMode?t.colors.blue800:t.colors.blue100:void 0},""),children:[e&&(0,h.Y)(O.F,{status:e})," ",(0,h.Y)(i.T.Text,{css:(0,r.AH)({marginLeft:t.spacing.sm},""),children:"FINISHED"===e?(0,h.Y)(i.T.Text,{color:"success",children:(0,h.Y)(Y.A,{id:"ujm55z",defaultMessage:"Finished"})}):"KILLED"===e?(0,h.Y)(i.T.Text,{color:"error",children:(0,h.Y)(Y.A,{id:"AupQl+",defaultMessage:"Killed"})}):"FAILED"===e?(0,h.Y)(i.T.Text,{color:"error",children:(0,h.Y)(Y.A,{id:"AM8DuO",defaultMessage:"Failed"})}):"RUNNING"===e?(0,h.Y)(i.T.Text,{color:"info",children:(0,h.Y)(Y.A,{id:"On3g1B",defaultMessage:"Running"})}):"SCHEDULED"===e?(0,h.Y)(i.T.Text,{color:"info",children:(0,h.Y)(Y.A,{id:"X8OaXU",defaultMessage:"Scheduled"})}):e})]})},H=({runInfo:e,tags:t})=>{var n;const r=m.A.getUser(e,t);return(0,h.Y)(c.N_,{to:x.Ay.searchRunsByUser(null!==(n=null===e||void 0===e?void 0:e.experimentId)&&void 0!==n?n:"",r),children:r})};var z=n(92669),B=n(26737),G=n(55639),$=n(24999),K=n(60600),W=n(32038),j=n(56312);const{systemMetricsLabel:q,modelMetricsLabel:Z}=(0,G.YK)({systemMetricsLabel:{id:"aFMLIO",defaultMessage:"System metrics"},modelMetricsLabel:{id:"NiSPrL",defaultMessage:"Model metrics"}}),Q=e=>({key:t})=>t.toLowerCase().includes(e.toLowerCase()),J=({metricsList:e,runInfo:t,header:n,table:o})=>{var s,l;const{theme:d}=(0,i.u)(),[{column:u},...m]=o.getLeafHeaders(),p=null===(s=m.find(e=>"value"===e.id))||void 0===s?void 0:s.column,f=e.some(({loggedModels:e})=>!(0,A.isEmpty)(e)),v=null===(l=m.find(e=>"models"===e.id))||void 0===l?void 0:l.column;return e.length?(0,h.FD)(h.FK,{children:[n&&(0,h.Y)(a.TableRow,{children:(0,h.Y)(a.TableCell,{css:(0,r.AH)({flex:1,backgroundColor:d.colors.backgroundSecondary},""),children:(0,h.FD)(i.T.Text,{bold:!0,children:[n," (",e.length,")"]})})}),e.map(({key:e,value:n,loggedModels:i})=>{var o,s;return(0,h.FD)(a.TableRow,{children:[(0,h.Y)(a.TableCell,{style:{flex:u.getCanResize()?u.getSize()/100:void 0},children:(0,h.Y)(c.N_,{to:x.Ay.getRunPageTabRoute(null!==(o=t.experimentId)&&void 0!==o?o:"",null!==(s=t.runUuid)&&void 0!==s?s:"",g.N3.MODEL_METRIC_CHARTS),children:e})}),(0,h.Y)(a.TableCell,{css:(0,r.AH)({flex:null!==p&&void 0!==p&&p.getCanResize()?p.getSize()/100:void 0},""),children:n.toString()}),f&&(0,h.Y)(a.TableCell,{css:(0,r.AH)({flex:null!==v&&void 0!==v&&v.getCanResize()?v.getSize()/100:void 0},""),children:(0,A.isEmpty)(i)?"-":(0,h.Y)(a.Overflow,{children:null===i||void 0===i?void 0:i.map(e=>{var t,n,r,a,i,o;return(0,h.Y)(c.N_,{target:"_blank",rel:"noopener noreferrer",to:x.Ay.getExperimentLoggedModelDetailsPage(null!==(n=null===(r=e.info)||void 0===r?void 0:r.experiment_id)&&void 0!==n?n:"",null!==(a=null===(i=e.info)||void 0===i?void 0:i.model_id)&&void 0!==a?a:""),children:null===(o=e.info)||void 0===o?void 0:o.name},null===(t=e.info)||void 0===t?void 0:t.model_id)})})})]},e)})]}):null};var X={name:"ozd7xs",styles:"flex-shrink:0"};const ee=({latestMetrics:e,runInfo:t,loggedModels:n})=>{const{theme:o}=(0,i.u)(),{detailsPageTableStyles:s,detailsPageNoEntriesStyles:l,detailsPageNoResultsWrapperStyles:u,usingUnifiedDetailsLayout:c}=(0,j.z)(),m=(0,L.A)(),[g,p]=(0,d.useState)(""),f=(0,d.useMemo)(()=>{if(!n)return{};const e=(0,A.compact)((0,A.flatMap)(n,e=>{var t,n;return null===(t=e.data)||void 0===t||null===(n=t.metrics)||void 0===n?void 0:n.map(({key:t})=>({key:t,model:e}))})),t=(0,A.groupBy)(e,"key");return(0,A.mapValues)(t,e=>e.map(({model:e})=>e))},[n]),v=(0,d.useMemo)(()=>{const t=(0,A.values)(e);return(0,A.isEmpty)(f)?t:t.map(e=>{var t;return{...e,loggedModels:null!==(t=f[e.key])&&void 0!==t?t:[]}})},[e,f]),y=v.some(({loggedModels:e})=>!(0,A.isEmpty)(e)),M=(0,d.useMemo)(()=>[{id:"models",header:m.formatMessage({id:"mRshzt",defaultMessage:"Models"}),accessorKey:"models",enableResizing:!0}],[m]),x=(0,d.useMemo)(()=>{const e=[{id:"key",accessorKey:"key",header:()=>(0,h.Y)(Y.A,{id:"pjlcSc",defaultMessage:"Metric"}),enableResizing:!0,size:240},{id:"value",header:()=>(0,h.Y)(Y.A,{id:"t0Qkuc",defaultMessage:"Value"}),accessorKey:"value",enableResizing:!0}];return y&&e.push(...M),e},[y,M]),I=(0,d.useMemo)(()=>{const e=v.filter(({key:e})=>(0,$.bw)(e)),t=v.filter(({key:e})=>!(0,$.bw)(e));return e.length>0&&t.length>0?[{header:m.formatMessage(q),metrics:e.filter(Q(g))},{header:m.formatMessage(Z),metrics:t.filter(Q(g))}]:[{header:void 0,metrics:v.filter(Q(g))}]},[g,v,m]),T=(0,K.N4)({data:v,getCoreRowModel:(0,W.HT)(),getRowId:e=>e.key,enableColumnResizing:!0,columnResizeMode:"onChange",columns:x});return(0,h.FD)("div",{css:(0,r.AH)({flex:c?"0 0 auto":1,display:"flex",flexDirection:"column",overflow:"hidden"},""),children:[(0,h.Y)(i.T.Title,{level:4,css:X,children:(0,h.Y)(Y.A,{id:"m4159e",defaultMessage:"Metrics ({length})",values:{length:v.filter(Q(g)).length}})}),(0,h.Y)("div",{css:(0,r.AH)({padding:o.spacing.sm,border:`1px solid ${o.colors.borderDecorative}`,borderRadius:o.general.borderRadiusBase,display:"flex",flexDirection:"column",flex:1,overflow:"hidden"},""),children:(()=>{if(!v.length)return(0,h.Y)("div",{css:l,children:(0,h.Y)(a.Empty,{description:(0,h.Y)(Y.A,{id:"9vj5Ap",defaultMessage:"No metrics recorded"})})});const e=(0,A.sum)(I.map(({metrics:e})=>e.length))<1;return(0,h.FD)(h.FK,{children:[(0,h.Y)("div",{css:(0,r.AH)({marginBottom:o.spacing.sm},""),children:(0,h.Y)(B.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewmetricstable.tsx_186",prefix:(0,h.Y)(B.S,{}),placeholder:m.formatMessage({id:"w2+rkp",defaultMessage:"Search metrics"}),value:g,onChange:e=>p(e.target.value),allowClear:!0})}),(0,h.FD)(a.Table,{scrollable:!0,empty:e?(0,h.Y)("div",{css:u,children:(0,h.Y)(a.Empty,{description:(0,h.Y)(Y.A,{id:"lT1Joh",defaultMessage:"No metrics match the search filter"})})}):null,css:s,children:[(0,h.Y)(a.TableRow,{isHeader:!0,children:T.getLeafHeaders().map(e=>(0,h.Y)(a.TableHeader,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewmetricstable.tsx_312",header:e,column:e.column,setColumnSizing:T.setColumnSizing,isResizing:e.column.getIsResizing(),style:{flex:e.column.getCanResize()?e.column.getSize()/100:void 0},children:(0,K.Kv)(e.column.columnDef.header,e.getContext())},e.id))}),I.map((e,n)=>(0,h.Y)(J,{metricsList:e.metrics,runInfo:t,header:e.header,table:T},e.header||n))]})]})})()})]})};var te=n(47907),ne=n(91328);var re={name:"1flj9lk",styles:"text-align:left"},ae={name:"ti75j2",styles:"margin:0"};const ie=({dataset:e,onClick:t})=>(0,h.Y)(i.T.Link,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewdatasetbox.tsx_16",role:"link",css:re,onClick:t,children:(0,h.Y)(te.E,{datasetWithTags:e,displayTextAsLink:!0,css:ae})}),oe=({tags:e,runInfo:t,datasets:n})=>{const[o,s]=(0,d.useState)(null),{theme:l}=(0,i.u)(),[u,c]=(0,d.useState)(!1);if(!n||!n.length)return null;const m=n[0],g=n.slice(1),p=r=>{var a,i,o;s({datasetWithTags:r,runData:{experimentId:null!==(a=t.experimentId)&&void 0!==a?a:void 0,runUuid:null!==(i=t.runUuid)&&void 0!==i?i:"",runName:null!==(o=t.runName)&&void 0!==o?o:void 0,datasets:n,tags:e}}),c(!0)};return(0,h.FD)("div",{css:(0,r.AH)({display:"flex",gap:l.spacing.sm,alignItems:"center"},""),children:[(0,h.Y)(ie,{dataset:m,onClick:()=>p(m)}),g.length?(0,h.FD)(a.DropdownMenu.Root,{modal:!1,children:[(0,h.Y)(a.DropdownMenu.Trigger,{asChild:!0,children:(0,h.FD)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewdatasetbox.tsx_70",size:"small",children:["+",g.length]})}),(0,h.Y)(a.DropdownMenu.Content,{children:g.map(e=>(0,h.Y)(a.DropdownMenu.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewdatasetbox.tsx_81",children:(0,h.Y)(ie,{dataset:e,onClick:()=>p(e)})},e.dataset.digest))})]}):null,o&&(0,h.Y)(ne.O,{isOpen:u,setIsOpen:c,selectedDatasetWithRun:o,setSelectedDatasetWithRun:s})]})};var se=n(1797),le=n(17209);const de=({parentRunUuid:e})=>{const t=(0,o.wA)(),n=(0,o.d4)(({entities:t})=>t.runInfosByUuid[e]),r=(0,le.t)({runUuid:e,disabled:!(0,k.wD)()}),i=(0,d.useMemo)(()=>{var e;return(0,k.wD)()?null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.info:n},[r,n]);return(0,d.useEffect)(()=>{(0,k.wD)()||i||t((0,se.aO)(e))},[t,e,i]),i?i.experimentId&&i.runUuid?(0,h.Y)(c.N_,{to:x.Ay.getRunPageRoute(i.experimentId,i.runUuid),children:i.runName}):null:(0,h.Y)(a.ParagraphSkeleton,{loading:!0,label:(0,h.Y)(Y.A,{id:"nfIS4i",defaultMessage:"Parent run name loading"})})};var ue=n(66860),ce=n(19064),me=n(6219),ge=n(65278);var pe={name:"1wcfv52",styles:"margin-right:0"};const fe=({runUuid:e,tags:t,onTagsUpdated:n})=>{const s=(0,k.V0)(),[l,u]=(0,d.useState)(!1),{theme:c}=(0,i.u)(),m=(0,o.wA)(),g=(0,L.A)(),[p,f]=(0,d.useMemo)(()=>[(0,A.keys)(t).filter(ge.oD),(0,A.values)(t).filter(({key:e})=>(0,ge.oD)(e))],[t]),v=f.map(({key:e,value:t})=>({key:e,value:t})),{TagAssignmentModal:y,showTagAssignmentModal:M}=(0,ce.S)({componentIdPrefix:"mlflow.run-view-tags-box",initialTags:v,isLoading:l,onSubmit:(t,n)=>(u(!0),m((0,se.cj)(e,t,n)).then(()=>{u(!1)})),onSuccess:n}),{EditTagsModal:x,showEditTagsModal:I,isLoading:T}=(0,ue.Q)({valueRequired:!0,allAvailableTags:p,saveTagsHandler:async(t,r,a)=>m((0,se.hD)(e,r,a)).then(n)}),C=()=>{s?M():I({tags:f})},E=g.formatMessage({id:"EwAZgg",defaultMessage:"Edit tags"});return(0,h.FD)("div",{css:(0,r.AH)({paddingTop:c.spacing.xs,paddingBottom:c.spacing.xs,display:"flex",flexWrap:"wrap",alignItems:"center","> *":{marginRight:"0 !important"},gap:c.spacing.xs},""),children:[v.length<1?(0,h.Y)(i.B,{componentId:"mlflow.run_details.overview.tags.add_button",size:"small",type:"tertiary",onClick:C,children:(0,h.Y)(Y.A,{id:"dt3hj5",defaultMessage:"Add tags"})}):(0,h.FD)(h.FK,{children:[v.map(e=>(0,h.Y)(me.t,{tag:e,enableFullViewModal:!0,css:pe},`${e.key}-${e.value}`)),(0,h.Y)(F.T,{componentId:"mlflow.run_details.overview.tags.edit_button.tooltip",content:E,children:(0,h.Y)(i.B,{componentId:"mlflow.run_details.overview.tags.edit_button","aria-label":E,size:"small",icon:(0,h.Y)(a.PencilIcon,{}),onClick:C})})]}),T&&(0,h.Y)(i.S,{size:"small"}),x,y]})};var ve=n(74780),he=n(25024);const ye=({runUuid:e,tags:t,onDescriptionChanged:n})=>{var s;const l=(null===(s=t[he.e])||void 0===s?void 0:s.value)||"",[u,c]=(0,d.useState)(!1),m=(0,L.A)(),{theme:g}=(0,i.u)(),p=(0,o.wA)(),f=!l;return(0,h.FD)("div",{css:(0,r.AH)({marginBottom:g.spacing.md},""),children:[(0,h.FD)(i.T.Title,{level:4,css:(0,r.AH)({display:"flex",alignItems:"center",gap:g.spacing.xs},""),children:[(0,h.Y)(Y.A,{id:"ugwpKL",defaultMessage:"Description"}),(0,h.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewdescriptionbox.tsx_46",size:"small",type:"tertiary","aria-label":m.formatMessage({id:"Mtj9Ay",defaultMessage:"Edit description"}),onClick:()=>c(!0),icon:(0,h.Y)(a.PencilIcon,{})})]}),f&&!u&&(0,h.Y)(i.T.Hint,{children:(0,h.Y)(Y.A,{id:"VcNdOq",defaultMessage:"No description"})}),(!f||u)&&(0,h.Y)(ve.V,{defaultMarkdown:l,onSubmit:t=>p((0,se.Jv)(e,he.e,t)).then(n).then(()=>c(!1)),onCancel:()=>c(!1),showEditor:u})]})};var Ye=n(7914);var Me={name:"e0dnmk",styles:"cursor:pointer"};const xe=({registeredModelVersionSummaries:e})=>{const{theme:t}=(0,i.u)();return(0,h.Y)(a.Overflow,{children:null===e||void 0===e?void 0:e.map(e=>(0,h.FD)(c.N_,{to:e.link,css:(0,r.AH)({display:"flex",alignItems:"center",gap:t.spacing.sm},""),children:[(0,h.Y)(S.h,{})," ",e.displayedName," ",(0,h.FD)(a.Tag,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewregisteredmodelsbox.tsx_40",css:Me,children:["v",e.version]})]},e.displayedName))})};var Ie=n(13843),Te=n(1552);const Ce=async({queryKey:e})=>{const[,{runUuid:t}]=e;return Te.M.getPromptVersionsForRun(t)};var Ae=n(2901);var Ee={name:"1bmnxg7",styles:"white-space:nowrap"};const Re=({tags:e,runUuid:t})=>{const{theme:n}=(0,i.u)(),{data:o,error:s,isLoading:l}=(({runUuid:e},t={})=>{var n;const r=(0,Ie.I)(["run_uuid",{runUuid:e}],{queryFn:Ce,retry:!1,...t});return{data:r.data,error:null!==(n=r.error)&&void 0!==n?n:void 0,isLoading:r.isLoading,refetch:r.refetch}})({runUuid:t}),d=[...(null===o||void 0===o?void 0:o.model_versions)||[],...(0,Ae.U7)(e)];return l?(0,h.Y)(a.ParagraphSkeleton,{}):s||!d||0===d.length?(0,h.Y)(i.T.Hint,{children:"\u2014"}):(0,h.Y)("div",{css:(0,r.AH)({display:"flex",flexDirection:"row",gap:n.spacing.sm,flexWrap:"wrap",padding:`${n.spacing.sm}px 0px`},""),children:d.map((e,t)=>{const n=x.Ay.getPromptDetailsPageRoute(encodeURIComponent(e.name)),r=`${e.name} (v${e.version})`;return(0,h.FD)(i.T.Text,{css:Ee,children:[(0,h.Y)(c.N_,{to:n,children:r}),t<d.length-1&&","]},r)})})},Se=({loggedModels:e,loggedModelsV3:t,runInfo:n})=>{const{theme:o}=(0,i.u)(),{experimentId:s,runUuid:l}=n,u=e=>(0,A.first)(e)||(0,h.Y)(Y.A,{id:"0HbGko",defaultMessage:"Model"}),m=(0,d.useMemo)(()=>{const t=e.map(e=>u(e.flavors));return new Set(t).size!==t.length},[e]);return(0,h.FD)(a.Overflow,{children:[e.map((e,t)=>(0,h.FD)(c.N_,{to:x.Ay.getRunPageRoute(null!==s&&void 0!==s?s:"",null!==l&&void 0!==l?l:"",e.artifactPath),css:(0,r.AH)({display:"flex",alignItems:"center",gap:o.spacing.sm,cursor:"pointer",height:m&&t>0?o.general.heightBase:o.general.heightSm},""),children:[(0,h.Y)(a.ModelsIcon,{}),(0,h.FD)("div",{children:[u(e.flavors),m&&t>0&&(0,h.Y)(i.T.Hint,{children:e.artifactPath})]})]},e.artifactPath)),t.map((e,t)=>{var n,i,l,d,u;return(0,h.FD)(c.N_,{to:x.Ay.getExperimentLoggedModelDetailsPageRoute(null!==s&&void 0!==s?s:"",null!==(n=null===(i=e.info)||void 0===i?void 0:i.model_id)&&void 0!==n?n:""),css:(0,r.AH)({display:"flex",alignItems:"center",gap:o.spacing.sm,cursor:"pointer",height:m&&t>0?o.general.heightBase:o.general.heightSm},""),children:[(0,h.Y)(a.ModelsIcon,{}),(0,h.Y)("div",{children:null===(u=e.info)||void 0===u?void 0:u.name})]},null!==(l=null===(d=e.info)||void 0===d?void 0:d.model_id)&&void 0!==l?l:t)})]})};var _e=n(61660),De=n(52235);var be={name:"1wcfv52",styles:"margin-right:0"},we={name:"kauk44",styles:"display:flex;gap:4px;white-space:nowrap"},ke={name:"1a7v7i3",styles:"margin-right:0;&>div{padding-right:0;}"};const Ne=({runUuid:e,tags:t,search:n,className:o})=>{var s,l,d;const u=null===t||void 0===t||null===(s=t[g.xd])||void 0===s?void 0:s.value,c=null===t||void 0===t||null===(l=t[m.A.gitCommitTag])||void 0===l?void 0:l.value,p=m.A.renderSource(t,n,e,u),{theme:f}=(0,i.u)();return p?(0,h.FD)("div",{css:(0,r.AH)({display:"flex",alignItems:"center",gap:f.spacing.sm,paddingTop:f.spacing.sm,paddingBottom:f.spacing.sm,flexWrap:"wrap"},""),className:o,children:[(0,h.Y)(De.m,{sourceType:null===(d=t[m.A.sourceTypeTag])||void 0===d?void 0:d.value,css:(0,r.AH)({color:f.colors.actionPrimaryBackgroundDefault},"")}),p," ",u&&(0,h.Y)(a.LegacyTooltip,{title:u,children:(0,h.Y)(a.Tag,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewsourcebox.tsx_48",css:be,children:(0,h.FD)("div",{css:we,children:[(0,h.Y)(a.BranchIcon,{})," ",u]})})}),c&&(0,h.FD)(i.aw.Root,{componentId:"mlflow.run_details.overview.source.commit_hash_popover",children:[(0,h.Y)(i.aw.Trigger,{asChild:!0,children:(0,h.Y)(a.Tag,{componentId:"mlflow.run_details.overview.source.commit_hash",css:ke,children:(0,h.FD)("div",{css:(0,r.AH)({display:"flex",gap:f.spacing.xs,whiteSpace:"nowrap",alignContent:"center"},""),children:[(0,h.Y)(a.GitCommitIcon,{}),c.slice(0,7)]})})}),(0,h.FD)(i.aw.Content,{align:"start",children:[(0,h.Y)(i.aw.Arrow,{}),(0,h.FD)("div",{css:(0,r.AH)({display:"flex",gap:f.spacing.xs,alignItems:"center"},""),children:[c,(0,h.Y)(_e.i,{showLabel:!1,size:"small",type:"tertiary",copyText:c,icon:(0,h.Y)(a.CopyIcon,{})})]})]})]})]}):(0,h.Y)(i.T.Hint,{children:"\u2014"})};var Ue=n(72366),Le=n(31595),Fe=n(41292);var Pe=n(7113),Oe=n(40750),Ve=n(3514),He=n(77618);const ze=[Oe.I7.RelationshipType,Oe.I7.Step,Oe.I7.Name,Oe.I7.Status,Oe.I7.CreationTime,Oe.I7.RegisteredModels,Oe.I7.Dataset];var Be={name:"xt6tct",styles:"flex:1;display:flex;flex-direction:column;overflow:hidden"},Ge={name:"g030ms",styles:"display:flex;flex-direction:row;justify-content:space-between;align-items:center"},$e={name:"ozd7xs",styles:"flex-shrink:0"};const Ke=({inputs:e,outputs:t,runInfo:n,loggedModelsV3:o,isLoadingLoggedModels:s=!1,loggedModelsError:l})=>{const{theme:u}=(0,i.u)(),{models:c}=((e,t,n,r)=>{const a=(0,d.useMemo)(()=>{var t;return(0,A.compact)((0,A.uniq)(null===e||void 0===e||null===(t=e.modelInputs)||void 0===t?void 0:t.map(e=>e.modelId))).map(e=>{const t=null===r||void 0===r?void 0:r.find(t=>{var n;return(null===(n=t.info)||void 0===n?void 0:n.model_id)===e});if(t)return{...t,direction:"input"}})},[null===e||void 0===e?void 0:e.modelInputs,r]),i=(0,d.useMemo)(()=>{var e;return(0,A.compact)((0,A.uniq)(null===t||void 0===t||null===(e=t.modelOutputs)||void 0===e?void 0:e.map(e=>e.modelId))).map(e=>{var n,a;const i=null===r||void 0===r?void 0:r.find(t=>{var n;return(null===(n=t.info)||void 0===n?void 0:n.model_id)===e}),o=null===t||void 0===t||null===(n=t.modelOutputs)||void 0===n?void 0:n.find(({modelId:e})=>{var t;return e===(null===i||void 0===i||null===(t=i.info)||void 0===t?void 0:t.model_id)});if(i)return{...i,direction:"output",step:null!==(a=null===o||void 0===o?void 0:o.step)&&void 0!==a?a:void 0}})},[null===t||void 0===t?void 0:t.modelOutputs,r]);return{models:(0,d.useMemo)(()=>{var e,t;return null!==(e=(0,A.uniqBy)((0,A.compact)([...a,...i]).map((t=null===n||void 0===n?void 0:n.runUuid,e=>{var n;return null!==(n=e.data)&&void 0!==n&&n.metrics?{...e,data:{...e.data,metrics:e.data.metrics.filter(e=>!t||e.run_id===t)}}:e})),e=>{var t;return null===(t=e.info)||void 0===t?void 0:t.model_id}))&&void 0!==e?e:[]},[a,i,n])}})(e,t,n,o),[m,g]=(0,d.useState)({}),{columnDefs:p}=(0,Oe.ih)({loggedModels:c,columnVisibility:m,disablePinnedColumns:!0,disableOrderBy:!0,supportedAttributeColumnKeys:ze});return(0,h.FD)("div",{css:Be,children:[(0,h.FD)("div",{css:Ge,children:[(0,h.Y)(i.T.Title,{level:4,css:$e,children:(0,h.Y)(Y.A,{id:"km8vtM",defaultMessage:"Logged models ({length})",values:{length:c.length}})}),(0,h.Y)(He.$,{columnDefs:p,onUpdateColumns:g,columnVisibility:m,customTrigger:(0,h.Y)(i.B,{componentId:"mlflow.logged_model.list.columns",icon:(0,h.Y)(a.ColumnsIcon,{})})})]}),(0,h.Y)(F.S,{size:"sm",shrinks:!1}),(0,h.FD)("div",{css:(0,r.AH)({padding:u.spacing.sm,border:`1px solid ${u.colors.border}`,borderRadius:u.general.borderRadiusBase,display:"flex",flexDirection:"column",flex:1,overflow:"hidden"},""),children:[l instanceof Error&&l.message&&(0,h.FD)(h.FK,{children:[(0,h.Y)(a.Alert,{type:"error",description:l.message,message:(0,h.Y)(Y.A,{id:"2BzYqp",defaultMessage:"Error loading logged models"}),closable:!1,componentId:"mlflow.run_page.logged_model.list.error"}),(0,h.Y)(F.S,{size:"sm",shrinks:!1})]}),(0,h.Y)(Ve.Xs,{children:(0,h.Y)(Pe._,{columnDefs:p,loggedModels:c,columnVisibility:m,isLoading:s,isLoadingMore:!1,moreResultsAvailable:!1,disableLoadMore:!0,css:We(u),displayShowExampleButton:!1})})]})]})},We=e=>({"&.ag-theme-balham":{"--ag-border-color":e.colors.border,"--ag-row-border-color":e.colors.border,"--ag-foreground-color":e.colors.textPrimary,"--ag-background-color":"transparent","--ag-odd-row-background-color":"transparent","--ag-row-hover-color":e.colors.actionDefaultBackgroundHover,"--ag-selected-row-background-color":e.colors.actionDefaultBackgroundPress,"--ag-header-foreground-color":e.colors.textPrimary,"--ag-header-background-color":e.colors.backgroundPrimary,"--ag-modal-overlay-background-color":e.colors.overlayOverlay,".ag-header-row.ag-header-row-column-group":{"--ag-header-foreground-color":e.colors.textPrimary},borderTop:0,fontSize:e.typography.fontSizeBase,".ag-center-cols-viewport":{...(0,i.A)(e,{orientation:"horizontal"})}}});var je=n(67751),qe=n(78690);var Ze={name:"ti75j2",styles:"margin:0"};const Qe=({tags:e,runInfo:t,datasets:n})=>{const[o,s]=(0,d.useState)(null),[l,u]=(0,d.useState)(!1),{theme:c}=(0,i.u)();if(!n||!n.length)return null;return(0,h.FD)(h.FK,{children:[(0,h.Y)(a.Overflow,{children:n.map(a=>(0,h.Y)(i.T.Link,{componentId:"mlflow.run_details.datasets_box.dataset_link",css:(0,r.AH)({textAlign:"left",".anticon":{fontSize:c.general.iconFontSize}},""),onClick:()=>(r=>{var a,i,o;s({datasetWithTags:r,runData:{experimentId:null!==(a=t.experimentId)&&void 0!==a?a:void 0,runUuid:null!==(i=t.runUuid)&&void 0!==i?i:"",runName:null!==(o=t.runName)&&void 0!==o?o:void 0,datasets:n,tags:e}}),u(!0)})(a),children:(0,h.Y)(te.E,{datasetWithTags:a,displayTextAsLink:!0,css:Ze})}))}),o&&(0,h.Y)(ne.O,{isOpen:l,setIsOpen:u,selectedDatasetWithRun:o,setSelectedDatasetWithRun:s})]})};var Je=function(e){return e.DETAILS="DETAILS",e.DATASETS="DATASETS",e.TAGS="TAGS",e.REGISTERED_MODELS="REGISTERED_MODELS",e}(Je||{});const Xe=()=>(0,h.Y)(i.T.Hint,{children:"\u2014"});var et={name:"67z2yy",styles:"flex:1;align-self:flex-start"},tt={name:"1ctdo4k",styles:"min-height:360px;max-height:760px;overflow:hidden;display:flex"};const nt=({runUuid:e,onRunDataUpdated:t,tags:n,runInfo:a,datasets:o,params:s,latestMetrics:l,runInputs:u,runOutputs:g,registeredModelVersionSummaries:p,loggedModelsV3:f=[],isLoadingLoggedModels:v=!1,loggedModelsError:y})=>{const{theme:M}=(0,i.u)(),{usingUnifiedDetailsLayout:I}=(0,j.z)(),{search:T}=(0,c.zy)(),C=(0,L.A)(),E=(0,d.useMemo)(()=>m.A.getLoggedModelsFromTags(n),[n]),R=n[P.Ol],S=!(0,A.isEmpty)(null===u||void 0===u?void 0:u.modelInputs)||!(0,A.isEmpty)(null===g||void 0===g?void 0:g.modelOutputs),_=!(0,k.Ok)()||!S,D=(null===E||void 0===E?void 0:E.length)>0||(null===f||void 0===f?void 0:f.length)>0,{modelVersions:b}=(0,Le.b)({loggedModels:f}),w=(0,A.uniqBy)([...p,...b],e=>null===e||void 0===e?void 0:e.link),N=(({runUuid:e,runInfo:t,tags:n,onTagsUpdated:a,datasets:o,shouldRenderLoggedModelsBox:s,loggedModelsV3:l,registeredModelVersionSummaries:u})=>{var g,p,f;const v=(0,L.A)(),{theme:y}=(0,i.u)(),{search:Y}=(0,c.zy)(),M=(0,d.useMemo)(()=>m.A.getLoggedModelsFromTags(n),[n]),I=n[P.Ol],T=t&&(0,h.FD)(h.FK,{children:[(0,h.Y)(qe.wB,{keyValue:v.formatMessage({id:"PP5HZf",defaultMessage:"Created at"}),value:t.startTime?m.A.formatTimestamp(t.startTime,v):(0,h.Y)(qe.bw,{})}),(0,h.Y)(qe.wB,{keyValue:v.formatMessage({id:"7KKvmS",defaultMessage:"Created by"}),value:(0,h.Y)(H,{runInfo:t,tags:n})}),(0,h.Y)(qe.wB,{keyValue:v.formatMessage({id:"ffema5",defaultMessage:"Experiment ID"}),value:(0,h.Y)(Fe.t,{value:null!==(g=null===t||void 0===t?void 0:t.experimentId)&&void 0!==g?g:"",element:null!==t&&void 0!==t&&t.experimentId?(0,h.Y)(c.N_,{to:x.Ay.getExperimentPageRoute(t.experimentId),children:null===t||void 0===t?void 0:t.experimentId}):void 0})}),(0,h.Y)(qe.wB,{keyValue:v.formatMessage({id:"vxY1CI",defaultMessage:"Status"}),value:(0,h.Y)(V,{status:t.status})}),(0,h.Y)(qe.wB,{keyValue:v.formatMessage({id:"JYVQuV",defaultMessage:"Run ID"}),value:(0,h.Y)(Fe.t,{value:null!==(p=t.runUuid)&&void 0!==p?p:""})}),(0,h.Y)(qe.wB,{keyValue:v.formatMessage({id:"ZoIjun",defaultMessage:"Duration"}),value:m.A.getDuration(t.startTime,t.endTime)}),I&&(0,h.Y)(qe.wB,{keyValue:v.formatMessage({id:"zdYXP8",defaultMessage:"Parent run"}),value:(0,h.Y)(de,{parentRunUuid:I.value})}),(0,h.Y)(qe.wB,{keyValue:v.formatMessage({id:"WmDiY9",defaultMessage:"Source"}),value:(0,h.Y)(Ne,{tags:n,search:Y,runUuid:e,css:(0,r.AH)({paddingTop:y.spacing.xs,paddingBottom:y.spacing.xs},"")})}),s&&(0,h.Y)(qe.wB,{keyValue:v.formatMessage({id:"mjNFJt",defaultMessage:"Logged models"}),value:(0,h.Y)(Se,{runInfo:t,loggedModels:M,loggedModelsV3:l})})]});return[{id:Je.DETAILS,title:v.formatMessage({id:"QGiy9C",defaultMessage:"About this run"}),content:T},{id:Je.DATASETS,title:v.formatMessage({id:"yrsFOP",defaultMessage:"Datasets"}),content:null!==o&&void 0!==o&&o.length?(0,h.Y)(Qe,{tags:n,runInfo:t,datasets:o}):(0,h.Y)(qe.bw,{})},{id:Je.TAGS,title:v.formatMessage({id:"arFT1W",defaultMessage:"Tags"}),content:(0,h.Y)(fe,{runUuid:null!==(f=t.runUuid)&&void 0!==f?f:"",tags:n,onTagsUpdated:a})},{id:Je.REGISTERED_MODELS,title:v.formatMessage({id:"HnGOwk",defaultMessage:"Registered models"}),content:(null===u||void 0===u?void 0:u.length)>0?(0,h.Y)(xe,{registeredModelVersionSummaries:u}):(0,h.Y)(qe.bw,{})}]})({runUuid:e,runInfo:a,tags:n,onTagsUpdated:t,datasets:o,loggedModelsV3:f,shouldRenderLoggedModelsBox:_,registeredModelVersionSummaries:w}),U=I;return(0,h.FD)(je.a,{css:et,usingSidebarLayout:U,secondarySections:N,children:[(0,h.Y)(ye,{runUuid:e,tags:n,onDescriptionChanged:t}),!U&&(0,h.FD)(h.FK,{children:[(0,h.Y)(i.T.Title,{level:4,children:(0,h.Y)(Y.A,{id:"Isaf66",defaultMessage:"Details"})}),(()=>{var r,s,l;return(0,h.FD)(Ue.N,{children:[(0,h.Y)(Ye.Z,{title:(0,h.Y)(Y.A,{id:"PP5HZf",defaultMessage:"Created at"}),value:a.startTime?m.A.formatTimestamp(a.startTime,C):(0,h.Y)(Xe,{})}),(0,h.Y)(Ye.Z,{title:(0,h.Y)(Y.A,{id:"7KKvmS",defaultMessage:"Created by"}),value:(0,h.Y)(H,{runInfo:a,tags:n})}),(0,h.Y)(Ye.Z,{title:(0,h.Y)(Y.A,{id:"ffema5",defaultMessage:"Experiment ID"}),value:(0,h.Y)(Fe.t,{value:null!==(r=null===a||void 0===a?void 0:a.experimentId)&&void 0!==r?r:""})}),(0,h.Y)(Ye.Z,{title:(0,h.Y)(Y.A,{id:"vxY1CI",defaultMessage:"Status"}),value:(0,h.Y)(V,{status:a.status})}),(0,h.Y)(Ye.Z,{title:(0,h.Y)(Y.A,{id:"JYVQuV",defaultMessage:"Run ID"}),value:(0,h.Y)(Fe.t,{value:null!==(s=a.runUuid)&&void 0!==s?s:""})}),(0,h.Y)(Ye.Z,{title:(0,h.Y)(Y.A,{id:"ZoIjun",defaultMessage:"Duration"}),value:m.A.getDuration(a.startTime,a.endTime)}),R&&(0,h.Y)(Ye.Z,{title:(0,h.Y)(Y.A,{id:"zdYXP8",defaultMessage:"Parent run"}),value:(0,h.Y)(de,{parentRunUuid:R.value})}),(0,h.Y)(Ye.Z,{title:(0,h.Y)(Y.A,{id:"fwp4JP",defaultMessage:"Datasets used"}),value:null!==o&&void 0!==o&&o.length?(0,h.Y)(oe,{tags:n,runInfo:a,datasets:o}):(0,h.Y)(Xe,{})}),(0,h.Y)(Ye.Z,{title:(0,h.Y)(Y.A,{id:"rs7Iic",defaultMessage:"Tags"}),value:(0,h.Y)(fe,{runUuid:null!==(l=a.runUuid)&&void 0!==l?l:"",tags:n,onTagsUpdated:t})}),(0,h.Y)(Ye.Z,{title:(0,h.Y)(Y.A,{id:"WmDiY9",defaultMessage:"Source"}),value:(0,h.Y)(Ne,{tags:n,search:T,runUuid:e})}),_&&(0,h.Y)(Ye.Z,{title:(0,h.Y)(Y.A,{id:"mjNFJt",defaultMessage:"Logged models"}),value:v?(0,h.Y)(i.S,{}):D?(0,h.Y)(Se,{runInfo:a,loggedModels:E,loggedModelsV3:f}):(0,h.Y)(Xe,{})}),(0,h.Y)(Ye.Z,{title:(0,h.Y)(Y.A,{id:"BCpX6U",defaultMessage:"Registered models"}),value:(null===w||void 0===w?void 0:w.length)>0?(0,h.Y)(xe,{registeredModelVersionSummaries:w}):(0,h.Y)(Xe,{})}),(0,h.Y)(Ye.Z,{title:(0,h.Y)(Y.A,{id:"UCQwvo",defaultMessage:"Registered prompts"}),value:(0,h.Y)(Re,{tags:n,runUuid:e})})]})})()]}),(0,h.FD)("div",{css:[U?{flexDirection:"column"}:{minHeight:360,maxHeight:760},{display:"flex",gap:M.spacing.lg,overflow:"hidden"},""],children:[(0,h.Y)(ee,{latestMetrics:l,runInfo:a,loggedModels:f}),(0,h.Y)(z.y,{params:s})]}),(0,k.Ok)()&&S&&(0,h.FD)(h.FK,{children:[(0,h.Y)(F.S,{}),(0,h.Y)("div",{css:tt,children:(0,h.Y)(Ke,{loggedModelsV3:f,isLoadingLoggedModels:v,inputs:u,outputs:g,runInfo:a,loggedModelsError:y})})]}),!U&&(0,h.Y)(F.S,{})]})};var rt=n(70841),at=n(42142),it=n(66273);function ot({runId:e}){return(0,h.Y)(it.E,{statusCode:404,subMessage:`Run ID ${e} does not exist`,fallbackHomePageReactRoute:x.Ay.rootRoute})}var st=n(41648),lt=n(30126),dt=n(38202),ut=n(35659),ct=n(26341);const mt=({contextData:{metricsForRun:e},hoverData:t,chartData:{metricKey:n},isHovering:r,mode:a})=>{var o;const s=(0,ut.bL)(t)?t.hoveredDataPoint:t,l=(0,L.A)();if(a===ut.QS.MultipleTracesWithScanline&&(0,ut.bL)(t)&&r)return(0,h.Y)(ct.G,{hoverData:t});if(null===s||void 0===s||!s.metricEntity)return null;const{timestamp:d,step:u,value:c}=s.metricEntity,g=(null===e||void 0===e||null===(o=e[n])||void 0===o?void 0:o.length)>1,p=(0,$.bw)(n),f=g&&p&&!(0,A.isUndefined)(d),v=g&&!p&&!(0,A.isUndefined)(u);return(0,h.FD)("div",{children:[v&&(0,h.FD)("div",{css:gt.valueField,children:[(0,h.FD)("strong",{children:[(0,h.Y)(Y.A,{id:"a02Pn6",defaultMessage:"Step"}),":"]})," ",u]}),f&&(0,h.FD)("div",{css:gt.valueField,children:[(0,h.FD)("strong",{children:[(0,h.Y)(Y.A,{id:"faLIN+",defaultMessage:"Timestamp"}),":"]})," ",m.A.formatTimestamp(d,l)]}),c&&(0,h.FD)("div",{children:[(0,h.Y)(i.T.Text,{bold:!0,children:n}),(0,h.Y)(F.S,{size:"xs"}),(0,h.Y)(i.T.Text,{children:c})]})]})},gt={valueField:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}};var pt=n(41832),ft=n(15055),vt=n(35350),ht=n(28802),yt=n(96006),Yt=n(62374),Mt=n(61633),xt=n(13612),It=n(63071),Tt=n(69936),Ct=n(38044),At=n(79709);var Et={name:"xt6tct",styles:"flex:1;display:flex;flex-direction:column;overflow:hidden"},Rt={name:"1tc6xju",styles:"flex:1;overflow:auto"};const St=({runInfo:e,metricKeys:t,mode:n,chartUIState:s,updateChartsUIState:l,latestMetrics:u={},params:c={},tags:m={}})=>{var p;const{theme:f}=(0,i.u)(),[v,y]=(0,d.useState)(""),{formatMessage:Y}=(0,L.A)(),{compareRunCharts:M,compareRunSections:x,chartsSearchFilter:I}=s,T=(0,d.useMemo)(()=>{var e;return null!==(e=null===M||void 0===M?void 0:M.filter(e=>!e.deleted))&&void 0!==e?e:[]},[M]),[C,E]=(0,d.useState)(void 0),R=(0,o.d4)(({entities:t})=>{var n;return(0,A.mapValues)(t.sampledMetricsByRunUuid[null!==(n=e.runUuid)&&void 0!==n?n:""],e=>(0,A.compact)((0,A.values)(e).map(({metricsHistory:e})=>e).flat()))}),S=(0,d.useMemo)(()=>({runInfo:e,metricsForRun:R}),[e,R]),{imagesByRunUuid:_}=(0,o.d4)(e=>({imagesByRunUuid:e.entities.imagesByRunUuid})),[D,b]=(0,d.useState)(null),w=(0,yt.iO)(),N=(0,yt.cA)(),U=(0,yt.KP)(),F=(0,yt.Ez)(),P=(0,d.useMemo)(()=>{var t,n,r;return[{displayName:null!==(t=e.runName)&&void 0!==t?t:"",metrics:u,params:c,tags:m,images:_[null!==(n=e.runUuid)&&void 0!==n?n:""]||{},metricHistory:{},uuid:null!==(r=e.runUuid)&&void 0!==r?r:"",color:f.colors.primary,runInfo:e}]},[e,u,c,m,_,f]);(0,d.useEffect)(()=>{if((!x||!M)&&P.length>0){const{resultChartSet:e,resultSectionSet:t}=pt.i$.getBaseChartAndSectionConfigs({runsData:P,enabledSectionNames:["model"===n?g.NN:g.rx],filterMetricNames:e=>{const t=e.startsWith(g.qt);return"model"===n?!t:t}});l(n=>({...n,compareRunCharts:e,compareRunSections:t}))}},[M,x,P,n,l]),(0,d.useEffect)(()=>{l(e=>{if(!e.compareRunCharts||!e.compareRunSections)return e;const{resultChartSet:t,resultSectionSet:r,isResultUpdated:a}=pt.i$.updateChartAndSectionConfigs({compareRunCharts:e.compareRunCharts,compareRunSections:e.compareRunSections,runsData:P,isAccordionReordered:e.isAccordionReordered,filterMetricNames:e=>{const t=e.startsWith(g.qt);return"model"===n?!t:t}});return a?{...e,compareRunCharts:t,compareRunSections:r}:e})},[P,l,n]);const O=(0,xt.$)(),V=s.autoRefreshEnabled&&(0,k.vC)()&&O,H=Boolean(m[g.Cr]);return(0,It.L)({runUuids:[null!==(p=e.runUuid)&&void 0!==p?p:""],runUuidsIsActive:["RUNNING"===e.status],autoRefreshEnabled:V,enabled:H}),(0,h.FD)("div",{css:Et,children:[(0,h.FD)("div",{css:(0,r.AH)({paddingBottom:f.spacing.md,display:"flex",gap:f.spacing.sm,flex:"0 0 auto"},""),children:[(0,h.Y)(At.I,{chartsSearchFilter:I}),(0,k.vC)()&&(0,h.Y)(a.ToggleButton,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewmetricchartsv2.tsx_244",pressed:s.autoRefreshEnabled,onPressedChange:e=>{l(t=>({...t,autoRefreshEnabled:e}))},children:Y({id:"zC/uKl",defaultMessage:"Auto-refresh"})}),(0,h.Y)(Tt.f,{metricKeyList:t,globalLineChartConfig:s.globalLineChartConfig,updateUIState:l})]}),(0,h.Y)("div",{css:Rt,children:(0,h.Y)(ut.W,{contextData:S,component:mt,children:(0,h.Y)(Ct.c_,{visibleChartCards:T,children:(0,h.Y)(vt.J,{compareRunSections:x,compareRunCharts:T,reorderCharts:w,insertCharts:N,chartData:P,startEditChart:e=>b(e),removeChart:U,addNewChartCard:e=>t=>b(pt.i$.getEmptyChartCardByType(t,!1,void 0,e)),search:null!==I&&void 0!==I?I:"",supportedChartTypes:[pt.zL.LINE,pt.zL.BAR,pt.zL.IMAGE],setFullScreenChart:E,autoRefreshEnabled:V,globalLineChartConfig:s.globalLineChartConfig,groupBy:null})})})}),D&&(0,h.Y)(ht.z,{chartRunData:P,metricKeyList:t,paramKeyList:[],config:D,onSubmit:e=>{F(e),b(null)},onCancel:()=>b(null),groupBy:null,supportedChartTypes:[pt.zL.LINE,pt.zL.BAR,pt.zL.IMAGE],globalLineChartConfig:s.globalLineChartConfig}),(0,h.Y)(Mt._,{fullScreenChart:C,onCancel:()=>E(void 0),chartData:P,tooltipContextValue:S,tooltipComponent:mt,autoRefreshEnabled:V,groupBy:null})]})},_t=e=>{const t=`${e.runInfo.runUuid}-${e.mode}`,n=(0,d.useMemo)(()=>Yt.A.getStoreForComponent("RunPage",t),[t]),[r,a]=(0,d.useState)(()=>{const e={isAccordionReordered:!1,compareRunCharts:void 0,compareRunSections:void 0,autoRefreshEnabled:(0,k.vC)(),globalLineChartConfig:{xAxisKey:ft.fj.STEP,lineSmoothness:0,selectedXAxisMetricKey:""}};try{const t=n.getItem("chartUIState");return t?JSON.parse(t):e}catch{return e}});return(0,d.useEffect)(()=>{n.setItem("chartUIState",JSON.stringify(r))},[r,n]),(0,h.Y)(yt.oB,{updateChartsUIState:a,children:(0,h.Y)(St,{...e,chartUIState:r,updateChartsUIState:a})})};var Dt=n(82466),bt=n(49209);var wt=n(48885);const kt="compareToRunUuid",Nt=()=>{var e;const[t,n]=(0,c.ok)();return[null!==(e=t.get(kt))&&void 0!==e?e:void 0,(0,d.useCallback)(e=>{n(t=>void 0===e?(t.delete(kt),t):(t.set(kt,e),t))},[n])]};var Ut=n(35),Lt=n(49818),Ft=n(69129),Pt=n(8776);var Ot={name:"a41n9l",styles:"justify-content:flex-start !important"},Vt={name:"0",styles:""},Ht={name:"bcffy2",styles:"display:flex;align-items:center;justify-content:space-between"},zt={name:"fhxb3m",styles:"display:flex;flex-direction:row;align-items:center"},Bt={name:"a41n9l",styles:"justify-content:flex-start !important"};const Gt=({experimentId:e,currentRunUuid:t,setCompareToRunUuid:n,compareToRunUuid:o,setCurrentRunUuid:s})=>{const{theme:l}=(0,i.u)(),u=(0,Lt.tz)(),c=(0,Ut.LE)(),{runInfos:m}=(0,Ft.Xz)(e),g=(0,d.useMemo)(()=>{if(m)return m.map(e=>{var t;return{key:e.runUuid,value:null!==(t=e.runName)&&void 0!==t?t:e.runUuid}}).filter(e=>e.key)},[m]),p=(0,d.useMemo)(()=>{if(m)return m.filter(e=>e.runUuid!==t).map(e=>{var t;return{key:e.runUuid,value:null!==(t=e.runName)&&void 0!==t?t:e.runUuid}}).filter(e=>Boolean(e.key))},[m,t]),f=null===m||void 0===m?void 0:m.find(e=>e.runUuid===t),v=null===m||void 0===m?void 0:m.find(e=>e.runUuid===o),y=(0,d.useCallback)(t=>{const n=x.Ay.getRunPageRoute(e,t)+"/evaluations",r=new URLSearchParams(window.location.search),a=new URL(n,window.location.origin);r.forEach((e,t)=>{a.searchParams.set(t,e)}),window.location.href=a.toString()},[e]),Y=null!==s&&void 0!==s?s:y;return t?(0,h.FD)("div",{css:(0,r.AH)({display:"flex",gap:l.spacing.sm,alignItems:"center"},""),children:[(0,h.Y)("div",{css:(0,r.AH)({display:"flex",alignItems:"center",justifyContent:"flex-start",gap:l.spacing.sm},""),children:(0,h.FD)(a.DialogCombobox,{componentId:Ft.WB,id:"compare-to-run-combobox",value:t?[t]:void 0,children:[(0,h.Y)(a.DialogComboboxCustomButtonTriggerWrapper,{children:(0,h.Y)(i.B,{endIcon:(0,h.Y)(a.ChevronDownIcon,{}),componentId:"mlflow.evaluations_review.table_ui.compare_to_run_button",css:Ot,children:(0,h.FD)("div",{css:(0,r.AH)({display:"flex",gap:l.spacing.sm,alignItems:"center",fontSize:`${l.typography.fontSizeSm}px !important`},""),children:[(0,h.Y)(Pt.E,{color:c(t)}),null!==f&&void 0!==f&&f.runName?(0,h.Y)(i.T.Hint,{children:null===f||void 0===f?void 0:f.runName}):u.formatMessage({id:"PUQxu5",defaultMessage:"Select baseline run"})]})})}),(0,h.Y)(a.DialogComboboxContent,{children:(0,h.Y)(a.DialogComboboxOptionList,{children:(g||[]).map((e,n)=>(0,h.Y)(a.DialogComboboxOptionListSelectItem,{value:e.value,onChange:t=>Y(e.key),checked:e.key===t,children:(0,h.FD)("div",{css:(0,r.AH)({display:"flex",gap:l.spacing.sm,alignItems:"center"},""),children:[(0,h.Y)(Pt.E,{color:c(e.key)}),e.value]})},n))})})]})}),(0,h.Y)("span",{css:Vt,children:u.formatMessage({id:"iYmFCZ",defaultMessage:"compare to"})}),n&&(0,h.Y)("div",{css:Ht,children:(0,h.FD)("div",{css:zt,children:[(0,h.FD)(a.DialogCombobox,{componentId:Ft.WB,id:"compare-to-run-combobox",value:o?[o]:void 0,children:[(0,h.Y)(a.DialogComboboxCustomButtonTriggerWrapper,{children:(0,h.Y)(i.B,{endIcon:(0,h.Y)(a.ChevronDownIcon,{}),componentId:"mlflow.evaluations_review.table_ui.compare_to_run_button",css:Bt,children:(0,h.Y)("div",{css:(0,r.AH)({display:"flex",gap:l.spacing.sm,alignItems:"center",fontSize:`${l.typography.fontSizeSm}px !important`},""),children:null!==v&&void 0!==v&&v.runName?(0,h.FD)(h.FK,{children:[(0,h.Y)(Pt.E,{color:c(o)}),(0,h.Y)(i.T.Hint,{children:null===v||void 0===v?void 0:v.runName})]}):(0,h.Y)("span",{css:(0,r.AH)({color:l.colors.textPlaceholder},""),children:u.formatMessage({id:"XkpMf+",defaultMessage:"baseline run"})})})})}),(0,h.Y)(a.DialogComboboxContent,{children:(0,h.Y)(a.DialogComboboxOptionList,{children:(p||[]).map((e,t)=>(0,h.Y)(a.DialogComboboxOptionListSelectItem,{value:e.value,onChange:t=>n(e.key),checked:e.key===o,children:(0,h.FD)("div",{css:(0,r.AH)({display:"flex",gap:l.spacing.sm,alignItems:"center"},""),children:[(0,h.Y)(Pt.E,{color:c(e.key)}),e.value]})},t))})})]}),(null===v||void 0===v?void 0:v.runName)&&(0,h.Y)(B.X,{"aria-hidden":"false",css:(0,r.AH)({color:l.colors.textPlaceholder,fontSize:l.typography.fontSizeSm,marginLeft:l.spacing.sm,":hover":{color:l.colors.actionTertiaryTextHover}},""),role:"button",onClick:()=>{n(void 0)},onPointerDownCapture:e=>{e.stopPropagation()}})]})})]}):(0,h.Y)(h.FK,{})};var $t=n(35368),Kt=n(77734);const Wt=e=>(0,d.useMemo)(()=>e?(0,A.intersection)((0,Kt.T)(e),[Ft.o8.Evaluations,Ft.o8.Metrics,Ft.o8.Assessments]):[],[e]);var jt=n(1073),qt=n(16524);const Zt=qt.J1`
  query SearchRuns($data: MlflowSearchRunsInput!) {
    mlflowSearchRuns(input: $data) {
      apiError {
        helpUrl
        code
        message
      }
      runs {
        info {
          runName
          status
          runUuid
          experimentId
          artifactUri
          endTime
          lifecycleStage
          startTime
          userId
        }
        experiment {
          experimentId
          name
          tags {
            key
            value
          }
          artifactLocation
          lifecycleStage
          lastUpdateTime
        }
        data {
          metrics {
            key
            value
            step
            timestamp
          }
          params {
            key
            value
          }
          tags {
            key
            value
          }
        }
        inputs {
          datasetInputs {
            dataset {
              digest
              name
              profile
              schema
              source
              sourceType
            }
            tags {
              key
              value
            }
          }
          modelInputs {
            modelId
          }
        }
        outputs {
          modelOutputs {
            modelId
            step
          }
        }
        modelVersions {
          version
          name
          creationTimestamp
          status
          source
        }
      }
    }
  }
`,Qt=({filter:e,experimentIds:t,disabled:n=!1})=>{var r,a,i;const{data:o,loading:s,error:l,refetch:d}=(0,qt.IT)(Zt,{variables:{data:{filter:e,experimentIds:t}},skip:n});return{loading:s,data:(0,A.first)(null!==(r=null===o||void 0===o||null===(a=o.mlflowSearchRuns)||void 0===a?void 0:a.runs)&&void 0!==r?r:[]),refetchRun:d,apolloError:l,apiError:null===o||void 0===o||null===(i=o.mlflowSearchRuns)||void 0===i?void 0:i.apiError}};var Jt=n(64874),Xt=n(23035);async function en(e,t){const[n,r]=await Promise.all([$t.x.getExperimentTraceInfo(e).then(e=>e.trace_info||{}),$t.x.getExperimentTraceData(e)]);return r?{info:n,data:r}:void 0}var tn={name:"r3950p",styles:"flex:1;display:flex;justify-content:center;align-items:center"};const nn=({experimentId:e,runUuid:t,runTags:n,runDisplayName:o,data:s})=>{const{theme:l}=(0,i.u)(),d=Wt(n),u=0===(null===s||void 0===s?void 0:s.length),[c,m]=Nt(),g=(0,jt.N9)(),{data:p,displayName:f,loading:v}=rn(e,c,d);if(v)return(0,h.Y)(a.LegacySkeleton,{});const y=e=>e.filter(e=>e.type===Ft.$6.ASSESSMENT||e.type===Ft.$6.INPUT||e.type===Ft.$6.TRACE_INFO&&[Ft.tj,Ft.$W,Ft.Pn].includes(e.id));return u?(0,h.Y)("div",{css:tn,children:(0,h.Y)(a.Empty,{title:(0,h.Y)(Y.A,{id:"NqqMPs",defaultMessage:"No evaluation tables logged"}),description:null})}):(0,h.FD)("div",{css:(0,r.AH)({marginTop:l.spacing.sm,width:"100%",overflowY:"hidden"},""),children:[(0,h.Y)("div",{css:(0,r.AH)({width:"100%",padding:`${l.spacing.xs}px 0`},""),children:(0,h.Y)(Gt,{experimentId:e,currentRunUuid:t,compareToRunUuid:c,setCompareToRunUuid:m})}),(()=>{const n={experimentId:e,currentRunDisplayName:o,currentEvaluationResults:s||[],compareToEvaluationResults:p,runUuid:t,compareToRunUuid:c,compareToRunDisplayName:f,compareToRunLoading:v,getTrace:en,initialSelectedColumns:y};return(0,h.Y)(Ft.tU,{makeHtml:g,children:(0,h.Y)(Ft.js,{...n})})})()]})},rn=(e,t,n)=>{const{data:r,isLoading:a}=(0,Ft.Ie)({runUuid:t||"",artifacts:n},{disabled:(0,A.isNil)(t)}),{data:i,loading:o}=Qt({experimentIds:[e],filter:`attributes.runId = "${t}"`,disabled:(0,A.isNil)(t)});return{data:r,displayName:m.A.getRunDisplayName(null===i||void 0===i?void 0:i.info,t),loading:a||o}};var an=n(1646);async function on(e,t){const[n,r]=await Promise.all([$t.x.getExperimentTraceInfoV3(e).then(e=>{var t;return(null===(t=e.trace)||void 0===t?void 0:t.trace_info)||{}}),$t.x.getExperimentTraceData(e)]);return r?{info:n,data:r}:void 0}var sn={name:"1nxh63r",styles:"overflow-y:hidden;height:100%;display:flex;flex-direction:column"};const ln=({experimentId:e,runUuid:t,runTags:n,runDisplayName:a,setCurrentRunUuid:o})=>{const{theme:s}=(0,i.u)(),l=(0,jt.N9)(),[u,c]=Nt(),{assessmentInfos:m,allColumns:g,totalCount:p,isLoading:f,error:v,tableFilterOptions:y}=(0,Ft.KW)({experimentId:e,runUuid:t,otherRunUuid:u}),[Y,M]=(0,d.useState)(""),[x,I]=(0,Ft.R7)(),T=(0,Ut.LE)(),C=(0,an.jE)(),A=(0,d.useCallback)(e=>e.filter(e=>e.type===Ft.$6.ASSESSMENT||e.type===Ft.$6.INPUT||e.type===Ft.$6.TRACE_INFO&&[Ft.tj,Ft.Rl,Ft.$W,Ft.YO].includes(e.id)),[]),{selectedColumns:E,toggleColumns:R,setSelectedColumns:S}=(0,Ft.K0)(e,g,A,t),[_,D]=(0,Ft.GY)(E),{data:b,isLoading:w,error:N,refetchMlflowTraces:U}=(0,Ft.Zn)({experimentId:e,currentRunDisplayName:a,searchQuery:Y,filters:x,runUuid:t,tableSort:_}),L=(0,Xt.C)(),{data:F,displayName:P,loading:O}=cn(e,u),V=(0,d.useMemo)(()=>({currentCount:null===b||void 0===b?void 0:b.length,logCountLoading:w,totalCount:p,maxAllowedCount:(0,k.pR)()}),[b,w,p]),{showEditTagsModalForTrace:H,EditTagsModal:z}=(0,Jt.$)({onSuccess:()=>(0,Ft.BL)({queryClient:C}),existingTagKeys:(0,Ft.d9)(b||[]),useV3Apis:!0}),B=(0,d.useMemo)(()=>({deleteTracesAction:{deleteTraces:(e,t)=>L.mutateAsync({experimentId:e,traceRequestIds:t})},exportToEvals:{exportToEvalsInstanceEnabled:!0,getTrace:on},editTags:{showEditTagsModalForTrace:H,EditTagsModal:z}}),[L,H,z]),G=w||O;return f?(0,h.Y)(un,{}):v?(0,h.Y)("div",{children:(0,h.Y)("pre",{children:String(v)})}):(0,h.FD)("div",{css:(0,r.AH)({marginTop:s.spacing.sm,width:"100%",overflowY:"hidden"},""),children:[(0,h.Y)("div",{css:(0,r.AH)({width:"100%",padding:`${s.spacing.xs}px 0`},""),children:(0,h.Y)(Gt,{experimentId:e,currentRunUuid:t,compareToRunUuid:u,setCompareToRunUuid:c,setCurrentRunUuid:o})}),(0,h.Y)(Ft.sG,{children:(0,h.FD)("div",{css:sn,children:[(0,h.Y)(Ft.w_,{experimentId:e,searchQuery:Y,setSearchQuery:M,filters:x,setFilters:I,assessmentInfos:m,countInfo:V,traceActions:B,tableSort:_,setTableSort:D,allColumns:g,selectedColumns:E,setSelectedColumns:S,toggleColumns:R,traceInfos:b,tableFilterOptions:y}),G?(0,h.Y)(un,{}):N?(0,h.Y)("div",{children:(0,h.Y)("pre",{children:String(N)})}):(0,h.Y)(Ft.tU,{makeHtml:l,children:(0,h.Y)(Ft._p,{experimentId:e,currentRunDisplayName:a,compareToRunDisplayName:P,compareToRunUuid:u,getTrace:on,getRunColor:T,assessmentInfos:m,setFilters:I,filters:x,selectedColumns:E,allColumns:g,tableSort:_,currentTraceInfoV3:b||[],compareToTraceInfoV3:F,onTraceTagsEdit:H})}),z]})})]})},dn=({experimentId:e,runUuid:t,runTags:n,runDisplayName:r,setCurrentRunUuid:a})=>{const i=Wt(n),o=Boolean(t),{data:s,isLoading:l}=(0,Ft.Ie)({runUuid:t||"",artifacts:i||void 0},{disabled:!o});return l?(0,h.Y)(un,{}):!(0,A.isNil)(s)&&s.length>0?(0,h.Y)(nn,{experimentId:e,runUuid:t,runDisplayName:r,data:s,runTags:n}):(0,h.Y)(ln,{experimentId:e,runUuid:t,runDisplayName:r,setCurrentRunUuid:a})},un=()=>{const{theme:e}=(0,i.u)();return(0,h.Y)("div",{css:(0,r.AH)({display:"block",marginTop:e.spacing.md,height:"100%",width:"100%"},""),children:[...Array(10).keys()].map(e=>(0,h.Y)(a.ParagraphSkeleton,{label:"Loading...",seed:`s-${e}`},e))})},cn=(e,t)=>{const{data:n,isLoading:r}=(0,Ft.Zn)({experimentId:e,currentRunDisplayName:void 0,runUuid:t,disabled:(0,A.isNil)(t)}),{data:a,loading:i}=Qt({experimentIds:[e],filter:`attributes.runId = "${t}"`,disabled:(0,A.isNil)(t)});return{data:n,displayName:m.A.getRunDisplayName(null===a||void 0===a?void 0:a.info,t),loading:r||i}},mn=()=>(0,h.FD)(u.L,{children:[(0,h.Y)(a.TitleSkeleton,{loading:!0,label:(0,h.Y)(Y.A,{id:"ea5zBl",defaultMessage:"Run page loading"})}),[...Array(3).keys()].map(e=>(0,h.Y)(a.ParagraphSkeleton,{seed:`s-${e}`},e))]}),gn=()=>{var e,t;const{runUuid:n,experimentId:s}=(0,c.g)(),f=(0,c.Zp)(),{theme:M}=(0,i.u)(),[T,C]=(0,d.useState)(!1),[E,R]=(0,d.useState)(!1);l()(n,"[RunPage] Run UUID route param not provided"),l()(s,"[RunPage] Experiment ID route param not provided");const{experiment:S,error:_,latestMetrics:D,loading:b,params:w,refetchRun:N,runInfo:L,tags:F,experimentFetchError:P,runFetchError:O,apiError:V,datasets:H,runInputs:z,runOutputs:B,registeredModelVersionSummaries:G}=(0,rt.g)({experimentId:s,runUuid:n}),[K,W]=(0,d.useMemo)(()=>D?[Object.keys(D).filter(e=>!(0,$.bw)(e)),Object.keys(D).filter(e=>(0,$.bw)(e))]:[[],[]],[D]),{comparedExperimentIds:j=[],hasComparedExperimentsBefore:q=!1}=(0,o.d4)(e=>e.comparedExperiments||{}),Z=I(),Q=(0,k.ht)(),J=((e,t,n,r,a=!0)=>{const i=(0,d.useMemo)(()=>{var e,t;const a=[...null!==(e=null===n||void 0===n?void 0:n.modelInputs)&&void 0!==e?e:[],...null!==(t=null===r||void 0===r?void 0:r.modelOutputs)&&void 0!==t?t:[]],i=(0,A.uniq)((0,A.compact)(a.map(({modelId:e})=>e)));if(!(0,A.isEmpty)(i))return`attributes.model_id IN (${i.map(e=>`'${e}'`).join(",")})`},[n,r]),o=a&&Boolean(i),{data:s,isLoading:l,error:u}=(0,bt.e)({experimentIds:[e],searchQuery:i},{enabled:o});return{models:o?s:void 0,isLoading:o&&l,error:u}})(s,0,z,B,!Q),X=(({runInputs:e,runOutputs:t,enabled:n=!0})=>{const r=(0,d.useMemo)(()=>{var n,r;const a=[...null!==(n=null===e||void 0===e?void 0:e.modelInputs)&&void 0!==n?n:[],...null!==(r=null===t||void 0===t?void 0:t.modelOutputs)&&void 0!==r?r:[]],i=(0,A.uniq)((0,A.compact)(a.map(({modelId:e})=>e)));if(!(0,A.isEmpty)(i))return i},[e,t]),a=n&&!(0,A.isEmpty)(r),{data:i,isLoading:o,error:s}=(0,wt.o)({modelIds:r},{enabled:a});return{models:i,isLoading:a&&o,error:s}})({runInputs:z,runOutputs:B,enabled:Q}),{error:ee,isLoading:te,models:ne}=Q?X:J,re=(0,v.Ub)(`(min-width: ${M.responsive.breakpoints.sm}px)`),ae=b&&(!L||!S);return O instanceof at.s&&O.getErrorCode()===st.tG.RESOURCE_DOES_NOT_EXIST||(null===V||void 0===V?void 0:V.code)===st.tG.RESOURCE_DOES_NOT_EXIST||_&&(0,Dt.b)(_).match(/not found$/)?(0,h.Y)(ot,{runId:n}):P instanceof at.s&&P.getErrorCode()===st.tG.RESOURCE_DOES_NOT_EXIST?(0,h.Y)(lt.A,{}):O||P?null:(0,k.wD)()&&(_||V)?(0,h.Y)("div",{css:(0,r.AH)({marginTop:M.spacing.lg},""),children:(0,h.Y)(a.Empty,{title:(0,h.Y)(Y.A,{id:"XaC3qF",defaultMessage:"Can't load run details"}),description:(0,Dt.b)(null!==V&&void 0!==V?V:_),image:(0,h.Y)(i.k,{})})}):!ae&&L&&S?(0,h.FD)(h.FK,{children:[(0,h.FD)(u.L,{usesFullHeight:re,children:[(0,h.Y)(U,{comparedExperimentIds:j,experiment:S,handleRenameRunClick:()=>C(!0),handleDeleteRunClick:()=>R(!0),hasComparedExperimentsBefore:q,runDisplayName:m.A.getRunDisplayName(L,n),runTags:F,runParams:w,runUuid:n,artifactRootUri:null!==(e=null===L||void 0===L?void 0:L.artifactUri)&&void 0!==e?e:void 0,registeredModelVersionSummaries:G,isLoading:b||te}),(0,h.Y)("div",{css:(0,r.AH)({flex:1,overflow:"auto",marginBottom:M.spacing.sm,display:"flex"},""),children:(()=>{var e;if(!L)return null;switch(Z){case g.N3.MODEL_METRIC_CHARTS:return(0,h.Y)(_t,{mode:"model",metricKeys:K,runInfo:L,latestMetrics:D,tags:F,params:w},"model");case g.N3.SYSTEM_METRIC_CHARTS:return(0,h.Y)(_t,{mode:"system",metricKeys:W,runInfo:L,latestMetrics:D,tags:F,params:w},"system");case g.N3.ARTIFACTS:return(0,h.Y)(y,{runUuid:n,runTags:F,runOutputs:B,experimentId:s,artifactUri:null!==(e=L.artifactUri)&&void 0!==e?e:void 0});case g.N3.TRACES:return(0,h.Y)(dn,{runUuid:n,runTags:F,experimentId:s,runDisplayName:m.A.getRunDisplayName(L,n)})}return(0,h.Y)(nt,{runInfo:L,tags:F,params:w,latestMetrics:D,runUuid:n,onRunDataUpdated:N,runInputs:z,runOutputs:B,datasets:H,registeredModelVersionSummaries:G,loggedModelsV3:ne,isLoadingLoggedModels:te,loggedModelsError:null!==ee&&void 0!==ee?ee:void 0})})()})]}),(0,h.Y)(p.j,{runUuid:n,onClose:()=>C(!1),runName:null!==(t=L.runName)&&void 0!==t?t:"",isOpen:T,onSuccess:N}),(0,h.Y)(dt.A,{selectedRunIds:[n],onClose:()=>R(!1),isOpen:E,onSuccess:()=>{f(x.Ay.getExperimentPageRoute(s))}})]}):(0,h.Y)(mn,{})};var pn=gn}}]);
//# sourceMappingURL=36.106d0934.chunk.js.map