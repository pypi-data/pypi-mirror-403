"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[483],{13612:function(e,t,n){n.d(t,{$:function(){return o}});var s=n(76998);const o=()=>{const[e,t]=(0,s.useState)("visible"===document.visibilityState);return(0,s.useEffect)(()=>{document.addEventListener("visibilitychange",e=>{t("visible"===document.visibilityState)})},[]),e}},38202:function(e,t,n){var s=n(76998),o=n(53442),r=n(1797),i=n(89365),a=n(71146),c=n(24816),l=n(51391);class d extends s.Component{constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(){const e=[];return this.props.selectedRunIds.forEach(t=>{e.push(this.props.deleteRunApi(t))}),Promise.all(e).catch(()=>{const e=`${this.props.intl.formatMessage({id:"tdmVWN",defaultMessage:"While deleting an experiment run, an error occurred."})}`;this.props.openErrorModal(e)}).then(()=>{var e,t;null===(e=(t=this.props).onSuccess)||void 0===e||e.call(t)})}render(){const e=this.props.selectedRunIds.length;return(0,l.Y)(o.u,{isOpen:this.props.isOpen,onClose:this.props.onClose,handleSubmit:this.handleSubmit,title:`Delete Experiment ${a.A.pluralize("Run",e)}`,helpText:(0,l.FD)("div",{children:[(0,l.Y)("p",{children:(0,l.FD)("b",{children:[e," experiment ",a.A.pluralize("run",e)," will be deleted."]})}),""]}),confirmButtonText:"Delete"})}}const u={deleteRunApi:r.IX,openErrorModal:r.Yi};t.A=(0,i.Ng)(null,u)((0,c.Ay)(d))},48885:function(e,t,n){n.d(t,{o:function(){return c}});var s=n(13843),o=n(2074),r=n(45901),i=n(40554);const a=async({queryKey:[,e]})=>{const t=(0,r.chunk)(e,100);return Promise.all(t.map(e=>{const t=new URLSearchParams;for(const n of e)t.append("model_ids",n);return(0,o.G)((0,i.we)(`ajax-api/2.0/mlflow/logged-models:batchGet?${t.toString()}`),"GET")}))},c=({modelIds:e},t)=>{const{data:n,isLoading:o,isFetching:r,refetch:i,error:c}=(0,s.I)({queryKey:(l=null!==e&&void 0!==e?e:[],["GET_LOGGED_MODELS",l]),queryFn:a,select:e=>null===e||void 0===e?void 0:e.flatMap(e=>(null===e||void 0===e?void 0:e.models)||[]),retry:!1,...t});var l;return{isLoading:o,isFetching:r,data:n,refetch:i,error:c}}},53442:function(e,t,n){n.d(t,{u:function(){return i}});var s=n(76998),o=n(29332),r=n(51391);class i extends s.Component{constructor(e){super(e),this.state={isSubmitting:!1},this.onRequestCloseHandler=this.onRequestCloseHandler.bind(this),this.handleSubmitWrapper=this.handleSubmitWrapper.bind(this)}onRequestCloseHandler(){this.state.isSubmitting||this.props.onClose()}handleSubmitWrapper(){return this.setState({isSubmitting:!0}),this.props.handleSubmit().finally(()=>{this.props.onClose(),this.setState({isSubmitting:!1})})}render(){return(0,r.Y)(o.d,{"data-testid":"confirm-modal",title:this.props.title,visible:this.props.isOpen,onOk:this.handleSubmitWrapper,okText:this.props.confirmButtonText,okButtonProps:this.props.confirmButtonProps,confirmLoading:this.state.isSubmitting,onCancel:this.onRequestCloseHandler,centered:!0,children:(0,r.Y)("div",{className:"modal-explanatory-text",children:this.props.helpText})})}}},63071:function(e,t,n){n.d(t,{L:function(){return c}});var s=n(71146),o=n(1797),r=n(76714),i=n(76998),a=n(89365);const c=({runUuids:e,runUuidsIsActive:t,autoRefreshEnabled:n,enabled:c})=>{const l=(0,a.wA)(),d=e.slice(0,r.Lf).join(",");(0,i.useEffect)(()=>{c&&!n&&d.split(",").forEach(e=>{e&&l((0,o.LN)(e))})},[d,l,n,c]);const u=(0,i.useRef)(void 0),p=(0,i.useRef)(n&&c);p.current=n;const h=t.slice(0,r.Lf).join(",");(0,i.useEffect)(()=>{let e=!1;if(!c||!n)return;const t=async e=>{const t=d.split(","),n=h.split(",");(e?t.filter((e,t)=>"true"===n[t]):t).forEach(t=>{t&&l((0,o.LN)(t,e))})},i=async()=>{if(p.current&&!e){try{await t(!0)}catch(n){s.A.logErrorAndNotifyUser(n)}clearTimeout(u.current),p.current&&!e&&(u.current=window.setTimeout(i,r.zD))}};return t(!1).then(i),()=>{t(!0),e=!0,clearTimeout(u.current)}},[l,d,h,n,c])}},69936:function(e,t,n){n.d(t,{f:function(){return g}});var s=n(64819),o=n(32256),r=n(37733),i=n(29332),a=n(15055),c=n(76998),l=n(86785),d=n(86288),u=n(34139),p=n(51391);var h={name:"1v0pok0",styles:"min-width:300px"},m={name:"11jf4ye",styles:"display:flex;gap:8px"},f={name:"bsla3r",styles:"max-height:300px;overflow:auto"};const g=({globalLineChartConfig:e,metricKeyList:t,updateUIState:n})=>{const{theme:g}=(0,r.u)(),_=(0,d.A)(),{lineSmoothness:b,selectedXAxisMetricKey:w,xAxisKey:v}=e||{},x=(0,c.useCallback)(e=>n(t=>({...t,globalLineChartConfig:{...t.globalLineChartConfig,...e}})),[n]),y=v===a.fj.METRIC,M=_.formatMessage({id:"Kkr/RI",defaultMessage:"Configure charts"});return(0,p.FD)(o.DropdownMenu.Root,{modal:!1,children:[(0,p.Y)(i.T,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_44",content:M,children:(0,p.Y)(o.DropdownMenu.Trigger,{asChild:!0,children:(0,p.Y)(r.B,{componentId:"mlflow.charts.controls.global_chart_setup_dropdown",icon:(0,p.Y)(o.GearIcon,{}),"aria-label":M})})}),(0,p.FD)(o.DropdownMenu.Content,{align:"end",css:h,children:[(0,p.FD)(o.DropdownMenu.Group,{role:"region","aria-label":_.formatMessage({id:"Jp79WH",defaultMessage:"X-axis"}),children:[(0,p.Y)(o.DropdownMenu.Label,{css:m,children:(0,p.Y)(u.A,{id:"Jp79WH",defaultMessage:"X-axis"})}),(0,p.FD)(o.DropdownMenu.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_68",checked:v===a.fj.STEP,onClick:()=>x({xAxisKey:a.fj.STEP}),children:[(0,p.Y)(o.DropdownMenu.ItemIndicator,{}),(0,p.Y)(u.A,{id:"53b+wP",defaultMessage:"Step"})]}),(0,p.FD)(o.DropdownMenu.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_78",checked:v===a.fj.TIME,onClick:()=>x({xAxisKey:a.fj.TIME}),children:[(0,p.Y)(o.DropdownMenu.ItemIndicator,{}),(0,p.Y)(u.A,{id:"/QYbzP",defaultMessage:"Time (wall)"})]}),(0,p.FD)(o.DropdownMenu.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_88",checked:v===a.fj.TIME_RELATIVE,onClick:()=>x({xAxisKey:a.fj.TIME_RELATIVE}),children:[(0,p.Y)(o.DropdownMenu.ItemIndicator,{}),(0,p.Y)(u.A,{id:"sIC5K3",defaultMessage:"Time (relative)"})]}),(0,p.FD)(o.DropdownMenu.Sub,{children:[(0,p.FD)(o.DropdownMenu.SubTrigger,{css:(0,s.AH)({paddingLeft:g.spacing.xs+g.spacing.sm},""),children:[(0,p.Y)(o.DropdownMenu.IconWrapper,{children:(0,p.Y)(i.C,{css:(0,s.AH)({visibility:y?"visible":"hidden"},"")})}),(0,p.Y)(u.A,{id:"yCncIr",defaultMessage:"Metric"})]}),(0,p.Y)(o.DropdownMenu.SubContent,{css:f,children:t.map(e=>(0,p.FD)(o.DropdownMenu.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_118",checked:w===e&&y,onClick:()=>x({xAxisKey:a.fj.METRIC,selectedXAxisMetricKey:e}),children:[(0,p.Y)(o.DropdownMenu.ItemIndicator,{}),e]},e))})]})]}),(0,p.FD)(o.DropdownMenu.Group,{role:"region","aria-label":_.formatMessage({id:"qkRBUr",defaultMessage:"Line smoothing"}),children:[(0,p.Y)(o.DropdownMenu.Label,{children:(0,p.Y)(u.A,{id:"qkRBUr",defaultMessage:"Line smoothing"})}),(0,p.Y)("div",{css:(0,s.AH)({padding:g.spacing.sm},""),children:(0,p.Y)(l.o,{min:0,max:100,onChange:e=>x({lineSmoothness:e}),value:b||0})})]})]})]})}},79709:function(e,t,n){n.d(t,{I:function(){return u}});var s=n(64819),o=n(76998),r=n(96006),i=n(86288),a=n(37733),c=n(26737),l=n(201),d=n(51391);const u=({chartsSearchFilter:e})=>{const t=(0,r.g_)(),{theme:n}=(0,a.u)(),[u,p]=(0,o.useState)(()=>null!==e&&void 0!==e?e:""),[h,m]=(0,o.useState)(!1),{formatMessage:f}=(0,i.A)(),g=(0,o.useCallback)(e=>{t(t=>({...t,chartsSearchFilter:e})),m(!1)},[t]),_=(0,l.YQ)(g,150);return(0,d.Y)(c.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsfilterinput.tsx_30",role:"searchbox",prefix:(0,d.Y)("div",{css:(0,s.AH)({width:n.general.iconFontSize,lineHeight:0},""),children:h?(0,d.Y)(a.S,{size:"small"}):(0,d.Y)(c.S,{})}),value:u,allowClear:!0,onChange:e=>{p(e.target.value),m(!0),_(e.target.value)},placeholder:f({id:"Xs1oJm",defaultMessage:"Search metric charts"})})}},81611:function(e,t,n){n.d(t,{f:function(){return u},y:function(){return c}});var s=n(64819),o=n(76998),r=n(77177),i=n(45901),a=n(51391);const c=({json:e,wrapperStyle:t,overlayStyle:n,codeSnippetStyle:o})=>{const{formattedJson:i,isJsonContent:c}=l(e);return(0,a.Y)("div",{style:{position:"relative",maxHeight:"calc(1.5em * 9)",overflow:"hidden",...t},children:c?(0,a.FD)(a.FK,{children:[(0,a.Y)(r.z7,{language:"json",style:{padding:"5px",overflowX:"hidden",...o},children:i}),(0,a.Y)("div",{css:(0,s.AH)({position:"absolute",bottom:0,right:0,left:6,height:"2em",background:"linear-gradient(transparent, white)",...n},"")})]}):(0,a.Y)(a.FK,{children:e})})};function l(e){return o.useMemo(()=>{try{const t=JSON.parse(e),n=(0,i.isObject)(t)&&"function"!==typeof t&&!(t instanceof Date);return{formattedJson:n?JSON.stringify(t,null,2):e,isJsonContent:n}}catch(t){return{formattedJson:e,isJsonContent:!1}}},[e])}var d={name:"1089mxj",styles:"white-space:pre-wrap"};const u=({json:e})=>{const{formattedJson:t,isJsonContent:n}=l(e);return(0,a.Y)("div",{css:d,children:n?(0,a.Y)(r.z7,{language:"json",wrapLongLines:!0,children:t}):(0,a.Y)("span",{children:e})})}},92754:function(e,t,n){n.d(t,{j:function(){return b}});var s=n(76998),o=n(89365),r=n(24816),i=n(53581),a=n(32256),c=n(26737),l=n(51391);const d="newName";class u extends s.Component{constructor(...e){super(...e),this.inputToAutoFocus=void 0,this.autoFocusInputRef=e=>{this.inputToAutoFocus=e,e&&e.focus(),e&&e.select()},this.autoFocus=e=>{!1===e.visible&&!0===this.props.visible&&(this.inputToAutoFocus&&this.inputToAutoFocus.focus(),this.inputToAutoFocus&&this.inputToAutoFocus.select())},this.resetFields=e=>{const t=this.props.innerRef;e.name!==this.props.name&&t.current.resetFields([d])}}componentDidUpdate(e){this.autoFocus(e),this.resetFields(e)}render(){return(0,l.Y)(a.LegacyForm,{ref:this.props.innerRef,layout:"vertical",children:(0,l.Y)(a.LegacyForm.Item,{name:d,initialValue:this.props.name,rules:[{required:!0,message:`Please input a new name for the ${this.props.type}.`},{validator:this.props.validator}],label:`New ${this.props.type} name`,children:(0,l.Y)(c.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_modals_renameform.tsx_69",placeholder:`Input a ${this.props.type} name`,ref:this.autoFocusInputRef,"data-testid":"rename-modal-input"})})})}}const p=u;var h=n(1797),m=n(33444);class f extends s.Component{constructor(...e){super(...e),this.formRef=s.createRef(),this.handleRenameRun=e=>{const t=e[d],n=(0,m.yk)();return this.props.updateRunApi(this.props.runUuid,t,n).then(()=>{var e,t;return null===(e=(t=this.props).onSuccess)||void 0===e?void 0:e.call(t)})}}render(){const{isOpen:e=!1,runName:t}=this.props;return(0,l.Y)(i.B,{title:this.props.intl.formatMessage({id:"+Dnww0",defaultMessage:"Rename Run"}),okText:this.props.intl.formatMessage({id:"7NKkk1",defaultMessage:"Save"}),isOpen:e,handleSubmit:this.handleRenameRun,onClose:this.props.onClose,children:(0,l.Y)(p,{type:"run",name:t,innerRef:this.formRef,visible:e,validator:async(e,t)=>{if("string"===typeof t&&t.length&&!t.trim())throw new Error(this.props.intl.formatMessage({id:"ze1m7Z",defaultMessage:"Run name cannot consist only of whitespace!"}));return!0}})})}}const g={updateRunApi:h.FZ},_=(0,r.Ay)(f),b=(0,o.Ng)(void 0,g)(_)}}]);
//# sourceMappingURL=483.004f2c81.chunk.js.map