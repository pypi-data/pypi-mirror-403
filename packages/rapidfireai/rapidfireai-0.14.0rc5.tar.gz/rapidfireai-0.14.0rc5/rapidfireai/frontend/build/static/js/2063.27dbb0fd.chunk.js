"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[2063],{13804:function(e,r,t){t.d(r,{L:function(){return o}});t(76998);var n=t(32256),s=t(29332),i=t(51391);function o(e){const{usesFullHeight:r,...t}=e;return(0,i.FD)(n.PageWrapper,{css:r?a.useFullHeightLayout:a.wrapper,children:[(0,i.Y)(s.S,{css:a.fixedSpacer}),r?e.children:(0,i.Y)("div",{...t,css:a.container})]})}o.defaultProps={usesFullHeight:!1};const a={useFullHeightLayout:{height:"calc(100% - 60px)",display:"flex",flexDirection:"column","&:last-child":{flexGrow:1}},wrapper:{flex:1},fixedSpacer:{flexShrink:0},container:{width:"100%",flexGrow:1,paddingBottom:24}}},18509:function(e,r,t){t.d(r,{o:function(){return p},z:function(){return d}});var n=t(64819),s=(t(76998),t(32256)),i=t(37733),o=t(29332),a=t(86288),u=t(98374),c=t(51391);function p({menu:e}){const r=(0,c.Y)(s.Menu,{children:e.map(({id:e,itemName:r,onClick:t,href:n,...i})=>(0,c.Y)(s.Menu.Item,{onClick:t,href:n,"data-testid":e,...i,children:r},e))});return e.length>0?(0,c.Y)(s.Dropdown,{overlay:r,trigger:["click"],placement:"bottomLeft",arrow:!0,children:(0,c.Y)(i.B,{componentId:"codegen_mlflow_app_src_shared_building_blocks_pageheader.tsx_54",icon:(0,c.Y)(s.OverflowIcon,{}),"data-testid":"overflow-menu-trigger","aria-label":"Open header dropdown menu"})}):null}var l={name:"1gz4j9a",styles:"margin-left:0"};function d(e){const{title:r,breadcrumbs:t=[],titleAddOns:p=[],preview:d,children:m,spacerSize:h,hideSpacer:g=!1,dangerouslyAppendEmotionCSS:f}=e,{theme:x}=(0,i.u)();(0,a.A)();return(0,c.FD)(c.FK,{children:[(0,c.Y)(s.Header,{breadcrumbs:t.length>0&&(0,c.Y)(s.Breadcrumb,{includeTrailingCaret:!0,children:t.map((e,r)=>(0,c.Y)(s.Breadcrumb.Item,{children:e},r))}),buttons:m,title:r,titleAddOns:(0,c.FD)(c.FK,{children:[d&&(0,c.Y)(u.W,{css:l}),p]}),dangerouslyAppendEmotionCSS:f}),(0,c.Y)(o.S,{css:(0,n.AH)({flexShrink:0,...g?{display:"none"}:{}},""),size:h})]})}},18769:function(e,r,t){t.r(r),t.d(r,{MetricPage:function(){return S},MetricPageImpl:function(){return k},default:function(){return M}});var n=t(76998),s=t(89365),i=t(88743),o=t.n(i),a=t(1797),u=t(67821),c=t(30126),p=t(34139),l=t(71146),d=t(62736),m=t(76712),h=t(98512),g=t(18509),f=t(89105),x=t(2893),E=t(51391);class Y extends n.Component{getCompareRunsPageText(e,r){return r>1?(0,E.Y)(p.A,{id:"IEORCP",defaultMessage:"Comparing {numRuns} Runs from {numExperiments} Experiments",values:{numRuns:e,numExperiments:r}}):(0,E.Y)(p.A,{id:"NN0ScV",defaultMessage:"Comparing {numRuns} Runs from 1 Experiment",values:{numRuns:e}})}hasMultipleExperiments(){return this.props.experimentIds.length>1}getRunPageLink(){const{experimentIds:e,runUuids:r,runNames:t}=this.props;if(!r||0===r.length)return null;if(1===r.length)return(0,E.Y)(h.N_,{to:f.Ay.getRunPageRoute(e[0],r[0]),children:t[0]});const n=this.getCompareRunsPageText(r.length,e.length);return(0,E.Y)(h.N_,{to:f.Ay.getCompareRunPageRoute(r,e),children:n})}getCompareExperimentsPageLinkText(e){return(0,E.Y)(p.A,{id:"LLm5Bo",defaultMessage:"Displaying Runs from {numExperiments} Experiments",values:{numExperiments:e}})}getExperimentPageLink(){const{comparedExperimentIds:e,hasComparedExperimentsBefore:r,experimentIds:t,experiments:n}=this.props;if(r&&e){const r=this.getCompareExperimentsPageLinkText(e.length);return(0,E.Y)(h.N_,{to:f.Ay.getCompareExperimentsPageRoute(e),children:r})}if(this.hasMultipleExperiments()){const e=this.getCompareExperimentsPageLinkText(t.length);return(0,E.Y)(h.N_,{to:f.Ay.getCompareExperimentsPageRoute(t),children:e})}return(0,E.Y)(h.N_,{to:f.Ay.getExperimentPageRoute(t[0]),children:n[0].name})}render(){const{experimentIds:e,runUuids:r,metricKey:t,location:n}=this.props,{selectedMetricKeys:s}=l.A.getMetricPlotStateFromUrl(n.search),i=s.length>1?(0,E.Y)(p.A,{id:"wbRVln",defaultMessage:"Metrics"}):s[0],o=[this.getExperimentPageLink(),this.getRunPageLink()];return(0,E.FD)("div",{children:[(0,E.Y)(g.z,{title:i,breadcrumbs:o,hideSpacer:!0}),(0,E.Y)(m.Ay,{experimentIds:e,runUuids:r,metricKey:t})]})}}const y=(0,x.h)((0,s.Ng)((e,r)=>{const{comparedExperimentIds:t,hasComparedExperimentsBefore:n}=e.compareExperiments,{experimentIds:s,runUuids:i}=r;return{experiments:null!==s?s.map(r=>(0,d._m)(r,e)):null,runNames:i.map(r=>{const t=(0,d.K4)(r,e);return l.A.getRunDisplayName(t,r)}),comparedExperimentIds:t,hasComparedExperimentsBefore:n}})(Y));var I=t(33444),w=t(13804),v=t(97709),C=t(28976),A=t(24816),_=t(42142),R=t(32256),P=t(37733);class k extends n.Component{constructor(e){super(e),this.requestIds=void 0,this.requestIds=[]}fetchExperiments(){return this.props.experimentIds.map(e=>{const r=(0,I.yk)();return this.props.dispatch((0,a.yc)(e,r)).catch(e=>{if(!(e instanceof _.s))throw e}),r})}componentDidMount(){if(this.props.loadError instanceof Error){const e=this.props.intl.formatMessage({id:"eUUNCv",defaultMessage:"Error during metric page load: invalid URL"});throw new Error(e)}if(null!==this.props.experimentIds){const e=this.fetchExperiments();this.requestIds.push(...e)}this.props.runUuids.forEach(e=>{const r=(0,I.yk)();this.requestIds.push(r),this.props.dispatch((0,a.aO)(e,r)).catch(e=>{if(!(e instanceof _.s))throw e})})}renderPageContent(){const{runUuids:e}=this.props;return e.length>=1?(0,E.Y)(y,{runUuids:this.props.runUuids,metricKey:this.props.metricKey,experimentIds:this.props.experimentIds}):(0,E.Y)(c.A,{})}render(){return(0,E.Y)(w.L,{children:(0,E.Y)(u.Ay,{requestIds:this.requestIds,customRequestErrorHandlerFn:e=>{var r;const t=null===(r=e.find(e=>e.error))||void 0===r?void 0:r.error;if(t instanceof _.s)throw t.translateToErrorInstance();if(t)throw t},children:this.renderPageContent()})})}}const N=(0,x.h)((0,s.Ng)((e,r)=>{const{location:t}=r,n=o().parse(t.search);try{const e=JSON.parse(n["?runs"]),r=JSON.parse(n.metric);let t=null;return n.hasOwnProperty("experiments")&&(t=JSON.parse(n.experiments)),{runUuids:e,metricKey:r,experimentIds:t}}catch(s){return{runUuids:[],metricKey:"",experimentIds:[],loadError:s}}})((0,A.Ay)(k)));var b={name:"64bku7",styles:"height:100%;align-items:center;justify-content:center;display:flex"};const S=(0,v.X)(C.A.mlflowServices.EXPERIMENTS,N,void 0,({error:e})=>(0,E.Y)("div",{css:b,children:(0,E.Y)(R.Empty,{title:(0,E.Y)(p.A,{id:"N8YuIr",defaultMessage:"Error while loading metric page"}),description:e.message,image:(0,E.Y)(P.k,{})})}));var M=S},30126:function(e,r,t){var n=t(76998),s=t(51391);class i extends n.Component{render(){return(0,s.Y)("div",{children:"Resource not found."})}}r.A=i},98374:function(e,r,t){t.d(r,{W:function(){return u}});var n=t(64819),s=(t(76998),t(34139)),i=t(32256),o=t(37733),a=t(51391);const u=({className:e})=>{const{theme:r}=(0,o.u)();return(0,a.Y)(i.Tag,{componentId:"codegen_mlflow_app_src_shared_building_blocks_previewbadge.tsx_14",className:e,css:(0,n.AH)({marginLeft:r.spacing.xs},""),color:"turquoise",children:(0,a.Y)(s.A,{id:"8qJt7/",defaultMessage:"Experimental"})})}}}]);
//# sourceMappingURL=2063.27dbb0fd.chunk.js.map