{"version":3,"file":"static/js/5062.835b310d.chunk.js","mappings":"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","sources":["../node_modules/use-debounce/src/useDebouncedCallback.ts","../node_modules/use-debounce/src/useDebounce.ts","experiment-tracking/pages/prompts/hooks/useUpdateRegisteredPromptTags.tsx","experiment-tracking/pages/prompts/components/PromptsListTableVersionCell.tsx","experiment-tracking/pages/prompts/components/PromptPageErrorHandler.tsx","experiment-tracking/pages/prompts/hooks/usePromptsListQuery.tsx","experiment-tracking/pages/prompts/components/PromptsListFilters.tsx","experiment-tracking/pages/prompts/components/PromptsListTableTagsCell.tsx","experiment-tracking/pages/prompts/components/PromptsListTableNameCell.tsx","experiment-tracking/pages/prompts/components/PromptsListTable.tsx","experiment-tracking/pages/prompts/PromptsPage.tsx"],"sourcesContent":["import {\n  useRef,\n  useEffect,\n  useMemo,\n  type Dispatch,\n  type SetStateAction,\n} from 'react';\n\nexport interface CallOptions {\n  /**\n   * Controls if the function should be invoked on the leading edge of the timeout.\n   */\n  leading?: boolean;\n  /**\n   * Controls if the function should be invoked on the trailing edge of the timeout.\n   */\n  trailing?: boolean;\n  /**\n   * Controls if the function should be invoked when the React component unmounts or\n   * the page is closed. This is usually desirable whenever `func` has persistent side-effects\n   * such as persists data.\n   *\n   * NOTE: If the callback calls `fetch()`, you usually also want to specify the `keepalive=true`\n   * option for `fetch()` so it can finish in the background after the page is closed.\n   *\n   * This option has no effect if `trailing == false`.\n   */\n  flushOnExit?: boolean;\n}\n\nexport interface Options extends CallOptions {\n  /**\n   * The maximum time the given function is allowed to be delayed before it's invoked.\n   */\n  maxWait?: number;\n  /**\n   * If the setting is set to true, all debouncing and timers will happen on the server side as well\n   */\n  debounceOnServer?: boolean;\n}\n\nexport interface ControlFunctions<ReturnT> {\n  /**\n   * Cancel pending function invocations\n   */\n  cancel: () => void;\n  /**\n   * Immediately invoke pending function invocations\n   */\n  flush: () => ReturnT | undefined;\n  /**\n   * Returns `true` if there are any pending function invocations\n   */\n  isPending: () => boolean;\n}\n\n/**\n * Subsequent calls to the debounced function return the result of the last func invocation.\n * Note, that if there are no previous invocations you will get undefined. You should check it in your code properly.\n */\nexport interface DebouncedState<T extends (...args: any) => ReturnType<T>>\n  extends ControlFunctions<ReturnType<T>> {\n  (...args: Parameters<T>): ReturnType<T> | undefined;\n}\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked, or until the next browser frame is drawn.\n *\n * The debounced function comes with a `cancel` method to cancel delayed `func`\n * invocations and a `flush` method to immediately invoke them.\n *\n * Provide `options` to indicate whether `func` should be invoked on the leading\n * and/or trailing edge of the `wait` timeout. The `func` is invoked with the\n * last arguments provided to the debounced function.\n *\n * Subsequent calls to the debounced function return the result of the last\n * `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * If `wait` is omitted in an environment with `requestAnimationFrame`, `func`\n * invocation will be deferred until the next frame is drawn (typically about\n * 16ms).\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `debounce` and `throttle`.\n *\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0]\n *  The number of milliseconds to delay; if omitted, `requestAnimationFrame` is\n *  used (if available, otherwise it will be setTimeout(...,0)).\n * @param {Object} [options={}] The options object.\n *  Controls if `func` should be invoked on the leading edge of the timeout.\n * @param {boolean} [options.leading=false]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {number} [options.maxWait]\n *  Controls if `func` should be invoked the trailing edge of the timeout.\n * @param {boolean} [options.trailing=true]\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * const resizeHandler = useDebouncedCallback(calculateLayout, 150);\n * window.addEventListener('resize', resizeHandler)\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * const clickHandler = useDebouncedCallback(sendMail, 300, {\n *   leading: true,\n *   trailing: false,\n * })\n * <button onClick={clickHandler}>click me</button>\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * const debounced = useDebouncedCallback(batchLog, 250, { 'maxWait': 1000 })\n * const source = new EventSource('/stream')\n * source.addEventListener('message', debounced)\n *\n * // Cancel the trailing debounced invocation.\n * window.addEventListener('popstate', debounced.cancel)\n *\n * // Check for pending invocations.\n * const status = debounced.isPending() ? \"Pending...\" : \"Ready\"\n */\nexport default function useDebouncedCallback<\n  T extends (...args: any) => ReturnType<T>,\n>(\n  func: T,\n  wait?: number,\n  options?: Options,\n  forceUpdate?: Dispatch<SetStateAction<object>>\n): DebouncedState<T> {\n  const lastCallTime = useRef(null);\n  const lastInvokeTime = useRef(0);\n  const firstInvokeTime = useRef(0);\n  const timerId = useRef(null);\n  const lastArgs = useRef<unknown[]>([]);\n  const lastThis = useRef<unknown>();\n  const result = useRef<ReturnType<T>>();\n  const funcRef = useRef(func);\n  const mounted = useRef(true);\n  const visibilityListener = useRef<VoidFunction>();\n  const debouncedRef = useRef<DebouncedState<T>>();\n  // Always keep the latest version of debounce callback, with no wait time.\n  funcRef.current = func;\n\n  const isClientSide = typeof window !== 'undefined';\n  // Bypass `requestAnimationFrame` by explicitly setting `wait=0`.\n  const useRAF = !wait && wait !== 0 && isClientSide;\n\n  if (typeof func !== 'function') {\n    throw new TypeError('Expected a function');\n  }\n\n  wait = +wait || 0;\n  options = options || {};\n\n  const leading = !!options.leading;\n  const trailing = 'trailing' in options ? !!options.trailing : true; // `true` by default\n  const flushOnExit = !!options.flushOnExit && trailing;\n  const maxing = 'maxWait' in options;\n  const debounceOnServer =\n    'debounceOnServer' in options ? !!options.debounceOnServer : false; // `false` by default\n  const maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : null;\n\n  // You may have a question, why we have so many code under the useMemo definition.\n  //\n  // This was made as we want to escape from useCallback hell and\n  // not to initialize a number of functions each time useDebouncedCallback is called.\n  //\n  // It means that we have less garbage for our GC calls which improves performance.\n  // Also, it makes this library smaller.\n  //\n  // And the last reason, that the code without lots of useCallback with deps is easier to read.\n  // You have only one place for that.\n  const debounced = useMemo(() => {\n    const invokeFunc = (time: number) => {\n      const args = lastArgs.current;\n      const thisArg = lastThis.current;\n      lastArgs.current = lastThis.current = null;\n      lastInvokeTime.current = time;\n      firstInvokeTime.current = firstInvokeTime.current || time;\n\n      return (result.current = funcRef.current.apply(thisArg, args));\n    };\n\n    const startTimer = (pendingFunc: () => void, wait: number) => {\n      if (useRAF) cancelAnimationFrame(timerId.current);\n      timerId.current = useRAF\n        ? requestAnimationFrame(pendingFunc)\n        : setTimeout(pendingFunc, wait);\n    };\n\n    const shouldInvoke = (time: number) => {\n      if (!mounted.current) return false;\n\n      const timeSinceLastCall = time - lastCallTime.current;\n      const timeSinceLastInvoke = time - lastInvokeTime.current;\n\n      // Either this is the first call, activity has stopped and we're at the\n      // trailing edge, the system time has gone backwards and we're treating\n      // it as the trailing edge, or we've hit the `maxWait` limit.\n      return (\n        !lastCallTime.current ||\n        timeSinceLastCall >= wait ||\n        timeSinceLastCall < 0 ||\n        (maxing && timeSinceLastInvoke >= maxWait)\n      );\n    };\n\n    const trailingEdge = (time: number) => {\n      timerId.current = null;\n\n      // Only invoke if we have `lastArgs` which means `func` has been\n      // debounced at least once.\n      if (trailing && lastArgs.current) {\n        return invokeFunc(time);\n      }\n\n      lastArgs.current = lastThis.current = null;\n      return result.current;\n    };\n\n    const timerExpired = () => {\n      const time = Date.now();\n\n      if (leading && firstInvokeTime.current === lastInvokeTime.current) {\n        notifyManuallyTimerExpired();\n      }\n\n      if (shouldInvoke(time)) {\n        return trailingEdge(time);\n      }\n      // https://github.com/xnimorz/use-debounce/issues/97\n      if (!mounted.current) {\n        return;\n      }\n      // Remaining wait calculation\n      const timeSinceLastCall = time - lastCallTime.current;\n      const timeSinceLastInvoke = time - lastInvokeTime.current;\n      const timeWaiting = wait - timeSinceLastCall;\n      const remainingWait = maxing\n        ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)\n        : timeWaiting;\n\n      // Restart the timer\n      startTimer(timerExpired, remainingWait);\n    };\n\n    const notifyManuallyTimerExpired = () => {\n      if (forceUpdate) {\n        forceUpdate({});\n      }\n    };\n\n    const func: DebouncedState<T> = (...args: Parameters<T>): ReturnType<T> => {\n      if (!isClientSide && !debounceOnServer) {\n        return;\n      }\n      const time = Date.now();\n      const isInvoking = shouldInvoke(time);\n\n      lastArgs.current = args;\n      lastThis.current = this;\n      lastCallTime.current = time;\n\n      if (flushOnExit && !visibilityListener.current) {\n        visibilityListener.current = () => {\n          if (global.document?.visibilityState === 'hidden') {\n            debouncedRef.current.flush();\n          }\n        };\n        global.document?.addEventListener?.(\n          'visibilitychange',\n          visibilityListener.current\n        );\n      }\n      if (isInvoking) {\n        if (!timerId.current && mounted.current) {\n          // Reset any `maxWait` timer.\n          lastInvokeTime.current = lastCallTime.current;\n          // Start the timer for the trailing edge.\n          startTimer(timerExpired, wait);\n          // Invoke the leading edge.\n          return leading ? invokeFunc(lastCallTime.current) : result.current;\n        }\n        if (maxing) {\n          // Handle invocations in a tight loop.\n          startTimer(timerExpired, wait);\n          return invokeFunc(lastCallTime.current);\n        }\n      }\n      if (!timerId.current) {\n        startTimer(timerExpired, wait);\n      }\n      return result.current;\n    };\n\n    func.cancel = () => {\n      const hadTimer = timerId.current;\n      if (hadTimer) {\n        useRAF\n          ? cancelAnimationFrame(timerId.current)\n          : clearTimeout(timerId.current);\n      }\n      lastInvokeTime.current = 0;\n      lastArgs.current =\n        lastCallTime.current =\n        lastThis.current =\n        timerId.current =\n          null;\n\n      // Notify React to re-render when cancel is called and there was an active timer\n      if (hadTimer && forceUpdate) {\n        forceUpdate({});\n      }\n    };\n\n    func.isPending = () => {\n      return !!timerId.current;\n    };\n\n    func.flush = () => {\n      return !timerId.current ? result.current : trailingEdge(Date.now());\n    };\n\n    return func;\n  }, [\n    leading,\n    maxing,\n    wait,\n    maxWait,\n    trailing,\n    flushOnExit,\n    useRAF,\n    isClientSide,\n    debounceOnServer,\n    forceUpdate,\n  ]);\n\n  // Store reference to debounced function for cleanup\n  debouncedRef.current = debounced;\n\n  useEffect(() => {\n    mounted.current = true;\n    return () => {\n      if (flushOnExit) {\n        debouncedRef.current.flush();\n      }\n      if (visibilityListener.current) {\n        global.document?.removeEventListener?.(\n          'visibilitychange',\n          visibilityListener.current\n        );\n        visibilityListener.current = null;\n      }\n      mounted.current = false;\n    };\n  }, [flushOnExit]);\n\n  return debounced;\n}\n","import { useCallback, useRef, useState } from 'react';\nimport useDebouncedCallback, { DebouncedState } from './useDebouncedCallback';\n\nfunction valueEquality<T>(left: T, right: T): boolean {\n  return left === right;\n}\n\nexport default function useDebounce<T>(\n  value: T,\n  delay: number,\n  options?: {\n    maxWait?: number;\n    leading?: boolean;\n    trailing?: boolean;\n    equalityFn?: (left: T, right: T) => boolean;\n  }\n): [T, DebouncedState<(value: T) => void>] {\n  const eq = (options && options.equalityFn) || valueEquality;\n\n  const activeValue = useRef(value);\n  const [, forceUpdate] = useState({});\n  const debounced = useDebouncedCallback(\n    useCallback(\n      (value: T) => {\n        activeValue.current = value;\n        forceUpdate({});\n      },\n      [forceUpdate]\n    ),\n    delay,\n    options,\n    forceUpdate\n  );\n  const previousValue = useRef(value);\n\n  if (!eq(previousValue.current, value)) {\n    debounced(value);\n    previousValue.current = value;\n  }\n\n  return [activeValue.current as T, debounced];\n}\n","import { useMutation } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport { useEditKeyValueTagsModal } from '../../../../common/hooks/useEditKeyValueTagsModal';\nimport { RegisteredPromptsApi } from '../api';\nimport { RegisteredPrompt } from '../types';\nimport { useCallback } from 'react';\nimport { diffCurrentAndNewTags, isUserFacingTag } from '../../../../common/utils/TagUtils';\n\ntype UpdateTagsPayload = {\n  promptId: string;\n  toAdd: { key: string; value: string }[];\n  toDelete: { key: string }[];\n};\n\nexport const useUpdateRegisteredPromptTags = ({ onSuccess }: { onSuccess?: () => void }) => {\n  const updateMutation = useMutation<unknown, Error, UpdateTagsPayload>({\n    mutationFn: async ({ toAdd, toDelete, promptId }) => {\n      return Promise.all([\n        ...toAdd.map(({ key, value }) => RegisteredPromptsApi.setRegisteredPromptTag(promptId, key, value)),\n        ...toDelete.map(({ key }) => RegisteredPromptsApi.deleteRegisteredPromptTag(promptId, key)),\n      ]);\n    },\n  });\n\n  const { EditTagsModal, showEditTagsModal, isLoading } = useEditKeyValueTagsModal<\n    Pick<RegisteredPrompt, 'name' | 'tags'>\n  >({\n    valueRequired: true,\n    saveTagsHandler: (prompt, currentTags, newTags) => {\n      const { addedOrModifiedTags, deletedTags } = diffCurrentAndNewTags(currentTags, newTags);\n\n      return new Promise<void>((resolve, reject) => {\n        if (!prompt.name) {\n          return reject();\n        }\n        // Send all requests to the mutation\n        updateMutation.mutate(\n          {\n            promptId: prompt.name,\n            toAdd: addedOrModifiedTags,\n            toDelete: deletedTags,\n          },\n          {\n            onSuccess: () => {\n              resolve();\n              onSuccess?.();\n            },\n            onError: reject,\n          },\n        );\n      });\n    },\n  });\n\n  const showEditPromptTagsModal = useCallback(\n    (prompt: RegisteredPrompt) =>\n      showEditTagsModal({\n        name: prompt.name,\n        tags: prompt.tags.filter((tag) => isUserFacingTag(tag.key)),\n      }),\n    [showEditTagsModal],\n  );\n\n  return { EditTagsModal, showEditPromptTagsModal, isLoading };\n};\n","import { Typography } from '@databricks/design-system';\nimport { ColumnDef } from '@tanstack/react-table';\nimport { FormattedMessage } from 'react-intl';\n\nexport const PromptsListTableVersionCell: ColumnDef<any>['cell'] = ({ row: { original }, getValue }) => {\n  const version = getValue<string>();\n\n  if (!version) {\n    return null;\n  }\n  return (\n    <Typography.Text>\n      <FormattedMessage\n        defaultMessage=\"Version {version}\"\n        description=\"Label for the version of a registered prompt in the registered prompts table\"\n        values={{\n          version,\n        }}\n      />\n    </Typography.Text>\n  );\n};\n","import { DangerIcon, Empty } from '@databricks/design-system';\nimport { FormattedMessage } from 'react-intl';\nimport { ScrollablePageWrapper } from '../../../../common/components/ScrollablePageWrapper';\n\nexport const PromptPageErrorHandler = ({ error }: { error?: Error }) => {\n  return (\n    <ScrollablePageWrapper css={{ flex: 1, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n      <Empty\n        data-testid=\"fallback\"\n        title={\n          <FormattedMessage\n            defaultMessage=\"Error\"\n            description=\"Title for error fallback component in prompts management UI\"\n          />\n        }\n        description={\n          error?.message ?? (\n            <FormattedMessage\n              defaultMessage=\"An error occurred while rendering this component.\"\n              description=\"Description for default error message in prompts management UI\"\n            />\n          )\n        }\n        image={<DangerIcon />}\n      />\n    </ScrollablePageWrapper>\n  );\n};\n","import { useQuery, QueryFunctionContext } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport { useCallback, useRef, useState } from 'react';\nimport { RegisteredPromptsListResponse } from '../types';\nimport { RegisteredPromptsApi } from '../api';\n\nconst queryFn = ({ queryKey }: QueryFunctionContext<PromptsListQueryKey>) => {\n  const [, { searchFilter, pageToken }] = queryKey;\n  return RegisteredPromptsApi.listRegisteredPrompts(searchFilter, pageToken);\n};\n\ntype PromptsListQueryKey = ['prompts_list', { searchFilter?: string; pageToken?: string }];\n\nexport const usePromptsListQuery = ({\n  searchFilter,\n}: {\n  searchFilter?: string;\n} = {}) => {\n  const previousPageTokens = useRef<(string | undefined)[]>([]);\n\n  const [currentPageToken, setCurrentPageToken] = useState<string | undefined>(undefined);\n\n  const queryResult = useQuery<\n    RegisteredPromptsListResponse,\n    Error,\n    RegisteredPromptsListResponse,\n    PromptsListQueryKey\n  >(['prompts_list', { searchFilter, pageToken: currentPageToken }], {\n    queryFn,\n    retry: false,\n  });\n\n  const onNextPage = useCallback(() => {\n    previousPageTokens.current.push(currentPageToken);\n    setCurrentPageToken(queryResult.data?.next_page_token);\n  }, [queryResult.data?.next_page_token, currentPageToken]);\n\n  const onPreviousPage = useCallback(() => {\n    const previousPageToken = previousPageTokens.current.pop();\n    setCurrentPageToken(previousPageToken);\n  }, []);\n\n  return {\n    data: queryResult.data?.registered_models,\n    error: queryResult.error ?? undefined,\n    isLoading: queryResult.isLoading,\n    hasNextPage: queryResult.data?.next_page_token !== undefined,\n    hasPreviousPage: Boolean(currentPageToken),\n    onNextPage,\n    onPreviousPage,\n    refetch: queryResult.refetch,\n  };\n};\n","import { TableFilterInput, TableFilterLayout } from '@databricks/design-system';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { ModelSearchInputHelpTooltip } from '../../../../model-registry/components/model-list/ModelListFilters';\n\nexport const PromptsListFilters = ({\n  searchFilter,\n  onSearchFilterChange,\n}: {\n  searchFilter: string;\n  onSearchFilterChange: (searchFilter: string) => void;\n}) => {\n  return (\n    <TableFilterLayout>\n      <TableFilterInput\n        placeholder=\"Search prompts by name\"\n        componentId=\"mlflow.prompts.list.search\"\n        value={searchFilter}\n        onChange={(e) => onSearchFilterChange(e.target.value)}\n        // TODO: Add this back once we support searching with tags\n        // suffix={<ModelSearchInputHelpTooltip exampleEntityName=\"my-prompt-name\" />}\n      />\n    </TableFilterLayout>\n  );\n};\n","import { ColumnDef } from '@tanstack/react-table';\nimport { RegisteredPrompt } from '../types';\nimport { Button, PencilIcon } from '@databricks/design-system';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { isUserFacingTag } from '../../../../common/utils/TagUtils';\nimport { PromptsTableMetadata } from '../utils';\nimport { KeyValueTag } from '../../../../common/components/KeyValueTag';\n\nexport const PromptsListTableTagsCell: ColumnDef<RegisteredPrompt>['cell'] = ({\n  row: { original },\n  table: {\n    options: { meta },\n  },\n}) => {\n  const intl = useIntl();\n\n  const { onEditTags } = meta as PromptsTableMetadata;\n\n  const visibleTagList = original?.tags?.filter((tag) => isUserFacingTag(tag.key)) || [];\n  const containsTags = visibleTagList.length > 0;\n\n  return (\n    <div css={{ display: 'flex' }}>\n      <div css={{ overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap', display: 'flex' }}>\n        {visibleTagList?.map((tag) => (\n          <KeyValueTag key={tag.key} tag={tag} />\n        ))}\n      </div>\n      <Button\n        componentId=\"mlflow.prompts.list.tag.add\"\n        size=\"small\"\n        icon={!containsTags ? undefined : <PencilIcon />}\n        onClick={() => onEditTags?.(original)}\n        aria-label={intl.formatMessage({\n          defaultMessage: 'Edit tags',\n          description: 'Label for the edit tags button in the registered prompts table',\n        })}\n        children={\n          !containsTags ? (\n            <FormattedMessage\n              defaultMessage=\"Add tags\"\n              description=\"Label for the add tags button in the registered prompts table\"\n            />\n          ) : undefined\n        }\n        css={{\n          flexShrink: 0,\n          opacity: 0,\n          '[role=row]:hover &': {\n            opacity: 1,\n          },\n          '[role=row]:focus-within &': {\n            opacity: 1,\n          },\n        }}\n        type=\"tertiary\"\n      />\n    </div>\n  );\n};\n","import { ColumnDef } from '@tanstack/react-table';\nimport { Link } from '../../../../common/utils/RoutingUtils';\nimport Routes from '../../../routes';\nimport { RegisteredPrompt } from '../types';\n\nexport const PromptsListTableNameCell: ColumnDef<RegisteredPrompt>['cell'] = ({ row: { original }, getValue }) => {\n  const name = getValue<string>();\n\n  if (!original.name) {\n    return name;\n  }\n  return <Link to={Routes.getPromptDetailsPageRoute(encodeURIComponent(original.name))}>{name}</Link>;\n};\n","import {\n  CursorPagination,\n  Empty,\n  NoIcon,\n  Table,\n  TableCell,\n  TableHeader,\n  TableRow,\n  TableSkeletonRows,\n  useDesignSystemTheme,\n} from '@databricks/design-system';\nimport { ColumnDef, flexRender, getCoreRowModel, useReactTable } from '@tanstack/react-table';\nimport { useMemo } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { RegisteredPrompt } from '../types';\nimport { PromptsListTableTagsCell } from './PromptsListTableTagsCell';\nimport { PromptsListTableNameCell } from './PromptsListTableNameCell';\nimport Utils from '../../../../common/utils/Utils';\nimport { PromptsListTableVersionCell } from './PromptsListTableVersionCell';\nimport { PromptsTableMetadata } from '../utils';\nimport { first, isEmpty } from 'lodash';\n\ntype PromptsTableColumnDef = ColumnDef<RegisteredPrompt>;\n\nconst usePromptsTableColumns = () => {\n  const intl = useIntl();\n  return useMemo(() => {\n    const resultColumns: PromptsTableColumnDef[] = [\n      {\n        header: intl.formatMessage({\n          defaultMessage: 'Name',\n          description: 'Header for the name column in the registered prompts table',\n        }),\n        accessorKey: 'name',\n        id: 'name',\n        cell: PromptsListTableNameCell,\n      },\n      {\n        header: intl.formatMessage({\n          defaultMessage: 'Latest version',\n          description: 'Header for the latest version column in the registered prompts table',\n        }),\n        cell: PromptsListTableVersionCell,\n        accessorFn: ({ latest_versions }) => first(latest_versions)?.version,\n        id: 'latestVersion',\n      },\n      {\n        header: intl.formatMessage({\n          defaultMessage: 'Last modified',\n          description: 'Header for the last modified column in the registered prompts table',\n        }),\n        id: 'lastModified',\n        accessorFn: ({ last_updated_timestamp }) => Utils.formatTimestamp(last_updated_timestamp, intl),\n      },\n      {\n        header: intl.formatMessage({\n          defaultMessage: 'Tags',\n          description: 'Header for the tags column in the registered prompts table',\n        }),\n        accessorKey: 'tags',\n        id: 'tags',\n        cell: PromptsListTableTagsCell,\n      },\n    ];\n\n    return resultColumns;\n  }, [intl]);\n};\n\nexport const PromptsListTable = ({\n  prompts,\n  hasNextPage,\n  hasPreviousPage,\n  isLoading,\n  isFiltered,\n  onNextPage,\n  onPreviousPage,\n  onEditTags,\n}: {\n  prompts?: RegisteredPrompt[];\n  error?: Error;\n  hasNextPage: boolean;\n  hasPreviousPage: boolean;\n  isLoading?: boolean;\n  isFiltered?: boolean;\n  onNextPage: () => void;\n  onPreviousPage: () => void;\n  onEditTags: (editedEntity: RegisteredPrompt) => void;\n}) => {\n  const { theme } = useDesignSystemTheme();\n  const columns = usePromptsTableColumns();\n\n  const table = useReactTable({\n    data: prompts ?? [],\n    columns,\n    getCoreRowModel: getCoreRowModel(),\n    getRowId: (row, index) => row.name ?? index.toString(),\n    meta: { onEditTags } satisfies PromptsTableMetadata,\n  });\n\n  const getEmptyState = () => {\n    const isEmptyList = !isLoading && isEmpty(prompts);\n    if (isEmptyList && isFiltered) {\n      return (\n        <Empty\n          image={<NoIcon />}\n          title={\n            <FormattedMessage\n              defaultMessage=\"No prompts found\"\n              description=\"Label for the empty state in the prompts table when no prompts are found\"\n            />\n          }\n          description={null}\n        />\n      );\n    }\n    if (isEmptyList) {\n      return (\n        <Empty\n          title={\n            <FormattedMessage\n              defaultMessage=\"No prompts created\"\n              description=\"A header for the empty state in the prompts table\"\n            />\n          }\n          description={\n            <FormattedMessage\n              defaultMessage='Use \"Create prompt\" button in order to create a new prompt'\n              description=\"Guidelines for the user on how to create a new prompt in the prompts list page\"\n            />\n          }\n        />\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <Table\n      scrollable\n      pagination={\n        <CursorPagination\n          hasNextPage={hasNextPage}\n          hasPreviousPage={hasPreviousPage}\n          onNextPage={onNextPage}\n          onPreviousPage={onPreviousPage}\n          componentId=\"mlflow.prompts.list.pagination\"\n        />\n      }\n      empty={getEmptyState()}\n    >\n      <TableRow isHeader>\n        {table.getLeafHeaders().map((header) => (\n          <TableHeader componentId=\"mlflow.prompts.list.table.header\" key={header.id}>\n            {flexRender(header.column.columnDef.header, header.getContext())}\n          </TableHeader>\n        ))}\n      </TableRow>\n      {isLoading ? (\n        <TableSkeletonRows table={table} />\n      ) : (\n        table.getRowModel().rows.map((row) => (\n          <TableRow key={row.id} css={{ height: theme.general.buttonHeight }}>\n            {row.getAllCells().map((cell) => (\n              <TableCell key={cell.id} css={{ alignItems: 'center' }}>\n                {flexRender(cell.column.columnDef.cell, cell.getContext())}\n              </TableCell>\n            ))}\n          </TableRow>\n        ))\n      )}\n    </Table>\n  );\n};\n","import { ScrollablePageWrapper } from '@mlflow/mlflow/src/common/components/ScrollablePageWrapper';\nimport { usePromptsListQuery } from './hooks/usePromptsListQuery';\nimport { Alert, Button, Header, Spacer } from '@databricks/design-system';\nimport { FormattedMessage } from 'react-intl';\nimport { useState } from 'react';\nimport { PromptsListFilters } from './components/PromptsListFilters';\nimport { PromptsListTable } from './components/PromptsListTable';\nimport { useUpdateRegisteredPromptTags } from './hooks/useUpdateRegisteredPromptTags';\nimport { CreatePromptModalMode, useCreatePromptModal } from './hooks/useCreatePromptModal';\nimport Routes from '../../routes';\nimport { useNavigate } from '../../../common/utils/RoutingUtils';\nimport { withErrorBoundary } from '../../../common/utils/withErrorBoundary';\nimport ErrorUtils from '../../../common/utils/ErrorUtils';\nimport { PromptPageErrorHandler } from './components/PromptPageErrorHandler';\nimport { useDebounce } from 'use-debounce';\n\nconst PromptsPage = () => {\n  const [searchFilter, setSearchFilter] = useState('');\n  const navigate = useNavigate();\n\n  const [debouncedSearchFilter] = useDebounce(searchFilter, 500);\n\n  const { data, error, refetch, hasNextPage, hasPreviousPage, isLoading, onNextPage, onPreviousPage } =\n    usePromptsListQuery({ searchFilter: debouncedSearchFilter });\n\n  const { EditTagsModal, showEditPromptTagsModal } = useUpdateRegisteredPromptTags({ onSuccess: refetch });\n  const { CreatePromptModal, openModal: openCreateVersionModal } = useCreatePromptModal({\n    mode: CreatePromptModalMode.CreatePrompt,\n    onSuccess: ({ promptName }) => navigate(Routes.getPromptDetailsPageRoute(promptName)),\n  });\n\n  return (\n    <ScrollablePageWrapper css={{ overflow: 'hidden', display: 'flex', flexDirection: 'column' }}>\n      <Spacer shrinks={false} />\n      <Header\n        title={<FormattedMessage defaultMessage=\"Prompts\" description=\"Header title for the registered prompts page\" />}\n        buttons={\n          <Button componentId=\"mlflow.prompts.list.create\" type=\"primary\" onClick={openCreateVersionModal}>\n            <FormattedMessage\n              defaultMessage=\"Create prompt\"\n              description=\"Label for the create prompt button on the registered prompts page\"\n            />\n          </Button>\n        }\n      />\n      <Spacer shrinks={false} />\n      <div css={{ flex: 1, display: 'flex', flexDirection: 'column', overflow: 'hidden' }}>\n        <PromptsListFilters searchFilter={searchFilter} onSearchFilterChange={setSearchFilter} />\n        {error?.message && (\n          <>\n            <Alert type=\"error\" message={error.message} componentId=\"mlflow.prompts.list.error\" closable={false} />\n            <Spacer />\n          </>\n        )}\n        <PromptsListTable\n          prompts={data}\n          error={error}\n          hasNextPage={hasNextPage}\n          hasPreviousPage={hasPreviousPage}\n          isLoading={isLoading}\n          isFiltered={Boolean(searchFilter)}\n          onNextPage={onNextPage}\n          onPreviousPage={onPreviousPage}\n          onEditTags={showEditPromptTagsModal}\n        />\n      </div>\n      {EditTagsModal}\n      {CreatePromptModal}\n    </ScrollablePageWrapper>\n  );\n};\n\nexport default withErrorBoundary(ErrorUtils.mlflowServices.EXPERIMENTS, PromptsPage, undefined, PromptPageErrorHandler);\n"],"names":["c","e","u","i","l","a","r","o","f","v","d","m","s","g","h","x","E","current","b","window","p","TypeError","y","leading","w","trailing","O","flushOnExit","F","L","debounceOnServer","A","Math","max","maxWait","D","n","t","apply","cancelAnimationFrame","requestAnimationFrame","setTimeout","Date","now","min","S","slice","call","arguments","global","document","visibilityState","flush","addEventListener","cancel","clearTimeout","isPending","removeEventListener","equalityFn","useUpdateRegisteredPromptTags","onSuccess","updateMutation","useMutation","mutationFn","async","toAdd","toDelete","promptId","Promise","all","map","key","value","RegisteredPromptsApi","setRegisteredPromptTag","deleteRegisteredPromptTag","EditTagsModal","showEditTagsModal","isLoading","useEditKeyValueTagsModal","valueRequired","saveTagsHandler","prompt","currentTags","newTags","addedOrModifiedTags","deletedTags","diffCurrentAndNewTags","resolve","reject","name","mutate","onError","showEditPromptTagsModal","useCallback","tags","filter","tag","isUserFacingTag","PromptsListTableVersionCell","row","original","getValue","version","_jsx","Typography","Text","children","FormattedMessage","id","defaultMessage","values","_ref","styles","PromptPageErrorHandler","error","_error$message","ScrollablePageWrapper","css","Empty","title","description","message","image","DangerIcon","queryFn","queryKey","searchFilter","pageToken","listRegisteredPrompts","PromptsListFilters","onSearchFilterChange","TableFilterLayout","TableFilterInput","placeholder","componentId","onChange","target","_ref2","_ref3","PromptsListTableTagsCell","table","options","meta","_original$tags","intl","useIntl","onEditTags","visibleTagList","containsTags","length","_jsxs","KeyValueTag","Button","size","icon","PencilIcon","undefined","onClick","formatMessage","type","PromptsListTableNameCell","Link","to","Routes","getPromptDetailsPageRoute","encodeURIComponent","PromptsListTable","prompts","hasNextPage","hasPreviousPage","isFiltered","onNextPage","onPreviousPage","theme","useDesignSystemTheme","columns","usePromptsTableColumns","useMemo","header","accessorKey","cell","accessorFn","latest_versions","_first","first","last_updated_timestamp","Utils","formatTimestamp","useReactTable","data","getCoreRowModel","getRowId","index","_row$name","toString","Table","scrollable","pagination","CursorPagination","empty","getEmptyState","isEmptyList","isEmpty","NoIcon","TableRow","isHeader","getLeafHeaders","TableHeader","flexRender","column","columnDef","getContext","TableSkeletonRows","getRowModel","rows","_css","height","general","buttonHeight","getAllCells","TableCell","withErrorBoundary","ErrorUtils","mlflowServices","EXPERIMENTS","PromptsPage","setSearchFilter","useState","navigate","useNavigate","debouncedSearchFilter","useDebounce","refetch","usePromptsListQuery","_queryResult$data2","_queryResult$data3","_queryResult$error","_queryResult$data4","previousPageTokens","useRef","currentPageToken","setCurrentPageToken","queryResult","useQuery","retry","_queryResult$data","push","next_page_token","previousPageToken","pop","registered_models","Boolean","CreatePromptModal","openModal","openCreateVersionModal","useCreatePromptModal","mode","CreatePromptModalMode","CreatePrompt","promptName","Spacer","shrinks","Header","buttons","_Fragment","Alert","closable"],"ignoreList":[],"sourceRoot":""}