[build-system]
requires = ["setuptools>=61.0"]
build-backend = "setuptools.build_meta"

[project]
name = "openghg_inversions"
version = "0.6.0"

authors = [{name = "Eric Saboya", email = "eric.saboya@bristol.ac.uk"}]
maintainers = [{name = "Brendan Murphy", email = "brendan.murphy@bristol.ac.uk"}]
license = {file = "LICENSE"}
classifiers = [
    "Programming Language :: Python :: 3",
    "License :: OSI Approved :: MIT License",
    "Operating System :: OS Independent",
]
description = "OpenGHG Inversions"
readme = "README.md"
requires-python = ">=3.10"
dependencies = [
    "numpy>=2.0",
    # Explicit pin: prevents uv backtracking to numba 0.53 / llvmlite 0.36
    # due to NumPy 2.x + sparse metadata lag
    "numba>=0.59",
    "pymc",
    "numpyro[cpu]",
    "xarray>=2025.06.0",
    "pandas",
    "matplotlib",
    "scipy", 
    "numpy",
    "openghg",
    "sparse",
    "flox",
    "opt_einsum",
]

[project.urls]
"Home" = "https://github.com/openghg/openghg_inversions"
"Bug Tracker" = "https://github.com/openghg/openghg_inversions/issues"

[tool.setuptools.packages.find]
where = ["."]

[tool.setuptools.package-data]
openghg_inversions = [
    "data/*",
    "basis/*.nc",
    "basis/algorithms/*.nc", 
    "postprocessing/*.cdl",
    "postprocessing/*.json",
    "hbmcmc/config/*.ini"
]

[tool.black]
line-length = 110
target-version = ["py310"]

[tool.pytest.ini_options]
minversion = "6.0"
testpaths = ["tests"]
