{
  "$schema": "https://specs.frictionlessdata.io/schemas/table-schema.json",
  "fields": [
    {
      "name": "package_name",
      "type": "string",
      "title": "Package Name",
      "description": "Name of the package",
      "constraints": {
        "required": true,
        "minLength": 1
      }
    },
    {
      "name": "dependency_type",
      "type": "string",
      "title": "Dependency Type",
      "description": "Whether this is a production or development dependency",
      "constraints": {
        "required": true,
        "enum": ["production", "development"]
      }
    },
    {
      "name": "is_optional_dependency",
      "type": "boolean",
      "title": "Is Optional Dependency",
      "description": "Whether this is a development/optional dependency",
      "trueValues": ["true"],
      "falseValues": ["false"],
      "constraints": {
        "required": true
      }
    },
    {
      "name": "installed_version",
      "type": "string",
      "title": "Installed Version",
      "description": "Currently installed version",
      "constraints": {
        "required": true,
        "minLength": 1
      }
    },
    {
      "name": "latest_version",
      "type": "string",
      "title": "Latest Version",
      "description": "Latest available version from registry",
      "constraints": { 
        "pattern": "^(?:[0-9]+\\.[0-9]+\\.[0-9]+(?:[-.][0-9A-Za-z-]+(?:\\.[0-9A-Za-z-]+)*)?(?:\\+[0-9A-Za-z-]+(?:\\.[0-9A-Za-z-]+)*)?|[0-9]+(?:\\.[0-9]+)*(?:[a-zA-Z][a-zA-Z0-9_.-]*)?)$"
      }
    },
    {
      "name": "time_lag_days",
      "type": "integer",
      "title": "Time Lag (Days)",
      "description": "Days between installed and latest version release",
      "constraints": {
        "minimum": 0
      }
    },
    {
      "name": "releases_lag",
      "type": "integer",
      "title": "Releases Lag",
      "description": "Number of releases between installed and latest",
      "constraints": {
        "minimum": 0
      }
    },
    {
      "name": "cve_count",
      "type": "integer",
      "title": "CVE Count",
      "description": "Number of known CVEs for this package",
      "constraints": {
        "required": true,
        "minimum": 0
      }
    }
  ],
  "primaryKey": ["package_name"],
  "missingValues": [""]
}
