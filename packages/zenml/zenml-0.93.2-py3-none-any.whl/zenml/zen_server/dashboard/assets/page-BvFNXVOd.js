import{j as e,aB as x}from"./@radix-Da0HZyg8.js";import{a as h}from"./@monaco-editor-xs6rrDBC.js";import{u as S,t as b,F as j}from"./@zod-yP6IINRw.js";import{P as y,a as i,b as v}from"./react-resizable-panels.browser-BzyjP_NZ.js";import{S as g,A as k,a as N,f as _,C as w}from"./schema-DWsyBQf9.js";import{r as m,x as C,y as z}from"./index-5CE1yoTL.js";import{s as P}from"./index-DBB4a7BM.js";import{u as T}from"./create-stack-CF3lJBA7.js";import{e as F}from"./@tanstack-BRZ8pkCt.js";import{c as M}from"./@react-router-BEwS6i40.js";import"./@elkjs-D2DP-mPJ.js";import"./ComponentIcon-B7M5n_Xi.js";import"./bar-chart-square-check-DzUJ9YmH.js";import"./layout-2GM5rzX8.js";import"./transform-pqykL0RU.js";import"./constants-Dj_C1ZPH.js";import"./common-BrpKozbR.js";import"./flavor-select-CiCagRUR.js";import"./index-p-TDI5a2.js";import"./configuration-form-BwRgv-aT.js";import"./form-BPcAENG-.js";import"./check-DSoixTtU.js";import"./CodeSnippet-BTWWMvCC.js";import"./file-text-B3rACLpg.js";import"./sharedSchema-g4P6EjKg.js";import"./index.es-BLCCg0nE.js";import"./@reactflow-CEST3EX2.js";import"./stack-detail-query-D9Y3CiUb.js";function R(){return e.jsxs("div",{className:"flex h-full flex-col justify-between space-y-5",children:[e.jsxs("div",{className:"space-y-5 p-5",children:[e.jsx(g,{}),e.jsx(k,{})]}),e.jsx(N,{cancelRoute:m.stacks.create.index,submitLabel:"Register Stack"})]})}function A(){const{toast:a}=C(),o=M(),s=F(),r=T({onSuccess:async()=>{s.invalidateQueries({queryKey:P.all}),o(m.stacks.overview)},onError:t=>{a({status:"error",emphasis:"subtle",icon:e.jsx(z,{className:"h-5 w-5 shrink-0 fill-error-700"}),description:t.message,rounded:!0})}});function c(t){const d=Object.entries(t.components).reduce((l,[f,n])=>(n&&(l[f]=[n.id]),l),{}),p={name:t.stackName,components:d};r.mutate({payload:p})}const u=S({resolver:b(_()),defaultValues:{components:{alerter:null,orchestrator:{},annotator:null,artifact_store:{},container_registry:null,data_validator:null,experiment_tracker:null,feature_store:null,model_registry:null,image_builder:null,model_deployer:null,step_operator:null,deployer:null,log_store:null},stackName:""}});return{createManualStack:c,form:u}}function me(){const[a,o]=h.useState(""),{createManualStack:s,form:r}=A();return e.jsx(j,{...r,children:e.jsx(x,{value:a,onValueChange:o,className:"flex-1 overflow-hidden",children:e.jsx("form",{onSubmit:r.handleSubmit(s),className:"h-full",children:e.jsxs(y,{direction:"horizontal",className:"h-full !flex-col md:!flex-row",children:[e.jsx(i,{className:"!overflow-y-auto",defaultSize:50,minSize:33,children:e.jsx(w,{})}),e.jsx(v,{className:"w-[1px] bg-theme-border-moderate transition-colors duration-200 data-[resize-handle-state=drag]:bg-theme-border-bold data-[resize-handle-state=hover]:bg-theme-border-bold"}),e.jsx(i,{className:"!overflow-y-auto bg-theme-surface-primary",defaultSize:50,minSize:33,children:e.jsx(R,{})})]})})})})}export{me as default};
