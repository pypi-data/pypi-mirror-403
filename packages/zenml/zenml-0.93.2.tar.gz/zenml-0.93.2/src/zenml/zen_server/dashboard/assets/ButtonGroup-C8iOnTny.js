import{j as e}from"./@radix-Da0HZyg8.js";import{bt as m,L as a,Q as i,U as d,V as D,W as j,X as f,Y as g,Z as b,O as c,N as R,B as w,R as u}from"./index-5CE1yoTL.js";import{a as h}from"./@monaco-editor-xs6rrDBC.js";import{c as C}from"./helper-BkxAcFl_.js";import{u as y}from"./bulk-delete-VX49K4z6.js";const{ContextProvider:N,useContext:l}=C();function x(){const{setRowSelection:n}=l(),{mutateAsync:s}=m();async function t(r){await s({runId:r})}return y({deleteFn:t,queryKeyToInvalidate:["runs"],setRowSelection:n})}function k({id:n}){const[s,t]=h.useState(!1),{bulkDelete:r}=x();async function o(){await r([n]),t(!1)}return e.jsxs(e.Fragment,{children:[e.jsx(a,{open:s,onOpenChange:t,children:e.jsx(i,{title:"Delete Run",handleDelete:o,children:e.jsxs(d,{children:[e.jsx("p",{children:"Are you sure?"}),e.jsx("p",{children:"This action cannot be undone."})]})})}),e.jsxs(D,{children:[e.jsx(j,{asChild:!0,children:e.jsx(f,{children:e.jsx("span",{className:"sr-only",children:"Open run actions"})})}),e.jsx(g,{align:"end",sideOffset:7,children:e.jsx(b,{onSelect:()=>t(!0),icon:e.jsx(c,{}),children:"Delete"})})]})]})}function v(){const[n,s]=h.useState(!1),{selectedRowCount:t,selectedRowIDs:r}=l(),{bulkDelete:o}=x();async function p(){await o(r),s(!1)}return e.jsxs(a,{open:n,onOpenChange:s,children:[e.jsx(R,{asChild:!0,children:e.jsxs(w,{className:"rounded-sharp border-y-0 bg-white",size:"md",emphasis:"subtle",intent:"secondary",children:[e.jsx(c,{className:"h-5 w-5 shrink-0 gap-1 fill-neutral-400"}),"Delete"]})}),e.jsx(i,{title:`Delete ${u(t,"Run")}`,handleDelete:p,children:e.jsxs(d,{children:[e.jsx("p",{children:"Are you sure?"}),e.jsx("p",{children:"This action cannot be undone."})]})})]})}function I(){const{selectedRowCount:n}=l();return e.jsxs("div",{className:"flex items-center divide-x divide-theme-border-moderate overflow-hidden rounded-md border border-theme-border-moderate",children:[e.jsx("div",{className:"bg-primary-25 px-2 py-1 font-semibold text-theme-text-brand",children:`${n} ${u(n,"Run")} selected`}),e.jsx(v,{})]})}export{N as R,k as a,I as b,l as u};
