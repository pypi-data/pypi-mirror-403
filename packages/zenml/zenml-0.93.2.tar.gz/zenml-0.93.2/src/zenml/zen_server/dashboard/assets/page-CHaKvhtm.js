import{j as s}from"./@radix-Da0HZyg8.js";import{w as g,x as w,I as i,B as N,r as y,y as v,k as b}from"./index-5CE1yoTL.js";import{u as S}from"./login-mutation-DK6KPurH.js";import{z as t,u as I,t as L}from"./@zod-yP6IINRw.js";import{a as c}from"./@monaco-editor-xs6rrDBC.js";import{c as F,f as P}from"./@react-router-BEwS6i40.js";import"./@elkjs-D2DP-mPJ.js";import"./@tanstack-BRZ8pkCt.js";import"./@reactflow-CEST3EX2.js";const E=t.object({username:t.string().min(1),password:t.string().optional()});function A(){const l=F(),{setAuthState:m}=g(),{toast:u}=w(),a=c.useId(),r=c.useId(),[o]=P(),d=o.get("redirect"),x=o.get("username")??void 0,{register:n,handleSubmit:p,formState:{isValid:f}}=I({resolver:L(E),defaultValues:{username:x}}),h=S({onError:e=>{e instanceof Error&&u({status:"error",emphasis:"subtle",icon:s.jsx(v,{className:"h-5 w-5 shrink-0 fill-error-700"}),description:e.message,rounded:!0})},onSuccess:async()=>{m("true"),l(d||y.projects.overview)}});function j(e){h.mutate({username:e.username.trim(),password:e.password})}return s.jsxs("form",{onSubmit:p(j),className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("label",{htmlFor:a,className:"text-text-sm",children:"Username"}),s.jsx(i,{...n("username"),id:a,className:"w-full"})]}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("label",{htmlFor:r,className:"text-text-sm",children:"Password"}),s.jsx(i,{...n("password"),id:r,type:"password",className:"w-full"})]})]}),s.jsx(N,{disabled:!f,className:"w-full text-center",size:"md",children:s.jsx("span",{className:"w-full",children:"Login"})})]})}function Z(){return s.jsxs(b,{className:"flex w-full max-w-[540px] flex-col gap-5 p-7",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-0.5 text-display-xs font-semibold",children:"Log in to your account"}),s.jsx("p",{className:"text-theme-text-secondary",children:"Please, fill in your details to log in to your ZenML account."})]}),s.jsx(A,{})]})}export{Z as default};
