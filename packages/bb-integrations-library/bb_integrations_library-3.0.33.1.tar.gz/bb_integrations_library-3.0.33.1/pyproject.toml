[build-system]
requires = ["uv_build>=0.9.21,<0.10.0"]
build-backend = "uv_build"

[tool.uv.build-backend]
module-name = "bb_integrations_lib"
module-root = ""

[project]
name = "bb-integrations-library"
version = "3.0.33.1"
authors = [
    {name = "Alejandro Jordan", email = "ajordan@capspire.com"},
    {name = "Ben Allen", email = "ben.allen@capspire.com"},
    {name = "Nicholas De Nova", email = "nicholas.denova@gravitate.energy"},
    {name = "Kira Threlfall", email = "kira.threlfall@gravitate.energy"}
]
description = "Provides common logic for all types of integration jobs."
readme = "README.md"
requires-python = ">=3.11"
dependencies = [
    "boto3",
    "email-validator",
    "fastapi",
    "google-cloud-run",
    "google-cloud-secret-manager",
    "google-cloud-storage",
    "google-cloud-tasks",
    "httpx",
    "loguru",
    "openpyxl",
    "pandas",
    "pydantic",
    "pymongo",
    "python-dotenv",
    "sqlalchemy",
    "pyodbc",
    "more-itertools",
    "async-lru",
    "pydantic-xml[lxml]>=2.17.0",
    "tenacity>=9.1.2",
    "faststream[kafka]>=0.5.42",
    "datamodel-code-generator>=0.31.2",
    "paramiko>=3.5.1",
    "pandas-gbq>=0.29.2",
    "polars>=1.35.1",
    "onepasswordconnectsdk>=2.0.0",
    "gcloud-aio-storage>=9.6.1",
    "injegg>=0.1.3",
    "babel>=2.17.0",
]

[dependency-groups]
dev = [
    "pytest>=8.4.1",
    "pytest-asyncio>=1.1.0",
    "pytest-cov>=6.2.1",
    "pytest-mock>=3.15.1",
]

[tool.pytest.ini_options]
asyncio_mode = "auto"
testpaths = ["tests"]

[tool.setuptools.packages.find]
where = ["."]
include = ["bb_integrations_lib*"]

[tool.setuptools.package-data]
bb_integrations_lib = ["*.txt", "*.md"]

