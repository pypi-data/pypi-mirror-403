Metadata-Version: 2.4
Name: iching-divination
Version: 1.0.0
Summary: æ˜“ç»è§£å¦ - Three-Coin IChing Divination Calculator
Project-URL: Homepage, https://github.com/leether/iching-divination
Project-URL: Repository, https://github.com/leether/iching-divination
Project-URL: Issues, https://github.com/leether/iching-divination/issues
Author-email: leether <your.email@example.com>
License: MIT
License-File: LICENSE
Keywords: divination,iching,ä¸‰ç¡¬å¸,æ˜“ç»,èµ·å¦
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: End Users/Desktop
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Religion
Classifier: Topic :: Utilities
Requires-Python: >=3.8
Provides-Extra: dev
Requires-Dist: mypy>=1.0; extra == 'dev'
Requires-Dist: pytest-cov>=4.0; extra == 'dev'
Requires-Dist: pytest>=7.0; extra == 'dev'
Description-Content-Type: text/markdown

# IChing Divination | æ˜“ç»è§£å¦

[![CI](https://github.com/leether/iching-divination/actions/workflows/ci.yml/badge.svg)](https://github.com/leether/iching-divination/actions)
[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![PyPI](https://img.shields.io/badge/pypi-v1.0.0-blue.svg)](https://pypi.org/project/iching-divination/)

A Python implementation of the **Three-Coin Divination** method (ä¸‰ç¡¬å¸èµ·å¦æ³•) from the I Ching (æ˜“ç») - the ancient Chinese Book of Changes.

æ˜“ç»ä¸‰ç¡¬å¸èµ·å¦æ³•çš„ Python å®ç°ï¼Œæä¾›å‡†ç¡®çš„å¦è±¡è®¡ç®—ã€‚

---

## âœ¨ Features | ç‰¹æ€§

- ğŸ¯ **Accurate Calculation**: Precise implementation of traditional divination rules
- ğŸ **Pure Python**: No external dependencies, Python 3.8+
- ğŸ”§ **CLI & API**: Use as command-line tool or Python library
- ğŸ§ª **Well Tested**: Comprehensive test suite with 100% core logic coverage
- ğŸ“š **Complete**: Supports all 64 hexagrams (å…­åå››å¦)
- ğŸŒ **Bilingual**: Documentation in English and Chinese

---

## ğŸš€ Quick Start | å¿«é€Ÿå¼€å§‹

### Installation | å®‰è£…

```bash
# Clone the repository
git clone https://github.com/leether/iching-divination.git
cd iching-divination

# Run setup
./setup.sh
```

Or simply use directly without installation:

```bash
python3 iching_divination/divine.py 687766
```

### CLI Usage | å‘½ä»¤è¡Œä½¿ç”¨

```bash
# Basic usage
./divine 687766

# Or with python
python3 iching_divination/divine.py 687766
```

**Example Output:**

```
==================================================
â˜¯ IChing Divination Result
==================================================

ğŸ“Š Input: [6, 8, 7, 7, 6, 6]

Yao Analysis:
  åˆçˆ» (1st): 6 â†’ âš‹ (Old Yin) ğŸ”¥ Moving
  äºŒçˆ» (2nd): 8 â†’ âš‹ (Young Yin)
  ä¸‰çˆ» (3rd): 7 â†’ âšŠ (Young Yang)
  å››çˆ» (4th): 7 â†’ âšŠ (Young Yang)
  äº”çˆ» (5th): 6 â†’ âš‹ (Old Yin) ğŸ”¥ Moving
  ä¸Šçˆ» (6th): 6 â†’ âš‹ (Old Yin) ğŸ”¥ Moving

--------------------------------------------------
ğŸ“œ Original Hexagram (æœ¬å¦)
--------------------------------------------------
  Lower Trigram: è‰® (Mountain)
  Upper Trigram: éœ‡ (Thunder)
  Name: é›·å±±å°è¿‡ (XiÇo GuÃ² / Small Excess)

--------------------------------------------------
ğŸ”„ Changed Hexagram (å˜å¦)
--------------------------------------------------
  Lower Trigram: ç¦» (Fire)
  Upper Trigram: ä¹¾ (Heaven)
  Name: å¤©ç«åŒäºº (TÃ³ng RÃ©n / Fellowship)

  Moving Yaos: åˆçˆ», äº”çˆ», ä¸Šçˆ»
==================================================
```

### Python API | Python æ¥å£

```python
from scripts.divine import calculate_hexagram

# Calculate hexagram
result = calculate_hexagram([6, 8, 7, 7, 6, 6])

print(result['ben_gua'])    # é›·å±±å°è¿‡
print(result['bian_gua'])   # å¤©ç«åŒäºº
print(result['moving_yaos']) # ['åˆçˆ»', 'äº”çˆ»', 'ä¸Šçˆ»']
```

---

## ğŸ“– Three-Coin Method | ä¸‰ç¡¬å¸èµ·å¦æ³•

### The Process | èµ·å¦è¿‡ç¨‹

1. Throw three coins six times | æŠ•æ·ä¸‰æšç¡¬å¸å…­æ¬¡
2. Record results from bottom to top | ä»ä¸‹åˆ°ä¸Šè®°å½•ç»“æœ
3. Convert to numbers | è½¬æ¢ä¸ºæ•°å­—

### Number Meanings | æ•°å­—å«ä¹‰

| Number | Name | Symbol | Yin/Yang | Moving? | Change |
|--------|------|--------|----------|---------|--------|
| **6** | è€é˜´ (Old Yin) | âš‹ | Yin | âœ… Yes | Yin â†’ Yang |
| **7** | å°‘é˜³ (Young Yang) | âšŠ | Yang | âŒ No | - |
| **8** | å°‘é˜´ (Young Yin) | âš‹ | Yin | âŒ No | - |
| **9** | è€é˜³ (Old Yang) | âšŠ | Yang | âœ… Yes | Yang â†’ Yin |

**Memory Aid**: 6 and 9 are "old" (mature/extreme) and therefore change. 7 and 8 are "young" (stable).

### Hexagram Structure | å¦è±¡ç»“æ„

```
ä¸Šçˆ» (6th)        â† Top
äº”çˆ» (5th)
å››çˆ» (4th)        â† Upper Trigram (ä¸Šå¦)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ä¸‰çˆ» (3rd)
äºŒçˆ» (2nd)
åˆçˆ» (1st)        â† Lower Trigram (ä¸‹å¦) â† Bottom
```

**Rule**: First three numbers = Lower Trigram | Last three numbers = Upper Trigram

---

## ğŸ§ª Testing | æµ‹è¯•

```bash
# Run all tests
python3 -m pytest tests/ -v

# Run specific test
python3 -m pytest tests/test_divine.py::TestHexagramCalculation -v
```

---

## ğŸ“š The 64 Hexagrams | å…­åå››å¦

The system includes all 64 hexagrams from the I Ching:

| # | Name | Chinese | Meaning |
|---|------|---------|---------|
| 1 | The Creative | ä¹¾ä¸ºå¤© | Force |
| 2 | The Receptive | å¤ä¸ºåœ° | Field |
| ... | ... | ... | ... |
| 62 | Small Excess | é›·å±±å°è¿‡ | Preponderance of the Small |
| 63 | After Completion | æ°´ç«æ—¢æµ | Already Fulfilled |
| 64 | Before Completion | ç«æ°´æœªæµ | Not Yet Fulfilled |

See [HEXAGRAMS.md](HEXAGRAMS.md) for the complete list.

---

## ğŸ”§ Technical Details | æŠ€æœ¯ç»†èŠ‚

### Algorithm | ç®—æ³•

```
Input: 6 numbers (6,7,8,9)
       â†“
Step 1: Convert to yao symbols
       6,8,7,7,6,6 â†’ âš‹,âš‹,âšŠ,âšŠ,âš‹,âš‹
       â†“
Step 2: Split into trigrams
       Lower: âš‹,âš‹,âšŠ (positions 1-3)
       Upper: âšŠ,âš‹,âš‹ (positions 4-6)
       â†“
Step 3: Lookup trigram names
       Lower âš‹âš‹âšŠ â†’ è‰® (Mountain)
       Upper âšŠâš‹âš‹ â†’ éœ‡ (Thunder)
       â†“
Step 4: Form hexagram
       éœ‡ + è‰® â†’ é›·å±±å°è¿‡ (Small Excess)
       â†“
Step 5: Calculate changed hexagram (if moving yaos exist)
       Moving yaos (6,9) flip yin/yang
       Generate new trigrams and hexagram
```

### Code Quality | ä»£ç è´¨é‡

- Type hints for all functions
- Comprehensive docstrings
- 100% test coverage for core logic
- PEP 8 compliant

---

## ğŸ¤ Contributing | è´¡çŒ®

Contributions are welcome! Please see [CONTRIBUTING.md](CONTRIBUTING.md) for guidelines.

æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [CONTRIBUTING.md](CONTRIBUTING.md) äº†è§£è´¡çŒ®æŒ‡å—ã€‚

### Development Setup | å¼€å‘è®¾ç½®

```bash
# Clone repo
git clone https://github.com/leether/iching-divination.git
cd iching-divination

# Create virtual environment
python3 -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Install dev dependencies
pip install -e ".[dev]"

# Run tests
pytest tests/ -v
```

---

## âš ï¸ Important Notes | é‡è¦è¯´æ˜

### For AI Assistants | ç»™ AI åŠ©æ‰‹çš„æç¤º

> âš ï¸ **WARNING**: When using this tool for divination calculations, **always use the script** - never calculate hexagrams manually!
>
> AI models are prone to errors in:
> - Trigram mapping (e.g., confusing éœ‡ vs è‰®)
> - Yao order (bottom vs top)
> - Hexagram naming
>
> **Always run**: `./divine <numbers>` or `python3 scripts/divine.py <numbers>`

---

## ğŸ“œ License | è®¸å¯è¯

[MIT License](LICENSE) Â© 2025 leether

---

## ğŸ™ Acknowledgments | è‡´è°¢

- The ancient sages who created the I Ching
- The traditional three-coin method practitioners
- All contributors to this project

---

<div align="center">

**[â¬† Back to Top](#iching-divination--æ˜“ç»è§£å¦)**

â˜¯ *May the wisdom of the I Ching guide your path* â˜¯

</div>
