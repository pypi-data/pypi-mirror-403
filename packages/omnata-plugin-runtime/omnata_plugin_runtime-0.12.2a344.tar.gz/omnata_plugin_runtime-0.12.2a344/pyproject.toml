[tool.poetry]
name = "omnata-plugin-runtime"
version = "0.12.2a344"
description = "Classes and common runtime components for building and running Omnata Plugins"
authors = ["James Weakley <james.weakley@omnata.com>"]
readme = "README.md"
packages = [{include = "omnata_plugin_runtime", from = "src"}]

[tool.poetry.dependencies]
python = ">=3.10, <=3.13"
snowflake-snowpark-python = ">=1.20.0,<=1.43.0" # latest version available on Snowflake Anaconda, but allow pinning to 1.20.0 for to_pandas_batches workaround
snowflake-connector-python = "^3, <=4.1.0" # latest version available on Snowflake Anaconda
cryptography = "<=46.0.3"
annotated-types	= "<=0.6.0"
pycparser = "<=2.23"
filelock = "<=3.20.0"
pydantic-core = "<=2.41.5"
# had to relax some of these thanks to snowcli pinning newer versions
certifi	= "<=2025.1.31" # latest version available on Snowflake Anaconda which doesn't break the Snowflake connector
charset-normalizer = "<=3.4.4" # latest version available on Snowflake Anaconda
idna = "<=3.11" # latest version available on Snowflake Anaconda
jinja2 = ">=3.1.2,<=3.1.6" # 3.1.6 was latest version available on Snowflake Anaconda
markupsafe = "<=3.0.2" # latest version available on Snowflake Anaconda
numpy = "<=2.3.5" # latest version available on Snowflake Anaconda
packaging = "<=25.0" # latest version available on Snowflake Anaconda
pandas = "<=2.3.3" # latest version available on Snowflake Anaconda
platformdirs = "<=4.5.0" # latest version available on Snowflake Anaconda
pydantic = "^2, <=2.12.4" # latest version available on Snowflake Anaconda
pyjwt = "<=2.10.1" # latest version available on Snowflake Anaconda
pyopenssl = "<=225.3.0" # latest version available on Snowflake Anaconda
pytz = "<=2025.2" # latest version available on Snowflake Anaconda
requests = "^2, <=2.32.5" # latest version available on Snowflake Anaconda
setuptools = "<=80.9.0" # latest version available on Snowflake Anaconda
tomlkit = "<=0.13.3" # latest version available on Snowflake Anaconda
tenacity = "^8, <=9.1.2" # latest version available on Snowflake Anaconda
urllib3 = "<=2.5.0" # latest version available on Snowflake Anaconda
wheel = "<=0.45.1" # latest version available on Snowflake Anaconda
pyyaml = "<=6.0.3" # latest version available on Snowflake Anaconda
cffi = "<=2.0.0" # latest version available on Snowflake Anaconda
pyarrow = "<=21.0.0" # latest version available on Snowflake Anaconda
wrapt = "<=2.0.1" # latest version available on Snowflake Anaconda
opentelemetry-api = "<=1.38.0" # latest version available on Snowflake Anaconda
snowflake-telemetry-python = "<=0.5.0" # latest version available on Snowflake Anaconda
protobuf = "<=6.33.0" # latest version available on Snowflake Anaconda

[tool.poetry.dev-dependencies]
pytest = "^6.2.4"
deepdiff = "^6"
requests-mock = ">=1.9.3"

[tool.pytest.ini_options]
addopts = ["--import-mode=importlib"]
testpaths = ["tests"]

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"
