##--------------------------------
# general options

instruments: H1L1V1
min-instruments-segments: 1

tag: # FIXME


##--------------------------------
# data product options

paths:
  reference-psd: # FIXME
  # template-bank: bank/H1L1V1-GSTLAL_BBH_TEMPLATE_BANK-0-0.xml.gz

##-----------------------------
# data source options

source:
  data-source: devshm
  channel-name:
    H1: GDS-CALIB_STRAIN_O3Replay
    L1: GDS-CALIB_STRAIN_O3Replay
    V1: Hrec_hoft_16384Hz_O3Replay
  state-channel-name:
    H1: GDS-CALIB_STATE_VECTOR
    L1: GDS-CALIB_STATE_VECTOR
    V1: DQ_ANALYSIS_STATE_VECTOR
  inj-channel-name:
    H1: GDS-CALIB_STRAIN_INJ1_O3Replay
    L1: GDS-CALIB_STRAIN_INJ1_O3Replay
    V1: Hrec_hoft_16384Hz_INJ1_O3Replay
  state-vector-on-bits:
    H1: 483
    L1: 483
    V1: 1027
  shared-memory-dir:
    H1: /dev/shm/kafka/H1_O3ReplayMDC
    L1: /dev/shm/kafka/L1_O3ReplayMDC
    V1: /dev/shm/kafka/V1_O3ReplayMDC
  inj-shared-memory-dir:
    H1: /dev/shm/kafka/H1_O3ReplayMDC
    L1: /dev/shm/kafka/L1_O3ReplayMDC
    V1: /dev/shm/kafka/V1_O3ReplayMDC
  sample-rate: 16384
  source-queue-timeout: 1.3

##--------------------------------
# psd options

psd:
  fft-length: 4
  # sample-rate: 4096 # FIXME is this used?

##--------------------------------
## svd bank options
# FIXME svd dag is not ready yet

svd:
  #   f-low: 15.0
  #   # num-chi-bins: 1
  #   approximant:
  #     - 0:1.73:TaylorF2
  #     - 1.73:1000:SEOBNRv4_ROM
  #   tolerance: 0.99999
  #   max-f-final: 1024.0
  #   num-split-templates: 500
  #   overlap: 50
  #   num-banks: 2
  #   samples-min: 2048
  #   samples-max-64: 2048
  #   samples-max-256: 2048
  #   samples-max: 4096
  #   autocorrelation-length: 351
  #     - 0:15:701
  #     - 15:1e6:351
  #   sort-by: mchirp
  option-file: # FIXME

##--------------------------------
## filtering options

filter:
  coincidence-threshold: 0.005
  # ht-gate-threshold: 0.8:15.0-45.0:100.0
  ht-gate-threshold: 50
  snr-min: 4
  torch-dtype: float32
  torch-device: cpu
  event-config-file: cbc_db.yaml
  snapshot-interval: 14400
  snapshot-delay: 0
  snapshot-multiprocess: True
  injections: True
  min-instruments-candidates: 1

##--------------------------------
## prior options

prior:
  mass-model: # FIXME

##--------------------------------
## ranking options

rank:
  ranking-stat-samples: 4194304
  marginalized-likelihood-file: # FIXME

##--------------------------------
## upload options

upload:
  gracedb-service-url:  # FIXME
  inj-gracedb-service-url:  # FIXME
  gracedb-far-threshold: # FIXME
  gracedb-group: CBC
  gracedb-pipeline: SGNL
  gracedb-search: # FIXME
  inj-gracedb-search: # FIXME
  far-trials-factor: 1
  aggregator-far-trials-factor: 6
  aggregator-far-threshold: 3.8e-7
  aggregator-cadence-type: geometric
  aggregator-cadence-factor: 2
  enable-injection-uploads: True

##--------------------------------
## pastro options

pastro:
  FGMC:
    upload-file: sgnl.p_astro.json
    mass-model: # FIXME

##--------------------------------
## service options

services:
  kafka-server: # FIXME

##--------------------------------
## metric collection options

metrics:
  scald-config: web/inspiral.yml

##--------------------------------
## condor options

condor:
  transfer_files: false
  accounting-group: # FIXME
  accounting-group-user: # FIXME
  directives:
    use_oauth_services: # FIXME
    igwn_oauth_options: # FIXME
  environment:
    PYTHONUNBUFFERED: 1
    HDF5_USE_FILE_LOCKING: 'FALSE'
    BEARER_TOKEN_FILE: # FIXME
    INFLUX_USERNAME: # FIXME
    INFLUX_PASSWORD: # FIXME
    # STRIKE_DATA_PATH: only set this if you are not using a container
  container: # FIXME
