(self.webpackChunkiturtle=self.webpackChunkiturtle||[]).push([[367],{383:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionType=void 0,(n=t.ActionType||(t.ActionType={})).MOVE_ABSOLUTE="M",n.MOVE_RELATIVE="m",n.LINE_ABSOLUTE="L",n.DRAW_DOT="D",n.WRITE_TEXT="W",n.CIRCLE="C",n.SOUND="S",n.CLEAR="CLR",n.UPDATE_STATE="UPDATE_STATE",n.STAMP="STAMP",n.DONE="DONE",n.BEGIN_FILL="BEGIN_FILL",n.END_FILL="END_FILL"},76:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const a=s(n(271)),l=n(666),c=n(383),u=n(914);n(204);const d=n(243),p=n(224),f=n(634),m="http://www.w3.org/2000/svg",b=({resource:e,grid:t})=>{const[n]=u.useModelState("id"),[r]=u.useModelState("bgUrl"),[i]=u.useModelState("height"),[s]=u.useModelState("background"),[o]=u.useModelState("width"),l=a.useRef(null);return a.default.createElement(a.default.Fragment,null,(()=>{var c;if(!r||!e[r])return a.default.createElement(a.default.Fragment,null,a.default.createElement("defs",null,a.default.createElement("pattern",{id:`${n}_grid`,width:"20",height:"20",patternUnits:"userSpaceOnUse"},a.default.createElement("path",{d:"M 0,0 L 20,0 M 0,0 L 0,20",stroke:"gray","stroke-width":"0.3"}))),a.default.createElement("rect",{width:"100%",height:"100%",fill:`${s}`,viewBox:`0 0 ${o+1} ${i+1}`}),t?a.default.createElement("rect",{width:"100%",height:"100%",fill:`url(#${n}_grid)`}):a.default.createElement(a.default.Fragment,null));if(r.startsWith("https"))return a.default.createElement("image",{id:"background-svg",className:"svgInline",href:r,width:`${o}px`});const u=e[r];if("svg"===u.ext){const e=(new DOMParser).parseFromString(u.buffer,"application/xml");return null===(c=l.current)||void 0===c||c.appendChild(e.documentElement),a.default.createElement("svg",{id:"background-svg",xmlns:"http://www.w3.org/2000/svg",width:`${o}px`,ref:l},a.default.createElement("g",{dangerouslySetInnerHTML:{__html:e}}))}return a.default.createElement("image",{id:"background-svg",width:`${o}px`,href:`data:${e[r].type}/${e[r].ext};base64,${e[r].buffer}`})})())};var h;t.default=(h=()=>{const[e]=u.useModelState("id"),[t]=u.useModelState("width"),[n]=u.useModelState("height"),[r]=u.useModelState("actions"),[i]=u.useModelState("resource"),[,s]=u.useModelState("key"),[h,v]=a.useState({}),g=a.useRef(null),[y,E]=a.useState(!0),A=a.useRef(null),_=a.useRef({}),w=a.useRef(null);a.useEffect((()=>{const t=sessionStorage.getItem(e.toString());if(t){const n=JSON.parse(t),r=document.getElementById(`${e}_svgCanvas`);n.forEach((t=>{const n=(0,M[t.type])(t),i=document.getElementById(`${e}_baseline`);i&&n&&r&&r.insertBefore(n,i)}))}}),[e]);const $=e=>{var t;if(!e.media)return;let n;if(null===(t=e.media)||void 0===t?void 0:t.startsWith("http"))g.current&&(g.current.pause(),g.current.src="",g.current.remove()),n=new Audio(e.media),g.current=n;else{const t=i[e.media],r=`data:${t.type}/${t.ext};base64,${t.buffer}`,s=atob(r.split(",")[1]),o=new Array(s.length);for(let e=0;e<s.length;e++)o[e]=s.charCodeAt(e);const a=new Uint8Array(o),l=new Blob([a],{type:"audio/mpeg"}),c=URL.createObjectURL(l);n=new Audio(c),g.current=n}n.play(),n.addEventListener("ended",(()=>{n.src="",g.current&&(g.current.src="",g.current.remove(),g.current=null)}))},M={[c.ActionType.MOVE_ABSOLUTE]:e=>{_.current[e.id]=e.position.slice()},[c.ActionType.MOVE_RELATIVE]:e=>{},[c.ActionType.LINE_ABSOLUTE]:e=>{var r;if(e.pen){if(e.fill_mode&&w.current){const t=w.current.getAttribute("d")||"",[n,r]=e.position;w.current.setAttribute("d",`${t} L ${n},${r}`)}const i=null!==(r=_.current[e.id])&&void 0!==r?r:[t/2,n/2],s=document.createElementNS("http://www.w3.org/2000/svg","line");return s.setAttribute("class",`class${e.id}`),s.setAttribute("x1",`${i[0]}`),s.setAttribute("y1",`${i[1]}`),s.setAttribute("x2",`${e.position[0]}`),s.setAttribute("y2",`${e.position[1]}`),s.setAttribute("stroke-linecap","round"),s.setAttribute("stroke-width",e.pensize.toString()),s.setAttribute("stroke",e.pencolor),_.current[e.id]=e.position.slice(),s}},[c.ActionType.DRAW_DOT]:e=>{const t=document.createElementNS(m,"circle");return t.setAttribute("class",`class${e.id}`),t.setAttribute("cx",`${e.position[0]}`),t.setAttribute("cy",`${e.position[1]}`),t.setAttribute("r",`${e.radius}`),t.setAttribute("stroke",`${e.pencolor}`),t.setAttribute("stroke-width","1"),t.setAttribute("fill",e.pencolor),t},[c.ActionType.WRITE_TEXT]:e=>{var t,n,r;const i=((e,t)=>{if(!e||!t)return 0;const n=document.createDocumentFragment(),r=document.createElement("canvas");n.appendChild(r);const i=r.getContext("2d");return i.font=`${e[2]} ${e[1]}px ${e[0]}`,i.measureText(t).width})(e.font,e.text);console.log("x,y",`${_.current[e.id][0]}, ${_.current[e.id][1]}`),_.current[e.id]=((e,t)=>{if(e.type!==c.ActionType.WRITE_TEXT)throw new Error("invalid argument");switch(e.align){case"left":return[e.position[0],e.position[1]];case"center":return[e.position[0]-t/2,e.position[1]];case"right":return[e.position[0]-t,e.position[1]];default:return[0,0]}})(e,i);const s=document.createElementNS(m,"text");return s.setAttribute("class",`class${e.id}`),s.setAttribute("x",`${_.current[e.id][0]}`),s.setAttribute("y",`${_.current[e.id][1]}`),s.setAttribute("font-family",`${null===(t=e.font)||void 0===t?void 0:t[0]}`),s.setAttribute("font-size",`${null===(n=e.font)||void 0===n?void 0:n[1]}`),s.setAttribute("font-style",`${null===(r=e.font)||void 0===r?void 0:r[2]}`),s.setAttribute("fill",e.pencolor),s.innerHTML=`${e.text}`,s},[c.ActionType.CIRCLE]:e=>{var r;const i=null!==(r=_.current[e.id])&&void 0!==r?r:[t/2,n/2],s=`A ${e.radius},${e.radius} 0 ${e.large_arc} ${e.clockwise} ${e.position[0]},${e.position[1]}`;if(e.fill_mode&&w.current){const e=w.current.getAttribute("d")||"";w.current.setAttribute("d",`${e} ${s}`)}const o=document.createElementNS(m,"path");return o.setAttribute("class",`class${e.id}`),o.setAttribute("d",`M ${i[0]},${i[1]} ${s}`),o.setAttribute("stroke",`${e.pencolor}`),o.setAttribute("stroke-width",`${e.pensize}`),o.setAttribute("fill","transparent"),_.current[e.id]=e.position.slice(),o},[c.ActionType.SOUND]:$,[c.ActionType.CLEAR]:e=>{},[c.ActionType.UPDATE_STATE]:e=>{},[c.ActionType.STAMP]:e=>f.TurtleRender({action:e,resource:i,stampId:e.stampid}),[c.ActionType.BEGIN_FILL]:e=>{var r;const i=document.createElementNS(m,"path");i.setAttribute("fill",e.color||"black"),i.setAttribute("stroke","none"),i.setAttribute("class","fill-path");const s=null!==(r=_.current[e.id])&&void 0!==r?r:[t/2,n/2];return i.setAttribute("d",`M ${s[0]},${s[1]}`),w.current=i,i},[c.ActionType.END_FILL]:e=>{const t=w.current;if(t){const e=t.getAttribute("d")||"";t.setAttribute("d",`${e} Z`)}return w.current=null,t},[c.ActionType.DONE]:e=>f.TurtleRender({action:e,resource:i,stampId:e.stampid})};return a.useEffect((()=>{if(e&&r){if(0===Object.keys(r).length)return;r.forEach((t=>{var n;switch(v((e=>{const n=e;return n[t.id]=Object.assign({},t),n})),t.type){case c.ActionType.SOUND:$(t);break;case c.ActionType.CLEAR:{const n=document.getElementById(`${e}_svgCanvas`),i=null==n?void 0:n.querySelectorAll(`.class${t.id}`);null==i||i.forEach((e=>{null==n||n.removeChild(e)}));const s=r.filter((e=>e.id!==t.id));sessionStorage.setItem(e.toString(),JSON.stringify(s));break}case c.ActionType.UPDATE_STATE:break;case c.ActionType.STAMP:{const r=document.getElementById(`${e}_svgCanvas`),s=document.getElementById(`${e}_stamp_baseline`),o=f.TurtleRender({action:t,resource:i,stampId:null!==(n=t.stampid)&&void 0!==n?n:""});s&&o&&r&&r.insertBefore(o,s);break}case c.ActionType.WRITE_TEXT:{const n=document.getElementById(`${e}_svgCanvas`),r=document.getElementById(`${e}_stamp_baseline`),i=(0,M[t.type])(t);r&&i&&n&&n.insertBefore(i,r);break}case c.ActionType.BEGIN_FILL:(0,M[t.type])(t);break;case c.ActionType.END_FILL:{const n=document.getElementById(`${e}_svgCanvas`),r=document.getElementById(`${e}_baseline`),i=(0,M[t.type])(t);n&&r&&i&&n.insertBefore(i,r);break}case c.ActionType.DONE:break;default:{const n=document.getElementById(`${e}_svgCanvas`),r=document.getElementById(`${e}_baseline`),i=(0,M[t.type])(t);_.current[t.id]=t.position.slice(),r&&i&&n&&n.insertBefore(i,r);break}}}))}}),[r,e]),a.default.createElement("div",{className:"Widget",tabIndex:0,onKeyDown:e=>{e.preventDefault(),console.log("press key:",e.key),s(e.key),s("")}},a.default.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},a.default.createElement("div",{title:"Camera",onClick:()=>{var e;const t=null===(e=A.current)||void 0===e?void 0:e.outerHTML,n=new Blob([null!=t?t:"<svg></svg>"],{type:"image/svg+xml"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download="turtle.svg",document.createDocumentFragment().appendChild(r),r.click()},style:{paddingLeft:"1em"}},a.default.createElement(l.Camera,{size:24,color:"grey"})),a.default.createElement("div",{title:"Download",onClick:()=>o(void 0,void 0,void 0,(function*(){const e=A.current;if(e){const t=yield p.toPng(e,{quality:.95});d.saveAs(t,"my-svg.png")}})),style:{paddingLeft:"1em"}},a.default.createElement(l.Download,{size:24,color:"grey"})),a.default.createElement("div",{title:"Grid",onClick:()=>{E((e=>!e))},style:{paddingLeft:"1em"}},a.default.createElement(l.GridDots,{size:24,color:"grey"}))),a.default.createElement("svg",{id:`${e}_svgCanvas`,ref:A,viewBox:`0 0 ${t+1} ${n+1}`,xmlns:"http://www.w3.org/2000/svg"},a.default.createElement(b,{grid:y,resource:i}),a.default.createElement("svg",{id:`${e}_baseline`}),a.default.createElement("svg",{id:`${e}_stamp_baseline`}),Object.entries(h).map((([,t])=>a.default.createElement(f.Turtle,{id:e,action:t,resource:i})))))},e=>a.default.createElement(u.WidgetModelContext.Provider,{value:e.model},a.default.createElement(h,null)))},634:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Turtle=t.TurtleRender=void 0;const o=s(n(271)),a="http://www.w3.org/2000/svg",l=(e,t,n,r)=>{let i=20*n.penstretchfactor[0],s=20*n.penstretchfactor[1];const o=n.position[0],a=n.position[1],l=(90-n.heading)%360;e.setAttribute("id",`turtle-id-${n.id}-shape-${n.shape}-${null!=r?r:""}`),e.setAttribute("class",`class${n.id}`),e.setAttribute("x",`${o}`),e.setAttribute("y",`${a}`),e.setAttribute("width",`${i}`),e.setAttribute("height",`${s}`),e.setAttribute("overflow","visible"),e.setAttribute("stroke",n.pencolor),e.setAttribute("stroke-width",`${n.penoutlinewidth}`),e.setAttribute("fill",n.color),["arrow","turtle","","square","triangle","circle"].includes(n.shape)&&(i=Math.trunc(i/2),s=Math.trunc(s/2),["","turtle"].includes(n.shape)&&(i*=1.45,s*=1.45),t.setAttribute("transform",`translate(-${i} -${s}) rotate(${l} ${i} ${s}) scale(${n.penstretchfactor[0]} ${n.penstretchfactor[1]})`))};t.TurtleRender=({action:e,resource:t,stampId:n})=>{var r;let i=20*e.penstretchfactor[0],s=20*e.penstretchfactor[1];const o=e.position[0],c=e.position[1],u=(90-e.heading)%360,d=document.createElementNS(a,"svg"),p=document.createElementNS(a,"g");switch(e.shape){case"arrow":{const e=document.createElementNS(a,"path");e.setAttribute("vector-effect","non-scaling-stroke"),e.setAttribute("d","M1.12403 18.87L10 1.11803L18.876 18.87L10.226 14.4873L10 14.3728L9.77402 14.4873L1.12403 18.87Z"),p.appendChild(e);break}case"triangle":{const e=document.createElementNS(a,"path");e.setAttribute("vector-effect","non-scaling-stroke"),e.setAttribute("d","M10 0L20 17.23H0L10 0Z"),p.appendChild(e);break}case"circle":{const e=document.createElementNS(a,"circle");e.setAttribute("vector-effect","non-scaling-stroke"),e.setAttribute("cx","10"),e.setAttribute("cy","10"),e.setAttribute("r","10"),p.appendChild(e);break}case"square":{const t=document.createElementNS(a,"rect");t.setAttribute("vector-effect","non-scaling-stroke"),t.setAttribute("width",""+i/e.penstretchfactor[0]),t.setAttribute("height",""+s/e.penstretchfactor[1]),p.appendChild(t);break}case"":case"turtle":{const e=["#9DD7F5","#78B9EB","#9DD7F5","#9DD7F5","#78B9EB","#78B9EB","#FF9811","#FF5023","#FF5023","#FF9811","#D80027","#802812","#FFDA44","#FF9811"];["M16 0.248374C13.9097 0.248374 12.2153 1.9429 12.2153 4.03313L12.2153 7.81788C12.2153 9.90811 13.9097 11.6026 16 11.6026 18.0904 11.6026 19.7848 9.90811 19.7848 7.81788L19.7848 4.03313C19.7848 1.9429 18.0903 0.248374 16 0.248374Z","M16 0.248374C13.9097 0.248374 12.2153 1.9429 12.2153 4.03313L12.2153 7.81788C12.2153 9.90811 13.9097 11.6026 16 11.6026 18.0904 11.6026 19.7848 9.90811 19.7848 7.81788L19.7848 4.03313C19.7848 1.9429 18.0903 0.248374 16 0.248374Z","M19.7848 7.81788C19.7848 9.90811 18.0904 11.6026 16 11.6026L16 11.6026C16 7.9125 16 4.03313 16 0.248374L16 0.248374C18.0904 0.248374 19.7848 1.9429 19.7848 4.03313L19.7848 7.81788Z","M10.3323 11.6026 5.67713 11.6026C2.54165 11.6026 0 14.1444 0 17.2798L10.3323 17.2798 10.3323 11.6026Z","M10.5874 20.1183 7.7139 23.7808C5.77856 26.2476 6.20946 29.8163 8.67617 31.7516L15.0539 23.6225 10.5874 20.1183Z","M21.4127 20.1183 24.2862 23.7808C26.2215 26.2476 25.7906 29.8163 23.3239 31.7516L16.9462 23.6226 21.4127 20.1183Z","M21.6677 11.6026 26.3229 11.6026C29.4583 11.6026 32 14.1444 32 17.2798L21.6677 17.2798 21.6677 11.6026Z","M16.0037 17.2798 22.6782 8.09417C20.8046 6.73052 18.4984 5.92532 16.0037 5.92532 13.5091 5.92532 11.2029 6.73052 9.32932 8.09417L16.0037 17.2798Z","M16.0037 17.2798 22.6782 8.09417C20.8046 6.73052 18.4984 5.92532 16.0037 5.92532 16.0037 9.71026 16.0037 17.2798 16.0037 17.2798Z","M16.0037 17.2798 9.33008 8.09351C7.45417 9.45384 5.97575 11.3985 5.20489 13.771 4.43412 16.1436 4.48711 18.5858 5.20508 20.789L16.0037 17.2798Z","M16.0037 17.2821 16.0037 17.2798 16 17.281 15.9964 17.2798 15.9964 17.2821 5.20498 20.788C5.91907 22.9923 7.31167 24.9994 9.3298 26.4657 11.3456 27.9302 13.6812 28.6343 15.9957 28.6341L15.9957 28.6342C15.9972 28.6342 15.9985 28.6341 16 28.6341 16.0016 28.6341 16.0029 28.6342 16.0044 28.6342L16.0044 28.6341C18.3189 28.6343 20.6546 27.9302 22.6703 26.4657 24.6884 24.9994 26.081 22.9923 26.7951 20.788L16.0037 17.2821Z","M16.0037 17.2798 16.0032 28.6341C18.3203 28.6361 20.6596 27.932 22.6777 26.4657 24.696 24.9993 26.0884 22.9923 26.8028 20.7879L16.0037 17.2798Z","M16.0037 17.2798 26.8023 20.7891C27.5203 18.5858 27.5733 16.1435 26.8023 13.7711 26.0315 11.3984 24.5532 9.45403 22.6772 8.09341L16.0037 17.2798Z","M19.6188 12.3061 21.8529 19.1825 16.0037 23.4322 10.1544 19.1825 12.3887 12.3061Z","M19.6188 12.3061 21.8529 19.1825 16.0037 23.4322 16 12.3061Z"].forEach(((t,n)=>{const r=document.createElementNS(a,"path");r.setAttribute("vector-effect","non-scaling-stroke"),r.setAttribute("d",t),r.setAttribute("fill",e[n]),p.appendChild(r)}));break}default:{if(!e.shape)break;let n="";if(null===(r=e.shape)||void 0===r?void 0:r.startsWith("https://")){const t=document.createElementNS(a,"image");t.setAttribute("href",e.shape),d.setAttribute("x",`${o+2}`),d.setAttribute("y",`${c+2}`),p.appendChild(t)}else{const r=t[e.shape];if(!r)break;if("svg"===r.ext){const e=new TextDecoder("utf-8").decode(r.buffer),t=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;for(;t.firstChild;)p.appendChild(t.firstChild)}else{const t=document.createElementNS(a,"image");n=`data:${r.type}/${r.ext};base64,${r.buffer}`;const o=new Image;o.src=n,o.onload=function(){i=Math.trunc(o.width/2*e.penstretchfactor[0]),s=Math.trunc(o.height/2*e.penstretchfactor[1]),p.setAttribute("transform",`translate(-${i}, -${s}),rotate(${u}, ${i}, ${s}),scale(${e.penstretchfactor[0]}, ${e.penstretchfactor[1]})`)},t.setAttribute("href",n),p.appendChild(t)}}break}}return l(d,p,e,n),d.appendChild(p),d},t.Turtle=({id:e,resource:n,action:r})=>{const i=o.useRef(null),s=o.useRef("");return o.useEffect((()=>{const e=`turtle-id-${r.id}-shape-${r.shape}-`;if(e!==s.current){const t=document.getElementById(s.current);t&&t.remove(),s.current=e}}),[r]),o.useEffect((()=>{var s,o,c,u;if(r.show){const u=document.getElementById(`${e}_svgCanvas`),d=document.getElementById(`turtle-id-${r.id}-shape-${r.shape}-${null!==(s=r.stampid)&&void 0!==s?s:""}`);if(d){const e=null===(o=d.getElementsByTagNameNS(a,"g"))||void 0===o?void 0:o[0];e&&l(d,e,r,r.stampid)}else{const e=document.getElementById(`turtle-id-${r.id}-shape--${null!==(c=r.stampid)&&void 0!==c?c:""}`);e&&e.remove();const s=t.TurtleRender({action:r,resource:n});i.current&&s&&u&&u.insertBefore(s,i.current)}}else{i.current&&i.current.setAttribute("display","none");const e=document.getElementById(`turtle-id-${r.id}-shape-${r.shape}-${null!==(u=r.stampid)&&void 0!==u?u:""}`);e&&e&&e.remove()}}),[r,e]),o.default.createElement("svg",{ref:i})}},914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useModel=t.useModelEvent=t.useModelState=t.WidgetModelContext=void 0;const r=n(271);t.WidgetModelContext=r.createContext(void 0),t.useModelState=e=>{const n=t.useModel(),[i,s]=r.useState(null==n?void 0:n.get(e));return t.useModelEvent(`change:${e}`,(t=>{s("resource"===e?n=>{const r=Object.assign({},n);return r[t.get(e).name]=t.get(e),r}:t.get(e))}),[e]),[i,(t,r)=>{null==n||n.set(e,t,r),null==n||n.save_changes()}]},t.useModelEvent=(e,n,r)=>{const i=t.useModel();null==i||i.on(e,(e=>{i&&n(i,e)}))},t.useModel=()=>r.useContext(t.WidgetModelContext)},657:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODULE_NAME=t.MODULE_VERSION=void 0;const r=n(147);t.MODULE_VERSION=r.version,t.MODULE_NAME=r.name},367:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TurtleView=t.TurtleModel=void 0;const i=n(565),s=r(n(271)),o=r(n(456)),a=r(n(76)),l=n(657);n(204);class c extends i.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:c.model_name,_model_module:c.model_module,_model_module_version:c.model_module_version,_view_name:c.view_name,_view_module:c.view_module,_view_module_version:c.view_module_version,actions:[]})}}t.TurtleModel=c,c.serializers=Object.assign({},i.DOMWidgetModel.serializers),c.model_name="TurtleModel",c.model_module=l.MODULE_NAME,c.model_module_version=l.MODULE_VERSION,c.view_name="TurtleView",c.view_module=l.MODULE_NAME,c.view_module_version=l.MODULE_VERSION;class u extends i.DOMWidgetView{render(){this.el.classList.add("custom-widget");const e=s.default.createElement(a.default,{model:this.model});o.default.render(e,this.el)}}t.TurtleView=u},889:(e,t,n)=>{(t=n(645)(!1)).push([e.id,".custom-widget {\n    padding: 0px 2px;\n}\n",""]),e.exports=t},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,i,s=e[1]||"",o=e[3];if(!o)return s;if(t&&"function"==typeof btoa){var a=(n=o,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(i," */")),l=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[s].concat(l).concat([a]).join("\n")}return[s].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(i[o]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},204:(e,t,n)=>{var r=n(379),i=n(889);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},379:(e,t,n)=>{"use strict";var r,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function o(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function a(e,t){for(var n={},r=[],i=0;i<e.length;i++){var a=e[i],l=t.base?a[0]+t.base:a[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=o(u),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(s[d].references++,s[d].updater(p)):s.push({identifier:u,updater:b(p,t),references:1}),r.push(u)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var s=n.nc;s&&(r.nonce=s)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var o=i(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,i);else{var s=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function p(e,t,n){var r=n.css,i=n.media,s=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,m=0;function b(e,t){var n,r,i;if(t.singleton){var s=m++;n=f||(f=l(t)),r=d.bind(null,n,s,!1),i=d.bind(null,n,s,!0)}else n=l(t),r=p.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=o(n[r]);s[i].references--}for(var l=a(e,t),c=0;c<n.length;c++){var u=o(n[c]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}n=l}}}},147:e=>{"use strict";e.exports=JSON.parse('{"name":"iturtle","version":"0.1.0","description":"Interactive turtle widget for Jupyter Lab","keywords":["jupyter","jupyterlab","jupyterlab-extension","widgets"],"files":["lib/**/*.js","dist/*.js","css/*.css"],"homepage":"https://github.com/datarho/iturtle","bugs":{"url":"https://github.com/datarho/iturtle/issues"},"license":"MIT","author":{"name":"Samuel Zhang","email":"qizh@datarho.tech"},"main":"lib/index.js","types":"./lib/index.d.ts","repository":{"type":"git","url":"https://github.com/datarho/iturtle"},"scripts":{"build":"yarn run build:lib && yarn run build:nbextension && yarn run build:labextension:dev","build:prod":"yarn run build:lib && yarn run build:nbextension && yarn run build:labextension","build:labextension":"jupyter labextension build .","build:labextension:dev":"jupyter labextension build --development True .","build:lib":"tsc","build:nbextension":"webpack","clean":"yarn run clean:lib && yarn run clean:nbextension && yarn run clean:labextension","clean:lib":"rimraf lib","clean:labextension":"rimraf iturtle/labextension","clean:nbextension":"rimraf iturtle/nbextension/static/index.js","lint":"eslint . --ext .ts,.tsx --fix","lint:check":"eslint . --ext .ts,.tsx","prepack":"yarn run build:lib","test":"jest","watch":"npm-run-all -p watch:*","watch:lib":"tsc -w","watch:nbextension":"webpack --watch --mode=development","watch:labextension":"jupyter labextension watch ."},"dependencies":{"@jupyter-widgets/base":"^1.1.10 || ^2.0.0 || ^3.0.0 || ^4.0.0","@types/file-saver":"^2.0.7","file-saver":"^2.0.5","html-to-image":"^1.11.11","react":"^17.0.2","react-dom":"^17.0.2","tabler-icons-react":"^1.56.0"},"devDependencies":{"@babel/core":"^7.5.0","@babel/preset-env":"^7.5.0","@babel/preset-react":"^7.14.5","@babel/preset-typescript":"^7.14.5","@jupyterlab/builder":"^3.0.0","@phosphor/application":"^1.6.0","@phosphor/widgets":"^1.6.0","@types/jest":"^26.0.0","@types/react":"^17.0.11","@types/react-dom":"^17.0.8","@types/webpack-env":"^1.13.6","@typescript-eslint/eslint-plugin":"^4.20.0","@typescript-eslint/parser":"^4.20.0","acorn":"^7.2.0","babel-loader":"^8.2.2","css-loader":"^3.2.0","eslint":"^7.4.0","fs-extra":"^7.0.0","identity-obj-proxy":"^3.0.0","jest":"^26.0.0","mkdirp":"^0.5.1","npm-run-all":"^4.1.3","rimraf":"^2.6.2","source-map-loader":"^1.1.3","style-loader":"^1.0.0","ts-jest":"^26.0.0","ts-loader":"^8.0.0","typescript":"~4.1.3","webpack":"^5.61.0","webpack-cli":"^4.0.0"},"babel":{"presets":["@babel/preset-env","@babel/preset-react","@babel/preset-typescript"]},"jupyterlab":{"extension":"lib/plugin","outputDir":"iturtle/labextension/","sharedPackages":{"@jupyter-widgets/base":{"bundled":false,"singleton":true}}}}')}}]);