# Mnemex Configuration

# Storage (Phase 2 - JSONL)
# JSONL storage directory (contains memories.jsonl and relations.jsonl)
MNEMEX_STORAGE_PATH=~/.config/mnemex/jsonl

# Decay Model Selection
# Options: power_law | exponential | two_component
MNEMEX_DECAY_MODEL=power_law

# Power-law parameters (default model)
MNEMEX_PL_ALPHA=1.1
MNEMEX_PL_HALFLIFE_DAYS=3.0

# Exponential parameters (if MNEMEX_DECAY_MODEL=exponential)
# MNEMEX_DECAY_LAMBDA=2.673e-6  # 3-day half-life

# Two-component parameters (if MNEMEX_DECAY_MODEL=two_component)
# MNEMEX_TC_LAMBDA_FAST=1.603e-5  # ~12h half-life
# MNEMEX_TC_LAMBDA_SLOW=1.147e-6  # ~7d half-life
# MNEMEX_TC_WEIGHT_FAST=0.7

# Common decay parameters
MNEMEX_DECAY_BETA=0.6

# Thresholds
# Minimum score before forgetting
MNEMEX_FORGET_THRESHOLD=0.05
# Score threshold for automatic promotion
MNEMEX_PROMOTE_THRESHOLD=0.65
# Use count threshold for promotion
MNEMEX_PROMOTE_USE_COUNT=5
# Time window for use count (days)
MNEMEX_PROMOTE_TIME_WINDOW=14

# Embeddings (optional)
# Sentence transformer model for semantic search
MNEMEX_EMBED_MODEL=all-MiniLM-L6-v2
# Enable embeddings (true/false)
MNEMEX_ENABLE_EMBEDDINGS=false

# Semantic Search Thresholds
# High similarity = likely duplicate
MNEMEX_SEMANTIC_HI=0.88
# Low similarity = likely distinct
MNEMEX_SEMANTIC_LO=0.78

# Clustering
# Cosine similarity threshold for linking in clusters
MNEMEX_CLUSTER_LINK_THRESHOLD=0.83
# Maximum cluster size for LLM review
MNEMEX_CLUSTER_MAX_SIZE=12

# Natural Spaced Repetition
# Ratio of review candidates to blend into search results (0.0-1.0)
MNEMEX_REVIEW_BLEND_RATIO=0.3
# Minimum score for review danger zone (below this = too far gone)
MNEMEX_REVIEW_DANGER_ZONE_MIN=0.15
# Maximum score for review danger zone (above this = still fresh)
MNEMEX_REVIEW_DANGER_ZONE_MAX=0.35
# Automatically reinforce memories when used in conversation (true/false)
MNEMEX_AUTO_REINFORCE=true

# Auto-Recall (Conversational Memory Reinforcement)
# Enable automatic memory recall during conversation (true/false)
CORTEXGRAPH_AUTO_RECALL_ENABLED=true
# Auto-recall mode: silent | subtle | interactive (Phase 1 uses silent)
CORTEXGRAPH_AUTO_RECALL_MODE=silent
# Minimum relevance score for auto-recall (0.0-1.0, default 0.3 for broader context capture)
CORTEXGRAPH_AUTO_RECALL_RELEVANCE_THRESHOLD=0.3
# Maximum memories to recall per trigger (1-10)
CORTEXGRAPH_AUTO_RECALL_MAX_RESULTS=3
# Minimum seconds between auto-recall triggers (cooldown)
CORTEXGRAPH_AUTO_RECALL_MIN_INTERVAL=300

# Long-Term Memory (LTM) Integration
# REQUIRED: Path to Obsidian vault for LTM storage and search
LTM_VAULT_PATH=~/Documents/Obsidian/Vault
# REQUIRED: Folder within vault for promoted memories (no default, must be set)
LTM_PROMOTED_FOLDER=stm-promoted
# Path to LTM index file (optional, defaults to vault/.mnemex-index.jsonl)
LTM_INDEX_PATH=~/.config/mnemex/ltm-index.jsonl
# LTM index filename (optional, default: .mnemex-index.jsonl)
LTM_INDEX_FILENAME=.mnemex-index.jsonl
# Legacy LTM index filename for backward compatibility (optional, default: .stm-index.jsonl)
LTM_LEGACY_INDEX_FILENAME=.stm-index.jsonl

# Short-Term Memory (STM) Storage Filenames
# These are optional - only change if you need custom filenames
# Memories storage filename (optional, default: memories.jsonl)
# MNEMEX_MEMORIES_FILENAME=memories.jsonl
# Relations storage filename (optional, default: relations.jsonl)
# MNEMEX_RELATIONS_FILENAME=relations.jsonl

# Git Backup
# Enable automatic git commits
GIT_AUTO_COMMIT=true
# Auto-commit interval in seconds (3600 = 1 hour)
GIT_COMMIT_INTERVAL=3600

# Unified Search
# Weight for STM results in unified search
SEARCH_STM_WEIGHT=1.0
# Weight for LTM results in unified search
SEARCH_LTM_WEIGHT=0.7

# Logging
LOG_LEVEL=INFO
