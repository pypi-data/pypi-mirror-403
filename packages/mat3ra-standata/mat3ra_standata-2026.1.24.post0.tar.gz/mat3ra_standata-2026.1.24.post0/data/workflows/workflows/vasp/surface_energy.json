{
    "name": "Surface Energy",
    "subworkflows": [
        {
            "_id": "257d53c6-c3b6-564c-95ce-dd0514d26c63",
            "name": "Surface Energy",
            "application": {
                "isLicensed": true,
                "name": "vasp",
                "shortName": "vasp",
                "summary": "Vienna Ab-initio Simulation Package",
                "build": "GNU",
                "isDefault": true,
                "version": "5.4.4",
                "schemaVersion": "2022.8.16"
            },
            "properties": [
                "total_energy",
                "total_energy_contributions",
                "pressure",
                "fermi_energy",
                "atomic_forces",
                "total_force",
                "stress_tensor"
            ],
            "model": {
                "type": "dft",
                "subtype": "gga",
                "method": {
                    "type": "pseudopotential",
                    "subtype": "paw",
                    "data": {}
                },
                "functional": {
                    "slug": "pbe"
                },
                "refiners": [],
                "modifiers": []
            },
            "units": [
                {
                    "name": "io-slab",
                    "type": "io",
                    "subtype": "input",
                    "head": true,
                    "results": [],
                    "monitors": [],
                    "flowchartId": "e463ef46-a36e-5168-87dd-e21eb980dfb8",
                    "preProcessors": [],
                    "postProcessors": [],
                    "source": "api",
                    "input": [
                        {
                            "endpoint": "materials",
                            "endpoint_options": {
                                "params": {
                                    "query": "{'_id': MATERIAL_ID}",
                                    "projection": "{}"
                                }
                            },
                            "name": "DATA"
                        }
                    ],
                    "next": "ee7abb4e-7848-5aeb-960d-0d441909e2d1",
                    "application": {
                        "isLicensed": true,
                        "name": "vasp",
                        "shortName": "vasp",
                        "summary": "Vienna Ab-initio Simulation Package",
                        "build": "GNU",
                        "isDefault": true,
                        "version": "5.4.4",
                        "schemaVersion": "2022.8.16"
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": []
                },
                {
                    "name": "slab",
                    "type": "assignment",
                    "operand": "SLAB",
                    "value": "DATA[0]",
                    "input": [
                        {
                            "name": "DATA",
                            "scope": "e463ef46-a36e-5168-87dd-e21eb980dfb8"
                        }
                    ],
                    "head": false,
                    "results": [],
                    "monitors": [],
                    "flowchartId": "ee7abb4e-7848-5aeb-960d-0d441909e2d1",
                    "preProcessors": [],
                    "postProcessors": [],
                    "next": "44263820-0c80-5bd1-b854-9da8d198eac1",
                    "application": {
                        "isLicensed": true,
                        "name": "vasp",
                        "shortName": "vasp",
                        "summary": "Vienna Ab-initio Simulation Package",
                        "build": "GNU",
                        "isDefault": true,
                        "version": "5.4.4",
                        "schemaVersion": "2022.8.16"
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": []
                },
                {
                    "name": "io-bulk",
                    "type": "io",
                    "subtype": "input",
                    "head": false,
                    "results": [],
                    "monitors": [],
                    "flowchartId": "44263820-0c80-5bd1-b854-9da8d198eac1",
                    "preProcessors": [],
                    "postProcessors": [],
                    "source": "api",
                    "input": [
                        {
                            "endpoint": "materials",
                            "endpoint_options": {
                                "params": {
                                    "query": "{'_id': SLAB.metadata.bulkId}",
                                    "projection": "{}"
                                }
                            },
                            "name": "DATA"
                        }
                    ],
                    "next": "b70656f1-a394-57f4-b4de-00096969df4b",
                    "application": {
                        "isLicensed": true,
                        "name": "vasp",
                        "shortName": "vasp",
                        "summary": "Vienna Ab-initio Simulation Package",
                        "build": "GNU",
                        "isDefault": true,
                        "version": "5.4.4",
                        "schemaVersion": "2022.8.16"
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": []
                },
                {
                    "name": "bulk",
                    "type": "assignment",
                    "operand": "BULK",
                    "value": "DATA[0] if DATA else None",
                    "input": [
                        {
                            "name": "DATA",
                            "scope": "44263820-0c80-5bd1-b854-9da8d198eac1"
                        }
                    ],
                    "head": false,
                    "results": [],
                    "monitors": [],
                    "flowchartId": "b70656f1-a394-57f4-b4de-00096969df4b",
                    "preProcessors": [],
                    "postProcessors": [],
                    "next": "6ca4006a-e3ae-56ea-91a1-06b9790b5f7e",
                    "application": {
                        "isLicensed": true,
                        "name": "vasp",
                        "shortName": "vasp",
                        "summary": "Vienna Ab-initio Simulation Package",
                        "build": "GNU",
                        "isDefault": true,
                        "version": "5.4.4",
                        "schemaVersion": "2022.8.16"
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": []
                },
                {
                    "name": "assert-bulk",
                    "type": "assertion",
                    "statement": "BULK != None",
                    "errorMessage": "Bulk material does not exist!",
                    "head": false,
                    "results": [],
                    "monitors": [],
                    "flowchartId": "6ca4006a-e3ae-56ea-91a1-06b9790b5f7e",
                    "preProcessors": [],
                    "postProcessors": [],
                    "next": "490635e0-c593-5809-9eb2-c794b96cfed1",
                    "application": {
                        "isLicensed": true,
                        "name": "vasp",
                        "shortName": "vasp",
                        "summary": "Vienna Ab-initio Simulation Package",
                        "build": "GNU",
                        "isDefault": true,
                        "version": "5.4.4",
                        "schemaVersion": "2022.8.16"
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": []
                },
                {
                    "name": "io-e-bulk",
                    "type": "io",
                    "subtype": "input",
                    "head": false,
                    "results": [],
                    "monitors": [],
                    "flowchartId": "490635e0-c593-5809-9eb2-c794b96cfed1",
                    "preProcessors": [],
                    "postProcessors": [],
                    "source": "api",
                    "input": [
                        {
                            "endpoint": "refined-properties",
                            "endpoint_options": {
                                "params": {
                                    "query": "{ 'exabyteId': BULK.exabyteId, 'data.name': 'total_energy', 'group': {'$regex': ''.join((SUBWORKFLOW.application.shortName, ':'))} }",
                                    "projection": "{'sort': {'precision.value': -1}, 'limit': 1}"
                                }
                            },
                            "name": "DATA"
                        }
                    ],
                    "next": "bbe13b97-4243-5a85-8f61-a279d0b797aa",
                    "application": {
                        "isLicensed": true,
                        "name": "vasp",
                        "shortName": "vasp",
                        "summary": "Vienna Ab-initio Simulation Package",
                        "build": "GNU",
                        "isDefault": true,
                        "version": "5.4.4",
                        "schemaVersion": "2022.8.16"
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": []
                },
                {
                    "name": "e-bulk",
                    "type": "assignment",
                    "operand": "E_BULK",
                    "value": "DATA[0].data.value if DATA else None",
                    "input": [
                        {
                            "name": "DATA",
                            "scope": "490635e0-c593-5809-9eb2-c794b96cfed1"
                        }
                    ],
                    "head": false,
                    "results": [],
                    "monitors": [],
                    "flowchartId": "bbe13b97-4243-5a85-8f61-a279d0b797aa",
                    "preProcessors": [],
                    "postProcessors": [],
                    "next": "a06c9f43-7670-5fd0-ac42-7028a472235a",
                    "application": {
                        "isLicensed": true,
                        "name": "vasp",
                        "shortName": "vasp",
                        "summary": "Vienna Ab-initio Simulation Package",
                        "build": "GNU",
                        "isDefault": true,
                        "version": "5.4.4",
                        "schemaVersion": "2022.8.16"
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": []
                },
                {
                    "name": "assert-e-bulk",
                    "type": "assertion",
                    "statement": "E_BULK != None",
                    "errorMessage": "E_BULK does not exist!",
                    "head": false,
                    "results": [],
                    "monitors": [],
                    "flowchartId": "a06c9f43-7670-5fd0-ac42-7028a472235a",
                    "preProcessors": [],
                    "postProcessors": [],
                    "next": "cdf210be-26ed-585a-b4ac-d55795ba2975",
                    "application": {
                        "isLicensed": true,
                        "name": "vasp",
                        "shortName": "vasp",
                        "summary": "Vienna Ab-initio Simulation Package",
                        "build": "GNU",
                        "isDefault": true,
                        "version": "5.4.4",
                        "schemaVersion": "2022.8.16"
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": []
                },
                {
                    "name": "surface",
                    "type": "assignment",
                    "operand": "A",
                    "value": "np.linalg.norm(np.cross(SLAB.lattice.vectors.a, SLAB.lattice.vectors.b))",
                    "input": [],
                    "head": false,
                    "results": [],
                    "monitors": [],
                    "flowchartId": "cdf210be-26ed-585a-b4ac-d55795ba2975",
                    "preProcessors": [],
                    "postProcessors": [],
                    "next": "ffa8e43d-096a-555b-b8d0-6d283365ef47",
                    "application": {
                        "isLicensed": true,
                        "name": "vasp",
                        "shortName": "vasp",
                        "summary": "Vienna Ab-initio Simulation Package",
                        "build": "GNU",
                        "isDefault": true,
                        "version": "5.4.4",
                        "schemaVersion": "2022.8.16"
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": []
                },
                {
                    "name": "n-bulk",
                    "type": "assignment",
                    "operand": "N_BULK",
                    "value": "len(BULK.basis.elements)",
                    "input": [],
                    "head": false,
                    "results": [],
                    "monitors": [],
                    "flowchartId": "ffa8e43d-096a-555b-b8d0-6d283365ef47",
                    "preProcessors": [],
                    "postProcessors": [],
                    "next": "a0336ec5-a6da-5e4c-bb48-82b70cf5245f",
                    "application": {
                        "isLicensed": true,
                        "name": "vasp",
                        "shortName": "vasp",
                        "summary": "Vienna Ab-initio Simulation Package",
                        "build": "GNU",
                        "isDefault": true,
                        "version": "5.4.4",
                        "schemaVersion": "2022.8.16"
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": []
                },
                {
                    "name": "n-slab",
                    "type": "assignment",
                    "operand": "N_SLAB",
                    "value": "len(SLAB.basis.elements)",
                    "input": [],
                    "head": false,
                    "results": [],
                    "monitors": [],
                    "flowchartId": "a0336ec5-a6da-5e4c-bb48-82b70cf5245f",
                    "preProcessors": [],
                    "postProcessors": [],
                    "next": "913f756d-fbe1-548f-b3fc-f82ac46f1015",
                    "application": {
                        "isLicensed": true,
                        "name": "vasp",
                        "shortName": "vasp",
                        "summary": "Vienna Ab-initio Simulation Package",
                        "build": "GNU",
                        "isDefault": true,
                        "version": "5.4.4",
                        "schemaVersion": "2022.8.16"
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": []
                },
                {
                    "type": "execution",
                    "name": "vasp_symprec",
                    "head": false,
                    "results": [
                        {
                            "name": "total_energy"
                        },
                        {
                            "name": "total_energy_contributions"
                        },
                        {
                            "name": "pressure"
                        },
                        {
                            "name": "fermi_energy"
                        },
                        {
                            "name": "atomic_forces"
                        },
                        {
                            "name": "total_force"
                        },
                        {
                            "name": "stress_tensor"
                        }
                    ],
                    "monitors": [
                        {
                            "name": "standard_output"
                        },
                        {
                            "name": "convergence_electronic"
                        }
                    ],
                    "flowchartId": "913f756d-fbe1-548f-b3fc-f82ac46f1015",
                    "preProcessors": [],
                    "postProcessors": [],
                    "application": {
                        "isLicensed": true,
                        "name": "vasp",
                        "shortName": "vasp",
                        "summary": "Vienna Ab-initio Simulation Package",
                        "build": "GNU",
                        "isDefault": true,
                        "version": "5.4.4",
                        "schemaVersion": "2022.8.16"
                    },
                    "executable": {
                        "isDefault": true,
                        "monitors": [
                            "standard_output",
                            "convergence_ionic",
                            "convergence_electronic"
                        ],
                        "postProcessors": [
                            "error_handler",
                            "prepare_restart",
                            "remove_non_zero_weight_kpoints"
                        ],
                        "name": "vasp",
                        "schemaVersion": "2022.8.16"
                    },
                    "flavor": {
                        "applicationName": "vasp",
                        "executableName": "vasp",
                        "input": [
                            {
                                "name": "INCAR",
                                "templateName": "INCAR_SYMPREC"
                            },
                            {
                                "name": "KPOINTS"
                            },
                            {
                                "name": "POSCAR"
                            }
                        ],
                        "monitors": [
                            "standard_output",
                            "convergence_electronic"
                        ],
                        "results": [
                            "total_energy",
                            "total_energy_contributions",
                            "pressure",
                            "fermi_energy",
                            "atomic_forces",
                            "total_force",
                            "stress_tensor"
                        ],
                        "name": "vasp_symprec",
                        "schemaVersion": "2022.8.16",
                        "isDefault": false
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": [],
                    "input": [
                        {
                            "applicationName": "vasp",
                            "content": "ISMEAR = 0\nSIGMA  = 0.05\nLORBIT = 11\n# To avoid errors with high precision structures: \"internal error in subroutine SGRCON\"\nSYMPREC = 1e-6\n",
                            "contextProviders": [
                                {
                                    "name": "VASPInputDataManager"
                                }
                            ],
                            "executableName": "vasp",
                            "name": "INCAR",
                            "rendered": "ISMEAR = 0\nSIGMA  = 0.05\nLORBIT = 11\n# To avoid errors with high precision structures: \"internal error in subroutine SGRCON\"\nSYMPREC = 1e-6\n",
                            "schemaVersion": "2022.8.16"
                        },
                        {
                            "applicationName": "vasp",
                            "content": "Automatic mesh\n0\nGamma\n  {% for d in kgrid.dimensions %}{{d}} {% endfor %}\n  {% for s in kgrid.shifts %}{{s}} {% endfor %}\n",
                            "contextProviders": [
                                {
                                    "name": "KGridFormDataManager"
                                },
                                {
                                    "name": "VASPInputDataManager"
                                }
                            ],
                            "executableName": "vasp",
                            "name": "KPOINTS",
                            "rendered": "Automatic mesh\n0\nGamma\n  2 2 2 \n  0 0 0 \n",
                            "schemaVersion": "2022.8.16"
                        },
                        {
                            "applicationName": "vasp",
                            "content": "{{ input.POSCAR }}\n",
                            "contextProviders": [
                                {
                                    "name": "VASPInputDataManager"
                                }
                            ],
                            "executableName": "vasp",
                            "name": "POSCAR",
                            "rendered": "Silicon FCC\n1.0\n   3.348920000\t   0.000000000\t   1.933500000\n   1.116307000\t   3.157392000\t   1.933500000\n   0.000000000\t   0.000000000\t   3.867000000\nSi\n2\ndirect\n   0.000000000    0.000000000    0.000000000  Si\n   0.250000000    0.250000000    0.250000000  Si\n",
                            "schemaVersion": "2022.8.16"
                        }
                    ],
                    "next": "fcd88119-817c-5ac1-a430-ba892ac743eb"
                },
                {
                    "name": "e-slab",
                    "type": "assignment",
                    "operand": "E_SLAB",
                    "value": "total_energy",
                    "input": [
                        {
                            "name": "total_energy",
                            "scope": "913f756d-fbe1-548f-b3fc-f82ac46f1015"
                        }
                    ],
                    "head": false,
                    "results": [],
                    "monitors": [],
                    "flowchartId": "fcd88119-817c-5ac1-a430-ba892ac743eb",
                    "preProcessors": [],
                    "postProcessors": [],
                    "next": "542ea9ad-8a07-5a76-b233-f72fb27c4fc6",
                    "application": {
                        "isLicensed": true,
                        "name": "vasp",
                        "shortName": "vasp",
                        "summary": "Vienna Ab-initio Simulation Package",
                        "build": "GNU",
                        "isDefault": true,
                        "version": "5.4.4",
                        "schemaVersion": "2022.8.16"
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": []
                },
                {
                    "name": "surface-energy",
                    "type": "assignment",
                    "operand": "SURFACE_ENERGY",
                    "value": "1 / (2 * A) * (E_SLAB - E_BULK * (N_SLAB/N_BULK))",
                    "input": [],
                    "head": false,
                    "results": [
                        {
                            "name": "surface_energy"
                        }
                    ],
                    "monitors": [],
                    "flowchartId": "542ea9ad-8a07-5a76-b233-f72fb27c4fc6",
                    "preProcessors": [],
                    "postProcessors": [],
                    "application": {
                        "isLicensed": true,
                        "name": "vasp",
                        "shortName": "vasp",
                        "summary": "Vienna Ab-initio Simulation Package",
                        "build": "GNU",
                        "isDefault": true,
                        "version": "5.4.4",
                        "schemaVersion": "2022.8.16"
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": []
                }
            ]
        }
    ],
    "units": [
        {
            "name": "Surface Energy",
            "type": "subworkflow",
            "_id": "257d53c6-c3b6-564c-95ce-dd0514d26c63",
            "status": "idle",
            "statusTrack": [],
            "flowchartId": "d81dc9ce-bb50-5bc6-af1d-e5ede03bb0a6",
            "tags": [],
            "head": true
        }
    ],
    "properties": [
        "atomic_forces",
        "fermi_energy",
        "pressure",
        "stress_tensor",
        "surface_energy",
        "total_energy",
        "total_energy_contributions",
        "total_force"
    ],
    "_id": "24b4e6d1-0846-55dd-ae27-624bab5057b4",
    "workflows": [],
    "schemaVersion": "2022.8.16",
    "isDefault": false,
    "application": {
        "name": "vasp"
    }
}
