{
    "name": "Nudged Elastic Band (NEB)",
    "subworkflows": [
        {
            "isMultiMaterial": true,
            "_id": "792e8c42-86ce-5f01-812a-66378ec4f379",
            "name": "Initial/Final Total Energies",
            "application": {
                "isLicensed": true,
                "name": "vasp",
                "shortName": "vasp",
                "summary": "Vienna Ab-initio Simulation Package",
                "build": "GNU",
                "isDefault": true,
                "version": "5.4.4",
                "schemaVersion": "2022.8.16"
            },
            "properties": [
                "total_energy",
                "total_energy_contributions",
                "pressure",
                "fermi_energy",
                "atomic_forces",
                "total_force",
                "stress_tensor",
                "total_energy",
                "total_energy_contributions",
                "pressure",
                "fermi_energy",
                "atomic_forces",
                "total_force",
                "stress_tensor"
            ],
            "model": {
                "type": "dft",
                "subtype": "gga",
                "method": {
                    "type": "pseudopotential",
                    "subtype": "paw",
                    "data": {}
                },
                "functional": {
                    "slug": "pbe"
                },
                "refiners": [],
                "modifiers": []
            },
            "units": [
                {
                    "type": "execution",
                    "name": "vasp_neb_initial",
                    "head": true,
                    "results": [
                        {
                            "name": "total_energy"
                        },
                        {
                            "name": "total_energy_contributions"
                        },
                        {
                            "name": "pressure"
                        },
                        {
                            "name": "fermi_energy"
                        },
                        {
                            "name": "atomic_forces"
                        },
                        {
                            "name": "total_force"
                        },
                        {
                            "name": "stress_tensor"
                        }
                    ],
                    "monitors": [
                        {
                            "name": "standard_output"
                        },
                        {
                            "name": "convergence_electronic"
                        }
                    ],
                    "flowchartId": "f969f010-9dae-5085-9ac5-86150ef78897",
                    "preProcessors": [],
                    "postProcessors": [],
                    "application": {
                        "isLicensed": true,
                        "name": "vasp",
                        "shortName": "vasp",
                        "summary": "Vienna Ab-initio Simulation Package",
                        "build": "GNU",
                        "isDefault": true,
                        "version": "5.4.4",
                        "schemaVersion": "2022.8.16"
                    },
                    "executable": {
                        "isDefault": true,
                        "monitors": [
                            "standard_output",
                            "convergence_ionic",
                            "convergence_electronic"
                        ],
                        "postProcessors": [
                            "error_handler",
                            "prepare_restart",
                            "remove_non_zero_weight_kpoints"
                        ],
                        "name": "vasp",
                        "schemaVersion": "2022.8.16"
                    },
                    "flavor": {
                        "applicationName": "vasp",
                        "executableName": "vasp",
                        "input": [
                            {
                                "name": "INCAR",
                                "templateName": "INCAR_NEB_INITIAL_FINAL"
                            },
                            {
                                "name": "KPOINTS"
                            },
                            {
                                "name": "POSCAR",
                                "templateName": "POSCAR_NEB_INITIAL"
                            }
                        ],
                        "monitors": [
                            "standard_output",
                            "convergence_electronic"
                        ],
                        "results": [
                            "total_energy",
                            "total_energy_contributions",
                            "pressure",
                            "fermi_energy",
                            "atomic_forces",
                            "total_force",
                            "stress_tensor"
                        ],
                        "name": "vasp_neb_initial",
                        "schemaVersion": "2022.8.16",
                        "isDefault": false
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": [],
                    "input": [
                        {
                            "applicationName": "vasp",
                            "content": "ISTART = 0\nENCUT = 500\nISPIN = 2\n",
                            "contextProviders": [
                                {
                                    "name": "NEBFormDataManager"
                                },
                                {
                                    "name": "VASPNEBInputDataManager"
                                }
                            ],
                            "executableName": "vasp",
                            "name": "INCAR",
                            "rendered": "ISTART = 0\nENCUT = 500\nISPIN = 2\n",
                            "schemaVersion": "2022.8.16"
                        },
                        {
                            "applicationName": "vasp",
                            "content": "Automatic mesh\n0\nGamma\n  {% for d in kgrid.dimensions %}{{d}} {% endfor %}\n  {% for s in kgrid.shifts %}{{s}} {% endfor %}\n",
                            "contextProviders": [
                                {
                                    "name": "KGridFormDataManager"
                                },
                                {
                                    "name": "VASPInputDataManager"
                                }
                            ],
                            "executableName": "vasp",
                            "name": "KPOINTS",
                            "rendered": "Automatic mesh\n0\nGamma\n  2 2 2 \n  0 0 0 \n",
                            "schemaVersion": "2022.8.16"
                        },
                        {
                            "applicationName": "vasp",
                            "content": "{{ input.FIRST_IMAGE }}\n",
                            "contextProviders": [
                                {
                                    "name": "NEBFormDataManager"
                                },
                                {
                                    "name": "VASPNEBInputDataManager"
                                }
                            ],
                            "executableName": "vasp",
                            "name": "POSCAR",
                            "rendered": "Silicon FCC\n1.0\n   3.348920000\t   0.000000000\t   1.933500000\n   1.116307000\t   3.157392000\t   1.933500000\n   0.000000000\t   0.000000000\t   3.867000000\nSi\n2\ndirect\n   0.000000000    0.000000000    0.000000000  Si\n   0.250000000    0.250000000    0.250000000  Si\n",
                            "schemaVersion": "2022.8.16"
                        }
                    ],
                    "next": "e65a17ce-10c8-5710-ad4d-fb3d42434091"
                },
                {
                    "type": "execution",
                    "name": "vasp_neb_final",
                    "head": false,
                    "results": [
                        {
                            "name": "total_energy"
                        },
                        {
                            "name": "total_energy_contributions"
                        },
                        {
                            "name": "pressure"
                        },
                        {
                            "name": "fermi_energy"
                        },
                        {
                            "name": "atomic_forces"
                        },
                        {
                            "name": "total_force"
                        },
                        {
                            "name": "stress_tensor"
                        }
                    ],
                    "monitors": [
                        {
                            "name": "standard_output"
                        },
                        {
                            "name": "convergence_electronic"
                        }
                    ],
                    "flowchartId": "e65a17ce-10c8-5710-ad4d-fb3d42434091",
                    "preProcessors": [],
                    "postProcessors": [],
                    "application": {
                        "isLicensed": true,
                        "name": "vasp",
                        "shortName": "vasp",
                        "summary": "Vienna Ab-initio Simulation Package",
                        "build": "GNU",
                        "isDefault": true,
                        "version": "5.4.4",
                        "schemaVersion": "2022.8.16"
                    },
                    "executable": {
                        "isDefault": true,
                        "monitors": [
                            "standard_output",
                            "convergence_ionic",
                            "convergence_electronic"
                        ],
                        "postProcessors": [
                            "error_handler",
                            "prepare_restart",
                            "remove_non_zero_weight_kpoints"
                        ],
                        "name": "vasp",
                        "schemaVersion": "2022.8.16"
                    },
                    "flavor": {
                        "applicationName": "vasp",
                        "executableName": "vasp",
                        "input": [
                            {
                                "name": "INCAR",
                                "templateName": "INCAR_NEB_INITIAL_FINAL"
                            },
                            {
                                "name": "KPOINTS"
                            },
                            {
                                "name": "POSCAR",
                                "templateName": "POSCAR_NEB_FINAL"
                            }
                        ],
                        "monitors": [
                            "standard_output",
                            "convergence_electronic"
                        ],
                        "results": [
                            "total_energy",
                            "total_energy_contributions",
                            "pressure",
                            "fermi_energy",
                            "atomic_forces",
                            "total_force",
                            "stress_tensor"
                        ],
                        "name": "vasp_neb_final",
                        "schemaVersion": "2022.8.16",
                        "isDefault": false
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": [],
                    "input": [
                        {
                            "applicationName": "vasp",
                            "content": "ISTART = 0\nENCUT = 500\nISPIN = 2\n",
                            "contextProviders": [
                                {
                                    "name": "NEBFormDataManager"
                                },
                                {
                                    "name": "VASPNEBInputDataManager"
                                }
                            ],
                            "executableName": "vasp",
                            "name": "INCAR",
                            "rendered": "ISTART = 0\nENCUT = 500\nISPIN = 2\n",
                            "schemaVersion": "2022.8.16"
                        },
                        {
                            "applicationName": "vasp",
                            "content": "Automatic mesh\n0\nGamma\n  {% for d in kgrid.dimensions %}{{d}} {% endfor %}\n  {% for s in kgrid.shifts %}{{s}} {% endfor %}\n",
                            "contextProviders": [
                                {
                                    "name": "KGridFormDataManager"
                                },
                                {
                                    "name": "VASPInputDataManager"
                                }
                            ],
                            "executableName": "vasp",
                            "name": "KPOINTS",
                            "rendered": "Automatic mesh\n0\nGamma\n  2 2 2 \n  0 0 0 \n",
                            "schemaVersion": "2022.8.16"
                        },
                        {
                            "applicationName": "vasp",
                            "content": "{{ input.LAST_IMAGE }}\n",
                            "contextProviders": [
                                {
                                    "name": "NEBFormDataManager"
                                },
                                {
                                    "name": "VASPNEBInputDataManager"
                                }
                            ],
                            "executableName": "vasp",
                            "name": "POSCAR",
                            "rendered": "Silicon FCC\n1.0\n   3.348920000\t   0.000000000\t   1.933500000\n   1.116307000\t   3.157392000\t   1.933500000\n   0.000000000\t   0.000000000\t   3.867000000\nSi\n2\ndirect\n   0.000000000    0.000000000    0.000000000  Si\n   0.250000000    0.250000000    0.250000000  Si\n",
                            "schemaVersion": "2022.8.16"
                        }
                    ]
                }
            ]
        },
        {
            "isMultiMaterial": true,
            "_id": "c9b7ad2a-5207-5e41-9b66-28474a8921f8",
            "name": "Prepare Directories",
            "application": {
                "name": "shell",
                "shortName": "sh",
                "summary": "Shell Script",
                "build": "GNU",
                "isDefault": true,
                "version": "5.1.8",
                "schemaVersion": "2022.8.16"
            },
            "properties": [],
            "model": {
                "type": "unknown",
                "subtype": "unknown",
                "method": {
                    "type": "unknown",
                    "subtype": "unknown",
                    "data": {}
                }
            },
            "units": [
                {
                    "type": "execution",
                    "name": "prepare-neb-images",
                    "head": true,
                    "results": [],
                    "monitors": [
                        {
                            "name": "standard_output"
                        }
                    ],
                    "flowchartId": "dc397ead-54ad-513b-992e-aedd54576409",
                    "preProcessors": [],
                    "postProcessors": [],
                    "application": {
                        "name": "shell",
                        "shortName": "sh",
                        "summary": "Shell Script",
                        "build": "GNU",
                        "isDefault": true,
                        "version": "5.1.8",
                        "schemaVersion": "2022.8.16"
                    },
                    "executable": {
                        "isDefault": true,
                        "monitors": [
                            "standard_output"
                        ],
                        "name": "sh",
                        "schemaVersion": "2022.8.16"
                    },
                    "flavor": {
                        "applicationName": "shell",
                        "executableName": "sh",
                        "input": [
                            {
                                "name": "bash_vasp_prepare_neb_images.sh"
                            }
                        ],
                        "monitors": [
                            "standard_output"
                        ],
                        "name": "bash_vasp_prepare_neb_images",
                        "schemaVersion": "2022.8.16",
                        "isDefault": false
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": [],
                    "input": [
                        {
                            "applicationName": "shell",
                            "content": "#!/bin/bash\n\n# ------------------------------------------------------------------ #\n#  This script prepares necessary directories to run VASP NEB\n#  calculation. It puts initial POSCAR into directory 00, final into 0N\n#  and intermediate images in 01 to 0(N-1). It is assumed that SCF\n#  calculations for initial and final structures are already done in\n#  previous subworkflows and their standard outputs are written into\n#  \"vasp_neb_initial.out\" and \"vasp_neb_final.out\" files respectively.\n#  These outputs are here copied into initial (00) and final (0N)\n#  directories to calculate the reaction energy profile.\n# ------------------------------------------------------------------ #\n\n{% raw %}\ncd {{ JOB_WORK_DIR }}\n{% endraw %}\n\n# Prepare First Directory\nmkdir -p 00\ncat > 00/POSCAR <<EOF\n{{ input.FIRST_IMAGE }}\nEOF\ncp vasp_neb_initial.out 00/stdout\ncp CONTCAR 00/CONTCAR\n\n# Prepare Last Directory\nmkdir -p 0{{ input.INTERMEDIATE_IMAGES.length + 1 }}\ncat > 0{{ input.INTERMEDIATE_IMAGES.length + 1 }}/POSCAR <<EOF\n{{ input.LAST_IMAGE }}\nEOF\ncp CONTCAR 0{{ input.INTERMEDIATE_IMAGES.length + 1 }}/CONTCAR\ncp vasp_neb_final.out 0{{ input.INTERMEDIATE_IMAGES.length + 1 }}/stdout\n\n{% for IMAGE in input.INTERMEDIATE_IMAGES %}\n# Prepare Intermediate Directory {{ loop.index }}\nmkdir -p 0{{ loop.index }}\ncat > 0{{ loop.index }}/POSCAR <<EOF\n{{ IMAGE }}\nEOF\n{% endfor -%}\n",
                            "contextProviders": [
                                {
                                    "name": "VASPNEBInputDataManager"
                                }
                            ],
                            "executableName": "sh",
                            "name": "bash_vasp_prepare_neb_images.sh",
                            "rendered": "#!/bin/bash\n\n# ------------------------------------------------------------------ #\n#  This script prepares necessary directories to run VASP NEB\n#  calculation. It puts initial POSCAR into directory 00, final into 0N\n#  and intermediate images in 01 to 0(N-1). It is assumed that SCF\n#  calculations for initial and final structures are already done in\n#  previous subworkflows and their standard outputs are written into\n#  \"vasp_neb_initial.out\" and \"vasp_neb_final.out\" files respectively.\n#  These outputs are here copied into initial (00) and final (0N)\n#  directories to calculate the reaction energy profile.\n# ------------------------------------------------------------------ #\n\n\ncd {{ JOB_WORK_DIR }}\n\n\n# Prepare First Directory\nmkdir -p 00\ncat > 00/POSCAR <<EOF\nSilicon FCC\n1.0\n   3.348920000\t   0.000000000\t   1.933500000\n   1.116307000\t   3.157392000\t   1.933500000\n   0.000000000\t   0.000000000\t   3.867000000\nSi\n2\ndirect\n   0.000000000    0.000000000    0.000000000  Si\n   0.250000000    0.250000000    0.250000000  Si\nEOF\ncp vasp_neb_initial.out 00/stdout\ncp CONTCAR 00/CONTCAR\n\n# Prepare Last Directory\nmkdir -p 01\ncat > 01/POSCAR <<EOF\nSilicon FCC\n1.0\n   3.348920000\t   0.000000000\t   1.933500000\n   1.116307000\t   3.157392000\t   1.933500000\n   0.000000000\t   0.000000000\t   3.867000000\nSi\n2\ndirect\n   0.000000000    0.000000000    0.000000000  Si\n   0.250000000    0.250000000    0.250000000  Si\nEOF\ncp CONTCAR 01/CONTCAR\ncp vasp_neb_final.out 01/stdout\n\n",
                            "schemaVersion": "2022.8.16"
                        }
                    ]
                }
            ]
        },
        {
            "isMultiMaterial": true,
            "_id": "e6215fb9-e60c-541b-b73e-b077d64b3a95",
            "name": "Nudged Elastic Band (NEB)",
            "application": {
                "isLicensed": true,
                "name": "vasp",
                "shortName": "vasp",
                "summary": "Vienna Ab-initio Simulation Package",
                "build": "GNU",
                "isDefault": true,
                "version": "5.4.4",
                "schemaVersion": "2022.8.16"
            },
            "properties": [
                "reaction_energy_barrier",
                "reaction_energy_profile"
            ],
            "model": {
                "type": "dft",
                "subtype": "gga",
                "method": {
                    "type": "pseudopotential",
                    "subtype": "paw",
                    "data": {}
                },
                "functional": {
                    "slug": "pbe"
                },
                "refiners": [],
                "modifiers": []
            },
            "units": [
                {
                    "type": "execution",
                    "name": "vasp_neb",
                    "head": true,
                    "results": [
                        {
                            "name": "reaction_energy_barrier"
                        },
                        {
                            "name": "reaction_energy_profile"
                        }
                    ],
                    "monitors": [
                        {
                            "name": "standard_output"
                        }
                    ],
                    "flowchartId": "9a1660ab-8067-5fad-9fb8-7c039f634636",
                    "preProcessors": [],
                    "postProcessors": [],
                    "application": {
                        "isLicensed": true,
                        "name": "vasp",
                        "shortName": "vasp",
                        "summary": "Vienna Ab-initio Simulation Package",
                        "build": "GNU",
                        "isDefault": true,
                        "version": "5.4.4",
                        "schemaVersion": "2022.8.16"
                    },
                    "executable": {
                        "isDefault": true,
                        "monitors": [
                            "standard_output",
                            "convergence_ionic",
                            "convergence_electronic"
                        ],
                        "postProcessors": [
                            "error_handler",
                            "prepare_restart",
                            "remove_non_zero_weight_kpoints"
                        ],
                        "name": "vasp",
                        "schemaVersion": "2022.8.16"
                    },
                    "flavor": {
                        "applicationName": "vasp",
                        "executableName": "vasp",
                        "input": [
                            {
                                "name": "INCAR",
                                "templateName": "INCAR_NEB"
                            },
                            {
                                "name": "KPOINTS",
                                "templateName": "KPOINTS"
                            }
                        ],
                        "monitors": [
                            "standard_output"
                        ],
                        "results": [
                            "reaction_energy_barrier",
                            "reaction_energy_profile"
                        ],
                        "name": "vasp_neb",
                        "schemaVersion": "2022.8.16",
                        "isDefault": false
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": [],
                    "input": [
                        {
                            "applicationName": "vasp",
                            "content": "ISTART = 0\nIBRION = 1\nEDIFFG = -0.001\nENCUT = 500\nNELM = 100\nNSW = 100\nIMAGES = {{ input.INTERMEDIATE_IMAGES.length or neb.nImages }}\nSPRING = -5\nISPIN = 2\n",
                            "contextProviders": [
                                {
                                    "name": "NEBFormDataManager"
                                },
                                {
                                    "name": "VASPNEBInputDataManager"
                                }
                            ],
                            "executableName": "vasp",
                            "name": "INCAR",
                            "rendered": "ISTART = 0\nIBRION = 1\nEDIFFG = -0.001\nENCUT = 500\nNELM = 100\nNSW = 100\nIMAGES = 1\nSPRING = -5\nISPIN = 2\n",
                            "schemaVersion": "2022.8.16"
                        },
                        {
                            "applicationName": "vasp",
                            "content": "Automatic mesh\n0\nGamma\n  {% for d in kgrid.dimensions %}{{d}} {% endfor %}\n  {% for s in kgrid.shifts %}{{s}} {% endfor %}\n",
                            "contextProviders": [
                                {
                                    "name": "KGridFormDataManager"
                                },
                                {
                                    "name": "VASPInputDataManager"
                                }
                            ],
                            "executableName": "vasp",
                            "name": "KPOINTS",
                            "rendered": "Automatic mesh\n0\nGamma\n  2 2 2 \n  0 0 0 \n",
                            "schemaVersion": "2022.8.16"
                        }
                    ]
                }
            ]
        }
    ],
    "units": [
        {
            "name": "Initial/Final Total Energies",
            "type": "subworkflow",
            "_id": "792e8c42-86ce-5f01-812a-66378ec4f379",
            "status": "idle",
            "statusTrack": [],
            "flowchartId": "427b4671-7c37-50f7-82c8-4d781b846fd8",
            "tags": [],
            "head": true,
            "next": "8dd252f2-99c2-50c6-8a81-fa5881141985"
        },
        {
            "name": "Prepare Directories",
            "type": "subworkflow",
            "_id": "c9b7ad2a-5207-5e41-9b66-28474a8921f8",
            "status": "idle",
            "statusTrack": [],
            "flowchartId": "8dd252f2-99c2-50c6-8a81-fa5881141985",
            "tags": [],
            "head": false,
            "next": "134c70e2-aeaf-543d-aded-1585cd71b800"
        },
        {
            "name": "Nudged Elastic Band (NEB)",
            "type": "subworkflow",
            "_id": "e6215fb9-e60c-541b-b73e-b077d64b3a95",
            "status": "idle",
            "statusTrack": [],
            "flowchartId": "134c70e2-aeaf-543d-aded-1585cd71b800",
            "tags": [],
            "head": false
        }
    ],
    "properties": [
        "atomic_forces",
        "atomic_forces",
        "fermi_energy",
        "fermi_energy",
        "pressure",
        "pressure",
        "stress_tensor",
        "stress_tensor",
        "total_energy",
        "total_energy",
        "total_energy_contributions",
        "total_energy_contributions",
        "total_force",
        "total_force"
    ],
    "_id": "df41740d-5989-553c-b845-0559d6f8f86b",
    "workflows": [],
    "schemaVersion": "2022.8.16",
    "isDefault": false,
    "application": {
        "name": "vasp"
    }
}
