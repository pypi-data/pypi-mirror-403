{
    "name": "Band Gap + DoS - HSE",
    "subworkflows": [
        {
            "_id": "f1341a29-777d-5ca3-8933-78a5e0d3f6f2",
            "name": "HSE Band Gap",
            "application": {
                "name": "espresso",
                "shortName": "qe",
                "summary": "Quantum ESPRESSO",
                "build": "GNU",
                "hasAdvancedComputeOptions": true,
                "isDefault": true,
                "version": "6.3",
                "schemaVersion": "2022.8.16"
            },
            "properties": [
                "atomic_forces",
                "band_gaps",
                "fermi_energy",
                "pressure",
                "stress_tensor",
                "total_energy",
                "total_energy_contributions",
                "total_force",
                "density_of_states"
            ],
            "model": {
                "type": "dft",
                "subtype": "hybrid",
                "method": {
                    "type": "pseudopotential",
                    "subtype": "us",
                    "data": {}
                },
                "functional": {
                    "slug": "hse06"
                },
                "refiners": [],
                "modifiers": []
            },
            "units": [
                {
                    "type": "execution",
                    "name": "pw_scf_hse",
                    "head": true,
                    "results": [
                        {
                            "name": "atomic_forces"
                        },
                        {
                            "name": "band_gaps"
                        },
                        {
                            "name": "fermi_energy"
                        },
                        {
                            "name": "pressure"
                        },
                        {
                            "name": "stress_tensor"
                        },
                        {
                            "name": "total_energy"
                        },
                        {
                            "name": "total_energy_contributions"
                        },
                        {
                            "name": "total_force"
                        }
                    ],
                    "monitors": [
                        {
                            "name": "standard_output"
                        },
                        {
                            "name": "convergence_electronic"
                        }
                    ],
                    "flowchartId": "f494cdb2-304f-5da2-b979-ce3fbba3a6c4",
                    "preProcessors": [],
                    "postProcessors": [],
                    "application": {
                        "name": "espresso",
                        "shortName": "qe",
                        "summary": "Quantum ESPRESSO",
                        "build": "GNU",
                        "hasAdvancedComputeOptions": true,
                        "isDefault": true,
                        "version": "6.3",
                        "schemaVersion": "2022.8.16"
                    },
                    "executable": {
                        "hasAdvancedComputeOptions": true,
                        "isDefault": true,
                        "monitors": [
                            "standard_output",
                            "convergence_ionic",
                            "convergence_electronic"
                        ],
                        "postProcessors": [
                            "remove_non_zero_weight_kpoints"
                        ],
                        "name": "pw.x",
                        "schemaVersion": "2022.8.16"
                    },
                    "flavor": {
                        "applicationName": "espresso",
                        "executableName": "pw.x",
                        "input": [
                            {
                                "name": "pw_scf_hse.in"
                            }
                        ],
                        "monitors": [
                            "standard_output",
                            "convergence_electronic"
                        ],
                        "results": [
                            "atomic_forces",
                            "band_gaps",
                            "fermi_energy",
                            "pressure",
                            "stress_tensor",
                            "total_energy",
                            "total_energy_contributions",
                            "total_force"
                        ],
                        "name": "pw_scf_hse",
                        "schemaVersion": "2022.8.16",
                        "isDefault": false
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": [],
                    "input": [
                        {
                            "applicationName": "espresso",
                            "content": "{% if subworkflowContext.MATERIAL_INDEX %}\n{%- set input = input.perMaterial[subworkflowContext.MATERIAL_INDEX] -%}\n{% endif -%}\n&CONTROL\n    calculation = 'scf'\n    title = ''\n    verbosity = 'low'\n    restart_mode = '{{ input.RESTART_MODE }}'\n    wf_collect = .true.\n    tstress = .true.\n    tprnfor = .true.\n    outdir = {% raw %}'{{ JOB_WORK_DIR }}/outdir'{% endraw %}\n    wfcdir = {% raw %}'{{ JOB_WORK_DIR }}/outdir'{% endraw %}\n    prefix = '__prefix__'\n    pseudo_dir = {% raw %}'{{ JOB_WORK_DIR }}/pseudo'{% endraw %}\n/\n&SYSTEM\n    ibrav = {{ input.IBRAV }}\n    nat = {{ input.NAT }}\n    ntyp = {{ input.NTYP }}\n    ecutwfc = {{ cutoffs.wavefunction }}\n    ecutrho = {{ cutoffs.density }}\n    ecutfock = 100\n    occupations = 'smearing'\n    degauss = 0.005\n    input_dft='hse',\n    nqx1 = {% if kgrid.dimensions[0]%2 == 0 %}{{kgrid.dimensions[0]/2}}{% else %}{{(kgrid.dimensions[0]+1)/2}}{% endif %}, nqx2 = {% if kgrid.dimensions[1]%2 == 0 %}{{kgrid.dimensions[1]/2}}{% else %}{{(kgrid.dimensions[1]+1)/2}}{% endif %}, nqx3 = {% if kgrid.dimensions[2]%2 == 0 %}{{kgrid.dimensions[2]/2}}{% else %}{{(kgrid.dimensions[2]+1)/2}}{% endif %}\n/\n&ELECTRONS\n    diagonalization = 'david'\n    diago_david_ndim = 4\n    diago_full_acc = .true.\n    mixing_beta = 0.3\n    startingwfc = 'atomic+random'\n/\n&IONS\n/\n&CELL\n/\nATOMIC_SPECIES\n{{ input.ATOMIC_SPECIES }}\nATOMIC_POSITIONS crystal\n{{ input.ATOMIC_POSITIONS }}\nCELL_PARAMETERS angstrom\n{{ input.CELL_PARAMETERS }}\nK_POINTS automatic\n{% for d in kgrid.dimensions %}{% if d%2 == 0 %}{{d}} {% else %}{{d+1}} {% endif %}{% endfor %}{% for s in kgrid.shifts %}{{s}} {% endfor %}\n",
                            "contextProviders": [
                                {
                                    "name": "KGridFormDataManager"
                                },
                                {
                                    "name": "QEPWXInputDataManager"
                                },
                                {
                                    "name": "PlanewaveCutoffDataManager"
                                }
                            ],
                            "executableName": "pw.x",
                            "name": "pw_scf_hse.in",
                            "rendered": "&CONTROL\n    calculation = 'scf'\n    title = ''\n    verbosity = 'low'\n    restart_mode = 'from_scratch'\n    wf_collect = .true.\n    tstress = .true.\n    tprnfor = .true.\n    outdir = '{{ JOB_WORK_DIR }}/outdir'\n    wfcdir = '{{ JOB_WORK_DIR }}/outdir'\n    prefix = '__prefix__'\n    pseudo_dir = '{{ JOB_WORK_DIR }}/pseudo'\n/\n&SYSTEM\n    ibrav = 0\n    nat = 2\n    ntyp = 1\n    ecutwfc = 40\n    ecutrho = 200\n    ecutfock = 100\n    occupations = 'smearing'\n    degauss = 0.005\n    input_dft='hse',\n    nqx1 = 1, nqx2 = 1, nqx3 = 1\n/\n&ELECTRONS\n    diagonalization = 'david'\n    diago_david_ndim = 4\n    diago_full_acc = .true.\n    mixing_beta = 0.3\n    startingwfc = 'atomic+random'\n/\n&IONS\n/\n&CELL\n/\nATOMIC_SPECIES\nSi 28.0855 \nATOMIC_POSITIONS crystal\nSi     0.000000000    0.000000000    0.000000000 \nSi     0.250000000    0.250000000    0.250000000 \nCELL_PARAMETERS angstrom\n3.348920236 0.000000000 1.933500000\n1.116306745 3.157392278 1.933500000\n0.000000000 0.000000000 3.867000000\nK_POINTS automatic\n2 2 2 0 0 0 \n",
                            "schemaVersion": "2022.8.16"
                        }
                    ],
                    "next": "3c8ffaf7-d01d-57e3-a0ae-118b3ecfc651"
                },
                {
                    "type": "execution",
                    "name": "projwfc",
                    "head": false,
                    "results": [
                        {
                            "name": "density_of_states"
                        }
                    ],
                    "monitors": [
                        {
                            "name": "standard_output"
                        }
                    ],
                    "flowchartId": "3c8ffaf7-d01d-57e3-a0ae-118b3ecfc651",
                    "preProcessors": [],
                    "postProcessors": [],
                    "application": {
                        "name": "espresso",
                        "shortName": "qe",
                        "summary": "Quantum ESPRESSO",
                        "build": "GNU",
                        "hasAdvancedComputeOptions": true,
                        "isDefault": true,
                        "version": "6.3",
                        "schemaVersion": "2022.8.16"
                    },
                    "executable": {
                        "monitors": [
                            "standard_output"
                        ],
                        "name": "projwfc.x",
                        "schemaVersion": "2022.8.16",
                        "isDefault": false
                    },
                    "flavor": {
                        "applicationName": "espresso",
                        "executableName": "projwfc.x",
                        "input": [
                            {
                                "name": "projwfc.in"
                            }
                        ],
                        "monitors": [
                            "standard_output"
                        ],
                        "results": [
                            "density_of_states"
                        ],
                        "name": "projwfc",
                        "schemaVersion": "2022.8.16",
                        "isDefault": false
                    },
                    "status": "idle",
                    "statusTrack": [],
                    "tags": [],
                    "input": [
                        {
                            "applicationName": "espresso",
                            "content": "&PROJWFC\n    prefix = '__prefix__'\n    outdir = {% raw %}'{{ JOB_WORK_DIR }}/outdir'{% endraw %}\n    degauss = 0.01\n    deltaE = 0.05\n/\n",
                            "contextProviders": [],
                            "executableName": "projwfc.x",
                            "name": "projwfc.in",
                            "rendered": "&PROJWFC\n    prefix = '__prefix__'\n    outdir = '{{ JOB_WORK_DIR }}/outdir'\n    degauss = 0.01\n    deltaE = 0.05\n/\n",
                            "schemaVersion": "2022.8.16"
                        }
                    ]
                }
            ]
        }
    ],
    "units": [
        {
            "name": "HSE Band Gap",
            "type": "subworkflow",
            "_id": "f1341a29-777d-5ca3-8933-78a5e0d3f6f2",
            "status": "idle",
            "statusTrack": [],
            "flowchartId": "f7a0860d-6f9e-59e3-b600-07bbf986998a",
            "tags": [],
            "head": true
        }
    ],
    "properties": [
        "atomic_forces",
        "band_gaps",
        "density_of_states",
        "fermi_energy",
        "pressure",
        "stress_tensor",
        "total_energy",
        "total_energy_contributions",
        "total_force"
    ],
    "_id": "ab28e7cf-a363-5223-ae0b-a60c82bb4f9a",
    "workflows": [],
    "schemaVersion": "2022.8.16",
    "isDefault": false,
    "application": {
        "name": "espresso"
    }
}
