import{_ as h}from"./PaginationView.vue_vue_type_script_setup_true_lang-C5I4MAUI.js";import{d as x,A as D,b as k,c as N,C as Y,I as s,bf as p,ah as c,aT as _,as as b,B as I,N as q,bt as M,at as T,bu as w,r as B,o as L,e as S,f as V,h as H,i,w as R,s as A,t as j,l as n,Y as P,au as U}from"./index-DJskbzIk.js";import{g as $}from"./autoCali-68qq9UhF.js";import{_ as z}from"./BackToOverview.vue_vue_type_script_setup_true_lang-C3Wp52Jq.js";import{_ as E}from"./DataTable-BkhITQT9.js";import"./Pagination-MzAc_u8k.js";import"./prop-NnGblK-3.js";import"./ExitOutline-BbqKyaqz.js";import"./Checkbox-B0NmEvB4.js";import"./RadioGroup-DFjU_ho_.js";import"./download-C2161hUv.js";const F={class:"text-xl mb-5"},se=x({__name:"AutoCaliList",setup(G){const r=D(),{t}=k(),d=N(),u=Y(),g=e=>{d.push({name:"autoCaliConfig",query:{session_id:e,device_group_name:u.query.device_group_name}})},f=[{key:"cali_session_id",width:120,title:"Session ID"},{key:"device_group_name",title:t("groupDetail.autoCali.groupName"),render(e){return s(p,{style:{color:r.value.infoColor,padding:"8px"},to:{name:"overview",query:{device_group_name:e.device_group_name}}},{default:()=>e.device_group_name})}},{key:"space_name",title:t("groupDetail.autoCali.spaceName"),render(e){return s(p,{style:{color:r.value.infoColor,padding:"8px"},to:{name:"exps",query:{device_group_name:e.device_group_name,space_id:e.space_id}}},{default:()=>e.space_name})}},{key:"start_time",title:t("groupDetail.autoCali.startTime"),render(e){return e.start_time?c(e.start_time*1e3).format("YYYY-MM-DD HH:mm:ss"):""}},{key:"end_time",title:t("groupDetail.autoCali.endTime"),render(e){return e.end_time?c(e.end_time*1e3).format("YYYY-MM-DD HH:mm:ss"):""}},{key:"status",title:t("groupDetail.autoCali.status"),width:150,render(e){return s(b,{color:{color:_[e.status].color},class:"w-20 flex items-center justify-center !text-white"},{default:()=>t(_[e.status].text)})}},{key:"detail",title:t("groupDetail.autoCali.detail"),width:100,align:"center",render(e){return s(I,{quaternary:!0,type:"primary",class:"!w-16",onClick:()=>g(e.cali_session_id)},{icon:()=>s(q,{component:M})})}}],o=T({page:1,per_page:w,total:0}),l=B(),m=async()=>{const[e,a]=await $({...U(o),device_group_name:u.query.device_group_name});!e&&a&&a.status===0&&(l.value=a.data.list,o.total=a.data.total)};return L(()=>{m()}),(e,a)=>{const v=E,y=h;return V(),S("div",null,[H("div",F,[i(z,null,{default:R(()=>[A(j(n(t)("groupDetail.autoCali.tabName")),1)]),_:1})]),i(v,{data:n(l),columns:f,"max-height":"calc(100vh - 320px)"},null,8,["data"]),i(y,{"page-info":n(o),"onUpdate:pageInfo":a[0]||(a[0]=C=>P(o)?o.value=C:null),onUpdateList:m},null,8,["page-info"])])}}});export{se as default};
