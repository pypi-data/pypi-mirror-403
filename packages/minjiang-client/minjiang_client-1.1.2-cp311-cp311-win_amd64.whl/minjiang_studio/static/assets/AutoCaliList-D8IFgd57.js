import{_ as h}from"./PaginationView.vue_vue_type_script_setup_true_lang-Dpz9kG-N.js";import{d as x,A as D,b as k,c as N,C as Y,I as s,bf as m,ah as p,aT as _,as as b,B as I,N as q,bt as M,at as T,bu as B,r as L,o as S,e as V,f as w,h as H,i,w as R,s as A,t as j,l as r,Y as P,au as U}from"./index-DFmXBO_y.js";import{g as $}from"./autoCali-CF4DUEBp.js";import{_ as z}from"./BackToOverview.vue_vue_type_script_setup_true_lang-iyf8qOBd.js";import{_ as E}from"./DataTable-3tY_BIOA.js";import"./Pagination-CEcbaPkb.js";import"./prop-NnGblK-3.js";import"./ExitOutline-9iidbxU1.js";import"./Checkbox-1HN6lbh2.js";import"./RadioGroup-CoMSa7Uc.js";import"./download-C2161hUv.js";const F={class:"text-xl mb-5"},se=x({__name:"AutoCaliList",setup(G){const n=D(),{t:a}=k(),d=N(),u=Y(),g=(e,t)=>{d.push({name:"autoCaliConfig",query:{session_id:e,resource_id:t,device_group_name:u.query.device_group_name}})},f=[{key:"cali_session_id",width:120,title:"Session ID"},{key:"device_group_name",title:a("groupDetail.autoCali.groupName"),render(e){return s(m,{style:{color:n.value.infoColor,padding:"8px"},to:{name:"overview",query:{device_group_name:e.device_group_name}}},{default:()=>e.device_group_name})}},{key:"space_name",title:a("groupDetail.autoCali.spaceName"),render(e){return s(m,{style:{color:n.value.infoColor,padding:"8px"},to:{name:"exps",query:{device_group_name:e.device_group_name,space_id:e.space_id}}},{default:()=>e.space_name})}},{key:"start_time",title:a("groupDetail.autoCali.startTime"),render(e){return e.start_time?p(e.start_time*1e3).format("YYYY-MM-DD HH:mm:ss"):""}},{key:"end_time",title:a("groupDetail.autoCali.endTime"),render(e){return e.end_time?p(e.end_time*1e3).format("YYYY-MM-DD HH:mm:ss"):""}},{key:"status",title:a("groupDetail.autoCali.status"),width:150,render(e){return s(b,{color:{color:_[e.status].color},class:"w-20 flex items-center justify-center !text-white"},{default:()=>a(_[e.status].text)})}},{key:"detail",title:a("groupDetail.autoCali.detail"),width:100,align:"center",render(e){return s(I,{quaternary:!0,type:"primary",class:"!w-16",onClick:()=>g(e.cali_session_id,e.resource_id)},{icon:()=>s(q,{component:M})})}}],o=T({page:1,per_page:B,total:0}),l=L(),c=async()=>{const[e,t]=await $({...U(o),device_group_name:u.query.device_group_name});!e&&t&&t.status===0&&(l.value=t.data.list,o.total=t.data.total)};return S(()=>{c()}),(e,t)=>{const v=E,y=h;return w(),V("div",null,[H("div",F,[i(z,null,{default:R(()=>[A(j(r(a)("groupDetail.autoCali.tabName")),1)]),_:1})]),i(v,{data:r(l),columns:f,"max-height":"calc(100vh - 320px)"},null,8,["data"]),i(y,{"page-info":r(o),"onUpdate:pageInfo":t[0]||(t[0]=C=>P(o)?o.value=C:null),onUpdateList:c},null,8,["page-info"])])}}});export{se as default};
