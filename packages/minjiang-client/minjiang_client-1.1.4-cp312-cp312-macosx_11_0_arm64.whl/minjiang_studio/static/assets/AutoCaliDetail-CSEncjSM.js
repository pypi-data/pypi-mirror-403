import{d as y,e as f,f as c,bd as E,h as a,bp as G,b as J,C as P,c as O,r as V,aS as W,a6 as Y,aI as X,i,w as o,bs as Z,I as s,l as t,N as x,ab as g,ac as w,F as tt,aF as et,t as u,as as at,s as k,S as q,ah as R,aT as T,B as ot,Y as st,aw as lt,aJ as nt,aK as rt,bo as it,a5 as ct}from"./index-DJskbzIk.js";import{a as ut}from"./autoCali-68qq9UhF.js";import{u as pt}from"./autoCali-DBOEf96G.js";import{u as dt}from"./useInterval-CS7hQKQu.js";import{C as ft}from"./ChevronBack-DryZPZd-.js";const _t={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},ht=y({name:"CloudSatelliteConfig",render:function(h,e){return c(),f("svg",_t,e[0]||(e[0]=[E('<path d="M32 26v-2h-2.101a4.968 4.968 0 0 0-.732-1.753l1.49-1.49l-1.414-1.414l-1.49 1.49A4.968 4.968 0 0 0 26 20.101V18h-2v2.101a4.968 4.968 0 0 0-1.753.732l-1.49-1.49l-1.414 1.414l1.49 1.49A4.968 4.968 0 0 0 20.101 24H18v2h2.101a4.968 4.968 0 0 0 .732 1.753l-1.49 1.49l1.414 1.414l1.49-1.49a4.968 4.968 0 0 0 1.753.732V32h2v-2.101a4.968 4.968 0 0 0 1.753-.732l1.49 1.49l1.414-1.414l-1.49-1.49A4.968 4.968 0 0 0 29.899 26zm-7 2a3 3 0 1 1 3-3a3.003 3.003 0 0 1-3 3z" fill="currentColor"></path><circle cx="7" cy="20" r="2" fill="currentColor"></circle><path d="M14 20a4 4 0 1 1 4-4a4.012 4.012 0 0 1-4 4zm0-6a2 2 0 1 0 2 2a2.006 2.006 0 0 0-2-2z" fill="currentColor"></path><circle cx="21" cy="12" r="2" fill="currentColor"></circle><path d="M13.02 28.271L3 22.427V9.574l11-6.416l11.496 6.706l1.008-1.728l-12-7a1 1 0 0 0-1.008 0l-12 7A1 1 0 0 0 1 9v14a1 1 0 0 0 .496.864L12.013 30z" fill="currentColor"></path>',5)]))}}),mt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},vt=y({name:"Menu",render:function(h,e){return c(),f("svg",mt,e[0]||(e[0]=[a("path",{d:"M4 6h24v2H4z",fill:"currentColor"},null,-1),a("path",{d:"M4 24h24v2H4z",fill:"currentColor"},null,-1),a("path",{d:"M4 12h24v2H4z",fill:"currentColor"},null,-1),a("path",{d:"M4 18h24v2H4z",fill:"currentColor"},null,-1)]))}}),Ct={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},xt=y({name:"Queued",render:function(h,e){return c(),f("svg",Ct,e[0]||(e[0]=[E('<defs></defs><path d="M22 20h8v2h-8z" fill="currentColor"></path><path d="M22 24h8v2h-8z" fill="currentColor"></path><path d="M22 28h8v2h-8z" fill="currentColor"></path><path d="M18 24h2v2h-2z" fill="currentColor"></path><path d="M18 20h2v2h-2z" fill="currentColor"></path><path d="M18 28h2v2h-2z" fill="currentColor"></path><path d="M6.815 8.293a12.078 12.078 0 0 1 3.192-2.673l-1-1.73a14.085 14.085 0 0 0-3.723 3.118z" fill="currentColor"></path><path d="M25.185 8.293l1.53-1.285a14.085 14.085 0 0 0-3.723-3.118l-.999 1.73a12.078 12.078 0 0 1 3.192 2.673z" fill="currentColor"></path><path d="M4.737 11.9l-1.878-.683A13.902 13.902 0 0 0 2 16h2a11.917 11.917 0 0 1 .737-4.1z" fill="currentColor"></path><path d="M6.815 23.707A11.998 11.998 0 0 1 4.737 20.1l-1.878.683a13.99 13.99 0 0 0 2.425 4.21z" fill="currentColor"></path><path d="M27.263 11.9A11.917 11.917 0 0 1 28 16h2a13.897 13.897 0 0 0-.86-4.783z" fill="currentColor"></path><path d="M13.918 27.807a11.89 11.89 0 0 1-3.911-1.427l-1 1.73a13.867 13.867 0 0 0 4.564 1.664z" fill="currentColor"></path><path d="M13.918 4.193a11.301 11.301 0 0 1 4.164 0l.347-1.967a13.187 13.187 0 0 0-4.858 0z" fill="currentColor"></path>',14)]))}}),gt={class:"-mt-1.5"},wt={class:"flex items-center gap-2"},yt={class:"flex flex-1 gap-2"},zt={class:"text-2xl"},Mt={class:"text-xs opacity-70 font-mono"},kt={key:0},bt={class:"text-xs opacity-70 font-mono"},Dt={key:0},It={class:"mt-5 flex-1"},At=y({__name:"AutoCaliDetail",setup(z){const h=pt(),{sessionInfo:e}=G(h),{t:p,locale:b}=J(),_=P(),D=O(),m=V(),K=l=>{var n;D.push({name:l,query:{..._.query,space_id:(n=e.value)==null?void 0:n.space_id}})},$=()=>{D.push({name:"autoCaliList",query:{device_group_name:_.query.device_group_name}})},I=async()=>{var v;const[l,n]=await ut({session_id:+_.query.session_id});!l&&(n==null?void 0:n.status)===0&&(e.value=n.data,((v=n.data)==null?void 0:v.status)!==it.RUNNING&&B())},A=V(),{start:L,stop:B,runing:U}=dt(I,{isManual:!0});return W(()=>{B()}),Y(()=>_.query.session_id,l=>{l&&l!==A.value&&!U.value&&(A.value=l,I(),L())},{immediate:!0}),Y(_,l=>{m.value=l.name},{deep:!0,immediate:!0}),(l,n)=>{const v=ot,M=Z,C=at,j=et,F=lt,Q=X("router-view");return c(),f("div",gt,[a("div",null,[i(F,{type:"card",animated:"",class:"!h-full !w-auto",value:t(m),"onUpdate:value":n[0]||(n[0]=d=>st(m)?m.value=d:null),onUpdateValue:K},{prefix:o(()=>[i(v,{onClick:$,quaternary:"",class:"!w-[140px] !justify-start !text-left"},{icon:o(()=>[i(t(x),{size:"26"},{default:o(()=>[i(t(ft))]),_:1})]),default:o(()=>[a("span",null,u(t(p)("groupDetail.autoCali.back")),1)]),_:1})]),suffix:o(()=>[t(tt)(t(e))?w("",!0):(c(),g(j,{key:0,"show-icon":!1,type:"info",class:"h-[42px] py-1"},{default:o(()=>{var d,N,S;return[a("div",wt,[a("div",yt,[a("div",zt,u((d=t(e))==null?void 0:d.task_name),1),i(C,{type:"warning",size:"large"},{default:o(()=>{var r;return[k("Session "+u((r=t(e))==null?void 0:r.session_id),1)]}),_:1}),i(C,{type:"primary",size:"large"},{default:o(()=>{var r;return[k(u((r=t(e))==null?void 0:r.space_name),1)]}),_:1}),i(C,{size:"large"},{default:o(()=>{var r,H;return[a("div",Mt,[a("span",{class:q(["inline-block",[t(b)==="cn"?"w-8":"w-12"]])},u(t(p)("groupDetail.autoCali.start"))+":  ",3),(r=t(e))!=null&&r.start_time?(c(),f("span",kt,u(t(R)(t(e).start_time*1e3).format("YYYY-MM-DD HH:mm:ss")),1)):w("",!0)]),a("div",bt,[a("span",{class:q(["inline-block",[t(b)==="cn"?"w-8":"w-12"]])},u(t(p)("groupDetail.autoCali.end"))+":  ",3),(H=t(e))!=null&&H.end_time?(c(),f("span",Dt,u(t(R)(t(e).end_time*1e3).format("YYYY-MM-DD HH:mm:ss")),1)):w("",!0)])]}),_:1}),(N=t(e))!=null&&N.status?(c(),g(C,{key:0,color:{color:t(T)[(S=t(e))==null?void 0:S.status].color,textColor:"#fff"},size:"large"},{default:o(()=>{var r;return[k(u(t(p)(t(T)[(r=t(e))==null?void 0:r.status].text)),1)]}),_:1},8,["color"])):w("",!0)])])]}),_:1}))]),default:o(()=>[i(M,{name:"autoCaliConfig",tab:s("div",{class:"flex items-center gap-2 h-8"},[s("div",{class:"flex"},s(t(x),{size:20,component:t(ht)})),s("div",t(p)("groupDetail.autoCali.config"))])},null,8,["tab"]),i(M,{name:"autoCaliProcess",tab:s("div",{class:"flex items-center gap-2"},[s("div",{class:"flex"},s(t(x),{size:20,component:t(xt)})),s("div",t(p)("groupDetail.autoCali.process"))])},null,8,["tab"]),i(M,{name:"autoCaliEntity",tab:s("div",{class:"flex items-center gap-2"},[s("div",{class:"flex"},s(t(x),{size:20,component:t(vt)})),s("div",t(p)("groupDetail.autoCali.entity"))])},null,8,["tab"])]),_:1},8,["value"]),a("div",It,[i(Q,null,{default:o(({Component:d})=>[(c(),g(nt,null,[(c(),g(rt(d),{key:l.$route.name}))],1024))]),_:1})])])])}}}),Yt=ct(At,[["__scopeId","data-v-2d0fef44"]]);export{Yt as default};
