import{d as y,e as _,f as c,bd as E,h as a,bp as G,b as J,C as P,c as O,r as H,aS as W,a6 as V,aI as X,i as r,w as o,bs as Z,I as s,l as t,N as x,ab as g,ac as w,F as tt,aF as et,t as u,as as at,s as k,S as Y,ah as q,aT as T,B as ot,Y as st,aw as lt,aJ as nt,aK as rt,bo as it,E as ct,a5 as ut}from"./index-DFmXBO_y.js";import{a as pt}from"./autoCali-CF4DUEBp.js";import{u as dt}from"./autoCali-CN3COyCI.js";import{u as _t}from"./useInterval-B9ffeHkB.js";import{C as ft}from"./ChevronBack-DBMkC4e6.js";const ht={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},mt=y({name:"CloudSatelliteConfig",render:function(h,e){return c(),_("svg",ht,e[0]||(e[0]=[E('<path d="M32 26v-2h-2.101a4.968 4.968 0 0 0-.732-1.753l1.49-1.49l-1.414-1.414l-1.49 1.49A4.968 4.968 0 0 0 26 20.101V18h-2v2.101a4.968 4.968 0 0 0-1.753.732l-1.49-1.49l-1.414 1.414l1.49 1.49A4.968 4.968 0 0 0 20.101 24H18v2h2.101a4.968 4.968 0 0 0 .732 1.753l-1.49 1.49l1.414 1.414l1.49-1.49a4.968 4.968 0 0 0 1.753.732V32h2v-2.101a4.968 4.968 0 0 0 1.753-.732l1.49 1.49l1.414-1.414l-1.49-1.49A4.968 4.968 0 0 0 29.899 26zm-7 2a3 3 0 1 1 3-3a3.003 3.003 0 0 1-3 3z" fill="currentColor"></path><circle cx="7" cy="20" r="2" fill="currentColor"></circle><path d="M14 20a4 4 0 1 1 4-4a4.012 4.012 0 0 1-4 4zm0-6a2 2 0 1 0 2 2a2.006 2.006 0 0 0-2-2z" fill="currentColor"></path><circle cx="21" cy="12" r="2" fill="currentColor"></circle><path d="M13.02 28.271L3 22.427V9.574l11-6.416l11.496 6.706l1.008-1.728l-12-7a1 1 0 0 0-1.008 0l-12 7A1 1 0 0 0 1 9v14a1 1 0 0 0 .496.864L12.013 30z" fill="currentColor"></path>',5)]))}}),vt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},Ct=y({name:"Menu",render:function(h,e){return c(),_("svg",vt,e[0]||(e[0]=[a("path",{d:"M4 6h24v2H4z",fill:"currentColor"},null,-1),a("path",{d:"M4 24h24v2H4z",fill:"currentColor"},null,-1),a("path",{d:"M4 12h24v2H4z",fill:"currentColor"},null,-1),a("path",{d:"M4 18h24v2H4z",fill:"currentColor"},null,-1)]))}}),xt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},gt=y({name:"Queued",render:function(h,e){return c(),_("svg",xt,e[0]||(e[0]=[E('<defs></defs><path d="M22 20h8v2h-8z" fill="currentColor"></path><path d="M22 24h8v2h-8z" fill="currentColor"></path><path d="M22 28h8v2h-8z" fill="currentColor"></path><path d="M18 24h2v2h-2z" fill="currentColor"></path><path d="M18 20h2v2h-2z" fill="currentColor"></path><path d="M18 28h2v2h-2z" fill="currentColor"></path><path d="M6.815 8.293a12.078 12.078 0 0 1 3.192-2.673l-1-1.73a14.085 14.085 0 0 0-3.723 3.118z" fill="currentColor"></path><path d="M25.185 8.293l1.53-1.285a14.085 14.085 0 0 0-3.723-3.118l-.999 1.73a12.078 12.078 0 0 1 3.192 2.673z" fill="currentColor"></path><path d="M4.737 11.9l-1.878-.683A13.902 13.902 0 0 0 2 16h2a11.917 11.917 0 0 1 .737-4.1z" fill="currentColor"></path><path d="M6.815 23.707A11.998 11.998 0 0 1 4.737 20.1l-1.878.683a13.99 13.99 0 0 0 2.425 4.21z" fill="currentColor"></path><path d="M27.263 11.9A11.917 11.917 0 0 1 28 16h2a13.897 13.897 0 0 0-.86-4.783z" fill="currentColor"></path><path d="M13.918 27.807a11.89 11.89 0 0 1-3.911-1.427l-1 1.73a13.867 13.867 0 0 0 4.564 1.664z" fill="currentColor"></path><path d="M13.918 4.193a11.301 11.301 0 0 1 4.164 0l.347-1.967a13.187 13.187 0 0 0-4.858 0z" fill="currentColor"></path>',14)]))}}),wt={class:"-mt-1.5"},yt={class:"flex items-center gap-2"},zt={class:"flex flex-1 gap-2"},Mt={class:"text-2xl"},kt={class:"text-xs opacity-70 font-mono"},bt={key:0},Dt={class:"text-xs opacity-70 font-mono"},It={key:0},At={class:"mt-5 flex-1"},Bt=y({__name:"AutoCaliDetail",setup(z){const h=dt(),{sessionInfo:e}=G(h),{t:p,locale:b}=J(),f=P(),D=O(),m=H(),R=i=>{var l;D.push({name:i,query:{...f.query,space_id:(l=e.value)==null?void 0:l.space_id}})},K=()=>{D.push({name:"autoCaliList",query:{device_group_name:f.query.device_group_name}})},I=async()=>{var v;const[i,l]=await pt({session_id:+f.query.session_id});!i&&(l==null?void 0:l.status)===0&&(e.value=l.data,((v=l.data)==null?void 0:v.status)!==it.RUNNING&&A())},$=H(),{start:L,stop:A,runing:U}=_t(I,{isManual:!0});return W(()=>{ct(()=>{A()})}),V(()=>f.query.session_id,i=>{i&&i!==$.value&&!U.value&&(I(),L())},{immediate:!0}),V(f,i=>{m.value=i.name},{deep:!0,immediate:!0}),(i,l)=>{const v=ot,M=Z,C=at,j=et,F=lt,Q=X("router-view");return c(),_("div",wt,[a("div",null,[r(F,{type:"card",animated:"",class:"!h-full !w-auto",value:t(m),"onUpdate:value":l[0]||(l[0]=d=>st(m)?m.value=d:null),onUpdateValue:R},{prefix:o(()=>[r(v,{onClick:K,quaternary:"",class:"!w-[140px] !justify-start !text-left"},{icon:o(()=>[r(t(x),{size:"26"},{default:o(()=>[r(t(ft))]),_:1})]),default:o(()=>[a("span",null,u(t(p)("groupDetail.autoCali.back")),1)]),_:1})]),suffix:o(()=>[t(tt)(t(e))?w("",!0):(c(),g(j,{key:0,"show-icon":!1,type:"info",class:"h-[42px] py-1"},{default:o(()=>{var d,B,N;return[a("div",yt,[a("div",zt,[a("div",Mt,u((d=t(e))==null?void 0:d.task_name),1),r(C,{type:"warning",size:"large"},{default:o(()=>{var n;return[k("Session "+u((n=t(e))==null?void 0:n.session_id),1)]}),_:1}),r(C,{type:"primary",size:"large"},{default:o(()=>{var n;return[k(u((n=t(e))==null?void 0:n.space_name),1)]}),_:1}),r(C,{size:"large"},{default:o(()=>{var n,S;return[a("div",kt,[a("span",{class:Y(["inline-block",[t(b)==="cn"?"w-8":"w-12"]])},u(t(p)("groupDetail.autoCali.start"))+":  ",3),(n=t(e))!=null&&n.start_time?(c(),_("span",bt,u(t(q)(t(e).start_time*1e3).format("YYYY-MM-DD HH:mm:ss")),1)):w("",!0)]),a("div",Dt,[a("span",{class:Y(["inline-block",[t(b)==="cn"?"w-8":"w-12"]])},u(t(p)("groupDetail.autoCali.end"))+":  ",3),(S=t(e))!=null&&S.end_time?(c(),_("span",It,u(t(q)(t(e).end_time*1e3).format("YYYY-MM-DD HH:mm:ss")),1)):w("",!0)])]}),_:1}),(B=t(e))!=null&&B.status?(c(),g(C,{key:0,color:{color:t(T)[(N=t(e))==null?void 0:N.status].color,textColor:"#fff"},size:"large"},{default:o(()=>{var n;return[k(u(t(p)(t(T)[(n=t(e))==null?void 0:n.status].text)),1)]}),_:1},8,["color"])):w("",!0)])])]}),_:1}))]),default:o(()=>[r(M,{name:"autoCaliConfig",tab:s("div",{class:"flex items-center gap-2 h-8"},[s("div",{class:"flex"},s(t(x),{size:20,component:t(mt)})),s("div",t(p)("groupDetail.autoCali.config"))])},null,8,["tab"]),r(M,{name:"autoCaliProcess",tab:s("div",{class:"flex items-center gap-2"},[s("div",{class:"flex"},s(t(x),{size:20,component:t(gt)})),s("div",t(p)("groupDetail.autoCali.process"))])},null,8,["tab"]),r(M,{name:"autoCaliEntity",tab:s("div",{class:"flex items-center gap-2"},[s("div",{class:"flex"},s(t(x),{size:20,component:t(Ct)})),s("div",t(p)("groupDetail.autoCali.entity"))])},null,8,["tab"])]),_:1},8,["value"]),a("div",At,[r(Q,null,{default:o(({Component:d})=>[(c(),g(nt,null,[(c(),g(rt(d),{key:i.$route.path}))],1024))]),_:1})])])])}}}),qt=ut(Bt,[["__scopeId","data-v-9c78cbbf"]]);export{qt as default};
