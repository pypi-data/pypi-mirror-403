import{d as C,b as z,e as S,f as p,i as n,ac as x,l as e,ax as I,h as s,t as i,ay as T,C as V,az as j,ab as d,w as a,aA as O,s as l,N as q,O as E,aB as K,aC as L,as as R,aD as H,aE as J,aF as M,aG as $,aH as P,a3 as W,a5 as Q,aI as U,aJ as X,aK as Y}from"./index-DJskbzIk.js";import{u as Z}from"./useInterval-CS7hQKQu.js";import{u as ee}from"./groupDetail-grzpJhg1.js";import{N as te}from"./Badge-BWKxQG2c.js";import{_ as oe,a as se}from"./BreadcrumbItem-B0PCod7V.js";import{A as ae}from"./AppsListDetail24Filled-BGRUPGEn.js";const ne={class:"inline-flex items-center gap-2 min-w-8"},re={key:0},ce={class:"text-sm break-keep"},ie=C({__name:"StatusBadge",props:{status:{}},setup(D){const{t:f}=z();return(_,t)=>{var m,k,y;return p(),S("div",ne,[n(e(te),{dot:"",type:(m=e(I)[_.status])==null?void 0:m.type,color:(k=e(I)[_.status])==null?void 0:k.color},null,8,["type","color"]),(y=e(I)[_.status])!=null&&y.text?(p(),S("span",re,[s("span",ce,i(e(f)(e(I)[_.status].text)),1)])):x("",!0)])}}}),pe={class:"flex justify-between gap-4"},_e={class:"z-breadcrumb-item__link"},ue={class:"z-breadcrumb-item__link !cursor-pointer"},le={class:"min-w-[400px]"},me={class:"z-breadcrumb-item__link !cursor-pointer"},de={class:"min-w-[300px]"},fe={class:"flex mb-2 justify-between items-center gap-2"},ge={class:"font-bold inline-flex items-center gap-2"},ve={class:"text-xs opacity-70 italic"},be={class:"flex justify-end items-center gap-5"},he=C({__name:"GroupInfo",setup(D){T();const{t:f}=z(),_=V(),t=ee(),m=j();Z(async()=>{const u=_.query.device_group_name;if(!u)return;const[r,c]=await P({device_group_name:u});if(!r&&(c==null?void 0:c.status)===0){const{space_list:g,...v}=c.data,w=[];t.groupInfo=v,W(g,b=>{w.push({...b||{},label:b.space_name,value:b.space_id})}),t.spaceList=w,m.groupDetailFetched=!0}});const y=u=>{var r,c;(r=t.groupInfo)!=null&&r.organization_id&&window.open(`/deviceGroup?org=${(c=t.groupInfo)==null?void 0:c.organization_id}`,$(u))},B=u=>{const r=_.query.device_group_name;r&&window.open(`/groupDetail/overview?device_group_name=${r}`,$(u))};return(u,r)=>{const c=q,g=O,v=se,w=R,b=J,A=oe,F=M;return p(),d(F,{type:"info","show-icon":!1,class:"!py-0 !px-4"},{default:a(()=>{var G;return[s("div",pe,[n(A,{separator:">"},{default:a(()=>[n(v,{onClick:r[0]||(r[0]=o=>y(o))},{default:a(()=>[s("span",_e,[n(g,{"show-arrow":!1,placement:"bottom-start"},{trigger:a(()=>{var o;return[s("div",null,[n(c,{component:e(E)},null,8,["component"]),l(" "+i((o=e(t).groupInfo)==null?void 0:o.organization_name),1)])]}),default:a(()=>[l(" "+i(e(f)("expInfo.org")),1)]),_:1})])]),_:1}),n(v,{onClick:r[1]||(r[1]=o=>B(o))},{default:a(()=>[s("span",ue,[n(g,{"show-arrow":!1,placement:"bottom-start",delay:500},{trigger:a(()=>{var o;return[s("div",null,[n(c,{component:e(L)},null,8,["component"]),l(" "+i((o=e(t).groupInfo)==null?void 0:o.device_group_name),1)])]}),default:a(()=>[s("div",le,[e(t).groupInfo?(p(),d(K,{key:0,card:e(t).groupInfo},null,8,["card"])):x("",!0)])]),_:1})])]),_:1}),e(t).curSpace?(p(),d(v,{key:0},{default:a(()=>[s("span",me,[n(g,{"show-arrow":!1,placement:"bottom-start",delay:500},{trigger:a(()=>{var o;return[s("div",null,[n(c,{component:e(ae)},null,8,["component"]),l(" "+i((o=e(t).curSpace)==null?void 0:o.space_name),1)])]}),default:a(()=>{var o,N;return[s("div",de,[s("div",fe,[s("div",ge,[n(w,{size:"tiny",color:{textColor:"#fff",color:"#CA00FF"}},{default:a(()=>{var h;return[l("#"+i((h=e(t).curSpace)==null?void 0:h.space_id),1)]}),_:1}),l(" "+i((o=e(t).curSpace)==null?void 0:o.space_name),1)]),s("div",ve,i(e(H)((N=e(t).curSpace)==null?void 0:N.create_time)),1)]),n(b,{class:"text-xs opacity-70 italic","line-clamp":1},{default:a(()=>{var h;return[l(i((h=e(t).curSpace)==null?void 0:h.description),1)]}),_:1})])]}),_:1})])]),_:1})):x("",!0)]),_:1}),s("div",be,[(G=e(t).groupInfo)!=null&&G.status?(p(),d(ie,{key:0,status:e(t).groupInfo.status},null,8,["status"])):x("",!0)])])]}),_:1})}}}),ye=Q(he,[["__scopeId","data-v-6f8d53b2"]]),we={class:"mt-5"},Ge=C({__name:"GroupDetail",setup(D){return(f,_)=>{const t=U("router-view");return p(),S("div",null,[n(ye),s("div",we,[n(t,null,{default:a(({Component:m})=>[(p(),d(X,null,[(p(),d(Y(m),{key:f.$route.path}))],1024))]),_:1})])])}}});export{Ge as default};
