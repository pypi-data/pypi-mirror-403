import{d as T,I as R,cQ as We,G as ae,u as D,P as ie,e as z,f as i,h as a,b as Q,r as v,o as re,ab as V,Z as ve,l as e,Y as Z,w as n,i as t,U as se,W as oe,k as xe,m as ke,n as Ue,p as Ee,X as ce,B as W,t as g,D as Ze,A as Ke,ep as Qe,ad as E,aa as Pe,N as O,s as h,aF as Ce,ap as he,bg as Xe,aE as pe,E as de,cb as Ye,a5 as Je,a as Be,K as be,ac as J,T as Te,am as et,as as N,at as Ae,bu as tt,a6 as Le,dd as $e,j as ze,au as we,aN as Me,al as ue,aq as nt,v as He,R as Ie,aO as Ve,az as Oe,L as lt,F as ye,aM as st,bw as Se,aC as ot,eq as at,av as it,aw as rt}from"./index-DJskbzIk.js";import{C as ut}from"./CommingSoon-DLYSBCEt.js";import{D as ct}from"./Delete24Regular-DrP9EFqh.js";import{_ as dt}from"./Split-C27Gs15e.js";import{_ as pt,C as Re,V as _t}from"./Version-DcyJ0WUI.js";import{_ as ft}from"./PaginationView.vue_vue_type_script_setup_true_lang-C5I4MAUI.js";import{L as _e}from"./LogoPython-BAC514MY.js";import{s as mt,r as gt,_ as vt}from"./RadioGroup-DFjU_ho_.js";import{_ as Ge}from"./DataTable-BkhITQT9.js";import"./index-CljUi5cZ.js";import{A as ht}from"./Add-B9E6ooHy.js";import"./Image-CjHsT37c.js";import"./download-C2161hUv.js";import"./Pagination-MzAc_u8k.js";import"./prop-NnGblK-3.js";import"./Checkbox-B0NmEvB4.js";const yt=T({name:"RadioButton",props:gt,setup:mt,render(){const{mergedClsPrefix:u}=this;return R("label",{class:[`${u}-radio-button`,this.mergedDisabled&&`${u}-radio-button--disabled`,this.renderSafeChecked&&`${u}-radio-button--checked`,this.focus&&[`${u}-radio-button--focus`]]},R("input",{ref:"inputRef",type:"radio",class:`${u}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),R("div",{class:`${u}-radio-button__state-border`}),We(this.$slots.default,y=>!y&&!this.label?null:R("div",{ref:"labelRef",class:`${u}-radio__label`},y||this.label)))}});function wt(u){return ae(D.getPluginList,u)}function xt(){return ae(D.getLocalPluginList)}function kt(u){return ie(D.createPlugin,u)}function Fe(u){return ae(D.getPluginVersions,u)}function Ct(u){return ie(D.packagePlugin,u)}function bt(u){return ae(D.installPlugin,u)}function Lt(u){return ae(D.unInstallPlugin,u)}function $t(u){return ie(D.globalVisible,u)}function zt(u){return ie(D.updatePlugin,u)}function Mt(u){return ae(D.getPluginConfig,u)}const Vt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Pt=T({name:"Close",render:function(y,l){return i(),z("svg",Vt,l[0]||(l[0]=[a("path",{d:"M289.94 256l95-95A24 24 0 0 0 351 127l-95 95l-95-95a24 24 0 0 0-34 34l95 95l-95 95a24 24 0 1 0 34 34l95-95l95 95a24 24 0 0 0 34-34z",fill:"currentColor"},null,-1)]))}}),It={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},St=T({name:"Play",render:function(y,l){return i(),z("svg",It,l[0]||(l[0]=[a("path",{d:"M133 440a35.37 35.37 0 0 1-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0 1 35.77.45l247.85 148.36a36 36 0 0 1 0 61l-247.89 148.4A35.5 35.5 0 0 1 133 440z",fill:"currentColor"},null,-1)]))}}),Rt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},Ut=T({name:"Map",render:function(y,l){return i(),z("svg",Rt,l[0]||(l[0]=[a("path",{d:"M16 24l-6.09-8.6A8.14 8.14 0 0 1 16 2a8.08 8.08 0 0 1 8 8.13a8.2 8.2 0 0 1-1.8 5.13zm0-20a6.07 6.07 0 0 0-6 6.13a6.19 6.19 0 0 0 1.49 4L16 20.52L20.63 14A6.24 6.24 0 0 0 22 10.13A6.07 6.07 0 0 0 16 4z",fill:"currentColor"},null,-1),a("circle",{cx:"16",cy:"9",r:"2",fill:"currentColor"},null,-1),a("path",{d:"M28 12h-2v2h2v14H4V14h2v-2H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V14a2 2 0 0 0-2-2z",fill:"currentColor"},null,-1)]))}}),Bt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},Tt=T({name:"Package",render:function(y,l){return i(),z("svg",Bt,l[0]||(l[0]=[a("path",{d:"M26 30H6a2 2 0 0 1-2-2V16a2 2 0 0 1 2-2h3v2H6v12h20V16h-3v-2h3a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2z",fill:"currentColor"},null,-1),a("path",{d:"M13 20h6v2h-6z",fill:"currentColor"},null,-1),a("path",{d:"M20.59 8.59L17 12.17V2h-2v10.17l-3.59-3.58L10 10l6 6l6-6l-1.41-1.41z",fill:"currentColor"},null,-1)]))}}),At={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},Ht=T({name:"SwapOutlined",render:function(y,l){return i(),z("svg",At,l[0]||(l[0]=[a("path",{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z",fill:"currentColor"},null,-1)]))}}),Ot={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 12 12"},Gt=T({name:"Add12Regular",render:function(y,l){return i(),z("svg",Ot,l[0]||(l[0]=[a("g",{fill:"none"},[a("path",{d:"M6 1.5a.5.5 0 0 0-1 0V5H1.5a.5.5 0 0 0 0 1H5v3.5a.5.5 0 0 0 1 0V6h3.5a.5.5 0 0 0 0-1H6V1.5z",fill:"currentColor"})],-1)]))}}),Ft={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},qt=T({name:"UninstallApp24Regular",render:function(y,l){return i(),z("svg",Ft,l[0]||(l[0]=[a("g",{fill:"none"},[a("path",{d:"M21.695 15.147l.084.072a.75.75 0 0 1 .072.977l-.072.084l-2.22 2.219l2.22 2.22a.75.75 0 0 1 .072.976l-.072.084a.75.75 0 0 1-.977.072l-.084-.072l-2.22-2.22l-2.218 2.22a.75.75 0 0 1-.976.072l-.085-.072a.75.75 0 0 1-.072-.977l.072-.084l2.219-2.22l-2.218-2.218a.75.75 0 0 1-.073-.976l.072-.085a.75.75 0 0 1 .977-.072l.084.072l2.219 2.219l2.22-2.218a.75.75 0 0 1 .976-.073zM18.75 3A2.25 2.25 0 0 1 21 5.25v5.25a2.25 2.25 0 0 1-2.25 2.25h-6v6A2.25 2.25 0 0 1 10.5 21H5.25A2.25 2.25 0 0 1 3 18.75V5.25A2.25 2.25 0 0 1 5.25 3h13.5zm-7.5 9.749H4.5v6.001c0 .414.336.75.75.75h5.25a.75.75 0 0 0 .75-.75v-6.001zm7.5-8.249h-6v6.75h6a.75.75 0 0 0 .75-.75V5.25a.75.75 0 0 0-.75-.75zm-7.5 0h-6a.75.75 0 0 0-.75.75v5.999l6.75.001V4.5z",fill:"currentColor"})],-1)]))}}),jt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},qe=T({name:"GeneratingTokensOutlined",render:function(y,l){return i(),z("svg",jt,l[0]||(l[0]=[a("path",{d:"M9 4c-4.42 0-8 3.58-8 8s3.58 8 8 8s8-3.58 8-8s-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6s6 2.69 6 6s-2.69 6-6 6zm3-7.5h-2v5H8v-5H6V9h6v1.5zm8.25-6.75L23 5l-2.75 1.25L19 9l-1.25-2.75L15 5l2.75-1.25L19 1l1.25 2.75zm0 14L23 19l-2.75 1.25L19 23l-1.25-2.75L15 19l2.75-1.25L19 15l1.25 2.75z",fill:"currentColor"},null,-1)]))}}),Nt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Dt=T({name:"InsertDriveFileOutlined",render:function(y,l){return i(),z("svg",Nt,l[0]||(l[0]=[a("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z",fill:"currentColor"},null,-1)]))}}),Wt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},je=T({name:"InstallDesktopFilled",render:function(y,l){return i(),z("svg",Wt,l[0]||(l[0]=[a("path",{d:"M20 17H4V5h8V3H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h4v2h8v-2h4c1.1 0 2-.9 2-2v-3h-2v3z",fill:"currentColor"},null,-1),a("path",{d:"M17 14l5-5l-1.41-1.41L18 10.17V3h-2v7.17l-2.59-2.58L12 9z",fill:"currentColor"},null,-1)]))}}),Et={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Zt=T({name:"UpgradeFilled",render:function(y,l){return i(),z("svg",Et,l[0]||(l[0]=[a("path",{d:"M16 18v2H8v-2h8zM11 7.99V16h2V7.99h3L12 4L8 7.99h3z",fill:"currentColor"},null,-1)]))}}),Kt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 384 512"},fe=T({name:"Apple",render:function(y,l){return i(),z("svg",Kt,l[0]||(l[0]=[a("path",{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8c-18.8-26.9-47.2-41.7-84.7-44.6c-35.5-2.8-74.3 20.7-88.5 20.7c-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2c25.2-.6 43-17.9 75.8-17.9c31.8 0 48.3 17.9 76.4 17.9c48.6-.7 90.4-82.5 102.6-119.3c-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5c-24.1 1.4-52 16.4-67.9 34.9c-17.5 19.8-27.8 44.3-25.6 71.9c26.1 2 49.9-11.4 69.5-34.3z",fill:"currentColor"},null,-1)]))}}),Qt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},me=T({name:"Linux",render:function(y,l){return i(),z("svg",Qt,l[0]||(l[0]=[a("path",{d:"M220.8 123.3c1 .5 1.8 1.7 3 1.7c1.1 0 2.8-.4 2.9-1.5c.2-1.4-1.9-2.3-3.2-2.9c-1.7-.7-3.9-1-5.5-.1c-.4.2-.8.7-.6 1.1c.3 1.3 2.3 1.1 3.4 1.7zm-21.9 1.7c1.2 0 2-1.2 3-1.7c1.1-.6 3.1-.4 3.5-1.6c.2-.4-.2-.9-.6-1.1c-1.6-.9-3.8-.6-5.5.1c-1.3.6-3.4 1.5-3.2 2.9c.1 1 1.8 1.5 2.8 1.4zM420 403.8c-3.6-4-5.3-11.6-7.2-19.7c-1.8-8.1-3.9-16.8-10.5-22.4c-1.3-1.1-2.6-2.1-4-2.9c-1.3-.8-2.7-1.5-4.1-2c9.2-27.3 5.6-54.5-3.7-79.1c-11.4-30.1-31.3-56.4-46.5-74.4c-17.1-21.5-33.7-41.9-33.4-72C311.1 85.4 315.7.1 234.8 0C132.4-.2 158 103.4 156.9 135.2c-1.7 23.4-6.4 41.8-22.5 64.7c-18.9 22.5-45.5 58.8-58.1 96.7c-6 17.9-8.8 36.1-6.2 53.3c-6.5 5.8-11.4 14.7-16.6 20.2c-4.2 4.3-10.3 5.9-17 8.3s-14 6-18.5 14.5c-2.1 3.9-2.8 8.1-2.8 12.4c0 3.9.6 7.9 1.2 11.8c1.2 8.1 2.5 15.7.8 20.8c-5.2 14.4-5.9 24.4-2.2 31.7c3.8 7.3 11.4 10.5 20.1 12.3c17.3 3.6 40.8 2.7 59.3 12.5c19.8 10.4 39.9 14.1 55.9 10.4c11.6-2.6 21.1-9.6 25.9-20.2c12.5-.1 26.3-5.4 48.3-6.6c14.9-1.2 33.6 5.3 55.1 4.1c.6 2.3 1.4 4.6 2.5 6.7v.1c8.3 16.7 23.8 24.3 40.3 23c16.6-1.3 34.1-11 48.3-27.9c13.6-16.4 36-23.2 50.9-32.2c7.4-4.5 13.4-10.1 13.9-18.3c.4-8.2-4.4-17.3-15.5-29.7zM223.7 87.3c9.8-22.2 34.2-21.8 44-.4c6.5 14.2 3.6 30.9-4.3 40.4c-1.6-.8-5.9-2.6-12.6-4.9c1.1-1.2 3.1-2.7 3.9-4.6c4.8-11.8-.2-27-9.1-27.3c-7.3-.5-13.9 10.8-11.8 23c-4.1-2-9.4-3.5-13-4.4c-1-6.9-.3-14.6 2.9-21.8zM183 75.8c10.1 0 20.8 14.2 19.1 33.5c-3.5 1-7.1 2.5-10.2 4.6c1.2-8.9-3.3-20.1-9.6-19.6c-8.4.7-9.8 21.2-1.8 28.1c1 .8 1.9-.2-5.9 5.5c-15.6-14.6-10.5-52.1 8.4-52.1zm-13.6 60.7c6.2-4.6 13.6-10 14.1-10.5c4.7-4.4 13.5-14.2 27.9-14.2c7.1 0 15.6 2.3 25.9 8.9c6.3 4.1 11.3 4.4 22.6 9.3c8.4 3.5 13.7 9.7 10.5 18.2c-2.6 7.1-11 14.4-22.7 18.1c-11.1 3.6-19.8 16-38.2 14.9c-3.9-.2-7-1-9.6-2.1c-8-3.5-12.2-10.4-20-15c-8.6-4.8-13.2-10.4-14.7-15.3c-1.4-4.9 0-9 4.2-12.3zm3.3 334c-2.7 35.1-43.9 34.4-75.3 18c-29.9-15.8-68.6-6.5-76.5-21.9c-2.4-4.7-2.4-12.7 2.6-26.4v-.2c2.4-7.6.6-16-.6-23.9c-1.2-7.8-1.8-15 .9-20c3.5-6.7 8.5-9.1 14.8-11.3c10.3-3.7 11.8-3.4 19.6-9.9c5.5-5.7 9.5-12.9 14.3-18c5.1-5.5 10-8.1 17.7-6.9c8.1 1.2 15.1 6.8 21.9 16l19.6 35.6c9.5 19.9 43.1 48.4 41 68.9zm-1.4-25.9c-4.1-6.6-9.6-13.6-14.4-19.6c7.1 0 14.2-2.2 16.7-8.9c2.3-6.2 0-14.9-7.4-24.9c-13.5-18.2-38.3-32.5-38.3-32.5c-13.5-8.4-21.1-18.7-24.6-29.9s-3-23.3-.3-35.2c5.2-22.9 18.6-45.2 27.2-59.2c2.3-1.7.8 3.2-8.7 20.8c-8.5 16.1-24.4 53.3-2.6 82.4c.6-20.7 5.5-41.8 13.8-61.5c12-27.4 37.3-74.9 39.3-112.7c1.1.8 4.6 3.2 6.2 4.1c4.6 2.7 8.1 6.7 12.6 10.3c12.4 10 28.5 9.2 42.4 1.2c6.2-3.5 11.2-7.5 15.9-9c9.9-3.1 17.8-8.6 22.3-15c7.7 30.4 25.7 74.3 37.2 95.7c6.1 11.4 18.3 35.5 23.6 64.6c3.3-.1 7 .4 10.9 1.4c13.8-35.7-11.7-74.2-23.3-84.9c-4.7-4.6-4.9-6.6-2.6-6.5c12.6 11.2 29.2 33.7 35.2 59c2.8 11.6 3.3 23.7.4 35.7c16.4 6.8 35.9 17.9 30.7 34.8c-2.2-.1-3.2 0-4.2 0c3.2-10.1-3.9-17.6-22.8-26.1c-19.6-8.6-36-8.6-38.3 12.5c-12.1 4.2-18.3 14.7-21.4 27.3c-2.8 11.2-3.6 24.7-4.4 39.9c-.5 7.7-3.6 18-6.8 29c-32.1 22.9-76.7 32.9-114.3 7.2zm257.4-11.5c-.9 16.8-41.2 19.9-63.2 46.5c-13.2 15.7-29.4 24.4-43.6 25.5s-26.5-4.8-33.7-19.3c-4.7-11.1-2.4-23.1 1.1-36.3c3.7-14.2 9.2-28.8 9.9-40.6c.8-15.2 1.7-28.5 4.2-38.7c2.6-10.3 6.6-17.2 13.7-21.1c.3-.2.7-.3 1-.5c.8 13.2 7.3 26.6 18.8 29.5c12.6 3.3 30.7-7.5 38.4-16.3c9-.3 15.7-.9 22.6 5.1c9.9 8.5 7.1 30.3 17.1 41.6c10.6 11.6 14 19.5 13.7 24.6zM173.3 148.7c2 1.9 4.7 4.5 8 7.1c6.6 5.2 15.8 10.6 27.3 10.6c11.6 0 22.5-5.9 31.8-10.8c4.9-2.6 10.9-7 14.8-10.4s5.9-6.3 3.1-6.6s-2.6 2.6-6 5.1c-4.4 3.2-9.7 7.4-13.9 9.8c-7.4 4.2-19.5 10.2-29.9 10.2s-18.7-4.8-24.9-9.7c-3.1-2.5-5.7-5-7.7-6.9c-1.5-1.4-1.9-4.6-4.3-4.9c-1.4-.1-1.8 3.7 1.7 6.5z",fill:"currentColor"},null,-1)]))}}),Xt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},ge=T({name:"Windows",render:function(y,l){return i(),z("svg",Xt,l[0]||(l[0]=[a("path",{d:"M0 93.7l183.6-25.3v177.4H0V93.7zm0 324.6l183.6 25.3V268.4H0v149.9zm203.8 28L448 480V268.4H203.8v177.9zm0-380.6v180.1H448V32L203.8 65.7z",fill:"currentColor"},null,-1)]))}}),Yt={key:0},Jt={key:1},Ne=T({__name:"CreatePlugin",emits:["success"],setup(u,{expose:y,emit:l}){const p=l,{t:C}=Q(),b=v(),w=v(!1),c=v(),_=v({plugin_name:void 0,description:void 0,must_be_installed:!1,auto_upgrade:!1,manager_user_ids:void 0,org_ids:void 0}),x={plugin_name:{required:!0,message:"common.required"},description:{required:!0,message:"common.required"},must_be_installed:{required:!0,message:"common.required"},auto_upgrade:{required:!0,message:"common.required"}},S=v(!1),P=()=>{S.value=!1,_.value={plugin_name:void 0,description:void 0,must_be_installed:!1,auto_upgrade:!1,manager_user_ids:void 0,org_ids:void 0}},f=A=>{A||P()},k=async()=>{const[A,r]=await kt({..._.value,manager_user_ids:[],org_ids:_.value.org_ids||[]});w.value=!1,!A&&r&&r.status===0&&setTimeout(()=>{P(),p("success")},100)},d=async()=>{const[A,r]=await zt({..._.value,manager_user_ids:[],org_ids:_.value.org_ids||[]});w.value=!1,!A&&r&&r.status===0&&setTimeout(()=>{P(),p("success")},100)},$=()=>{var A;w.value||(w.value=!0,(A=c.value)==null||A.validate(async r=>{if(r){w.value=!1;return}b.value==="update"?d():k()}))},U=v(),I=async()=>{var M,o;const[A,r]=await Ze();!A&&(r==null?void 0:r.status)===0&&(U.value=(o=(M=r==null?void 0:r.data)==null?void 0:M.organizations)==null?void 0:o.map(s=>({...s,label:s.organization_name,value:s.organization_id})))};return re(()=>{I()}),y({open:()=>S.value=!0,close:P,setValues:(A={})=>{_.value={..._.value,...A}},setType:A=>{b.value=A}}),(A,r)=>{const M=Ue,o=ke,s=Ee,B=xe,H=W,X=ve;return i(),V(X,{show:e(S),"onUpdate:show":r[3]||(r[3]=G=>Z(S)?S.value=G:null),"on-update:show":f,"auto-focus":!1},{default:n(()=>[t(se,{style:{width:"600px"}},{default:n(()=>[t(oe,null,{default:n(()=>[t(B,{ref_key:"formRef",ref:c,model:e(_),rules:x},{default:n(()=>[t(o,{label:e(C)("pluginCenter.pluginName"),path:"plugin_name"},{default:n(()=>[t(M,{disabled:e(b)==="update",value:e(_).plugin_name,"onUpdate:value":r[0]||(r[0]=G=>e(_).plugin_name=G),placeholder:e(C)("pluginCenter.pluginName")},null,8,["disabled","value","placeholder"])]),_:1},8,["label"]),t(o,{label:e(C)("pluginCenter.description"),path:"description"},{default:n(()=>[t(M,{type:"textarea",value:e(_).description,"onUpdate:value":r[1]||(r[1]=G=>e(_).description=G),placeholder:e(C)("pluginCenter.description")},null,8,["value","placeholder"])]),_:1},8,["label"]),t(o,{label:e(C)("pluginCenter.visibleRange"),path:"org_ids"},{default:n(()=>[t(s,{filterable:"",multiple:"",clearable:"",placeholder:e(C)("pluginCenter.rangeTips"),value:e(_).org_ids,"onUpdate:value":r[2]||(r[2]=G=>e(_).org_ids=G),options:e(U)},null,8,["placeholder","value","options"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1}),t(ce,{onCancel:P},{default:n(()=>[t(H,{type:"primary",loading:e(w),onClick:$},{default:n(()=>[e(b)==="update"?(i(),z("span",Yt,g(e(C)("pluginCenter.update")),1)):(i(),z("span",Jt,g(e(C)("pluginCenter.create")),1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["show"])}}}),en={class:"font-bold flex justify-between mt-1.5 pr-2"},tn={class:"h-full flex flex-col"},nn={class:"flex-1 flex items-center pl-2"},ln={class:"flex-1 py-3 pl-3"},sn={class:"whitespace-pre-line"},on={key:1,class:"h-full flex justify-center items-center"},an=T({__name:"PackageView",emits:["success"],setup(u,{expose:y,emit:l}){const p=l,{t:C}=Q(),b=Ke(),w=Qe("pathops",[]),c=v(),_=v(),x=v(!1),S=v(),P=v({plugin_dir:void 0}),f={plugin_dir:{required:!0,message:"common.required"}},k=v(!1),d=v(!1),$=()=>{d.value=!1,_.value=void 0},U=()=>{k.value=!1,_.value=void 0,P.value={plugin_dir:void 0}},I=()=>{const o=w.value||[];o.unshift(P.value.plugin_dir),w.value=[...new Set(o)]},q=async()=>{if(_.value=void 0,x.value||(x.value=!0,!c.value))return;const[o,s]=await Ct({plugin_dir:c.value});x.value=!1,!o&&(s==null?void 0:s.status)===1&&(_.value={type:"error",text:s.msg}),!o&&s&&s.status===0&&(_.value={type:"success",text:s==null?void 0:s.data},p("success"))},ee=()=>{var o;I(),c.value=(o=P.value)==null?void 0:o.plugin_dir,U()};re(()=>{Array.isArray(w.value)||(w.value=[])}),y({open:()=>{d.value=!0},close:$});const A=o=>{c.value===o.key&&de(()=>{setTimeout(()=>{c.value=void 0},200)}),w.value=Ye(w.value,o.label)},r=()=>{k.value=!0},M=o=>R("div",{className:"flex items-center gap-2"},[R(O,{onClick:()=>A(o),component:Dt}),R(pe,null,{default:()=>o.label}),R(O,{color:"#f00",style:"display: none",onClick:()=>A(o),component:ct})]);return(o,s)=>{const B=W,H=Xe,X=he,G=Ce,te=dt,F=ve,ne=Ue,Y=ke,m=xe;return i(),z(E,null,[t(F,{show:e(d),"onUpdate:show":s[1]||(s[1]=L=>Z(d)?d.value=L:null),"mask-closable":!1,"auto-focus":!1},{default:n(()=>[t(se,{style:{width:"1200px"}},{default:n(()=>[t(oe,null,{default:n(()=>[t(te,{min:.1,max:.75,"default-size":"200px"},{1:n(()=>[a("div",en,[h(g(e(C)("pluginCenter.plugin"))+" ",1),t(B,{type:"primary",size:"tiny",onClick:r},{icon:n(()=>[t(e(Gt))]),_:1})]),t(X,{style:{"max-height":"80vh","min-height":"500px"}},{default:n(()=>{var L;return[t(H,{indent:0,"collapsed-width":64,"collapsed-icon-size":22,options:(L=e(w))==null?void 0:L.map(j=>({label:j,key:j})),"render-label":M,value:e(c),"onUpdate:value":s[0]||(s[0]=j=>Z(c)?c.value=j:null)},null,8,["options","value"])]}),_:1})]),2:n(()=>[a("div",tn,[a("div",{class:"flex justify-end gap-2 pb-2 border-b",style:Pe({borderColor:e(b).dividerColor})},[a("div",nn,g(e(c)),1),t(B,{disabled:!e(c),type:"primary",loading:e(x),onClick:q},{icon:n(()=>[t(e(St))]),default:n(()=>[h(" "+g(e(C)("pluginCenter.package")),1)]),_:1},8,["disabled","loading"]),t(B,{type:"primary",onClick:$},{icon:n(()=>[t(e(Pt))]),_:1})],4),a("div",ln,[e(_)?(i(),V(G,{key:0,"show-icon":!1,type:e(_).type,class:"mb-5 max-h-48 overflow-y-auto"},{default:n(()=>[s[4]||(s[4]=a("div",null,"Result:",-1)),a("div",sn,g(e(_).text),1)]),_:1},8,["type"])):(i(),z("div",on,[t(ut,{class:"h-full"})]))])])]),"resize-trigger":n(()=>[a("div",{style:Pe({height:"100%",backgroundColor:e(b).dividerColor,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"8px"})},[t(e(O),{color:"white",size:16},{default:n(()=>[t(e(Ht))]),_:1})],4)]),_:1})]),_:1})]),_:1})]),_:1},8,["show"]),t(F,{show:e(k),"onUpdate:show":s[3]||(s[3]=L=>Z(k)?k.value=L:null),"mask-closable":!1,"auto-focus":!1},{default:n(()=>[t(se,{style:{width:"600px"}},{default:n(()=>[t(oe,null,{default:n(()=>[t(m,{ref_key:"formRef",ref:S,model:e(P),rules:f},{default:n(()=>[t(G,{class:"w-full mb-5",type:"info"},{default:n(()=>[h(g(e(C)("pluginCenter.packagePathPlaceholder")),1)]),_:1}),t(Y,{label:e(C)("pluginCenter.packagePath"),path:"plugin_dir"},{default:n(()=>[t(ne,{value:e(P).plugin_dir,"onUpdate:value":s[2]||(s[2]=L=>e(P).plugin_dir=L),clearable:""},null,8,["value"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1}),t(ce,{onCancel:U},{default:n(()=>[t(B,{type:"primary",loading:e(x),onClick:ee},{default:n(()=>[h(g(e(C)("common.OK")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["show"])],64)}}}),rn=Je(an,[["__scopeId","data-v-621731c1"]]),un="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='24.000000'%20height='24.000000'%20fill='none'%3e%3crect%20id='swap-box-fill'%20width='24.000000'%20height='24.000000'%20x='0.000000'%20y='0.000000'%20fill='rgb(255,255,255)'%20fill-opacity='0'%20/%3e%3cpath%20id='矢量%20100'%20d='M3%203L21%203C21.2652%203%2021.5196%203.10536%2021.7071%203.29289C21.8946%203.48043%2022%203.73478%2022%204L22%2020C22%2020.2652%2021.8946%2020.5196%2021.7071%2020.7071C21.5196%2020.8946%2021.2652%2021%2021%2021L3%2021C2.73478%2021%202.48043%2020.8946%202.29289%2020.7071C2.10536%2020.5196%202%2020.2652%202%2020L2%204C2%203.73478%202.10536%203.48043%202.29289%203.29289C2.48043%203.10536%202.73478%203%203%203L3%203ZM15%207L15%209L11%209L11%2011L15%2011L15%2013L18.5%2010L15%207ZM9%2017L9%2015L13%2015L13%2013L9%2013L9%2011L5.5%2014L9%2017Z'%20fill='rgb(99,226,183)'%20fill-rule='evenodd'%20/%3e%3c/svg%3e",cn="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='24.000000'%20height='24.000000'%20fill='none'%3e%3crect%20id='file-edit-fill'%20width='24.000000'%20height='24.000000'%20x='0.000000'%20y='0.000000'%20fill='rgb(255,255,255)'%20fill-opacity='0'%20/%3e%3cpath%20id='矢量%2044'%20d='M21%2015.243L21%2021.008C20.9997%2021.2712%2020.895%2021.5235%2020.7088%2021.7095C20.5226%2021.8955%2020.2702%2022%2020.007%2022L3.99302%2022C3.8617%2021.9991%203.73184%2021.9723%203.61087%2021.9212C3.48989%2021.8701%203.38017%2021.7957%203.28796%2021.7022C3.19575%2021.6087%203.12286%2021.4979%203.07346%2021.3762C3.02405%2021.2545%202.9991%2021.1243%203.00002%2020.993L3.00002%209L9.00002%209C9.26524%209%209.51959%208.89464%209.70713%208.70711C9.89467%208.51957%2010%208.26522%2010%208L10%202L20.002%202C20.553%202%2021%202.455%2021%202.992L21%206.757L12.001%2015.757L11.995%2019.995L16.241%2020.001L21%2015.243ZM21.778%208.808L23.192%2010.222L15.414%2018L13.998%2017.998L14%2016.586L21.778%208.808L21.778%208.808ZM3.00002%207L8.00002%202.003L8.00002%207L3.00002%207Z'%20fill='rgb(99,226,183)'%20fill-rule='evenodd'%20/%3e%3c/svg%3e",dn={class:"absolute top-0 right-0 inline-flex items-center gap-1"},pn=["src"],_n=["src"],fn=T({__name:"ActionView",props:{cfg:{},uid:{},id:{},visible:{type:Boolean}},emits:["visible:success","refresh"],setup(u,{emit:y}){const l=Be(),p=be(),{t:C}=Q(),b=v(),w=y,c=u,_=v(!1),x=async()=>{const[d,$]=await $t({plugin_id:c.id,visible:!c.visible});!d&&($==null?void 0:$.status)===0&&(p.success(C("pluginCenter.setupSuccess")),w("visible:success"))},S=v(!1),P=async()=>{const[d,$]=await Mt({plugin_id:c.id});if(!d&&($==null?void 0:$.status)===0)return $.data.org_list},f=async()=>{const d=await P();S.value=!0,de(()=>{setTimeout(()=>{var $,U,I;($=b.value)==null||$.open(),(U=b.value)==null||U.setValues({plugin_name:c.cfg.plugin_name,plugin_id:c.cfg.plugin_id,description:c.cfg.description,must_be_installed:c.cfg.must_be_installed,auto_upgrade:c.cfg.auto_upgrade,manager_user_ids:void 0,org_ids:d==null?void 0:d.map(q=>q.organization_id)}),(I=b.value)==null||I.setType("update")},100)})},k=()=>{w("refresh")};return(d,$)=>{var I,q;const U=Te;return i(),z(E,null,[a("div",dn,[e(_)?(i(),V(U,{key:0,placement:"top-start",trigger:"hover"},{trigger:n(()=>[a("img",{class:"w-5 cursor-pointer",src:e(un),alt:"",onClick:x},null,8,pn)]),default:n(()=>[h(" "+g(e(C)("pluginCenter.visibleTips")),1)]),_:1})):J("",!0),((I=e(l).info)==null?void 0:I.user_id)===d.uid||(q=e(l).info)!=null&&q.is_sys_admin?(i(),V(U,{key:1,placement:"top-start",trigger:"hover"},{trigger:n(()=>[a("img",{class:"w-5 cursor-pointer",src:e(cn),alt:"",onClick:f},null,8,_n)]),default:n(()=>[h(" "+g(e(C)("pluginCenter.edit")),1)]),_:1})):J("",!0)]),e(S)?(i(),V(Ne,{key:0,ref_key:"createPluginRef",ref:b,onSuccess:k},null,512)):J("",!0)],64)}}}),De=T({__name:"UploadFile",props:{url:{},custom:{type:Boolean},max:{},showList:{type:Boolean}},emits:["success","updateFile"],setup(u,{emit:y}){const{t:l}=Q(),p=u,C=y,b=be(),w=async({file:c,data:_,onFinish:x,onError:S,onProgress:P})=>{const f=new FormData;if(_&&Object.keys(_).forEach($=>{f.append($,_[$])}),f.append("plugin_file",c.file),p.custom){x(),C("updateFile",f);return}const[k,d]=await ie(p.url,f,{headers:{"Content-Type":"multipart/form-data"}});!k&&(d==null?void 0:d.status)===0?(x(),C("success"),b.success(l("pluginCenter.uploadSuccessfully"))):S()};return(c,_)=>{const x=pt;return i(),V(x,{"custom-request":w,"show-file-list":c.showList,max:c.max},{default:n(()=>[et(c.$slots,"default")]),_:3},8,["show-file-list","max"])}}}),mn={class:"flex-1 text-base font-medium flex gap-2 items-center"},gn={class:"flex items-center gap-1"},vn={class:"flex items-center gap-1"},hn=T({__name:"VersionList",props:{pluginId:{}},setup(u,{expose:y}){const{t:l}=Q(),p=be(),C=u,b=v(!1),w=[{title:l("pluginCenter.version"),key:"full_version_code",width:100},{title:l("pluginCenter.updateDesc"),key:"update_description"},{title:l("pluginCenter.hooks"),key:"hook",render:o=>o.hook||"-"},{title:l("pluginCenter.createTime"),key:"create_time",minWidth:100,render:o=>o.create_time?new Date(o.create_time).toLocaleString():"-"},{title:l("pluginCenter.osType"),key:"os_type",width:110,render:o=>{const s={MacOS:fe,Linux:me,Windows:ge};return R(N,{type:"warning",bordered:!1},{default:()=>R("div",{class:"flex items-center gap-1 min-w-[84px] justify-center"},[R(O,{component:o.os_type?s[o.os_type]:qe}),R("span",o.os_type||"General")])})}},{title:l("pluginCenter.pyversion"),key:"python_version",render:o=>R(N,{type:"primary",bordered:!1},{default:()=>R("div",{class:"flex items-center gap-1 min-w-[84px] justify-center"},[R(O,{component:_e}),R("span",o.python_version||"General")])})}],c=Ae({page:1,per_page:tt,total:0}),_=v(),x=v(),S=async()=>{if(!C.pluginId||!b.value)return;const[o,s]=await Fe({...we(c),plugin_id:C.pluginId});!o&&s&&s.status===0&&(_.value=s.data.list.filter(B=>B.os_type===s.data.os_type&&B.python_version===s.data.python_version||!B.os_type||!B.python_version),x.value={os_type:s.data.os_type,python_version:s.data.python_version},c.total=s.data.total)},P=o=>{o||f()},f=()=>{b.value=!1};Le(()=>C.pluginId,o=>{o&&S()});const k=()=>{c.page=1,de(()=>{S()})};y({open:()=>b.value=!0,close:f,fetchList:S});const d=v(!1),$=v({file:{required:!0,message:l("common.required")}}),U=v(),I=v({os_type:"General",python_version:"General",file:void 0}),q=()=>{d.value=!1,I.value={os_type:"General",python_version:"General",file:void 0}},ee=o=>{o||q()},A=()=>{d.value=!0},r=v(!1),M=()=>{U.value.validate(async o=>{if(o||r.value)return;r.value=!0;const s=I.value.file;if(!s)return;I.value.os_type&&I.value.os_type!=="General"&&s.append("os_type",I.value.os_type||""),I.value.python_version&&I.value.python_version!=="General"&&s.append("python_version",I.value.python_version||"");const[B,H]=await ie(D.uploadVersion,s,{headers:{"Content-Type":"multipart/form-data"}});r.value=!1,!B&&(H==null?void 0:H.status)===0&&(p.success(l("pluginCenter.uploadSuccessfully")),S(),q())})};return(o,s)=>{const B=ze,H=W,X=Ce,G=Ge,te=ve,F=yt,ne=vt,Y=ke,m=xe;return i(),z(E,null,[t(te,{show:e(b),"onUpdate:show":s[1]||(s[1]=L=>Z(b)?b.value=L:null),"on-update:show":P,"auto-focus":!1},{default:n(()=>[t(se,{style:{width:"80vw"}},{default:n(()=>[t(oe,null,{default:n(()=>[t(X,{type:"info","show-icon":!1,class:"!my-4"},{default:n(()=>[t($e,{title:e(l)("pluginCenter.versions"),classes:"h-auto"},{extra:n(()=>[a("div",null,[t(H,{type:"primary",onClick:A},{icon:n(()=>[t(e(Re))]),default:n(()=>[h(" "+g(e(l)("pluginCenter.upload")),1)]),_:1})])]),default:n(()=>[t(B,{vertical:""}),a("div",mn,[t(e(N),{type:"warning",bordered:!1},{default:n(()=>{var L,j,K,le;return[a("div",gn,[((L=e(x))==null?void 0:L.os_type)==="MacOS"?(i(),V(e(O),{key:0,component:e(fe)},null,8,["component"])):((j=e(x))==null?void 0:j.os_type)==="Linux"?(i(),V(e(O),{key:1,component:e(me)},null,8,["component"])):((K=e(x))==null?void 0:K.os_type)==="Windows"?(i(),V(e(O),{key:2,component:e(ge)},null,8,["component"])):J("",!0),h(" "+g((le=e(x))==null?void 0:le.os_type),1)])]}),_:1}),t(e(N),{type:"primary",bordered:!1},{default:n(()=>{var L;return[a("div",vn,[t(e(O),{component:e(_e)},null,8,["component"]),h(" "+g((L=e(x))==null?void 0:L.python_version),1)])]}),_:1})])]),_:1},8,["title"])]),_:1}),t(G,{columns:w,data:e(_),pagination:!1,"scroll-x":1e3},null,8,["data"]),t(ft,{"page-info":e(c),"onUpdate:pageInfo":s[0]||(s[0]=L=>Z(c)?c.value=L:null),onUpdateList:S},null,8,["page-info"])]),_:1}),t(ce,{onCancel:f})]),_:1})]),_:1},8,["show"]),t(te,{show:e(d),"onUpdate:show":[s[5]||(s[5]=L=>Z(d)?d.value=L:null),ee],"auto-focus":!1},{default:n(()=>[t(se,{style:{width:"500px"}},{default:n(()=>[t(oe,null,{default:n(()=>[t(m,{model:e(I),ref_key:"formRef",ref:U,rules:e($)},{default:n(()=>[t(Y,{label:e(l)("pluginCenter.osType"),path:"os_type"},{default:n(()=>[t(ne,{value:e(I).os_type,"onUpdate:value":s[2]||(s[2]=L=>e(I).os_type=L),name:"os_type",size:"medium"},{default:n(()=>[(i(),V(F,{key:"General",value:"General",class:"text-center w-[113px]"},{default:n(()=>s[6]||(s[6]=[h(" General ")])),_:1})),(i(),V(F,{key:"Windows",value:"Windows",class:"text-center w-[113px]"},{default:n(()=>s[7]||(s[7]=[h(" Windows ")])),_:1})),(i(),V(F,{key:"Linux",value:"Linux",class:"text-center w-[113px]"},{default:n(()=>s[8]||(s[8]=[h(" Linux ")])),_:1})),(i(),V(F,{key:"MacOS",value:"MacOS",class:"text-center w-[113px]"},{default:n(()=>s[9]||(s[9]=[h(" MacOS ")])),_:1}))]),_:1},8,["value"])]),_:1},8,["label"]),t(Y,{label:e(l)("pluginCenter.pyversion"),path:"python_version"},{default:n(()=>[t(ne,{value:e(I).python_version,"onUpdate:value":s[3]||(s[3]=L=>e(I).python_version=L),name:"python_version",size:"medium"},{default:n(()=>[(i(),V(F,{key:"General",value:"General",class:"text-center w-[90.2px]"},{default:n(()=>s[10]||(s[10]=[h(" General ")])),_:1})),(i(),V(F,{key:"3.10",value:"3.10",class:"text-center w-[90.2px]"},{default:n(()=>s[11]||(s[11]=[h(" 3.10 ")])),_:1})),(i(),V(F,{key:"3.11",value:"3.11",class:"text-center w-[90.2px]"},{default:n(()=>s[12]||(s[12]=[h(" 3.11 ")])),_:1})),(i(),V(F,{key:"3.12",value:"3.12",class:"text-center w-[90.2px]"},{default:n(()=>s[13]||(s[13]=[h(" 3.12 ")])),_:1})),(i(),V(F,{key:"3.13",value:"3.13",class:"text-center w-[90.2px]"},{default:n(()=>s[14]||(s[14]=[h(" 3.13 ")])),_:1}))]),_:1},8,["value"])]),_:1},8,["label"]),t(Y,{label:e(l)("pluginCenter.selectFile"),path:"file"},{default:n(()=>[t(De,{url:e(D).uploadVersion,data:{plugin_id:o.pluginId},onSuccess:k,onUpdateFile:s[4]||(s[4]=L=>e(I).file=L),custom:"","show-list":"",max:1},{default:n(()=>[t(H,{style:{width:"453px"}},{icon:n(()=>[t(e(Re))]),default:n(()=>[h(" "+g(e(l)("pluginCenter.selectFile")),1)]),_:1})]),_:1},8,["url","data"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1}),t(ce,{onCancel:q},{default:n(()=>[t(H,{type:"primary",onClick:M,disabled:e(r)},{default:n(()=>[h(g(e(l)("common.OK")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["show"])],64)}}}),yn={class:"relative"},wn={class:"break-keep text-xl"},xn={class:"inline-block ml-2"},kn={class:"opacity-75 text-xs mt-2"},Cn={class:"flex"},bn={class:"break-keep pr-2"},Ln={class:"flex flex-col gap-2 mt-2 min-h-[62px]"},$n={class:"mt-2"},zn={class:""},Mn={class:"flex justify-around items-center gap-1"},Vn={class:"flex-1 text-base font-medium flex gap-2 items-center"},Pn={class:"flex items-center gap-1"},In={class:"flex items-center gap-1"},Sn=T({__name:"OnlinePlugin",setup(u,{expose:y}){const l=Be(),{t:p}=Q(),C=v(),b=v(),w=r=>{var M;b.value=r,(M=C.value)==null||M.open()},c=v({loading:!1,id:void 0}),_=async(r,M,o)=>{var s;if(!((s=c.value)!=null&&s.loading)){if(c.value={loading:!0,id:o},M==="install"){const[B,H]=await bt({version_id:r.plugin_version_id});!B&&(H==null?void 0:H.status)===0&&(U.value=!1,d.value=void 0,P())}else if(M==="unInstall"){const[B,H]=await Lt({plugin_name:r.plugin_name});!B&&(H==null?void 0:H.status)===0&&P()}c.value={loading:!1}}},x=Ae({page:1,per_page:999999999,total:0}),S=v(),P=async(r={})=>{const[M,o]=await wt({...r,...we(x)});!M&&o&&o.status===0&&(S.value=o.data.list,x.total=o.data.total)};re(()=>{P()});const f=()=>{x.page=1,de(P)};y({refresh:f});const k=v(),d=v(),$=async r=>{const[M,o]=await Fe({...we(x),plugin_id:r});return!M&&o&&o.status===0?(d.value=o.data.list,k.value={os_type:o.data.os_type,python_version:o.data.python_version},!0):!1},U=v(!1),I=async(r,M,o,s)=>{if(o==="unInstall"){_(M,o,s);return}await $(s),de(()=>{var B;((B=d.value)==null?void 0:B.length)===1?_(o==="install"?d.value[0]:M,o,s):U.value=!0})},q=[{title:p("pluginCenter.version"),key:"full_version_code",width:100},{title:p("pluginCenter.updateDesc"),key:"update_description"},{title:p("pluginCenter.hooks"),key:"hook",render:r=>r.hook||"-"},{title:p("pluginCenter.createTime"),key:"create_time",minWidth:100,render:r=>r.create_time?new Date(r.create_time).toLocaleString():"-"},{title:p("pluginCenter.osType"),key:"os_type",width:110,render:r=>{const M={MacOS:fe,Linux:me,Windows:ge};return R(N,{type:"warning",bordered:!1},{default:()=>R("div",{class:"flex items-center gap-1 min-w-[84px] justify-center"},[R(O,{component:r.os_type?M[r.os_type]:qe}),R("span",r.os_type||"General")])})}},{title:p("pluginCenter.pyversion"),key:"python_version",render:r=>R(N,{type:"primary",bordered:!1},{default:()=>R("div",{class:"flex items-center gap-1 min-w-[84px] justify-center"},[R(O,{component:_e}),R("span",r.python_version||"General")])})},{title:p("pluginCenter.options"),key:"options",render:r=>{var M;return R(W,{type:"primary",disabled:(M=c.value)==null?void 0:M.loading,onClick:()=>{_(r,r.installed?"unInstall":"install",r.plugin_id)}},{default:()=>p("pluginCenter.install")})}}],ee=r=>{r||(U.value=!1)},A=()=>{U.value=!1};return(r,M)=>{const o=Te,s=ze,B=He,H=nt,X=Ve,G=Me,te=he,F=Ce,ne=Ge,Y=ve;return i(),z("div",null,[t(te,{style:{maxHeight:"calc(100vh - 160px)"}},{default:n(()=>[t(G,{cols:"4","x-gap":"20","y-gap":"20",class:"py-1 px-1.5"},{default:n(()=>[(i(!0),z(E,null,ue(e(S),m=>(i(),V(X,{key:m.plugin_id},{default:n(()=>{var L,j;return[t(H,{show:((L=e(c))==null?void 0:L.loading)&&((j=e(c))==null?void 0:j.id)==m.plugin_id},{default:n(()=>[t(B,{rounded:"",style:{width:"100%"},"content-class":"!mb-0 !p-2",class:"hover:scale-103 hover:transform-gpu"},{default:n(()=>{var K;return[a("div",yn,[a("div",wn,[h(g(m.plugin_name)+" ",1),t(e(N),{class:"ml-2",size:"small",type:m.installed?"success":"info",bordered:!1},{default:n(()=>[h(g(m.installed?e(p)("pluginCenter.INSTALLED"):e(p)("pluginCenter.UNINSTALLED")),1)]),_:2},1032,["type"]),m.full_path?(i(),V(o,{key:0,placement:"top-start",trigger:"hover"},{trigger:n(()=>[a("div",xn,[t(e(W),{type:"primary",size:"tiny",class:"relative top-0.5"},{default:n(()=>[t(e(O),{component:e(Ut)},null,8,["component"])]),_:1})])]),default:n(()=>[a("span",null,g(m.full_path),1)]),_:2},1024)):J("",!0),t(fn,{id:m.plugin_id,visible:m.is_globally_visible,uid:m.create_uid,cfg:m,"onVisible:success":f,onRefresh:f},null,8,["id","visible","uid","cfg"])]),a("div",kn,[t(e(pe),{"line-clamp":1},{default:n(()=>[h(g(m.description),1)]),_:2},1024)])]),t(s,{class:"!my-3"}),a("div",Cn,[a("span",bn,g(e(p)("pluginCenter.hooks"))+": ",1),t(e(pe),{"line-clamp":1},{default:n(()=>[h(g(m.latest_version_hook),1)]),_:2},1024)]),a("div",Ln,[a("div",null,[t(e(N),{type:"warning",size:"small"},{default:n(()=>[h(g(e(p)("pluginCenter.localVersion"))+": "+g(m.local_version),1)]),_:2},1024),t(e(N),{type:"warning",size:"small",class:"ml-2"},{default:n(()=>[h(g(e(p)("pluginCenter.latestVersionCode"))+": "+g(m.latest_version_code),1)]),_:2},1024)]),a("div",$n,[(K=e(l).info)!=null&&K.is_sys_admin?(i(),z(E,{key:0},[a("span",zn,g(e(p)("pluginCenter.visible"))+": ",1),t(e(N),{type:"error",size:"small"},{default:n(()=>[h(g(m.is_globally_visible?e(p)("pluginCenter.yes"):e(p)("pluginCenter.no")),1)]),_:2},1024)],64)):J("",!0)])]),t(s,{class:"!my-3"}),a("div",Mn,[t(e(W),{type:"info",size:"small",class:"flex-1 !px-0.5",onClick:Ie(()=>w(m.plugin_id),["stop"])},{icon:n(()=>[t(e(_t))]),default:n(()=>[h(" "+g(e(p)("pluginCenter.versions")),1)]),_:2},1032,["onClick"]),t(e(W),{type:"info",size:"small",class:"flex-1",disabled:m.installed?!m.uninstall_enable:!1,onClick:Ie(le=>I(le,m,m.installed?"unInstall":"install",m.plugin_id),["stop"])},{icon:n(()=>[m.installed?(i(),V(e(qt),{key:0})):(i(),V(e(je),{key:1}))]),default:n(()=>[h(g(m!=null&&m.installed?e(p)("pluginCenter.unInstall"):e(p)("pluginCenter.install"))+" ",1)]),_:2},1032,["disabled","onClick"]),t(e(W),{type:"info",size:"small",class:"flex-1",onClick:le=>I(le,m,"install",m.plugin_id),disabled:!m.need_update},{icon:n(()=>[t(e(Zt))]),default:n(()=>[h(g(e(p)("pluginCenter.update"))+" ",1)]),_:2},1032,["onClick","disabled"])])]}),_:2},1024)]),_:2},1032,["show"])]}),_:2},1024))),128))]),_:1})]),_:1}),t(hn,{"plugin-id":e(b),ref_key:"versionModalRef",ref:C},null,8,["plugin-id"]),t(Y,{show:e(U),"onUpdate:show":M[0]||(M[0]=m=>Z(U)?U.value=m:null),onUpdateShow:ee,"auto-focus":!1},{default:n(()=>[t(se,{style:{width:"80vw"}},{default:n(()=>[t(oe,null,{default:n(()=>[t(F,{type:"info","show-icon":!1,class:"!mb-4"},{default:n(()=>[t($e,{title:e(p)("pluginCenter.versions"),classes:"h-auto"},{default:n(()=>[t(s,{vertical:""}),a("div",Vn,[t(e(N),{type:"warning",bordered:!1},{default:n(()=>{var m,L,j,K;return[a("div",Pn,[((m=e(k))==null?void 0:m.os_type)==="MacOS"?(i(),V(e(O),{key:0,component:e(fe)},null,8,["component"])):((L=e(k))==null?void 0:L.os_type)==="Linux"?(i(),V(e(O),{key:1,component:e(me)},null,8,["component"])):((j=e(k))==null?void 0:j.os_type)==="Windows"?(i(),V(e(O),{key:2,component:e(ge)},null,8,["component"])):J("",!0),h(" "+g((K=e(k))==null?void 0:K.os_type),1)])]}),_:1}),t(e(N),{type:"primary",bordered:!1},{default:n(()=>{var m;return[a("div",In,[t(e(O),{component:e(_e)},null,8,["component"]),h(" "+g((m=e(k))==null?void 0:m.python_version),1)])]}),_:1})])]),_:1},8,["title"])]),_:1}),t(ne,{columns:q,data:e(d),pagination:!1,"scroll-x":1e3},null,8,["data"])]),_:1}),t(ce,{onCancel:A})]),_:1})]),_:1},8,["show"])])}}}),Rn={class:"relative"},Un={class:"break-keep text-xl flex justify-between"},Bn={class:"opacity-75 text-xs mt-2"},Tn={class:"flex"},An={class:"break-keep pr-2"},Hn={class:"flex mt-2 pb-3"},On={class:"pr-2"},Gn={class:"flex gap-2 flex-wrap"},Fn=T({__name:"LocalPlugin",setup(u,{expose:y}){const{t:l}=Q(),p=v(),C=async()=>{const[b,w]=await xt();!b&&w&&w.status===0&&(p.value=w.data)};return y({refresh:C}),re(()=>{C()}),(b,w)=>{const c=pe,_=ze,x=He,S=Ve,P=Me,f=he;return i(),z("div",null,[t(f,{style:{maxHeight:"calc(100vh - 160px)"}},{default:n(()=>[t(P,{cols:"4","x-gap":"20","y-gap":"20",class:"py-1 px-1.5"},{default:n(()=>[(i(!0),z(E,null,ue(e(p),(k,d)=>(i(),V(S,{key:d},{default:n(()=>[t(x,{rounded:"",style:{width:"100%"},"content-class":"!mb-0 !p-2",class:"hover:scale-103 hover:transform-gpu"},{default:n(()=>[a("div",Rn,[a("div",Un,[a("div",null,g(k.plugin_name),1)]),a("div",Bn,[t(c,{"line-clamp":1},{default:n(()=>[h(g(k.desc),1)]),_:2},1024)])]),t(_,{class:"!my-3"}),a("div",Tn,[a("span",An,g(e(l)("pluginCenter.hooks"))+": ",1),t(c,{"line-clamp":1},{default:n(()=>{var $;return[h(g(($=k.hook)==null?void 0:$.join(", ")),1)]}),_:2},1024)]),a("div",Hn,[a("span",On,g(e(l)("pluginCenter.localVersion"))+": ",1),a("div",Gn,[t(e(N),{type:"warning",size:"small"},{default:n(()=>[h(g(k.version),1)]),_:2},1024)])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])}}}),qn={class:"text-lg font-bold"},jn=T({__name:"UtilityGroups",setup(u){const y=Oe(),l=v(),p=async()=>{const[b,w]=await at();!b&&(w==null?void 0:w.status)===0&&(l.value=w.data),y.refreshPluginUtilities&&(y.refreshPluginUtilities=!1)},C=lt(()=>ye(l.value)||ye(l.value.by_group)&&ye(l.value.without_group));return re(()=>{p()}),Le(()=>y.refreshPluginUtilities,b=>{b&&p()}),(b,w)=>{const c=st,_=Ve,x=Me,S=he;return i(),z("div",null,[e(C)?(i(),V(c,{key:0,class:"mt-40"})):(i(),V(S,{key:1,style:{maxHeight:"calc(100vh - 160px)"}},{default:n(()=>{var P;return[t(x,{cols:4,"x-gap":20},{default:n(()=>{var f,k;return[(i(!0),z(E,null,ue((k=(f=e(l))==null?void 0:f.without_group)==null?void 0:k.map(d=>({...d,is_running:!0})),d=>(i(),V(_,{key:d.server_id},{default:n(()=>[t(Se,{info:d,onRefresh:p},null,8,["info"])]),_:2},1024))),128))]}),_:1}),(i(!0),z(E,null,ue((P=e(l))==null?void 0:P.by_group,(f,k)=>(i(),z(E,{key:k},[a("div",qn,[t($e,{title:k,icon:e(ot)},null,8,["title","icon"])]),t(x,{cols:4,"x-gap":20},{default:n(()=>[(i(!0),z(E,null,ue(f==null?void 0:f.map(d=>({...d,is_running:!0})),d=>(i(),V(_,{key:d.server_id},{default:n(()=>[t(Se,{info:d,onRefresh:p},null,8,["info"])]),_:2},1024))),128))]),_:2},1024)],64))),128))]}),_:1}))])}}}),Nn={class:"flex justify-between items-center gap-5"},Dn={class:"flex justify-end gap-2"},rl=T({__name:"PluginCenter",setup(u){const y=Oe(),{t:l}=Q(),p=v(),C=v(),b=v(),w=v(),c=()=>{var f;(f=b.value)==null||f.open()},_=()=>{var f;(f=w.value)==null||f.open()},x=v(),S=v(),P=()=>{setTimeout(()=>{var f,k;(f=p.value)==null||f.refresh(),(k=C.value)==null||k.refresh()},500)};return Le(()=>y.pluginCenterActiveTab,f=>{f&&(x.value=f,y.pluginCenterActiveTab=void 0,localStorage.getItem("ak")&&setTimeout(()=>{localStorage.removeItem("ak")},1e3))},{immediate:!0}),re(()=>{const f=localStorage.getItem("ak");f&&(x.value=f,localStorage.removeItem("ak"))}),(f,k)=>{const d=O,$=it,U=rt;return i(),z("div",null,[t(U,{type:"card",animated:"",class:"!h-full !w-auto",value:e(x),"onUpdate:value":k[0]||(k[0]=I=>Z(x)?x.value=I:null),onUpdateValue:e(S)},{suffix:n(()=>[a("div",Nn,[a("div",Dn,[t(e(W),{type:"primary",onClick:_},{icon:n(()=>[t(e(Tt))]),default:n(()=>[h(" "+g(e(l)("pluginCenter.package")),1)]),_:1}),t(De,{url:e(D).installFromLocal},{default:n(()=>[t(e(W),{type:"primary"},{icon:n(()=>[t(e(je))]),default:n(()=>[h(" "+g(e(l)("pluginCenter.installFromLocale")),1)]),_:1})]),_:1},8,["url"]),t(e(W),{type:"primary",onClick:c},{icon:n(()=>[t(d,null,{default:n(()=>[t(e(ht))]),_:1})]),default:n(()=>[h(" "+g(e(l)("pluginCenter.create")),1)]),_:1})])])]),default:n(()=>[t($,{name:"online",tab:e(l)("pluginCenter.onlinePlugins")},{default:n(()=>[t(Sn,{ref_key:"onlinePluginRef",ref:C},null,512)]),_:1},8,["tab"]),t($,{name:"local",tab:e(l)("pluginCenter.localPlugins")},{default:n(()=>[t(Fn,{ref_key:"localPluginRef",ref:p},null,512)]),_:1},8,["tab"]),t($,{name:"utility",tab:e(l)("pluginCenter.utility")},{default:n(()=>[t(jn)]),_:1},8,["tab"])]),_:1},8,["value","onUpdateValue"]),t(Ne,{ref_key:"createPluginRef",ref:b,onSuccess:P},null,512),t(rn,{ref_key:"packageViewRef",ref:w},null,512)])}}});export{rl as default};
