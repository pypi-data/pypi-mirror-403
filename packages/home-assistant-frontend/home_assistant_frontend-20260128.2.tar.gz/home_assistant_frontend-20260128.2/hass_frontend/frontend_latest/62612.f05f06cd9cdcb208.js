export const __rspack_esm_id="62612";export const __rspack_esm_ids=["62612"];export const __webpack_modules__={62647(t,a,e){var i=e(62826),o=e(1877),s=e(96196),l=e(44457);class n extends o.A{static get styles(){return[o.A.styles,s.AH`:host{font-size:var(--ha-font-size-m);--wa-color-brand-on-quiet:var(
            --ha-tab-active-text-color,
            var(--primary-color)
          );--wa-color-neutral-on-quiet:var(--wa-color-brand-on-quiet);opacity:.8;color:inherit;--wa-space-l:16px}:host([active]:not([disabled])){opacity:1}@media (hover:hover){:host(:hover:not([disabled]):not([active])) .tab{color:var(--wa-color-brand-on-quiet)}}`]}}n=(0,i.Cg)([(0,l.EM)("ha-tab-group-tab")],n)},66289(t,a,e){e.a(t,async function(t,a){try{var i=e(62826),o=e(42814),s=e(96196),l=e(44457),n=e(36356),c=t([o]);o=(c.then?(await c)():c)[0];class r extends o.A{handleClick(t){this._dragScrollController.scrolled||super.handleClick(t)}static get styles(){return[o.A.styles,s.AH`:host{--track-width:2px;--track-color:var(--ha-tab-track-color, var(--divider-color));--indicator-color:var(
            --ha-tab-indicator-color,
            var(--primary-color)
          );--wa-color-neutral-on-quiet:var(--indicator-color)}.tab-group-top ::slotted(ha-tab-group-tab[active]){border-block-end:solid var(--track-width) var(--indicator-color);margin-block-end:calc(-1 * var(--track-width))}.tab-group-start ::slotted(ha-tab-group-tab[active]){border-inline-end:solid var(--track-width) var(--indicator-color);margin-inline-end:calc(-1 * var(--track-width))}.tab-group-end ::slotted(ha-tab-group-tab[active]){border-inline-start:solid var(--track-width) var(--indicator-color);margin-inline-start:calc(-1 * var(--track-width))}.scroll-button::part(base):hover{background-color:transparent}`]}constructor(...t){super(...t),this._dragScrollController=new n.q(this,{selector:".nav"}),this.tabTag="ha-tab-group-tab",this.tabOnly=!0}}(0,i.Cg)([(0,l.MZ)({attribute:"tab-tag"})],r.prototype,"tabTag",void 0),(0,i.Cg)([(0,l.MZ)({attribute:"tab-only",type:Boolean})],r.prototype,"tabOnly",void 0),r=(0,i.Cg)([(0,l.EM)("ha-tab-group")],r),a()}catch(t){a(t)}})},70559(t,a,e){e.a(t,async function(t,i){try{e.r(a),e.d(a,{HuiDialogEditSection:()=>L});var o=e(62826),s=e(96196),l=e(44457),n=e(94333),c=e(1087),r=e(57237),h=e(18350),d=(e(72554),e(76538),e(29823)),g=(e(70947),e(26300),e(66289)),v=(e(62647),e(10763)),p=e(35952),u=e(91984),_=e(65063),m=e(14503),b=e(82360),y=e(75196),w=e(85633),C=(e(36457),e(19490)),f=t([h,d,g,v,C]);[h,d,g,v,C]=f.then?(await f)():f;const $="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",M="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",k="M14 2H6C4.9 2 4 2.9 4 4V20C4 20.41 4.12 20.8 4.34 21.12C4.41 21.23 4.5 21.33 4.59 21.41C4.95 21.78 5.45 22 6 22H13.53C13 21.42 12.61 20.75 12.35 20H6V4H13V9H18V12C18.7 12 19.37 12.12 20 12.34V8L14 2M18 23L23 18.5L20 15.8L18 14V17H14V20H18V23Z",A="M3 6V8H14V6H3M3 10V12H14V10H3M20 10.1C19.9 10.1 19.7 10.2 19.6 10.3L18.6 11.3L20.7 13.4L21.7 12.4C21.9 12.2 21.9 11.8 21.7 11.6L20.4 10.3C20.3 10.2 20.2 10.1 20 10.1M18.1 11.9L12 17.9V20H14.1L20.2 13.9L18.1 11.9M3 14V16H10V14H3Z",x=["tab-settings","tab-visibility"];class L extends s.WF{updated(t){if(this._yamlMode&&t.has("_yamlMode")){const t={...this._config};this._editor?.setValue(t)}}async showDialog(t){this._params=t,this.lovelace=t.lovelace,this._config=(0,y.ys)(this._params.lovelaceConfig,[this._params.viewIndex,this._params.sectionIndex]),this._viewConfig=(0,y.ys)(this._params.lovelaceConfig,[this._params.viewIndex])}closeDialog(){return this._params=void 0,this._yamlMode=!1,this._config=void 0,this._currTab=x[0],(0,c.r)(this,"dialog-closed",{dialog:this.localName}),!0}render(){if(!this._params||!this._config)return s.s6;const t=this.hass.localize("ui.panel.lovelace.editor.edit_section.header");let a=s.s6;if(this._yamlMode)a=s.qy` <ha-yaml-editor .hass="${this.hass}" dialogInitialFocus @value-changed="${this._viewYamlChanged}"></ha-yaml-editor> `;else switch(this._currTab){case"tab-settings":a=s.qy` <hui-section-settings-editor .hass="${this.hass}" .config="${this._config}" .viewConfig="${this._viewConfig}" @value-changed="${this._configChanged}"> </hui-section-settings-editor> `;break;case"tab-visibility":a=s.qy` <hui-section-visibility-editor .hass="${this.hass}" .config="${this._config}" @value-changed="${this._configChanged}"> </hui-section-visibility-editor> `}return s.qy` <ha-dialog open scrimClickAction @keydown="${this._ignoreKeydown}" @closed="${this._cancel}" .heading="${t}" class="${(0,n.H)({"yaml-mode":this._yamlMode})}"> <ha-dialog-header show-border slot="heading"> <ha-icon-button slot="navigationIcon" dialogAction="cancel" .label="${this.hass.localize("ui.common.close")}" .path="${$}"></ha-icon-button> <span slot="title">${t}</span> <ha-dropdown slot="actionItems" placement="bottom-end" @closed="${r.d}" @wa-select="${this._handleAction}"> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.common.menu")}" .path="${M}"></ha-icon-button> <ha-dropdown-item value="toggle-yaml"> <ha-svg-icon slot="icon" .path="${A}"></ha-svg-icon> ${this.hass.localize("ui.panel.lovelace.editor.edit_view.edit_"+(this._yamlMode?"ui":"yaml"))} </ha-dropdown-item> <ha-dropdown-item value="move-to-view"> <ha-svg-icon slot="icon" .path="${k}"></ha-svg-icon> ${this.hass.localize("ui.panel.lovelace.editor.edit_view.move_to_view")} </ha-dropdown-item> </ha-dropdown> ${this._yamlMode?s.s6:s.qy` <ha-tab-group @wa-tab-show="${this._handleTabChanged}"> ${x.map(t=>s.qy` <ha-tab-group-tab slot="nav" .panel="${t}" .active="${this._currTab===t}"> ${this.hass.localize(`ui.panel.lovelace.editor.edit_section.${t.replace("-","_")}`)} </ha-tab-group-tab> `)} </ha-tab-group> `} </ha-dialog-header> ${a} <ha-button appearance="plain" slot="secondaryAction" @click="${this._cancel}"> ${this.hass.localize("ui.common.cancel")} </ha-button> <ha-button slot="primaryAction" @click="${this._save}"> ${this.hass.localize("ui.common.save")} </ha-button> </ha-dialog> `}_configChanged(t){t.stopPropagation(),this._config=t.detail.value}_handleTabChanged(t){const a=t.detail.name;a!==this._currTab&&(this._currTab=a)}async _handleAction(t){switch(t.detail.item.value){case"toggle-yaml":this._yamlMode=!this._yamlMode;break;case"move-to-view":this._openSelectView()}}_openSelectView(){this._params&&this.lovelace&&(0,w.X)(this,{lovelaceConfig:this._params.lovelaceConfig,urlPath:this.lovelace.urlPath,allowDashboardChange:!0,header:this.hass.localize("ui.panel.lovelace.editor.move_section.header"),viewSelectedCallback:this._moveSectionToView})}_viewYamlChanged(t){t.stopPropagation(),t.detail.isValid&&(this._config=t.detail.value)}_ignoreKeydown(t){t.stopPropagation()}_cancel(t){t&&t.stopPropagation(),this.closeDialog()}async _save(){if(!this._params||!this._config)return;const t=(0,y.uZ)(this._params.lovelaceConfig,[this._params.viewIndex,this._params.sectionIndex],this._config);this._params.saveConfig(t),this.closeDialog()}static get styles(){return[m.nA,m.kO,s.AH`ha-dialog.yaml-mode{--dialog-content-padding:0}ha-tab-group-tab{flex:1}ha-tab-group-tab::part(base){width:100%;justify-content:center}@media all and (min-width:600px){ha-dialog{--mdc-dialog-min-width:600px}}`]}constructor(...t){super(...t),this._yamlMode=!1,this._currTab=x[0],this._moveSectionToView=async(t,a,e)=>{if(!this._params||!this.lovelace)return;const i=a.views[e];if((0,u.R)(i))return void(0,_.showAlertDialog)(this,{title:this.hass.localize("ui.panel.lovelace.editor.move_section.error_title"),text:this.hass.localize("ui.panel.lovelace.editor.move_section.error_text_strategy"),warning:!0});const o=this._params.viewIndex,s=this._params.sectionIndex;if(t===this.lovelace.urlPath){const t=this.lovelace.config,a=i.sections?.length??0;try{await this.lovelace.saveConfig((0,b.hB)(t,[o,s],[e,a])),this.lovelace.showToast({message:this.hass.localize("ui.panel.lovelace.editor.move_section.success"),duration:4e3,action:{action:async()=>{await this.lovelace.saveConfig(t)},text:this.hass.localize("ui.common.undo")}}),this.closeDialog()}catch(t){this.lovelace.showToast({message:this.hass.localize("ui.panel.lovelace.editor.move_section.error")}),console.error(t)}return}const l=this.lovelace.config,n=a;try{const a=(0,y.ys)(l,[o,s]);await(0,p.ql)(this.hass,t,(0,b.Bn)(n,e,a)),await this.lovelace.saveConfig((0,b.tA)(l,o,s)),this.lovelace.showToast({message:this.hass.localize("ui.panel.lovelace.editor.move_section.success"),duration:4e3,action:{action:async()=>{await(0,p.ql)(this.hass,t,n),await this.lovelace.saveConfig(l)},text:this.hass.localize("ui.common.undo")}}),this.closeDialog()}catch(t){this.lovelace.showToast({message:this.hass.localize("ui.panel.lovelace.editor.move_section.error")}),console.error(t)}}}}(0,o.Cg)([(0,l.MZ)({attribute:!1})],L.prototype,"hass",void 0),(0,o.Cg)([(0,l.MZ)({attribute:!1})],L.prototype,"lovelace",void 0),(0,o.Cg)([(0,l.wk)()],L.prototype,"_params",void 0),(0,o.Cg)([(0,l.wk)()],L.prototype,"_config",void 0),(0,o.Cg)([(0,l.wk)()],L.prototype,"_viewConfig",void 0),(0,o.Cg)([(0,l.wk)()],L.prototype,"_yamlMode",void 0),(0,o.Cg)([(0,l.wk)()],L.prototype,"_currTab",void 0),(0,o.Cg)([(0,l.P)("ha-yaml-editor")],L.prototype,"_editor",void 0),L=(0,o.Cg)([(0,l.EM)("hui-dialog-edit-section")],L),i()}catch(t){i(t)}})},36457(t,a,e){var i=e(62826),o=e(96196),s=e(44457),l=e(22786),n=e(1087);e(52763);class c extends o.WF{render(){const t={column_span:this.config.column_span||1},a=this._schema(this.viewConfig.max_columns||4);return o.qy` <ha-form .hass="${this.hass}" .data="${t}" .schema="${a}" .computeLabel="${this._computeLabel}" .computeHelper="${this._computeHelper}" @value-changed="${this._valueChanged}"></ha-form> `}_valueChanged(t){t.stopPropagation();const a=t.detail.value,e={...this.config,column_span:a.column_span};(0,n.r)(this,"value-changed",{value:e})}constructor(...t){super(...t),this._schema=(0,l.A)(t=>[{name:"column_span",selector:{number:{min:1,max:t,slider_ticks:!0}}}]),this._computeLabel=t=>this.hass.localize(`ui.panel.lovelace.editor.edit_section.settings.${t.name}`),this._computeHelper=t=>this.hass.localize(`ui.panel.lovelace.editor.edit_section.settings.${t.name}_helper`)||""}}(0,i.Cg)([(0,s.MZ)({attribute:!1})],c.prototype,"hass",void 0),(0,i.Cg)([(0,s.MZ)({attribute:!1})],c.prototype,"config",void 0),(0,i.Cg)([(0,s.MZ)({attribute:!1})],c.prototype,"viewConfig",void 0),c=(0,i.Cg)([(0,s.EM)("hui-section-settings-editor")],c)},19490(t,a,e){e.a(t,async function(t,a){try{var i=e(62826),o=e(96196),s=e(44457),l=e(1087),n=(e(38962),e(13898)),c=t([n]);n=(c.then?(await c)():c)[0];class r extends o.WF{render(){const t=this.config.visibility??[];return o.qy` <ha-alert alert-type="info"> ${this.hass.localize("ui.panel.lovelace.editor.edit_section.visibility.explanation")} </ha-alert> <ha-card-conditions-editor .hass="${this.hass}" .conditions="${t}" @value-changed="${this._valueChanged}"> </ha-card-conditions-editor> `}_valueChanged(t){t.stopPropagation();const a=t.detail.value,e={...this.config,visibility:a};0===e.visibility?.length&&delete e.visibility,(0,l.r)(this,"value-changed",{value:e})}}(0,i.Cg)([(0,s.MZ)({attribute:!1})],r.prototype,"hass",void 0),(0,i.Cg)([(0,s.MZ)({attribute:!1})],r.prototype,"config",void 0),r=(0,i.Cg)([(0,s.EM)("hui-section-visibility-editor")],r),a()}catch(t){a(t)}})},85633(t,a,e){e.d(a,{X:()=>o});var i=e(1087);const o=(t,a)=>{(0,i.r)(t,"show-dialog",{dialogTag:"hui-dialog-select-view",dialogImport:()=>Promise.all([e.e("93785"),e.e("63577"),e.e("4939"),e.e("40901")]).then(e.bind(e,54564)),dialogParams:a})}}};
//# sourceMappingURL=62612.f05f06cd9cdcb208.js.map