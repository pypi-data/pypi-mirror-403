export const __rspack_esm_id="87980";export const __rspack_esm_ids=["87980"];export const __webpack_modules__={24519(a,i,e){e.a(a,async function(a,o){try{e.r(i),e.d(i,{HuiSaveConfig:()=>u});var t=e(62826),s=e(96196),l=e(44457),n=e(1087),c=e(18350),h=(e(72554),e(76538),e(6),e(26300),e(59646),e(10763)),r=e(14503),p=e(36918),g=e(93275),d=a([c,h]);[c,h]=d.then?(await d)():d;const _="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",m="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",v={views:[{title:"Home"}]};class u extends s.WF{showDialog(a){this._params=a,this._emptyConfig=!1}closeDialog(){return this._params=void 0,(0,n.r)(this,"dialog-closed",{dialog:this.localName}),!0}render(){if(!this._params)return s.s6;const a=this.hass.localize("ui.panel.lovelace.editor.save_config.header");return s.qy` <ha-dialog open scrimClickAction escapeKeyAction @closed="${this._close}" .heading="${a}"> <ha-dialog-header slot="heading"> <ha-icon-button slot="navigationIcon" dialogAction="cancel" .label="${this.hass.localize("ui.common.close")}" .path="${_}"></ha-icon-button> <span slot="title">${a}</span> <a href="${(0,p.o)(this.hass,"/lovelace/")}" title="${this.hass.localize("ui.panel.lovelace.menu.help")}" target="_blank" rel="noreferrer" slot="actionItems"> <ha-icon-button .path="${m}" .label="${this.hass.localize("ui.common.help")}"></ha-icon-button> </a> </ha-dialog-header> <div> <p> ${this.hass.localize("ui.panel.lovelace.editor.save_config.para")} </p> ${"storage"===this._params.mode?s.qy` <p> ${this.hass.localize("ui.panel.lovelace.editor.save_config.para_sure")} </p> <ha-formfield .label="${this.hass.localize("ui.panel.lovelace.editor.save_config.empty_config")}"> <ha-switch .checked="${this._emptyConfig}" @change="${this._emptyConfigChanged}" dialogInitialFocus></ha-switch></ha-formfield> `:s.qy` <p> ${this.hass.localize("ui.panel.lovelace.editor.save_config.yaml_mode")} </p> <p> ${this.hass.localize("ui.panel.lovelace.editor.save_config.yaml_control")} </p> <p> ${this.hass.localize("ui.panel.lovelace.editor.save_config.yaml_config")} </p> <ha-yaml-editor .hass="${this.hass}" .defaultValue="${this._params.lovelace.config}" dialogInitialFocus></ha-yaml-editor> `} </div> ${"storage"===this._params.mode?s.qy` <ha-button appearance="plain" slot="primaryAction" @click="${this.closeDialog}"> ${this.hass.localize("ui.common.cancel")} </ha-button> <ha-button slot="primaryAction" @click="${this._saveConfig}" .loading="${this._saving}"> ${this.hass.localize("ui.panel.lovelace.editor.save_config.save")} </ha-button> `:s.qy` <ha-button slot="primaryAction" @click="${this.closeDialog}"> ${this.hass.localize("ui.panel.lovelace.editor.save_config.close")}</ha-button> `} </ha-dialog> `}_close(a){a&&a.stopPropagation(),this.closeDialog()}_emptyConfigChanged(a){this._emptyConfig=a.target.checked}async _saveConfig(){if(this.hass&&this._params){this._saving=!0;try{const a=this._params.lovelace;await a.saveConfig(this._emptyConfig?v:await(0,g.d4)(a.config,this.hass)),a.setEditMode(!0),this._saving=!1,this.closeDialog()}catch(a){alert(`Saving failed: ${a.message}`),this._saving=!1}}}static get styles(){return[r.nA,s.AH`ha-dialog{--dialog-content-padding:0 24px 24px 24px}ha-dialog-header a{color:inherit;text-decoration:none}`]}constructor(){super(),this._emptyConfig=!1,this._saving=!1}}(0,t.Cg)([(0,l.MZ)({attribute:!1})],u.prototype,"hass",void 0),(0,t.Cg)([(0,l.wk)()],u.prototype,"_params",void 0),(0,t.Cg)([(0,l.wk)()],u.prototype,"_emptyConfig",void 0),(0,t.Cg)([(0,l.wk)()],u.prototype,"_saving",void 0),u=(0,t.Cg)([(0,l.EM)("hui-dialog-save-config")],u),o()}catch(a){o(a)}})}};
//# sourceMappingURL=87980.de318a02f5f7793c.js.map