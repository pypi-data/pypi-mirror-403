{"version":3,"file":"93507.168b0db07b100f1a.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20260128.2/src/common/color/colors.ts","https://raw.githubusercontent.com/home-assistant/frontend/20260128.2/src/panels/lovelace/cards/energy/common/color.ts","https://raw.githubusercontent.com/home-assistant/frontend/20260128.2/src/panels/lovelace/cards/energy/common/hui-energy-graph-chip.ts","https://raw.githubusercontent.com/home-assistant/frontend/20260128.2/src/panels/lovelace/cards/energy/hui-energy-usage-graph-card.ts","/unknown/node_modules/date-fns/constructNow.js","/unknown/node_modules/date-fns/differenceInMinutes.js","/unknown/node_modules/date-fns/endOfToday.js","/unknown/node_modules/date-fns/isSameDay.js","/unknown/node_modules/date-fns/isToday.js","/unknown/node_modules/date-fns/startOfToday.js"],"names":["getColorByIndex","index","style","colorIndex","getPropertyValue","getGraphColorByIndex","themeColor","theme2hex","getAllGraphColors","memoizeOne","Array","from","length","_","newArgs","lastArgs","getEnergyColor","computedStyles","darkMode","background","compare","propertyName","idx","themeIdxColor","trim","hexColor","rgb2hex","lab2rgb","labBrighten","rgb2lab","hex2rgb","labDarken","HuiEnergyGraphChip","LitElement","render","id","Date","now","html","this","tooltip","styles","css","type","String","colorPropertyMap","to_grid","to_battery","from_grid","used_grid","used_solar","used_battery","HuiEnergyUsageGraphCard","SubscribeMixin","hassSubscribe","getEnergyDataCollection","hass","key","_config","collection_key","subscribe","data","_getStatistics","getCardSize","setConfig","config","shouldUpdate","changedProps","hasConfigChanged","size","has","title","_total","_formatTotal","localize","num","formatNumber","locale","nothing","classMap","_chartData","_createOptions","_start","_end","_compareStart","_compareEnd","some","dataset","isToday","energyData","datasets","statIds","source","prefs","energy_sources","flowFrom","flow_from","push","stat_energy_from","flowTo","flow_to","stat_energy_to","from_battery","solar","getComputedStyle","colorIndices","Object","keys","forEach","values","labels","start","end","endOfToday","startCompare","endCompare","summedData","compareSummedData","getSummedData","consumption","compareConsumption","computeConsumptionData","statsCompare","_processDataSet","statsMetadata","stack","order","stats","sort","a","b","fillDataGapsAndRoundCaps","_processTotal","total","used_total","undefined","statistics","statisticsMetaData","consumptionData","statIdsByCat","combinedData","entries","includes","sets","set","stat","change","val","grid_to_battery","noOfSources","uniqueKeys","timestamps","compareTransform","getCompareTransform","sources","statId","points","value","dataPoint","cursor","name","getStatisticLabel","barMaxWidth","itemStyle","borderColor","themes","color","args","startOfToday","hassSubscribeRequiredHostProps","compareStart","compareEnd","commonOptions","getCommonOptions","formatter","params","isArray","aValue","bValue","componentIndex","attribute","constructNow","date","constructFrom","differenceInMinutes","dateLeft","dateRight","options","diff","differenceInMilliseconds","millisecondsInMinute","getRoundingMethod","roundingMethod","endOfDay","isSameDay","laterDate","earlierDate","dateLeft_","dateRight_","normalizeDates","in","startOfDay"],"mappings":"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"}