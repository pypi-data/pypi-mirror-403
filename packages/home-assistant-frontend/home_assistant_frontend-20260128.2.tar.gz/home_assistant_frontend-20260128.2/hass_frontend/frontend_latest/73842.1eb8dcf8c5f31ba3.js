export const __rspack_esm_id="73842";export const __rspack_esm_ids=["73842"];export const __webpack_modules__={84329(t,a,i){i.a(t,async function(t,e){try{i.r(a),i.d(a,{ALARM_MODE_STATE_MAP:()=>E,DEFAULT_STATES:()=>w,filterSupportedAlarmStates:()=>C});i(18111),i(22489),i(61701),i(13579);var s=i(62826),n=i(96196),r=i(44457),o=i(94333),c=i(6415),l=i(42372),h=i(1087),d=i(27120),_=i(82286),u=(i(34296),i(18350)),p=(i(76776),i(93367)),m=(i(75709),i(9182)),y=i(22675),g=i(59241),f=i(37642),b=i(13632),v=i(85979),x=t([u,p]);[u,p]=x.then?(await x)():x;const $="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",k=["1","2","3","4","5","6","7","8","9","clear","0",""],w=["arm_home","arm_away"],E={arm_home:"armed_home",arm_away:"armed_away",arm_night:"armed_night",arm_vacation:"armed_vacation",arm_custom_bypass:"armed_custom_bypass"},C=(t,a)=>a.filter(a=>t&&(0,_.$)(t,m.t[E[a]].feature||0));class L extends n.WF{static async getConfigElement(){return await i.e("40731").then(i.bind(i,13654)),document.createElement("hui-alarm-panel-card-editor")}static getStubConfig(t,a,i){const e=(0,b.B)(t,1,a,i,["alarm_control_panel"])[0]||"",s=t.states[e];return{type:"alarm-panel",states:C(s,w),entity:e}}connectedCallback(){super.connectedCallback(),this._subscribeEntityEntry()}disconnectedCallback(){super.disconnectedCallback(),this._unsubscribeEntityRegistry()}async getCardSize(){if(!this._config||!this.hass)return 10;const t=this.hass.states[this._config.entity];return t&&t.attributes.code_format===m.GR?10:4}setConfig(t){if(!t||!t.entity||"alarm_control_panel"!==t.entity.split(".")[0])throw new Error("Invalid configuration");this._config={...t},this._subscribeEntityEntry()}updated(t){if(super.updated(t),!this._config||!this.hass)return;const a=t.get("hass"),i=t.get("_config");a&&i&&a.themes===this.hass.themes&&i.theme===this._config.theme||(0,l.Q)(this,this.hass.themes,this._config.theme)}shouldUpdate(t){if(t.has("_config"))return!0;const a=t.get("hass");return!a||a.themes!==this.hass.themes||a.locale!==this.hass.locale||a.states[this._config.entity]!==this.hass.states[this._config.entity]}async _unsubscribeEntityRegistry(){this._unsubEntityRegistry&&(this._unsubEntityRegistry(),this._unsubEntityRegistry=void 0)}async _subscribeEntityEntry(){if(this._config?.entity)try{this._unsubEntityRegistry=(0,g.Bz)(this.hass.connection,async t=>{t.some(t=>t.entity_id===this._config.entity)&&(this._entry=await(0,g.v)(this.hass,this._config.entity))})}catch(t){this._entry=null}}render(){if(!this._config||!this.hass)return n.s6;const t=this.hass.states[this._config.entity],a=this._config.states||C(t,w);if(!t)return n.qy` <hui-warning .hass="${this.hass}"> ${(0,v.j)(this.hass,this._config.entity)} </hui-warning> `;const i=this._stateDisplay(t.state),e=this._entry?.options?.alarm_control_panel?.default_code,s=(0,f.v)(this.hass,t,this._config.name);return n.qy` <ha-card> <h1 class="card-header"> ${s} <ha-assist-chip filled style="${(0,c.W)({"--alarm-state-color":(0,d.Se)(t)})}" class="${(0,o.H)({[t.state]:!0})}" @click="${this._handleMoreInfo}" .label="${i}"> <ha-state-icon slot="icon" .hass="${this.hass}" .stateObj="${t}"></ha-state-icon> </ha-assist-chip> </h1> <div id="armActions" class="actions"> ${("disarmed"===t.state?a:["disarm"]).map(t=>n.qy` <ha-button .action="${t}" @click="${this._handleActionClick}" appearance="filled" size="small" variant="${"disarm"===t?"danger":"brand"}"> ${this._actionDisplay(t)} </ha-button> `)} </div> ${!t.attributes.code_format||e?n.s6:n.qy` <ha-textfield .value="${this._value||""}" @input="${this._handleInput}" .label="${this.hass.localize("ui.card.alarm_control_panel.code")}" type="password" .inputMode="${t.attributes.code_format===m.GR?"numeric":"text"}"></ha-textfield> `} ${t.attributes.code_format!==m.GR||e?n.s6:n.qy` <div class="keypad"> ${k.map(t=>""===t?n.qy`<span></span>`:"clear"===t?n.qy` <ha-control-button @click="${this._handlePadClick}" class="clear" .value="${t}" .disabled="${!this._value}" .label="${this.hass.localize("ui.common.clear")}"> <ha-svg-icon path="${$}"></ha-svg-icon> </ha-control-button> `:n.qy` <ha-control-button .value="${t}" @click="${this._handlePadClick}" .label="${t}"> ${t} </ha-control-button> `)} </div> `} </ha-card> `}_actionDisplay(t){return this.hass.localize(`ui.card.alarm_control_panel.${t}`)}_stateDisplay(t){return t===y.Hh?this.hass.localize("state.default.unavailable"):this.hass.localize(`component.alarm_control_panel.entity_component._.state.${t}`)||t}_handleInput(t){this._value=t.currentTarget.value}_handlePadClick(t){const a=t.currentTarget.value;this._value="clear"===a?"":(this._value||"")+a}_handleActionClick(t){(0,m.kF)(this.hass,this._config.entity,t.currentTarget.action,this._value||void 0),this._value=void 0}_handleMoreInfo(){(0,h.r)(this,"hass-more-info",{entityId:this._config.entity})}}L.styles=n.AH`ha-card{padding-bottom:16px;position:relative;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box;--alarm-state-color:var(--state-inactive-color)}ha-assist-chip{--ha-assist-chip-filled-container-color:var(--alarm-state-color);--primary-text-color:var(--text-primary-color)}.card-header{display:flex;justify-content:space-between;align-items:center;width:100%;box-sizing:border-box}.arming,.pending,.triggered{animation:pulse 1s infinite}@keyframes pulse{0%{opacity:1}50%{opacity:0}100%{opacity:1}}ha-textfield{display:block;margin:8px;max-width:150px;text-align:center}.state{margin-left:16px;margin-inline-start:16px;margin-inline-end:initial;position:relative;bottom:16px;color:var(--alarm-state-color);animation:none}.keypad{--keypad-columns:3;padding:12px;display:grid;grid-template-columns:repeat(var(--keypad-columns),auto);grid-auto-rows:auto;grid-gap:var(--ha-space-4);justify-items:center;align-items:center;direction:ltr}ha-control-button{width:56px;height:56px;--control-button-border-radius:var(--ha-border-radius-4xl);--mdc-icon-size:24px;font-size:var(--ha-font-size-2xl)}.clear{--control-button-background-color:var(--red-color);--control-button-icon-color:var(--red-color)}.actions{margin:0;display:flex;flex-wrap:wrap;justify-content:center}.actions ha-button{margin:0 4px 4px}`,(0,s.Cg)([(0,r.MZ)({attribute:!1})],L.prototype,"hass",void 0),(0,s.Cg)([(0,r.wk)()],L.prototype,"_config",void 0),(0,s.Cg)([(0,r.wk)()],L.prototype,"_entry",void 0),(0,s.Cg)([(0,r.wk)()],L.prototype,"_value",void 0),L=(0,s.Cg)([(0,r.EM)("hui-alarm-panel-card")],L),e()}catch(t){e(t)}})}};
//# sourceMappingURL=73842.1eb8dcf8c5f31ba3.js.map