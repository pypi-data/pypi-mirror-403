export const __rspack_esm_id="86296";export const __rspack_esm_ids=["86296"];export const __webpack_modules__={78870(e,t,i){i.d(t,{MP:()=>o,dc:()=>s,lt:()=>n});i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698);const n=new Set(["primary","accent","red","pink","purple","deep-purple","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","deep-orange","brown","light-grey","grey","dark-grey","blue-grey","black","white"]),r=new Set(["primary-text","secondary-text","disabled"]);function o(e){return n.has(e)||r.has(e)?`var(--${e}-color)`:e}function s(e){if(!e||"string"!=typeof e)return!1;if(n.has(e))return!0;if(/^#([0-9A-Fa-f]{3}){1,2}$/.test(e))return!0;try{const t=(new Option).style;return t.color=e,""!==t.color}catch{return!1}}},380(e,t,i){i.d(t,{D:()=>a,P:()=>s});var n=i(58109),r=i(46927),o=i(96029);const s=e=>e.first_weekday===r.zt.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(e.language).weekInfo.firstDay%7:(0,n.S)(e.language)%7:o.Z.includes(e.first_weekday)?o.Z.indexOf(e.first_weekday):1,a=e=>{const t=s(e);return o.Z[t]}},98975(e,t,i){i.a(e,async function(e,n){try{i.d(t,{K:()=>d});var r=i(74487),o=i(22786),s=i(63927),a=e([r,s]);[r,s]=a.then?(await a)():a;const l=(0,o.A)(e=>new Intl.RelativeTimeFormat(e.language,{numeric:"auto"})),d=(e,t,i,n=!0)=>{const r=(0,s.x)(e,i,t);return n?l(t).format(r.value,r.unit):Intl.NumberFormat(t.language,{style:"unit",unit:r.unit,unitDisplay:"long"}).format(Math.abs(r.value))};n()}catch(e){n(e)}})},96029(e,t,i){i.d(t,{Tq:()=>s,Z:()=>r,ZV:()=>n,sj:()=>o});const n=["sun","mon","tue","wed","thu","fri","sat"],r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],o={0:"sun",1:"mon",2:"tue",3:"wed",4:"thu",5:"fri",6:"sat"},s={sun:"sunday",mon:"monday",tue:"tuesday",wed:"wednesday",thu:"thursday",fri:"friday",sat:"saturday"}},68348(e,t,i){i.d(t,{u:()=>n});i(18111),i(13579);const n=e=>{if(e.some(e=>"tagName"in e&&("HA-MENU"===e.tagName||"HA-CODE-EDITOR"===e.tagName)))return!1;const t=e[0];if("TEXTAREA"===t.tagName)return!1;if("HA-SELECT"===t.parentElement?.tagName)return!1;if("INPUT"!==t.tagName)return!0;switch(t.type){case"button":case"checkbox":case"hidden":case"radio":case"range":return!0;default:return!1}}},57237(e,t,i){i.d(t,{d:()=>n});const n=e=>e.stopPropagation()},17451(e,t,i){i.d(t,{j:()=>n});const n=(e,t,i)=>(void 0!==i&&(i=!!i),e.hasAttribute(t)?!!i||(e.removeAttribute(t),!1):!1!==i&&(e.setAttribute(t,""),!0))},78649(e,t,i){i.d(t,{n:()=>r});const n=/^(\w+)\.(\w+)$/,r=e=>n.test(e)},19459(e,t,i){i.d(t,{b:()=>n});i(69479),i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698);const n=(e,t,i)=>{if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;let r,o;if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(r=o;0!==r--;)if(!n(e[r],t[r],i))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!n(r[1],t.get(r[0]),i))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(o=e.length,o!==t.length)return!1;for(r=o;0!==r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const s=Object.keys(e);if(o=s.length,o!==Object.keys(t).length)return!1;for(r=o;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=o;0!==r--;){const o=s[r];if(!n(e[o],t[o],i))return!1}if(i?.compareSymbols){const r=Object.getOwnPropertySymbols(e),o=Object.getOwnPropertySymbols(t);if(r.length!==o.length)return!1;for(const o of r){if(!Object.prototype.hasOwnProperty.call(t,o))return!1;if(!n(e[o],t[o],i))return!1}}return!0}return e!=e&&t!=t}},63927(e,t,i){i.a(e,async function(e,n){try{i.d(t,{x:()=>h});var r=i(6946),o=i(52640),s=i(38684),a=i(380);const l=1e3,d=60,c=60*d;function h(e,t=Date.now(),i,n={}){const h={...u,...n||{}},p=(+e-+t)/l;if(Math.abs(p)<h.second)return{value:Math.round(p),unit:"second"};const g=p/d;if(Math.abs(g)<h.minute)return{value:Math.round(g),unit:"minute"};const m=p/c;if(Math.abs(m)<h.hour)return{value:Math.round(m),unit:"hour"};const y=new Date(e),f=new Date(t);y.setHours(0,0,0,0),f.setHours(0,0,0,0);const b=(0,r.c)(y,f);if(0===b)return{value:Math.round(m),unit:"hour"};if(Math.abs(b)<h.day)return{value:b,unit:"day"};const _=(0,a.P)(i),w=(0,o.k)(y,{weekStartsOn:_}),v=(0,o.k)(f,{weekStartsOn:_}),x=(0,s.I)(w,v);if(0===x)return{value:b,unit:"day"};if(Math.abs(x)<h.week)return{value:x,unit:"week"};const C=y.getFullYear()-f.getFullYear(),k=12*C+y.getMonth()-f.getMonth();return 0===k?{value:x,unit:"week"}:Math.abs(k)<h.month||0===C?{value:k,unit:"month"}:{value:Math.round(C),unit:"year"}}const u={second:59,minute:59,hour:22,day:5,week:4,month:11};n()}catch(p){n(p)}})},5745(e,t,i){var n=i(62826),r=i(4720),o=i(44457);class s extends r.Y{}s=(0,n.Cg)([(0,o.EM)("ha-chip-set")],s)},70947(e,t,i){var n=i(62826),r=i(79265),o=(i(94100),i(96196)),s=i(44457);i(67094);class a extends r.A{renderCheckboxIcon(){return o.qy` <ha-svg-icon id="check" part="checkmark" .path="${this.checked?"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z":"M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z"}"></ha-svg-icon> `}static get styles(){return[r.A.styles,o.AH`:host{min-height:var(--ha-space-10)}#check{visibility:visible}#icon ::slotted(*){color:var(--ha-color-on-neutral-normal)}:host([variant=danger]) #icon ::slotted(*){color:var(--ha-color-on-danger-quiet)}`]}}a=(0,n.Cg)([(0,s.EM)("ha-dropdown-item")],a)},29823(e,t,i){i.a(e,async function(e,t){try{var n=i(62826),r=i(52254),o=i(96196),s=i(44457),a=e([r]);r=(a.then?(await a)():a)[0];class l extends r.A{static get styles(){return[r.A.styles,o.AH`:host{font-size:var(--ha-dropdown-font-size, var(--ha-font-size-m));--wa-color-surface-raised:var(
            --card-background-color,
            var(--ha-dialog-surface-background, var(--mdc-theme-surface, #fff)),
          )}#menu{padding:var(--ha-space-1)}`]}constructor(...e){super(...e),this.dropdownTag="ha-dropdown",this.dropdownItemTag="ha-dropdown-item"}}(0,n.Cg)([(0,s.MZ)({attribute:!1})],l.prototype,"dropdownTag",void 0),(0,n.Cg)([(0,s.MZ)({attribute:!1})],l.prototype,"dropdownItemTag",void 0),l=(0,n.Cg)([(0,s.EM)("ha-dropdown")],l),t()}catch(e){t(e)}})},11382(e,t,i){var n=i(62826),r=i(96196),o=i(44457),s=i(94333),a=i(1087),l=i(12587);i(67094);class d extends r.WF{render(){const e=this.noCollapse?r.s6:r.qy` <ha-svg-icon .path="${"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"}" class="summary-icon ${(0,s.H)({expanded:this.expanded})}"></ha-svg-icon> `;return r.qy` <div class="top ${(0,s.H)({expanded:this.expanded})}"> <div id="summary" class="${(0,s.H)({noCollapse:this.noCollapse})}" @click="${this._toggleContainer}" @keydown="${this._toggleContainer}" @focus="${this._focusChanged}" @blur="${this._focusChanged}" role="button" tabindex="${this.noCollapse?-1:0}" aria-expanded="${this.expanded}" aria-controls="sect1" part="summary"> ${this.leftChevron?e:r.s6} <slot name="leading-icon"></slot> <slot name="header"> <div class="header"> ${this.header} <slot class="secondary" name="secondary">${this.secondary}</slot> </div> </slot> ${this.leftChevron?r.s6:e} <slot name="icons"></slot> </div> </div> <div class="container ${(0,s.H)({expanded:this.expanded})}" @transitionend="${this._handleTransitionEnd}" role="region" aria-labelledby="summary" aria-hidden="${!this.expanded}" tabindex="-1"> ${this._showContent?r.qy`<slot></slot>`:""} </div> `}willUpdate(e){super.willUpdate(e),e.has("expanded")&&(this._showContent=this.expanded,setTimeout(()=>{this._container.style.overflow=this.expanded?"initial":"hidden"},300))}_handleTransitionEnd(){this._container.style.removeProperty("height"),this._container.style.overflow=this.expanded?"initial":"hidden",this._showContent=this.expanded}async _toggleContainer(e){if(e.defaultPrevented)return;if("keydown"===e.type&&"Enter"!==e.key&&" "!==e.key)return;if(e.preventDefault(),this.noCollapse)return;const t=!this.expanded;(0,a.r)(this,"expanded-will-change",{expanded:t}),this._container.style.overflow="hidden",t&&(this._showContent=!0,await(0,l.E)());const i=this._container.scrollHeight;this._container.style.height=`${i}px`,t||setTimeout(()=>{this._container.style.height="0px"},0),this.expanded=t,(0,a.r)(this,"expanded-changed",{expanded:this.expanded})}_focusChanged(e){this.noCollapse||this.shadowRoot.querySelector(".top").classList.toggle("focused","focus"===e.type)}constructor(...e){super(...e),this.expanded=!1,this.outlined=!1,this.leftChevron=!1,this.noCollapse=!1,this._showContent=this.expanded}}d.styles=r.AH`:host{display:block}.top{display:flex;align-items:center;border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg))}.top.expanded{border-bottom-left-radius:0px;border-bottom-right-radius:0px}.top.focused{background:var(--input-fill-color)}:host([outlined]){box-shadow:none;border-width:1px;border-style:solid;border-color:var(--outline-color);border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg))}.summary-icon{transition:transform 150ms cubic-bezier(.4, 0, .2, 1);direction:var(--direction);margin-left:8px;margin-inline-start:8px;margin-inline-end:initial;border-radius:var(--ha-border-radius-circle)}#summary:focus-visible ha-svg-icon.summary-icon{background-color:var(--ha-color-fill-neutral-normal-active)}::slotted([slot=leading-icon]),:host([left-chevron]) .summary-icon{margin-left:0;margin-right:8px;margin-inline-start:0;margin-inline-end:8px}#summary{flex:1;display:flex;padding:var(--expansion-panel-summary-padding,0 8px);min-height:48px;align-items:center;cursor:pointer;overflow:hidden;font-weight:var(--ha-font-weight-medium);outline:0}#summary.noCollapse{cursor:default}.summary-icon.expanded{transform:rotate(180deg)}.header,::slotted([slot=header]){flex:1;overflow-wrap:anywhere;color:var(--primary-text-color)}.container{padding:var(--expansion-panel-content-padding,0 8px);overflow:hidden;transition:height .3s cubic-bezier(.4, 0, .2, 1);height:0px}.container.expanded{height:auto}.secondary{display:block;color:var(--secondary-text-color);font-size:var(--ha-font-size-s)}`,(0,n.Cg)([(0,o.MZ)({type:Boolean,reflect:!0})],d.prototype,"expanded",void 0),(0,n.Cg)([(0,o.MZ)({type:Boolean,reflect:!0})],d.prototype,"outlined",void 0),(0,n.Cg)([(0,o.MZ)({attribute:"left-chevron",type:Boolean,reflect:!0})],d.prototype,"leftChevron",void 0),(0,n.Cg)([(0,o.MZ)({attribute:"no-collapse",type:Boolean,reflect:!0})],d.prototype,"noCollapse",void 0),(0,n.Cg)([(0,o.MZ)()],d.prototype,"header",void 0),(0,n.Cg)([(0,o.MZ)()],d.prototype,"secondary",void 0),(0,n.Cg)([(0,o.wk)()],d.prototype,"_showContent",void 0),(0,n.Cg)([(0,o.P)(".container")],d.prototype,"_container",void 0),d=(0,n.Cg)([(0,o.EM)("ha-expansion-panel")],d)},28732(e,t,i){var n=i(62826),r=i(27686),o=i(7731),s=i(96196),a=i(44457);class l extends r.J{renderRipple(){return this.noninteractive?"":super.renderRipple()}static get styles(){return[o.R,s.AH`:host{padding-left:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-inline-start:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-right:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px));padding-inline-end:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px))}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:48px}span.material-icons:first-of-type{margin-inline-start:0px!important;margin-inline-end:var(--mdc-list-item-graphic-margin,16px)!important;direction:var(--direction)!important}span.material-icons:last-of-type{margin-inline-start:auto!important;margin-inline-end:0px!important;direction:var(--direction)!important}.mdc-deprecated-list-item__meta{display:var(--mdc-list-item-meta-display);align-items:center;flex-shrink:0}:host([graphic=icon]:not([twoline])) .mdc-deprecated-list-item__graphic{margin-inline-end:var(--mdc-list-item-graphic-margin,20px)!important}:host([multiline-secondary]){height:auto}:host([multiline-secondary]) .mdc-deprecated-list-item__text{padding:8px 0}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text{text-overflow:initial;white-space:normal;overflow:auto;display:inline-block;margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text{margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text::before{display:none}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text::before{display:none}:host([disabled]){color:var(--disabled-text-color)}:host([noninteractive]){pointer-events:unset}`,"rtl"===document.dir?s.AH`span.material-icons:first-of-type,span.material-icons:last-of-type{direction:rtl!important;--direction:rtl}`:s.AH``]}}l=(0,n.Cg)([(0,a.EM)("ha-list-item")],l)},2054(e,t,i){var n=i(62826),r=i(96196),o=i(44457),s=i(1087),a=i(44249);i(26300);class l extends r.WF{connectedCallback(){super.connectedCallback(),this._attachNotifOnConnect&&(this._attachNotifOnConnect=!1,this._subscribeNotifications())}disconnectedCallback(){super.disconnectedCallback(),this._unsubNotifications&&(this._attachNotifOnConnect=!0,this._unsubNotifications(),this._unsubNotifications=void 0)}render(){if(!this._show)return r.s6;const e=this._hasNotifications&&(this.narrow||"always_hidden"===this.hass.dockedSidebar);return r.qy` <ha-icon-button .label="${this.hass.localize("ui.sidebar.sidebar_toggle")}" .path="${"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"}" @click="${this._toggleMenu}"></ha-icon-button> ${e?r.qy`<div class="dot"></div>`:""} `}willUpdate(e){if(super.willUpdate(e),!e.has("narrow")&&!e.has("hass"))return;const t=e.has("hass")?e.get("hass"):this.hass,i=e.has("narrow")?e.get("narrow"):this.narrow,n=!1===t?.kioskMode&&(i||"always_hidden"===t?.dockedSidebar),r=!1===this.hass.kioskMode&&(this.narrow||"always_hidden"===this.hass.dockedSidebar);this.hasUpdated&&n===r||(this._show=r||this._alwaysVisible,r?this._subscribeNotifications():this._unsubNotifications&&(this._unsubNotifications(),this._unsubNotifications=void 0))}_subscribeNotifications(){if(this._unsubNotifications)throw new Error("Already subscribed");this._unsubNotifications=(0,a.V)(this.hass.connection,e=>{this._hasNotifications=e.length>0})}_toggleMenu(){(0,s.r)(this,"hass-toggle-menu")}constructor(...e){super(...e),this.narrow=!1,this._hasNotifications=!1,this._show=!1,this._alwaysVisible=!1,this._attachNotifOnConnect=!1}}l.styles=r.AH`:host{position:relative}.dot{pointer-events:none;position:absolute;background-color:var(--accent-color);width:12px;height:12px;top:9px;right:7px;inset-inline-end:7px;inset-inline-start:initial;border-radius:var(--ha-border-radius-circle);border:2px solid var(--app-header-background-color)}`,(0,n.Cg)([(0,o.MZ)({type:Boolean})],l.prototype,"narrow",void 0),(0,n.Cg)([(0,o.MZ)({attribute:!1})],l.prototype,"hass",void 0),(0,n.Cg)([(0,o.wk)()],l.prototype,"_hasNotifications",void 0),(0,n.Cg)([(0,o.wk)()],l.prototype,"_show",void 0),l=(0,n.Cg)([(0,o.EM)("ha-menu-button")],l)},77423(e,t,i){i.d(t,{A:()=>r,Cm:()=>o,JW:()=>f,Pd:()=>l,TC:()=>d,VN:()=>c,Vx:()=>h,XQ:()=>m,eM:()=>p,iH:()=>u,k3:()=>y,m4:()=>s,qf:()=>a,t0:()=>n,yv:()=>g});i(44114),i(18111),i(22489),i(20116),i(7588),i(61701);const n=(e,t)=>e.callWS({type:"config_entries/subentries/list",entry_id:t}),r=(e,t,i,n)=>e.callWS({type:"config_entries/subentries/update",entry_id:t,subentry_id:i,...n}),o=(e,t,i)=>e.callWS({type:"config_entries/subentries/delete",entry_id:t,subentry_id:i}),s=["migration_error","setup_error","setup_retry"],a=["not_loaded","loaded","setup_error","setup_retry"],l=(e,t,i)=>{const n=new b;return d(e,e=>{t(n.processMessage(e))},i)},d=(e,t,i)=>{const n={type:"config_entries/subscribe"};return i&&i.type&&(n.type_filter=i.type),e.connection.subscribeMessage(e=>{t(e)},n)},c=(e,t)=>{const i={};return t&&(t.type&&(i.type_filter=t.type),t.domain&&(i.domain=t.domain)),e.callWS({type:"config_entries/get",...i})},h=(e,t)=>e.callWS({type:"config_entries/get_single",entry_id:t}),u=(e,t,i)=>e.callWS({type:"config_entries/update",entry_id:t,...i}),p=(e,t)=>e.callApi("DELETE",`config/config_entries/entry/${t}`),g=(e,t)=>e.callApi("POST",`config/config_entries/entry/${t}/reload`),m=(e,t)=>e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:"user"}),y=(e,t)=>e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:null}),f=(e,t)=>{if(!t)return e;const i=e.find(e=>e.entry_id===t);if(!i)return e;return[i,...e.filter(e=>e.entry_id!==t)]};class b{processMessage(e){return e.forEach(e=>{if(null!==e.type&&"added"!==e.type)if("removed"!==e.type){if("updated"===e.type){const t=e.entry;this._entries=this._entries.map(e=>e.entry_id===t.entry_id?t:e)}}else this._entries=this._entries.filter(t=>t.entry_id!==e.entry.entry_id);else this._entries.push(e.entry)}),this._entries}constructor(){this._entries=[]}}},44249(e,t,i){i.d(t,{V:()=>n});const n=(e,t)=>{const i=new r,n=e.subscribeMessage(e=>t(i.processMessage(e)),{type:"persistent_notification/subscribe"});return()=>{n.then(e=>e?.())}};class r{processMessage(e){if("removed"===e.type)for(const t of Object.keys(e.notifications))delete this.notifications[t];else this.notifications={...this.notifications,...e.notifications};return Object.values(this.notifications)}constructor(){this.notifications={}}}},68893(e,t,i){i.d(t,{o:()=>r});var n=i(1087);const r=(e,t)=>new Promise(r=>{const o=t.closeDialog,s=t.logInHereAction;(0,n.r)(e,"show-dialog",{dialogTag:"dialog-cloud-already-connected",dialogImport:()=>i.e("88028").then(i.bind(i,59959)),dialogParams:{...t,closeDialog:()=>{o?.(),r(!1)},logInHereAction:()=>{s?.(),r(!0)}}})})},50587(e,t,i){i.a(e,async function(e,t){try{i(58335);var n=i(62826),r=i(96196),o=i(44457),s=i(1087),a=i(89300),l=(i(38962),i(76776),i(18350)),d=(i(71418),i(75709),i(14503)),c=i(71117),h=i(33963),u=i(69150),p=i(68893),g=i(79007),m=e([a,l,h]);[a,l,h]=m.then?(await m)():m;class y extends r.WF{render(){return this.cardLess?this._renderLoginForm():r.qy` <ha-card outlined .header="${this.localize(`ui.panel.${this.translationKeyPanel}.login.sign_in`)}"> ${this._renderLoginForm()} </ha-card> `}_renderLoginForm(){return r.qy` <div class="card-content login-form"> ${this._error?r.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:r.s6} <ha-textfield .label="${this.localize(`ui.panel.${this.translationKeyPanel}.login.email`)}" id="email" name="username" type="email" autocomplete="username" required .value="${this.email??""}" @keydown="${this._keyDown}" .disabled="${this._inProgress}" .validationMessage="${this.localize(`ui.panel.${this.translationKeyPanel}.login.email_error_msg`)}"></ha-textfield> <ha-password-field id="password" name="password" .label="${this.localize(`ui.panel.${this.translationKeyPanel}.login.password`)}" autocomplete="current-password" required minlength="8" @keydown="${this._keyDown}" .disabled="${this._inProgress}" .validationMessage="${this.localize(`ui.panel.${this.translationKeyPanel}.login.password_error_msg`)}"></ha-password-field> </div> <div class="card-actions"> <ha-button appearance="plain" .disabled="${this._inProgress}" @click="${this._handleForgotPassword}"> ${this.localize(`ui.panel.${this.translationKeyPanel}.login.forgot_password`)} </ha-button> <ha-progress-button @click="${this._handleLogin}" .progress="${this._inProgress}">${this.localize(`ui.panel.${this.translationKeyPanel}.login.sign_in`)}</ha-progress-button> </div> `}_keyDown(e){"Enter"===e.key&&this._handleLogin()}async _handleLogin(){if(!this._inProgress){if(!this.emailField.reportValidity())return void this.emailField.focus();if(!this._passwordField.reportValidity())return void this._passwordField.focus();this._inProgress=!0,this._login(this.emailField.value,this._passwordField.value,this.checkConnection)}}_handleForgotPassword(){(0,s.r)(this,"cloud-forgot-password")}static get styles(){return[d.RF,r.AH`ha-card{overflow:hidden}ha-card .card-header{margin-bottom:-8px}.card-actions{display:flex;justify-content:space-between;align-items:center}.login-form{display:flex;flex-direction:column}`]}constructor(...e){super(...e),this.checkConnection=!1,this.translationKeyPanel="config.cloud",this.cardLess=!1,this._inProgress=!1,this._handleCloudLoginError=async(e,t,i,n)=>{const r=e&&e.body&&e.body.code;if("mfarequired"===r){const e=await(0,h.showPromptDialog)(this,{title:this.localize(`ui.panel.${this.translationKeyPanel}.login.totp_code_prompt_title`),inputLabel:this.localize(`ui.panel.${this.translationKeyPanel}.login.totp_code`),inputType:"text",defaultValue:"",confirmText:this.localize(`ui.panel.${this.translationKeyPanel}.login.submit`),dismissText:this.localize(`ui.panel.${this.translationKeyPanel}.login.cancel`)});if(null!==e&&""!==e)return this._login(t,i,n,e.trim()),"continue"}if("alreadyconnectederror"===r){const n=await(0,p.o)(this,{details:JSON.parse(e.body.message)});return n&&this._login(t,i,!1),n?"continue":"cancel"}if("PasswordChangeRequired"===r)return(0,h.showAlertDialog)(this,{title:this.localize(`ui.panel.${this.translationKeyPanel}.login.alert_password_change_required`)}),"password-change";if("usernotfound"!==r||t===t.toLowerCase())switch(r){case"UserNotConfirmed":return this.localize(`ui.panel.${this.translationKeyPanel}.login.alert_email_confirm_necessary`);case"mfarequired":return this.localize(`ui.panel.${this.translationKeyPanel}.login.alert_mfa_code_required`);case"mfaexpiredornotstarted":return this.localize(`ui.panel.${this.translationKeyPanel}.login.alert_mfa_expired_or_not_started`);case"invalidtotpcode":return this.localize(`ui.panel.${this.translationKeyPanel}.login.alert_totp_code_invalid`);default:return e&&e.body&&e.body.message?e.body.message:"Unknown error"}else this._login(t.toLowerCase(),i,n)},this._login=async(e,t,i,n)=>{if(!t&&!n)throw new Error("Password or code required");try{if(this.hass){const r=await(0,c.p7)({hass:this.hass,email:e,...n?{code:n}:{password:t},check_connection:i});r.cloud_pipeline&&await(0,h.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.cloud.login.cloud_pipeline_title"),text:this.hass.localize("ui.panel.config.cloud.login.cloud_pipeline_text"),confirmText:this.hass.localize("ui.common.yes"),dismissText:this.hass.localize("ui.common.no")})&&(0,u.NH)(this.hass,r.cloud_pipeline)}else await(0,g.AC)({email:e,...n?{code:n}:{password:t}});this.email="",(0,s.r)(this,"ha-refresh-cloud-status")}catch(n){const r=await this._handleCloudLoginError(n,e,t,i);if("cancel"===r)return this._inProgress=!1,this.email="",void(this._passwordField.value="");if("password-change"===r)return void this._handleForgotPassword();"continue"!==r&&(this._inProgress=!1,this._error=r)}}}}(0,n.Cg)([(0,o.MZ)({attribute:!1})],y.prototype,"hass",void 0),(0,n.Cg)([(0,o.MZ)({type:Boolean,attribute:"check-connection"})],y.prototype,"checkConnection",void 0),(0,n.Cg)([(0,o.MZ)()],y.prototype,"email",void 0),(0,n.Cg)([(0,o.MZ)({attribute:!1})],y.prototype,"localize",void 0),(0,n.Cg)([(0,o.MZ)({attribute:"translation-key-panel"})],y.prototype,"translationKeyPanel",void 0),(0,n.Cg)([(0,o.MZ)({type:Boolean,attribute:"card-less"})],y.prototype,"cardLess",void 0),(0,n.Cg)([(0,o.P)("#email",!0)],y.prototype,"emailField",void 0),(0,n.Cg)([(0,o.P)("#password",!0)],y.prototype,"_passwordField",void 0),(0,n.Cg)([(0,o.wk)()],y.prototype,"_error",void 0),(0,n.Cg)([(0,o.wk)()],y.prototype,"_inProgress",void 0),y=(0,n.Cg)([(0,o.EM)("cloud-login")],y),t()}catch(e){t(e)}})},34128(e,t,i){i.d(t,{G9:()=>s,Ni:()=>o,Ue:()=>c,Vd:()=>h,gh:()=>u});var n=i(1087),r=i(45291);const o=e=>{const t=document.createElement("hui-error-card");return customElements.get("hui-error-card")?t.setConfig(e):(Promise.resolve().then(i.bind(i,4397)),customElements.whenDefined("hui-error-card").then(()=>{customElements.upgrade(t),t.setConfig(e)})),t},s=(e,t)=>({type:"error",error:e,origConfig:t}),a=(e,t)=>{const i=document.createElement(e);return i.setConfig(t),i},l=(e,t,n)=>"badge"===e?(e=>{const t=document.createElement("hui-error-badge");return customElements.get("hui-error-badge")?t.setConfig(e):(Promise.all([i.e("92769"),i.e("62453"),i.e("63577"),i.e("72130"),i.e("85010"),i.e("39607"),i.e("99788"),i.e("86909"),i.e("2217"),i.e("19693"),i.e("26233"),i.e("34310"),i.e("21519"),i.e("67862"),i.e("12009"),i.e("94860"),i.e("36332"),i.e("15862"),i.e("82529"),i.e("99143"),i.e("99023"),i.e("3025"),i.e("66990"),i.e("45374"),i.e("63610"),i.e("77369")]).then(i.bind(i,50655)),customElements.whenDefined("hui-error-badge").then(()=>{customElements.upgrade(t),t.setConfig(e)})),t})(s(t,n)):"heading-badge"===e?(e=>{const t=document.createElement("hui-error-heading-badge");return customElements.get("hui-error-heading-badge")?t.setConfig(e):(Promise.all([i.e("92769"),i.e("62453"),i.e("63577"),i.e("72130"),i.e("85010"),i.e("39607"),i.e("99788"),i.e("86909"),i.e("2217"),i.e("42074"),i.e("26233"),i.e("34310"),i.e("21519"),i.e("67862"),i.e("12009"),i.e("94860"),i.e("36332"),i.e("15862"),i.e("82529"),i.e("99143"),i.e("99023"),i.e("3025"),i.e("66990"),i.e("45374"),i.e("63610"),i.e("87559")]).then(i.bind(i,13469)),customElements.whenDefined("hui-error-heading-badge").then(()=>{customElements.upgrade(t),t.setConfig(e)})),t})(((e,t)=>({type:"error",error:e,origConfig:t}))(t,n)):o({type:"error",message:t}),d=e=>(0,r.c8)(e)?(0,r.Iu)(e):void 0,c=(e,t,i,n,r,o)=>{try{return h(e,t,i,n,r,o)}catch(i){return console.error(e,t.type,i),l(e,i.message,t)}},h=(e,t,i,r,o,s)=>{if(!t||"object"!=typeof t)throw new Error("Config is not an object");if(!(t.type||s||o&&"entity"in t))throw new Error("No card type configured");const c=t.type?d(t.type):void 0;if(c)return((e,t,i)=>{if(customElements.get(t))return a(t,i);const r=l(e,`Custom element doesn't exist: ${t}.`,i);if(!t.includes("-"))return r;r.style.display="None";const o=window.setTimeout(()=>{r.style.display=""},2e3);return customElements.whenDefined(t).then(()=>{clearTimeout(o),(0,n.r)(r,"ll-rebuild")}),r})(e,c,t);let h;if(o&&!t.type&&t.entity){h=`${o[t.entity.split(".",1)[0]]||o._domain_not_found}-entity`}else h=t.type||s;if(void 0===h)throw new Error("No type specified");const u=`hui-${h}-${e}`;if(r&&h in r)return r[h](),((e,t)=>{if(customElements.get(e))return a(e,t);const i=document.createElement(e);return customElements.whenDefined(e).then(()=>{try{customElements.upgrade(i),(0,n.r)(i,"ll-upgrade"),i.setConfig(t)}catch(e){(0,n.r)(i,"ll-rebuild")}}),i})(u,t);if(i&&i.has(h))return a(u,t);throw new Error(`Unknown type encountered: ${h}`)},u=async(e,t,i,n)=>{const r=d(e);if(r){const e=customElements.get(r);if(e)return e;if(!r.includes("-"))throw new Error(`Custom element not found: ${r}`);return new Promise((e,t)=>{setTimeout(()=>t(new Error(`Custom element not found: ${r}`)),2e3),customElements.whenDefined(r).then(()=>e(customElements.get(r)))})}const o=`hui-${e}-${t}`,s=customElements.get(o);if(i&&i.has(e))return s;if(n&&e in n)return s||n[e]().then(()=>customElements.get(o));throw new Error(`Unknown type: ${e}`)}},94225(e,t,i){i.a(e,async function(e,n){try{i.d(t,{T:()=>_,t:()=>w});i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698);var r=i(99799),o=i(29003),s=i(92055),a=i(19396),l=i(74323),d=i(51199),c=i(43721),h=i(65509),u=i(21659),p=i(82525),g=i(34128),m=e([r,o,s,a,l,d,c,h,u,p]);[r,o,s,a,l,d,c,h,u,p]=m.then?(await m)():m;const y=new Set(["media-player-entity","scene-entity","script-entity","sensor-entity","simple-entity","toggle-entity","button","call-service"]),f={"button-entity":()=>i.e("26846").then(i.bind(i,21869)),"climate-entity":()=>i.e("56995").then(i.bind(i,2798)),"cover-entity":()=>i.e("41243").then(i.bind(i,79734)),"date-entity":()=>i.e("17418").then(i.bind(i,75473)),"datetime-entity":()=>Promise.all([i.e("63577"),i.e("80557"),i.e("81767")]).then(i.bind(i,69690)),"event-entity":()=>Promise.resolve().then(i.bind(i,99799)),"group-entity":()=>i.e("68827").then(i.bind(i,53110)),"input-button-entity":()=>i.e("19825").then(i.bind(i,46472)),"humidifier-entity":()=>i.e("378").then(i.bind(i,53537)),"input-datetime-entity":()=>Promise.all([i.e("63577"),i.e("71748")]).then(i.bind(i,1391)),"input-number-entity":()=>i.e("17600").then(i.bind(i,58723)),"input-select-entity":()=>Promise.all([i.e("63577"),i.e("44325")]).then(i.bind(i,54596)),"input-text-entity":()=>i.e("8086").then(i.bind(i,51765)),"lock-entity":()=>i.e("28245").then(i.bind(i,49748)),"number-entity":()=>i.e("71523").then(i.bind(i,57198)),"select-entity":()=>Promise.all([i.e("63577"),i.e("9374")]).then(i.bind(i,78157)),"text-entity":()=>i.e("67973").then(i.bind(i,58212)),"time-entity":()=>Promise.all([i.e("63577"),i.e("61331")]).then(i.bind(i,87550)),"timer-entity":()=>i.e("94097").then(i.bind(i,6344)),"update-entity":()=>i.e("80275").then(i.bind(i,38238)),"valve-entity":()=>i.e("96654").then(i.bind(i,46493)),conditional:()=>Promise.all([i.e("86909"),i.e("6166")]).then(i.bind(i,80725)),"weather-entity":()=>Promise.all([i.e("12009"),i.e("55166")]).then(i.bind(i,80395)),divider:()=>i.e("45249").then(i.bind(i,38584)),section:()=>i.e("51255").then(i.bind(i,39082)),weblink:()=>i.e("69148").then(i.bind(i,65751)),cast:()=>i.e("10405").then(i.bind(i,96612)),buttons:()=>i.e("50777").then(i.bind(i,65728)),attribute:()=>Promise.resolve().then(i.bind(i,65509)),text:()=>i.e("95421").then(i.bind(i,3980))},b={_domain_not_found:"simple",alert:"toggle",automation:"toggle",button:"button",climate:"climate",cover:"cover",date:"date",datetime:"datetime",event:"event",fan:"toggle",group:"group",humidifier:"humidifier",input_boolean:"toggle",input_button:"input-button",input_datetime:"input-datetime",input_number:"input-number",input_select:"input-select",input_text:"input-text",light:"toggle",lock:"lock",media_player:"media-player",number:"number",remote:"toggle",scene:"scene",script:"script",select:"select",sensor:"sensor",siren:"toggle",switch:"toggle",text:"text",time:"time",timer:"timer",update:"update",vacuum:"toggle",valve:"valve",water_heater:"climate",weather:"weather"},_=e=>(0,g.Ue)("row",e,y,f,b,void 0),w=e=>(0,g.gh)(e,"row",y,f);n()}catch(e){n(e)}})},44144(e,t,i){i.d(t,{MR:()=>n,QR:()=>r,a_:()=>o,bg:()=>s});const n=e=>`https://brands.home-assistant.io/${e.brand?"brands/":""}_/${e.domain}/${e.darkOptimized?"dark_":""}${e.type}.png`,r=e=>`https://brands.home-assistant.io/hardware/${e.category}/${e.darkOptimized?"dark_":""}${e.manufacturer}${e.model?`_${e.model}`:""}.png`,o=e=>e.split("/")[4],s=e=>e.startsWith("https://brands.home-assistant.io/")}};
//# sourceMappingURL=86296.ee1baf5cd03a7148.js.map