"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["36363"],{78870:function(e,t,n){n.d(t,{MP:function(){return o},dc:function(){return a},lt:function(){return r}});n(27495),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(62953);const r=new Set(["primary","accent","red","pink","purple","deep-purple","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","deep-orange","brown","light-grey","grey","dark-grey","blue-grey","black","white"]),i=new Set(["primary-text","secondary-text","disabled"]);function o(e){return r.has(e)||i.has(e)?`var(--${e}-color)`:e}function a(e){if(!e||"string"!=typeof e)return!1;if(r.has(e))return!0;if(/^#([0-9A-Fa-f]{3}){1,2}$/.test(e))return!0;try{const t=(new Option).style;return t.color=e,""!==t.color}catch(t){return!1}}},91069:function(e,t,n){n.a(e,async function(e,r){try{n.d(t,{EO:function(){return w},Yq:function(){return E},_U:function(){return S},eE:function(){return k},fU:function(){return O},ol:function(){return b},xo:function(){return v}});var i=n(78016),o=n(31810),a=n(49134),s=n(81977),c=n(36307),l=n(35932),u=n(73983),d=n(6946),m=n(92913),f=n(83339),_=n(77972),p=n(31886),g=n(46927),h=e([p]);p=(h.then?(await h)():h)[0];const y=(e,t,n,r)=>{const i=n(new p.BB(e,t),r);return i instanceof Date?new Date(i.getTime()):i},b=(e,t,n,r,i)=>n.time_zone===g.Wj.server?y(e,r.time_zone,t,i):t(e,i),v=(e,t,n,r,i)=>n.time_zone===g.Wj.server?y(e,r.time_zone,t,i):t(e,i),w=(e,t,n,r,i)=>v(e,n,r,i,r.time_zone===g.Wj.server?new p.BB(t,i.time_zone):t),k=(e,t,n,r,p)=>{let g,h;if(v(e,i.e,r,p)&&v(t,o.c,r,p)){const i=(w(t,e,a.W,r,p)+1)*(n?1:-1);g=b(e,s.P,r,p,i),h=b(b(t,s.P,r,p,i),c.p,r,p)}else if(v(e,e=>(0,l.o)(e).getMilliseconds()===e.getMilliseconds(),r,p)&&v(t,e=>(0,u.D)(e).getMilliseconds()===e.getMilliseconds(),r,p)){const i=(w(t,e,d.c,r,p)+1)*(n?1:-1);g=b(e,m.f,r,p,i),h=b(t,m.f,r,p,i)}else{const i=w(t,e,f.b,r,p)*(n?1:-1);g=b(e,_.A,r,p,i),h=b(t,_.A,r,p,i)}return{start:g,end:h}},S=(e,t)=>{const n=new p.BB(e,t);return new Date(n.getTime())},E=(e,t)=>new p.BB(e,t).toISOString().split("T")[0],O=(e,t)=>new p.BB(e,t).toISOString().split("T")[1].split(".")[0];r()}catch(y){r(y)}})},46223:function(e,t,n){n.a(e,async function(e,r){try{n.d(t,{b:function(){return w}});var i=n(35932),o=n(73983),a=n(92913),s=n(52640),c=n(69137),l=n(35660),u=n(36307),d=n(11650),m=n(15797),f=n(33977),_=n(69748),p=n(55144),g=n(21828),h=n(66708),y=n(91069),b=n(380),v=e([b,y]);[b,y]=v.then?(await v)():v;const w=(e,t)=>{const n=new Date,r=(0,b.P)(e.locale);switch(t){case"today":return[(0,y.ol)(n,i.o,e.locale,e.config,{weekStartsOn:r}),(0,y.ol)(n,o.D,e.locale,e.config,{weekStartsOn:r})];case"yesterday":return[(0,y.ol)((0,a.f)(n,-1),i.o,e.locale,e.config,{weekStartsOn:r}),(0,y.ol)((0,a.f)(n,-1),o.D,e.locale,e.config,{weekStartsOn:r})];case"this_week":return[(0,y.ol)(n,s.k,e.locale,e.config,{weekStartsOn:r}),(0,y.ol)(n,c.$,e.locale,e.config,{weekStartsOn:r})];case"this_month":return[(0,y.ol)(n,l.w,e.locale,e.config),(0,y.ol)(n,u.p,e.locale,e.config)];case"this_quarter":return[(0,y.ol)(n,d.a,e.locale,e.config),(0,y.ol)(n,m.j,e.locale,e.config)];case"this_year":return[(0,y.ol)(n,f.D,e.locale,e.config),(0,y.ol)(n,_.Q,e.locale,e.config)];case"now-7d":return[(0,y.ol)(n,p.e,e.locale,e.config,7),(0,y.ol)(n,p.e,e.locale,e.config,0)];case"now-30d":return[(0,y.ol)(n,p.e,e.locale,e.config,30),(0,y.ol)(n,p.e,e.locale,e.config,0)];case"now-12m":return[(0,y.ol)(n,g.a,e.locale,e.config,12),(0,y.ol)(n,g.a,e.locale,e.config,0)];case"now-1h":return[(0,y.ol)(n,h.O,e.locale,e.config,1),(0,y.ol)(n,h.O,e.locale,e.config,0)];case"now-12h":return[(0,y.ol)(n,h.O,e.locale,e.config,12),(0,y.ol)(n,h.O,e.locale,e.config,0)];case"now-24h":return[(0,y.ol)(n,h.O,e.locale,e.config,24),(0,y.ol)(n,h.O,e.locale,e.config,0)]}return[n,n]};r()}catch(w){r(w)}})},90409:function(e,t,n){n.d(t,{A:function(){return r}});n(18111),n(61701);function r(e){const t=e.split(":").map(Number);return 3600*t[0]+60*t[1]+t[2]}},380:function(e,t,n){n.a(e,async function(e,r){try{n.d(t,{D:function(){return u},P:function(){return l}});n(74423);var i=n(74487),o=n(81e3),a=n(46927),s=n(96029),c=e([i]);i=(c.then?(await c)():c)[0];const l=e=>e.first_weekday===a.zt.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(e.language).weekInfo.firstDay%7:(0,o.S)(e.language)%7:s.Z.includes(e.first_weekday)?s.Z.indexOf(e.first_weekday):1,u=e=>{const t=l(e);return s.Z[t]};r()}catch(l){r(l)}})},96029:function(e,t,n){n.d(t,{Tq:function(){return a},Z:function(){return i},ZV:function(){return r},sj:function(){return o}});const r=["sun","mon","tue","wed","thu","fri","sat"],i=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],o={0:"sun",1:"mon",2:"tue",3:"wed",4:"thu",5:"fri",6:"sat"},a={sun:"sunday",mon:"monday",tue:"tuesday",wed:"wednesday",thu:"thursday",fri:"friday",sat:"saturday"}},71769:function(e,t,n){n.d(t,{m:function(){return r}});const r=(e,t)=>{const n=matchMedia(e),r=e=>t(e.matches);return n.addListener(r),t(n.matches),()=>n.removeListener(r)}},17451:function(e,t,n){n.d(t,{j:function(){return r}});const r=(e,t,n)=>(void 0!==n&&(n=!!n),e.hasAttribute(t)?!!n||(e.removeAttribute(t),!1):!1!==n&&(e.setAttribute(t,""),!0))},28455:function(e,t,n){n.d(t,{j:function(){return i},l:function(){return r}});const r=(e,t,n,r,o)=>{const a=t[e.entity_id];return a?i(a,t,n,r,o):{entity:null,device:null,area:null,floor:null}},i=(e,t,n,r,i)=>{const o=t[e.entity_id],a=null==e?void 0:e.device_id,s=a?n[a]:void 0,c=(null==e?void 0:e.area_id)||(null==s?void 0:s.area_id),l=c?r[c]:void 0,u=null==l?void 0:l.floor_id;return{entity:o,device:s||null,area:l||null,floor:(u?i[u]:void 0)||null}}},22682:function(e,t,n){n.d(t,{$:function(){return a}});n(84864),n(57465),n(27495);const r="^\\d{4}-(0[1-9]|1[0-2])-([12]\\d|0[1-9]|3[01])",i=new RegExp(r+"$"),o=new RegExp(r),a=(e,t=!1)=>t?o.test(e):i.test(e)},6940:function(e,t,n){n.d(t,{F:function(){return i}});n(27495);const r=/^\d{4}-(0[1-9]|1[0-2])-([12]\d|0[1-9]|3[01])[T| ](((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([.,]\d+(?!:))?)(\8[0-5]\d([.,]\d+)?)?([zZ]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)$/,i=e=>r.test(e)},19459:function(e,t,n){n.d(t,{b:function(){return r}});n(84864),n(57465),n(27495),n(69479),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(62953);const r=(e,t,n)=>{if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;let i,o;if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(i=o;0!==i--;)if(!r(e[i],t[i],n))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!r(i[1],t.get(i[0]),n))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(o=e.length,o!==t.length)return!1;for(i=o;0!==i--;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;0!==i--;)if(!Object.prototype.hasOwnProperty.call(t,a[i]))return!1;for(i=o;0!==i--;){const o=a[i];if(!r(e[o],t[o],n))return!1}if(null!=n&&n.compareSymbols){const i=Object.getOwnPropertySymbols(e),o=Object.getOwnPropertySymbols(t);if(i.length!==o.length)return!1;for(const a of i){if(!Object.prototype.hasOwnProperty.call(t,a))return!1;if(!r(e[a],t[a],n))return!1}}return!0}return e!=e&&t!=t}},52763:function(e,t,n){n.d(t,{U:function(){return v}});n(18111),n(7588),n(61701),n(3362),n(62953);var r=n(40445),i=n(96196),o=n(77845),a=n(69558),s=n(1087);n(38962),n(11399);let c,l,u,d,m,f,_,p,g,h=e=>e;const y={boolean:()=>Promise.all([n.e("8477"),n.e("81347")]).then(n.bind(n,46990)),constant:()=>n.e("65733").then(n.bind(n,90820)),float:()=>Promise.all([n.e("73126"),n.e("44533"),n.e("17477")]).then(n.bind(n,20676)),grid:()=>n.e("60761").then(n.bind(n,70208)),expandable:()=>n.e("45001").then(n.bind(n,40003)),integer:()=>Promise.all([n.e("73126"),n.e("62066"),n.e("44533"),n.e("63768"),n.e("8477"),n.e("21543"),n.e("78039"),n.e("43413")]).then(n.bind(n,20036)),multi_select:()=>Promise.all([n.e("62066"),n.e("46095"),n.e("63768"),n.e("34995"),n.e("8477"),n.e("30965"),n.e("78219")]).then(n.bind(n,36182)),positive_time_period_dict:()=>Promise.all([n.e("73126"),n.e("44533"),n.e("26767"),n.e("63577"),n.e("56208"),n.e("16508"),n.e("50371")]).then(n.bind(n,89422)),select:()=>Promise.all([n.e("73126"),n.e("62066"),n.e("44533"),n.e("46095"),n.e("63768"),n.e("92769"),n.e("62453"),n.e("26767"),n.e("63577"),n.e("8477"),n.e("4939"),n.e("53246"),n.e("26233"),n.e("39005"),n.e("35873"),n.e("12112")]).then(n.bind(n,63804)),string:()=>Promise.all([n.e("73126"),n.e("44533"),n.e("31802")]).then(n.bind(n,54753)),optional_actions:()=>Promise.all([n.e("62066"),n.e("63768"),n.e("34995"),n.e("93709")]).then(n.bind(n,8456))},b=(e,t)=>e?!t.name||t.flatten?e:e[t.name]:null;class v extends i.WF{getFormProperties(){return{}}async focus(){await this.updateComplete;const e=this.renderRoot.querySelector(".root");if(e)for(const t of e.children)if("HA-ALERT"!==t.tagName){t instanceof i.mN&&await t.updateComplete,t.focus();break}}willUpdate(e){e.has("schema")&&this.schema&&this.schema.forEach(e=>{var t;"selector"in e||null===(t=y[e.type])||void 0===t||t.call(y)})}render(){return(0,i.qy)(c||(c=h` <div class="root" part="root"> ${0} ${0} </div> `),this.error&&this.error.base?(0,i.qy)(l||(l=h` <ha-alert alert-type="error"> ${0} </ha-alert> `),this._computeError(this.error.base,this.schema)):"",this.schema.map(e=>{var t;const n=((e,t)=>e&&t.name?e[t.name]:null)(this.error,e),r=((e,t)=>e&&t.name?e[t.name]:null)(this.warning,e);return(0,i.qy)(u||(u=h` ${0} ${0} `),n?(0,i.qy)(d||(d=h` <ha-alert own-margin alert-type="error"> ${0} </ha-alert> `),this._computeError(n,e)):r?(0,i.qy)(m||(m=h` <ha-alert own-margin alert-type="warning"> ${0} </ha-alert> `),this._computeWarning(r,e)):"","selector"in e?(0,i.qy)(f||(f=h`<ha-selector .schema="${0}" .hass="${0}" .narrow="${0}" .name="${0}" .selector="${0}" .value="${0}" .label="${0}" .disabled="${0}" .placeholder="${0}" .helper="${0}" .localizeValue="${0}" .required="${0}" .context="${0}"></ha-selector>`),e,this.hass,this.narrow,e.name,e.selector,b(this.data,e),this._computeLabel(e,this.data),e.disabled||this.disabled||!1,e.required?void 0:e.default,this._computeHelper(e),this.localizeValue,e.required||!1,this._generateContext(e)):(0,a._)(this.fieldElementName(e.type),Object.assign({schema:e,data:b(this.data,e),label:this._computeLabel(e,this.data),helper:this._computeHelper(e),disabled:this.disabled||e.disabled||!1,hass:this.hass,localize:null===(t=this.hass)||void 0===t?void 0:t.localize,computeLabel:this.computeLabel,computeHelper:this.computeHelper,localizeValue:this.localizeValue,context:this._generateContext(e)},this.getFormProperties())))}))}fieldElementName(e){return`ha-form-${e}`}_generateContext(e){if(!e.context)return;const t={};for(const[n,r]of Object.entries(e.context))t[n]=this.data[r];return t}createRenderRoot(){const e=super.createRenderRoot();return this.addValueChangedListener(e),e}addValueChangedListener(e){e.addEventListener("value-changed",e=>{e.stopPropagation();const t=e.target.schema;if(e.target===this)return;const n=!t.name||"flatten"in t&&t.flatten?e.detail.value:{[t.name]:e.detail.value};this.data=Object.assign(Object.assign({},this.data),n),(0,s.r)(this,"value-changed",{value:this.data})})}_computeLabel(e,t){return this.computeLabel?this.computeLabel(e,t):e?e.name:""}_computeHelper(e){return this.computeHelper?this.computeHelper(e):""}_computeError(e,t){return Array.isArray(e)?(0,i.qy)(_||(_=h`<ul> ${0} </ul>`),e.map(e=>(0,i.qy)(p||(p=h`<li> ${0} </li>`),this.computeError?this.computeError(e,t):e))):this.computeError?this.computeError(e,t):e}_computeWarning(e,t){return this.computeWarning?this.computeWarning(e,t):e}constructor(...e){super(...e),this.narrow=!1,this.disabled=!1}}v.shadowRootOptions={mode:"open",delegatesFocus:!0},v.styles=(0,i.AH)(g||(g=h`.root>*{display:block}.root>:not([own-margin]):not(:last-child){margin-bottom:24px}ha-alert[own-margin]{margin-bottom:4px}`)),(0,r.Cg)([(0,o.MZ)({attribute:!1})],v.prototype,"hass",void 0),(0,r.Cg)([(0,o.MZ)({type:Boolean})],v.prototype,"narrow",void 0),(0,r.Cg)([(0,o.MZ)({attribute:!1})],v.prototype,"data",void 0),(0,r.Cg)([(0,o.MZ)({attribute:!1})],v.prototype,"schema",void 0),(0,r.Cg)([(0,o.MZ)({attribute:!1})],v.prototype,"error",void 0),(0,r.Cg)([(0,o.MZ)({attribute:!1})],v.prototype,"warning",void 0),(0,r.Cg)([(0,o.MZ)({type:Boolean})],v.prototype,"disabled",void 0),(0,r.Cg)([(0,o.MZ)({attribute:!1})],v.prototype,"computeError",void 0),(0,r.Cg)([(0,o.MZ)({attribute:!1})],v.prototype,"computeWarning",void 0),(0,r.Cg)([(0,o.MZ)({attribute:!1})],v.prototype,"computeLabel",void 0),(0,r.Cg)([(0,o.MZ)({attribute:!1})],v.prototype,"computeHelper",void 0),(0,r.Cg)([(0,o.MZ)({attribute:!1})],v.prototype,"localizeValue",void 0),v=(0,r.Cg)([(0,o.EM)("ha-form")],v)},53641:function(e,t,n){n.d(t,{L3:function(){return i},QI:function(){return l},WT:function(){return s},bQ:function(){return c},ft:function(){return r.f},gs:function(){return o},uG:function(){return a}});n(44114),n(62953);var r=n(29908);const i=(e,t)=>e.callWS(Object.assign({type:"config/area_registry/create"},t)),o=(e,t,n)=>e.callWS(Object.assign({type:"config/area_registry/update",area_id:t},n)),a=(e,t)=>e.callWS({type:"config/area_registry/delete",area_id:t}),s=(e,t)=>e.callWS({type:"config/area_registry/reorder",area_ids:t}),c=e=>{const t={};for(const n of e)n.area_id&&(n.area_id in t||(t[n.area_id]=[]),t[n.area_id].push(n));return t},l=e=>{const t={};for(const n of e)n.area_id&&(n.area_id in t||(t[n.area_id]=[]),t[n.area_id].push(n));return t}},82e3:function(e,t,n){n.d(t,{D5:function(){return r},Fy:function(){return d},Gk:function(){return _},Hg:function(){return i},TJ:function(){return a},UQ:function(){return u},Y_:function(){return p},ds:function(){return f},e0:function(){return o},ec:function(){return m},go:function(){return c},n2:function(){return l},sq:function(){return s}});n(74423),n(18111),n(61701),n(33110),n(3362);const r=14881==n.j?`${location.protocol}//${location.host}`:null,i=e=>e.map(e=>{if("string"!==e.type)return e;switch(e.name){case"username":return Object.assign(Object.assign({},e),{},{autocomplete:"username",autofocus:!0});case"password":return Object.assign(Object.assign({},e),{},{autocomplete:"current-password"});case"code":return Object.assign(Object.assign({},e),{},{autocomplete:"one-time-code",autofocus:!0});default:return e}}),o=(e,t)=>e.callWS({type:"auth/sign_path",path:t}),a=()=>fetch("/auth/providers",{credentials:"same-origin"}),s=(e,t,n)=>fetch("/auth/login_flow",{method:"POST",credentials:"same-origin",body:JSON.stringify({client_id:e,handler:n,redirect_uri:t})}),c=(e,t)=>fetch(`/auth/login_flow/${e}`,{method:"POST",credentials:"same-origin",body:JSON.stringify(t)}),l=e=>fetch(`/auth/login_flow/${e}`,{method:"DELETE",credentials:"same-origin"}),u=(e,t,n,r)=>{e.includes("?")?e.endsWith("&")||(e+="&"):e+="?",e+=`code=${encodeURIComponent(t)}`,n&&(e+=`&state=${encodeURIComponent(n)}`),r&&(e+="&storeToken=true"),document.location.assign(e)},d=async(e,t,n,r)=>e.callWS({type:"config/auth_provider/homeassistant/create",user_id:t,username:n,password:r}),m=(e,t,n)=>e.callWS({type:"config/auth_provider/homeassistant/change_password",current_password:t,new_password:n}),f=(e,t,n)=>e.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:t,password:n}),_=(e,t,n)=>e.callWS({type:"config/auth_provider/homeassistant/admin_change_username",user_id:t,username:n}),p=(e,t,n)=>e.callWS({type:"auth/delete_all_refresh_tokens",token_type:t,delete_current_token:n})},88827:function(e,t,n){n.a(e,async function(e,r){try{n.d(t,{Kw:function(){return s},Tf:function(){return u},We:function(){return d},Zn:function(){return c},rM:function(){return l},sy:function(){return a}});n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(62953);var i=n(82591),o=e([i]);i=(o.then?(await o)():o)[0];const a=66649!=n.j?["entity_id","assumed_state","attribution","custom_ui_more_info","custom_ui_state_card","device_class","editable","emulated_hue_name","emulated_hue","entity_picture","event_types","friendly_name","haaska_hidden","haaska_name","icon","initial_state","last_reset","restored","state_class","supported_features","unit_of_measurement","available_tones"]:null,s=66649!=n.j?{sensor:{enum:["options"]}}:null,c=new Set(["temperature","current_temperature","target_temperature","target_temp_temp","target_temp_high","target_temp_low","target_temp_step","min_temp","max_temp"]),l={climate:{humidity:"%",current_humidity:"%",target_humidity_low:"%",target_humidity_high:"%",target_humidity_step:"%",min_humidity:"%",max_humidity:"%"},cover:{current_position:"%",current_tilt_position:"%"},fan:{percentage:"%"},humidifier:{humidity:"%",current_humidity:"%",min_humidity:"%",max_humidity:"%",target_humidity_step:"%"},light:{color_temp:"mired",max_mireds:"mired",min_mireds:"mired",color_temp_kelvin:"K",min_color_temp_kelvin:"K",max_color_temp_kelvin:"K",brightness:"%"},sun:{azimuth:"°",elevation:"°"},vacuum:{battery_level:"%"},valve:{current_position:"%"},sensor:{battery_level:"%"},media_player:{volume_level:"%"}},u=66649!=n.j?{light:{brightness:e=>Math.round(e/255*100).toString()},media_player:{volume_level:e=>Math.round(100*e).toString(),media_duration:(e,t)=>{const n=Math.floor(e/3600),r=Math.floor(e%3600/60),o=e%60;return(0,i.E2)(t,{hours:n,minutes:r,seconds:o})}},input_datetime:{year:e=>e.toString()}}:null,d=["access_token","auto_update","available_modes","away_mode","changed_by","code_format","color_modes","current_activity","device_class","editable","effect_list","effect","entity_picture","event_type","event_types","fan_mode","fan_modes","fan_speed_list","forecast","friendly_name","frontend_stream_type","has_date","has_time","hs_color","hvac_mode","hvac_modes","icon","media_album_name","media_artist","media_content_type","media_position_updated_at","media_title","next_dawn","next_dusk","next_midnight","next_noon","next_rising","next_setting","operation_list","operation_mode","options","preset_mode","preset_modes","release_notes","release_summary","release_url","restored","rgb_color","rgbw_color","shuffle","sound_mode_list","sound_mode","source_list","source_type","source","state_class","supported_features","swing_mode","swing_mode","swing_modes","title","token","unit_of_measurement","xy_color"];r()}catch(a){r(a)}})},88360:function(e,t,n){n.d(t,{j:function(){return i}});var r=n(1087);const i=(e,t)=>{(0,r.r)(e,"haptic",t)}},23528:function(e,t,n){n.a(e,async function(e,r){try{n.d(t,{$3:function(){return h},$O:function(){return O},$j:function(){return y},ED:function(){return s},JE:function(){return x},OQ:function(){return $},PU:function(){return j},Ph:function(){return p},Uf:function(){return E},W1:function(){return g},Wr:function(){return m},Z:function(){return u},gF:function(){return b},iY:function(){return v},jU:function(){return c},nN:function(){return S},p3:function(){return d},pJ:function(){return _},r_:function(){return l},sz:function(){return f}});n(74423),n(18111),n(13579),n(62953);var i=n(28978),o=n(380),a=e([o]);o=(a.then?(await a)():a)[0];var s=function(e){return e[e.NONE=0]="NONE",e[e.ARITHMETIC=1]="ARITHMETIC",e[e.CIRCULAR=2]="CIRCULAR",e}({});const c=["entity_not_recorded","entity_no_longer_recorded","state_class_removed","units_changed","mean_type_changed","no_state"],l=["L","gal","ft³","m³","CCF","MCF"],u=e=>e.sendMessagePromise({type:"recorder/info"}),d=(e,t)=>e.callWS({type:"recorder/list_statistic_ids",statistic_type:t}),m=(e,t)=>e.callWS({type:"recorder/get_statistics_metadata",statistic_ids:t}),f=(e,t,n,r,i="hour",o,a)=>e.callWS({type:"recorder/statistics_during_period",start_time:t.toISOString(),end_time:null==n?void 0:n.toISOString(),statistic_ids:r,period:i,units:o,types:a}),_=(e,t,n,r)=>e.callWS({type:"recorder/statistic_during_period",statistic_id:t,units:r,fixed_period:n.fixed_period?{start_time:n.fixed_period.start instanceof Date?n.fixed_period.start.toISOString():n.fixed_period.start,end_time:n.fixed_period.end instanceof Date?n.fixed_period.end.toISOString():n.fixed_period.end}:void 0,calendar:n.calendar?Object.assign(Object.assign({},"week"===n.calendar.period?{first_weekday:(0,o.D)(e.locale).substring(0,3)}:{}),n.calendar):void 0,rolling_window:n.rolling_window}),p=e=>e.callWS({type:"recorder/validate_statistics"}),g=(e,t,n,r)=>e.callWS({type:"recorder/update_statistics_metadata",statistic_id:t,unit_of_measurement:n,unit_class:r}),h=(e,t)=>e.callWS({type:"recorder/clear_statistics",statistic_ids:t}),y=e=>{let t=null;if(!e)return null;for(const n of e)null!==n.change&&void 0!==n.change&&(null===t?t=n.change:t+=n.change);return t},b=(e,t)=>{let n=null;for(const r of t){if(!(r in e))continue;const t=y(e[r]);null!==t&&(null===n?n=t:n+=t)}return n},v=(e,t)=>e.some(e=>void 0!==e[t]&&null!==e[t]),w=["mean","min","max"],k=["sum","state","change"],S=(e,t)=>!(!w.includes(t)||0===e.mean_type)||!(!k.includes(t)||!e.has_sum),E=(e,t,n,r,i)=>{const o=new Date(n).toISOString();return e.callWS({type:"recorder/adjust_sum_statistics",statistic_id:t,start_time:o,adjustment:r,adjustment_unit_of_measurement:i})},O=(e,t,n)=>{const r=e.states[t];return r?(0,i.u)(r):(null==n?void 0:n.name)||t},x=(e,t,n)=>{let r;var i;t&&(r=null===(i=e.states[t])||void 0===i?void 0:i.attributes.unit_of_measurement);return void 0===r?null==n?void 0:n.statistics_unit_of_measurement:r},$=e=>e.includes(":"),j=e=>e.callWS({type:"recorder/update_statistics_issues"});r()}catch(c){r(c)}})},64808:function(e,t,n){n.d(t,{KL:function(){return c},Sn:function(){return r},j4:function(){return a},q2:function(){return i},tb:function(){return o}});n(3362);const r="timestamp",i="temperature",o="humidity",a=(e,t)=>e.callWS({type:"sensor/device_class_convertible_units",device_class:t});let s;const c=async e=>s||(s=e.callWS({type:"sensor/numeric_device_classes"}),s)},29908:function(e,t,n){n.d(t,{f:function(){return s}});var r=n(70570),i=n(9899);const o=e=>e.sendMessagePromise({type:"config/area_registry/list"}),a=(e,t)=>e.subscribeEvents((0,i.s)(()=>o(e).then(e=>t.setState(e,!0)),500,!0),"area_registry_updated"),s=(e,t)=>(0,r.N)("_areaRegistry",o,a,e,t)},34779:function(e,t,n){n.d(t,{uq:function(){return a},xP:function(){return s}});n(3362),n(62953);var r=n(1087),i=n(22444);const o=()=>Promise.all([n.e("73126"),n.e("44533"),n.e("46095"),n.e("37382"),n.e("92769"),n.e("62453"),n.e("1593"),n.e("54878"),n.e("26233"),n.e("8851"),n.e("90001"),n.e("46713")]).then(n.bind(n,89704)),a=(e,t)=>{(0,r.r)(e,"show-dialog",{dialogTag:"ha-quick-bar",dialogImport:o,dialogParams:t,addHistory:!1})},s=()=>{(0,i.zU)("ha-quick-bar")}},41631:function(e,t,n){n.d(t,{H:function(){return i}});n(3362),n(62953);var r=n(1087);const i=e=>(0,r.r)(e,"show-dialog",{dialogTag:"dialog-shortcuts",dialogImport:()=>Promise.all([n.e("37382"),n.e("85522"),n.e("15614")]).then(n.bind(n,9555)),dialogParams:{}})},27560:function(e,t,n){n.d(t,{z:function(){return o}});n(3362),n(62953);var r=n(1087);const i=()=>Promise.all([n.e("73126"),n.e("62066"),n.e("44533"),n.e("63768"),n.e("37382"),n.e("93785"),n.e("12036"),n.e("34995"),n.e("89385"),n.e("59578"),n.e("28845"),n.e("74014")]).then(n.bind(n,24524)),o=(e,t,n)=>{var o,a,s;null!==(o=t.auth.external)&&void 0!==o&&o.config.hasAssist?t.auth.external.fireMessage({type:"assist/show",payload:{pipeline_id:n.pipeline_id,start_listening:null===(s=n.start_listening)||void 0===s||s}}):(0,r.r)(e,"show-dialog",{dialogTag:"ha-voice-command-dialog",dialogImport:i,dialogParams:{pipeline_id:n.pipeline_id,start_listening:null!==(a=n.start_listening)&&void 0!==a&&a}})}},86242:function(e,t,n){n.a(e,async function(e,r){try{n.r(t),n.d(t,{EnergyViewStrategy:function(){return u}});n(44114),n(18111),n(20116),n(13579),n(3362);var i=n(40445),o=n(96196),a=n(77845),s=n(38114),c=n(4203),l=e([c,s]);[c,s]=l.then?(await l)():l;class u extends o.mN{static async generate(e,t){const n={cards:[]},r=e.collection_key||c.DEFAULT_ENERGY_COLLECTION_KEY,i=(0,s.tb)(t,{key:r});i.prefs||await i.refresh();const o=i.prefs;if(!o||0===o.device_consumption.length&&0===o.energy_sources.length)return n;n.type="sidebar";const a=o.energy_sources.find(e=>{var t,n;return"grid"===e.type&&((null===(t=e.flow_from)||void 0===t?void 0:t.length)||(null===(n=e.flow_to)||void 0===n?void 0:n.length))}),l=a&&a.flow_to.length,u=o.energy_sources.some(e=>"solar"===e.type),d=o.energy_sources.some(e=>"battery"===e.type),m=!o.device_consumption.some(e=>e.included_in_stat);return n.cards.push({type:"energy-compare",collection_key:"energy_dashboard"}),(a||d)&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_usage_graph_title"),type:"energy-usage-graph",collection_key:"energy_dashboard"}),u&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_solar_graph_title"),type:"energy-solar-graph",collection_key:"energy_dashboard"}),(a||d)&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_distribution_title"),type:"energy-distribution",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),(a||u||d)&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_sources_table_title"),type:"energy-sources-table",collection_key:"energy_dashboard",types:["grid","solar","battery"]}),l&&n.cards.push({type:"energy-grid-neutrality-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),u&&(l&&n.cards.push({type:"energy-solar-consumed-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),a&&n.cards.push({type:"energy-self-sufficiency-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"})),a&&n.cards.push({type:"energy-carbon-consumed-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),o.device_consumption.length&&(n.cards.push({title:t.localize("ui.panel.energy.cards.energy_devices_detail_graph_title"),type:"energy-devices-detail-graph",collection_key:"energy_dashboard"}),n.cards.push({title:t.localize("ui.panel.energy.cards.energy_devices_graph_title"),type:"energy-devices-graph",collection_key:"energy_dashboard"}),n.cards.push({title:t.localize("ui.panel.energy.cards.energy_sankey_title"),type:"energy-sankey",collection_key:"energy_dashboard",group_by_floor:m,group_by_area:m})),n}}u=(0,i.Cg)([(0,a.EM)("energy-view-strategy")],u),r()}catch(u){r(u)}})},95048:function(e,t,n){n.d(t,{L:function(){return i}});var r=n(71727);const i=(e,t,n=!0)=>{const i=(0,r.m)(t),o="group"===i?"homeassistant":i;let a;switch(i){case"lock":a=n?"unlock":"lock";break;case"cover":a=n?"open_cover":"close_cover";break;case"button":case"input_button":a="press";break;case"scene":a="turn_on";break;case"valve":a=n?"open_valve":"close_valve";break;default:a=n?"turn_on":"turn_off"}return e.callService(o,a,{entity_id:t})}},37544:function(e,t,n){n.d(t,{$:function(){return m}});n(18111),n(13579),n(3362),n(62953);var r=n(1087),i=n(91926),o=n(88360),a=n(95350),s=n(65063),c=n(27560),l=n(81619),u=(n(74423),n(46190)),d=n(95048);const m=async(e,t,n,m)=>{let f;if("double_tap"===m&&n.double_tap_action?f=n.double_tap_action:"hold"===m&&n.hold_action?f=n.hold_action:"tap"===m&&n.tap_action&&(f=n.tap_action),f||(f={action:"more-info"}),f.confirmation&&(!f.confirmation.exemptions||!f.confirmation.exemptions.some(e=>{var n;return e.user===(null===(n=t.user)||void 0===n?void 0:n.id)}))){let n;if((0,o.j)(e,"warning"),"call-service"===f.action||"perform-action"===f.action){const[e,r]=(f.perform_action||f.service).split(".",2),i=t.services;if(e in i&&r in i[e]){await t.loadBackendTranslation("title");const o=await t.loadBackendTranslation("services");n=`${(0,a.p$)(o,e)}: ${o(`component.${e}.services.${r}.name`,t.services[e][r].description_placeholders)||i[e][r].name||r}`}}if(!(await(0,s.dk)(e,{text:f.confirmation.text||t.localize("ui.panel.lovelace.cards.actions.action_confirmation",{action:n||t.localize(`ui.panel.lovelace.editor.action-editor.actions.${f.action}`)||f.action}),title:f.confirmation.title,dismissText:f.confirmation.dismiss_text,confirmText:f.confirmation.confirm_text})))return}switch(f.action){case"more-info":{const i=f.entity||n.entity||n.camera_image||n.image_entity;i?(0,r.r)(e,"hass-more-info",{entityId:i}):((0,l.P)(e,{message:t.localize("ui.panel.lovelace.cards.actions.no_entity_more_info")}),(0,o.j)(e,"failure"));break}case"navigate":f.navigation_path?(0,i.o)(f.navigation_path,{replace:f.navigation_replace}):((0,l.P)(e,{message:t.localize("ui.panel.lovelace.cards.actions.no_navigation_path")}),(0,o.j)(e,"failure"));break;case"url":f.url_path?window.open(f.url_path):((0,l.P)(e,{message:t.localize("ui.panel.lovelace.cards.actions.no_url")}),(0,o.j)(e,"failure"));break;case"toggle":n.entity?(((e,t)=>{const n=u.jj.includes(e.states[t].state);(0,d.L)(e,t,n)})(t,n.entity),(0,o.j)(e,"light")):((0,l.P)(e,{message:t.localize("ui.panel.lovelace.cards.actions.no_entity_toggle")}),(0,o.j)(e,"failure"));break;case"perform-action":case"call-service":{var _;if(!f.perform_action&&!f.service)return(0,l.P)(e,{message:t.localize("ui.panel.lovelace.cards.actions.no_action")}),void(0,o.j)(e,"failure");const[n,r]=(f.perform_action||f.service).split(".",2);t.callService(n,r,null!==(_=f.data)&&void 0!==_?_:f.service_data,f.target),(0,o.j)(e,"light");break}case"assist":var p,g;(0,c.z)(e,t,{start_listening:null!==(p=f.start_listening)&&void 0!==p&&p,pipeline_id:null!==(g=f.pipeline_id)&&void 0!==g?g:"last_used"});break;case"fire-dom-event":(0,r.r)(e,"ll-custom",f)}}},21018:function(e,t,n){n.a(e,async function(e,r){try{n.d(t,{YH:function(){return u},hZ:function(){return l},ww:function(){return d}});n(3362),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(62953);var i=n(67066),o=n(34128),a=e([i]);i=(a.then?(await a)():a)[0];const s=new Set(["error","entity"]),c={"entity-filter":()=>n.e("4994").then(n.bind(n,95417)),"state-label":()=>n.e("52396").then(n.bind(n,22087))},l=e=>(0,o.Vd)("badge",e,s,c,void 0,"entity"),u=e=>(0,o.Ue)("badge",e,s,c,void 0,"entity"),d=e=>(0,o.gh)(e,"badge",s,c);r()}catch(s){r(s)}})},34128:function(e,t,n){n.d(t,{G9:function(){return a},Ni:function(){return o},Ue:function(){return u},Vd:function(){return d},gh:function(){return m}});n(16280),n(74423),n(3362),n(62953);var r=n(1087),i=n(45291);const o=e=>{const t=document.createElement("hui-error-card");return customElements.get("hui-error-card")?t.setConfig(e):(Promise.resolve().then(n.bind(n,4397)),customElements.whenDefined("hui-error-card").then(()=>{customElements.upgrade(t),t.setConfig(e)})),t},a=(e,t)=>({type:"error",error:e,origConfig:t}),s=(e,t)=>{const n=document.createElement(e);return n.setConfig(t),n},c=(e,t,r)=>"badge"===e?(e=>{const t=document.createElement("hui-error-badge");return customElements.get("hui-error-badge")?t.setConfig(e):(Promise.all([n.e("92769"),n.e("62453"),n.e("63577"),n.e("72130"),n.e("85010"),n.e("89385"),n.e("99788"),n.e("86909"),n.e("60521"),n.e("11082"),n.e("26233"),n.e("39005"),n.e("34310"),n.e("21519"),n.e("67862"),n.e("12009"),n.e("94860"),n.e("36332"),n.e("15862"),n.e("82529"),n.e("99143"),n.e("99023"),n.e("3025"),n.e("66990"),n.e("58382"),n.e("8835"),n.e("77369")]).then(n.bind(n,50655)),customElements.whenDefined("hui-error-badge").then(()=>{customElements.upgrade(t),t.setConfig(e)})),t})(a(t,r)):"heading-badge"===e?(e=>{const t=document.createElement("hui-error-heading-badge");return customElements.get("hui-error-heading-badge")?t.setConfig(e):(Promise.all([n.e("92769"),n.e("62453"),n.e("63577"),n.e("72130"),n.e("85010"),n.e("89385"),n.e("99788"),n.e("86909"),n.e("60521"),n.e("88701"),n.e("26233"),n.e("39005"),n.e("34310"),n.e("21519"),n.e("67862"),n.e("12009"),n.e("94860"),n.e("36332"),n.e("15862"),n.e("82529"),n.e("99143"),n.e("99023"),n.e("3025"),n.e("66990"),n.e("58382"),n.e("8835"),n.e("87559")]).then(n.bind(n,13469)),customElements.whenDefined("hui-error-heading-badge").then(()=>{customElements.upgrade(t),t.setConfig(e)})),t})(((e,t)=>({type:"error",error:e,origConfig:t}))(t,r)):o({type:"error",message:t}),l=e=>(0,i.c8)(e)?(0,i.Iu)(e):void 0,u=(e,t,n,r,i,o)=>{try{return d(e,t,n,r,i,o)}catch(a){return console.error(e,t.type,a),c(e,a.message,t)}},d=(e,t,n,i,o,a)=>{if(!t||"object"!=typeof t)throw new Error("Config is not an object");if(!(t.type||a||o&&"entity"in t))throw new Error("No card type configured");const u=t.type?l(t.type):void 0;if(u)return((e,t,n)=>{if(customElements.get(t))return s(t,n);const i=c(e,`Custom element doesn't exist: ${t}.`,n);if(!t.includes("-"))return i;i.style.display="None";const o=window.setTimeout(()=>{i.style.display=""},2e3);return customElements.whenDefined(t).then(()=>{clearTimeout(o),(0,r.r)(i,"ll-rebuild")}),i})(e,u,t);let d;if(o&&!t.type&&t.entity){d=`${o[t.entity.split(".",1)[0]]||o._domain_not_found}-entity`}else d=t.type||a;if(void 0===d)throw new Error("No type specified");const m=`hui-${d}-${e}`;if(i&&d in i)return i[d](),((e,t)=>{if(customElements.get(e))return s(e,t);const n=document.createElement(e);return customElements.whenDefined(e).then(()=>{try{customElements.upgrade(n),(0,r.r)(n,"ll-upgrade"),n.setConfig(t)}catch(e){(0,r.r)(n,"ll-rebuild")}}),n})(m,t);if(n&&n.has(d))return s(m,t);throw new Error(`Unknown type encountered: ${d}`)},m=async(e,t,n,r)=>{const i=l(e);if(i){const e=customElements.get(i);if(e)return e;if(!i.includes("-"))throw new Error(`Custom element not found: ${i}`);return new Promise((e,t)=>{setTimeout(()=>t(new Error(`Custom element not found: ${i}`)),2e3),customElements.whenDefined(i).then(()=>e(customElements.get(i)))})}const o=`hui-${e}-${t}`,a=customElements.get(o);if(n&&n.has(e))return a;if(r&&e in r)return a||r[e]().then(()=>customElements.get(o));throw new Error(`Unknown type: ${e}`)}},94225:function(e,t,n){n.a(e,async function(e,r){try{n.d(t,{T:function(){return b},t:function(){return v}});n(3362),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(62953);var i=n(99799),o=n(29003),a=n(92055),s=n(19396),c=n(74323),l=n(51199),u=n(43721),d=n(65509),m=n(21659),f=n(82525),_=n(34128),p=e([i,o,a,s,c,l,u,d,m,f]);[i,o,a,s,c,l,u,d,m,f]=p.then?(await p)():p;const g=new Set(["media-player-entity","scene-entity","script-entity","sensor-entity","simple-entity","toggle-entity","button","call-service"]),h={"button-entity":()=>n.e("26846").then(n.bind(n,21869)),"climate-entity":()=>n.e("56995").then(n.bind(n,2798)),"cover-entity":()=>n.e("41243").then(n.bind(n,79734)),"date-entity":()=>n.e("17418").then(n.bind(n,75473)),"datetime-entity":()=>Promise.all([n.e("63577"),n.e("80557"),n.e("81767")]).then(n.bind(n,69690)),"event-entity":()=>Promise.resolve().then(n.bind(n,99799)),"group-entity":()=>n.e("68827").then(n.bind(n,53110)),"input-button-entity":()=>n.e("19825").then(n.bind(n,46472)),"humidifier-entity":()=>n.e("378").then(n.bind(n,53537)),"input-datetime-entity":()=>Promise.all([n.e("63577"),n.e("71748")]).then(n.bind(n,1391)),"input-number-entity":()=>n.e("17600").then(n.bind(n,58723)),"input-select-entity":()=>Promise.all([n.e("63577"),n.e("44325")]).then(n.bind(n,54596)),"input-text-entity":()=>n.e("8086").then(n.bind(n,51765)),"lock-entity":()=>n.e("28245").then(n.bind(n,49748)),"number-entity":()=>n.e("71523").then(n.bind(n,57198)),"select-entity":()=>Promise.all([n.e("63577"),n.e("9374")]).then(n.bind(n,78157)),"text-entity":()=>n.e("67973").then(n.bind(n,58212)),"time-entity":()=>Promise.all([n.e("63577"),n.e("61331")]).then(n.bind(n,87550)),"timer-entity":()=>n.e("94097").then(n.bind(n,6344)),"update-entity":()=>n.e("80275").then(n.bind(n,38238)),"valve-entity":()=>n.e("96654").then(n.bind(n,46493)),conditional:()=>Promise.all([n.e("86909"),n.e("6166")]).then(n.bind(n,80725)),"weather-entity":()=>Promise.all([n.e("12009"),n.e("55166")]).then(n.bind(n,80395)),divider:()=>n.e("45249").then(n.bind(n,38584)),section:()=>n.e("51255").then(n.bind(n,39082)),weblink:()=>n.e("69148").then(n.bind(n,65751)),cast:()=>n.e("10405").then(n.bind(n,96612)),buttons:()=>n.e("50777").then(n.bind(n,65728)),attribute:()=>Promise.resolve().then(n.bind(n,65509)),text:()=>n.e("95421").then(n.bind(n,3980))},y={_domain_not_found:"simple",alert:"toggle",automation:"toggle",button:"button",climate:"climate",cover:"cover",date:"date",datetime:"datetime",event:"event",fan:"toggle",group:"group",humidifier:"humidifier",input_boolean:"toggle",input_button:"input-button",input_datetime:"input-datetime",input_number:"input-number",input_select:"input-select",input_text:"input-text",light:"toggle",lock:"lock",media_player:"media-player",number:"number",remote:"toggle",scene:"scene",script:"script",select:"select",sensor:"sensor",siren:"toggle",switch:"toggle",text:"text",time:"time",timer:"timer",update:"update",vacuum:"toggle",valve:"valve",water_heater:"climate",weather:"weather"},b=e=>(0,_.Ue)("row",e,g,h,y,void 0),v=e=>(0,_.gh)(e,"row",g,h);r()}catch(g){r(g)}})}}]);
//# sourceMappingURL=36363.a1d97f3fad84af4e.js.map