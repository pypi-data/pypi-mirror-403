"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["59671"],{65522:function(t,e,i){i.d(e,{A:function(){return s}});const s=t=>{var e;return null===(e=t.name)||void 0===e?void 0:e.trim()}},79:function(t,e,i){i.d(e,{Kh:function(){return c},xn:function(){return a},T:function(){return o}});i(18111),i(22489),i(61701),i(42762),i(62953);var s=i(22786);i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698);var n=i(28978);const a=t=>{var e;return null===(e=t.name_by_user||t.name)||void 0===e?void 0:e.trim()},o=(t,e,i)=>a(t)||i&&r(e,i)||e.localize("ui.panel.config.devices.unnamed_device",{type:e.localize(`ui.panel.config.devices.type.${t.entry_type||"device"}`)}),r=(t,e)=>{for(const i of e||[]){const e="string"==typeof i?i:i.entity_id,s=t.states[e];if(s)return(0,n.u)(s)}},c=(0,s.A)(t=>function(t){const e=new Set,i=new Set;for(const s of t)i.has(s)?e.add(s):i.add(s);return e}(Object.values(t).map(t=>a(t)).filter(t=>void 0!==t)))},81816:function(t,e,i){i.d(e,{aH:function(){return o},cx:function(){return r},es:function(){return c}});var s=i(79),n=i(28978),a=i(79461);const o=(t,e,i)=>{const s=e[t.entity_id];return s?r(s,i):(0,n.u)(t)},r=(t,e,i)=>{const o=t.name||("original_name"in t&&null!=t.original_name?String(t.original_name):void 0),r=t.device_id?e[t.device_id]:void 0;if(!r)return o||(i?(0,n.u)(i):void 0);const c=(0,s.xn)(r);return c!==o?c&&o&&(0,a.p)(o,c)||o:void 0},c=(t,e,i)=>!o(t,e,i)},74705:function(t,e,i){i.d(e,{Cf:function(){return h},uU:function(){return l}});i(18111),i(81148),i(22489),i(61701),i(13579);if(66649!=i.j)var s=i(44537);var n=i(65522),a=i(79),o=i(81816),r=i(55931),c=i(28455);const d=66649!=i.j?[{type:"device"},{type:"entity"}]:null,l=(t,e,i,n,a,r,c)=>{var l;let u=(0,s.e)(e||d);const p=null!==(l=null==c?void 0:c.separator)&&void 0!==l?l:" ";if(u.every(t=>"text"===t.type))return u.map(t=>t.text).join(p);if((0,o.es)(t,i,n)){u.some(t=>"device"===t.type)||(u=u.map(t=>"entity"===t.type?{type:"device"}:t))}const y=h(t,u,i,n,a,r);return 1===y.length?y[0]||"":y.filter(t=>t).join(p)},h=(t,e,i,s,d,l)=>{const{device:h,area:u,floor:p}=(0,c.l)(t,i,s,d,l);return e.map(e=>{switch(e.type){case"entity":return(0,o.aH)(t,i,s);case"device":return h?(0,a.xn)(h):void 0;case"area":return u?(0,n.A)(u):void 0;case"floor":return p?(0,r.X)(p):void 0;case"text":return e.text;default:return""}})}},55931:function(t,e,i){i.d(e,{X:function(){return s}});i(42762);const s=t=>{var e;return null===(e=t.name)||void 0===e?void 0:e.trim()}},79461:function(t,e,i){i.d(e,{p:function(){return n}});i(62953);const s=[" ",": "," - "],n=(t,e)=>{const i=t.toLowerCase(),n=e.toLowerCase();for(const o of s){const e=`${n}${o}`;if(i.startsWith(e)){const i=t.substring(e.length);if(i.length)return a(i.substr(0,i.indexOf(" ")))?i:i[0].toUpperCase()+i.slice(1)}}},a=t=>t.toLowerCase()!==t},93725:function(t,e,i){i.a(t,async function(t,s){try{i.r(e);i(74423),i(44114),i(18111),i(22489),i(61701),i(3362),i(62953);var n=i(40445),a=i(96196),o=i(77845),r=i(1087),c=i(71727),d=i(28978),l=i(82286),h=i(47351),u=i(53072),p=i(14503),y=(i(38962),i(18350)),g=(i(72554),i(76538),i(36192),t([y]));y=(g.then?(await g)():g)[0];let v,m,_,f,C=t=>t;const b="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z";class $ extends a.WF{showDialog(t){var e;this._entityId=t.entityId;const i=this.hass.states[t.entityId];this._groupMembers=(null==i||null===(e=i.attributes.group_members)||void 0===e?void 0:e.filter(e=>e!==t.entityId))||[],this._selectedEntities=this._groupMembers}closeDialog(){this._entityId=void 0,this._selectedEntities=[],this._groupMembers=[],this._submitting=!1,this._error=void 0,(0,r.r)(this,"dialog-closed",{dialog:this.localName})}render(){if(!this._entityId)return a.s6;const t=this._entityId,e=this.hass.states[t],i=e&&(0,d.u)(e)||t;return(0,a.qy)(v||(v=C` <ha-dialog open scrimClickAction escapeKeyAction flexContent .heading="${0}" @closed="${0}"> <ha-dialog-header show-border slot="heading"> <ha-icon-button .label="${0}" .path="${0}" dialogAction="close" slot="navigationIcon"></ha-icon-button> <span slot="title">${0}</span> <ha-button appearance="plain" slot="actionItems" @click="${0}"> ${0} </ha-button> </ha-dialog-header> ${0} <div class="content"> <ha-media-player-toggle .hass="${0}" .entityId="${0}" checked="checked" disabled="disabled"></ha-media-player-toggle> ${0} </div> <ha-button appearance="plain" slot="secondaryAction" @click="${0}"> ${0} </ha-button> <ha-button .disabled="${0}" slot="primaryAction" @click="${0}"> ${0} </ha-button> </ha-dialog> `),i,this.closeDialog,this.hass.localize("ui.common.close"),b,this.hass.localize("ui.card.media_player.media_players"),this._selectAll,this.hass.localize("ui.card.media_player.select_all"),this._error?(0,a.qy)(m||(m=C`<ha-alert alert-type="error">${0}</ha-alert>`),this._error):a.s6,this.hass,t,this._mediaPlayerEntities(this.hass.entities).map(t=>(0,a.qy)(_||(_=C`<ha-media-player-toggle .hass="${0}" .entityId="${0}" .checked="${0}" @change="${0}"></ha-media-player-toggle>`),this.hass,t.entity_id,this._selectedEntities.includes(t.entity_id),this._handleSelectedChange)),this.closeDialog,this.hass.localize("ui.common.cancel"),!!this._submitting,this._submit,this.hass.localize("ui.common.apply"))}_selectAll(){this._selectedEntities=this._mediaPlayerEntities(this.hass.entities).map(t=>t.entity_id)}_handleSelectedChange(t){const e=this._selectedEntities.filter(e=>e!==t.target.entityId);t.target.checked&&e.push(t.target.entityId),this._selectedEntities=e}async _submit(){if(this._entityId){this._error=void 0,this._submitting=!0;try{await(0,u.Im)(this.hass,this._entityId,this._selectedEntities),await Promise.all(this._groupMembers.filter(t=>!this._selectedEntities.includes(t)).map(t=>(0,u.fh)(this.hass,t))),this.closeDialog()}catch(t){this._error=(0,h.VR)(t)}this._submitting=!1}}static get styles(){return[p.nA,(0,a.AH)(f||(f=C`.content{display:flex;flex-direction:column;row-gap:var(--ha-space-4)}ha-dialog-header ha-button{margin:6px;display:block}`))]}constructor(...t){super(...t),this._mediaPlayerEntities=t=>{var e;if(!this._entityId)return[];const i=null===(e=this.hass.entities[this._entityId])||void 0===e?void 0:e.platform;return i?Object.values(t).filter(t=>{var e;return t.entity_id!==this._entityId&&("media_player"===(0,c.m)(t.entity_id)&&((null===(e=this.hass.entities[t.entity_id])||void 0===e?void 0:e.platform)===i&&!(!this.hass.states[t.entity_id]||!(0,l.$)(this.hass.states[t.entity_id],u.vj.GROUPING))))}):[]}}}(0,n.Cg)([(0,o.MZ)({attribute:!1})],$.prototype,"hass",void 0),(0,n.Cg)([(0,o.wk)()],$.prototype,"_entityId",void 0),(0,n.Cg)([(0,o.wk)()],$.prototype,"_groupMembers",void 0),(0,n.Cg)([(0,o.wk)()],$.prototype,"_selectedEntities",void 0),(0,n.Cg)([(0,o.wk)()],$.prototype,"_submitting",void 0),(0,n.Cg)([(0,o.wk)()],$.prototype,"_error",void 0),$=(0,n.Cg)([(0,o.EM)("dialog-join-media-players")],$),s()}catch(v){s(v)}})},36192:function(t,e,i){i(62953);var s=i(40445),n=i(96196),a=i(77845),o=i(22786),r=i(74705),c=i(15638),d=i(1087);i(59646),i(67094);let l,h,u=t=>t;class p extends n.WF{render(){const t=this.hass.states[this.entityId];let e="M12,12A3,3 0 0,0 9,15A3,3 0 0,0 12,18A3,3 0 0,0 15,15A3,3 0 0,0 12,12M12,20A5,5 0 0,1 7,15A5,5 0 0,1 12,10A5,5 0 0,1 17,15A5,5 0 0,1 12,20M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8C10.89,8 10,7.1 10,6C10,4.89 10.89,4 12,4M17,2H7C5.89,2 5,2.89 5,4V20A2,2 0 0,0 7,22H17A2,2 0 0,0 19,20V4C19,2.89 18.1,2 17,2Z";"playing"===t.state?e="M16 15V21L21 18L16 15M12.28 19.81C11.87 19.92 11.45 20 11 20C8.24 20 6 17.76 6 15S8.24 10 11 10C12.89 10 14.5 11.06 15.37 12.61C16.16 12.23 17.06 12 18 12V4C18 2.89 17.1 2 16 2H6C4.89 2 4 2.89 4 4V20C4 21.11 4.89 22 6 22H13.54C13 21.37 12.54 20.63 12.28 19.81M11 4C12.11 4 13 4.89 13 6S12.11 8 11 8C9.89 8 9 7.1 9 6C9 4.89 9.89 4 11 4M13.74 13.78C12.7 14.82 12.06 16.24 12 17.81C11.69 17.93 11.36 18 11 18C9.34 18 8 16.66 8 15S9.34 12 11 12C12.22 12 13.27 12.73 13.74 13.78Z":"paused"===t.state&&(e="M12.28 19.81C11.87 19.92 11.45 20 11 20C8.24 20 6 17.76 6 15S8.24 10 11 10C12.89 10 14.5 11.06 15.37 12.61C16.16 12.23 17.06 12 18 12V4C18 2.89 17.1 2 16 2H6C4.89 2 4 2.89 4 4V20C4 21.11 4.89 22 6 22H13.54C13 21.37 12.54 20.63 12.28 19.81M11 4C12.11 4 13 4.89 13 6S12.11 8 11 8C9.89 8 9 7.1 9 6C9 4.89 9.89 4 11 4M13.74 13.78C12.7 14.82 12.06 16.24 12 17.81C11.69 17.93 11.36 18 11 18C9.34 18 8 16.66 8 15S9.34 12 11 12C12.22 12 13.27 12.73 13.74 13.78M19 15H21V21H19M15 15H17V21H15V15Z");const i=(0,c.qC)(this.hass),{primary:s,secondary:a}=this._computeDisplayData(this.entityId,this.hass.entities,this.hass.devices,this.hass.areas,this.hass.floors,i,t);return(0,n.qy)(l||(l=u`<div class="list-item"> <ha-svg-icon .path="${0}"></ha-svg-icon> <div class="info"> <div class="main-text">${0}</div> <div class="secondary-text">${0}</div> </div> <ha-switch .disabled="${0}" .checked="${0}" @change="${0}"></ha-switch> </div>`),e,s,a,this.disabled,this.checked,this._handleChange)}static get styles(){return[(0,n.AH)(h||(h=u`.list-item{display:grid;grid-template-columns:auto 1fr auto;column-gap:var(--ha-space-4);align-items:center;width:100%}.info{min-width:0}.main-text{color:var(--primary-text-color)}.main-text[take-height]{line-height:40px}.secondary-text{color:var(--secondary-text-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}`))]}_handleChange(t){t.stopPropagation(),this.checked=t.target.checked,(0,d.r)(this,"change")}constructor(...t){super(...t),this.checked=!1,this.disabled=!1,this._computeDisplayData=(0,o.A)((t,e,i,s,n,a,o)=>{const[c,d,l]=(0,r.Cf)(o,[{type:"entity"},{type:"device"},{type:"area"}],e,i,s,n);return{primary:c||d||t,secondary:[l,c?d:void 0].filter(Boolean).join(a?" ◂ ":" ▸ ")}})}}(0,s.Cg)([(0,a.MZ)({attribute:!1})],p.prototype,"hass",void 0),(0,s.Cg)([(0,a.MZ)({attribute:!1})],p.prototype,"entityId",void 0),(0,s.Cg)([(0,a.MZ)({type:Boolean})],p.prototype,"checked",void 0),(0,s.Cg)([(0,a.MZ)({type:Boolean})],p.prototype,"disabled",void 0),p=(0,s.Cg)([(0,a.EM)("ha-media-player-toggle")],p)},47351:function(t,e,i){i.d(e,{PS:function(){return n},Tv:function(){return r},VR:function(){return a},lE:function(){return c}});i(74423),i(3362),i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698),i(62953);var s=i(62384);const n=t=>t.data,a=t=>"object"==typeof t?"object"==typeof t.body?t.body.message||"Unknown error, see supervisor logs":t.body||t.message||"Unknown error, see supervisor logs":t,o=new Set([502,503,504]),r=t=>!!(t&&t.status_code&&o.has(t.status_code))||!(!t||!t.message||!t.message.includes("ERR_CONNECTION_CLOSED")&&!t.message.includes("ERR_CONNECTION_RESET")),c=async(t,e)=>(0,s.v)(t.config.version,2021,2,4)?t.callWS({type:"supervisor/api",endpoint:`/${e}/stats`,method:"get"}):n(await t.callApi("GET",`hassio/${e}/stats`))}}]);
//# sourceMappingURL=59671.24075b4af1da6680.js.map