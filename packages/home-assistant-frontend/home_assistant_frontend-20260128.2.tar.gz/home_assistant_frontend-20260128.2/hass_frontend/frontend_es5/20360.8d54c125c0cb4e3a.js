/*! For license information please see 20360.8d54c125c0cb4e3a.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["20360"],{29781:function(e,t,i){i.d(t,{$:function(){return b}});i(62953);var a=i(40445),r=i(96592),s=i(77845),o=i(12451),n=i(12130),l=i(84730),h=i(96196),d=i(94333);let c,p,u,g=e=>e;const m=n.QQ?{passive:!0}:void 0;class v extends o.O{get scrollTarget(){return this._scrollTarget||window}set scrollTarget(e){this.unregisterScrollListener();const t=this.scrollTarget;this._scrollTarget=e,this.updateRootPosition(),this.requestUpdate("scrollTarget",t),this.registerScrollListener()}updateRootPosition(){if(this.mdcRoot){const e=this.scrollTarget===window;this.mdcRoot.style.position=e?"":"absolute"}}render(){let e=(0,h.qy)(c||(c=g`<span class="mdc-top-app-bar__title"><slot name="title"></slot></span>`));return this.centerTitle&&(e=(0,h.qy)(p||(p=g`<section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-center">${0}</section>`),e)),(0,h.qy)(u||(u=g` <header class="mdc-top-app-bar ${0}"> <div class="mdc-top-app-bar__row"> <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start" id="navigation"> <slot name="navigationIcon" @click="${0}"></slot> ${0} </section> ${0} <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" id="actions" role="toolbar"> <slot name="actionItems"></slot> </section> </div> </header> <div class="${0}"> <slot></slot> </div> `),(0,d.H)(this.barClasses()),this.handleNavigationClick,this.centerTitle?null:e,this.centerTitle?e:null,(0,d.H)(this.contentClasses()))}createAdapter(){return Object.assign(Object.assign({},(0,o.i)(this.mdcRoot)),{setStyle:(e,t)=>this.mdcRoot.style.setProperty(e,t),getTopAppBarHeight:()=>this.mdcRoot.clientHeight,notifyNavigationIconClicked:()=>{this.dispatchEvent(new Event(l.P$.NAVIGATION_EVENT,{bubbles:!0,cancelable:!0}))},getViewportScrollY:()=>this.scrollTarget instanceof Window?this.scrollTarget.pageYOffset:this.scrollTarget.scrollTop,getTotalActionItems:()=>this._actionItemsSlot.assignedNodes({flatten:!0}).length})}registerListeners(){this.registerScrollListener()}unregisterListeners(){this.unregisterScrollListener()}registerScrollListener(){this.scrollTarget.addEventListener("scroll",this.handleTargetScroll,m)}unregisterScrollListener(){this.scrollTarget.removeEventListener("scroll",this.handleTargetScroll)}firstUpdated(){super.firstUpdated(),this.updateRootPosition(),this.registerListeners()}disconnectedCallback(){super.disconnectedCallback(),this.unregisterListeners()}constructor(){super(...arguments),this.centerTitle=!1,this.handleTargetScroll=()=>{this.mdcFoundation.handleTargetScroll()},this.handleNavigationClick=()=>{this.mdcFoundation.handleNavigationClick()}}}(0,a.Cg)([(0,s.P)(".mdc-top-app-bar")],v.prototype,"mdcRoot",void 0),(0,a.Cg)([(0,s.P)('slot[name="actionItems"]')],v.prototype,"_actionItemsSlot",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean})],v.prototype,"centerTitle",void 0),(0,a.Cg)([(0,s.MZ)({type:Object})],v.prototype,"scrollTarget",null);class _ extends v{barClasses(){return{"mdc-top-app-bar--dense":this.dense,"mdc-top-app-bar--prominent":this.prominent,"center-title":this.centerTitle}}contentClasses(){return{"mdc-top-app-bar--fixed-adjust":!this.dense&&!this.prominent,"mdc-top-app-bar--dense-fixed-adjust":this.dense&&!this.prominent,"mdc-top-app-bar--prominent-fixed-adjust":!this.dense&&this.prominent,"mdc-top-app-bar--dense-prominent-fixed-adjust":this.dense&&this.prominent}}registerListeners(){super.registerListeners(),window.addEventListener("resize",this.handleResize,m)}unregisterListeners(){super.unregisterListeners(),window.removeEventListener("resize",this.handleResize)}constructor(){super(...arguments),this.mdcFoundationClass=r.A,this.prominent=!1,this.dense=!1,this.handleResize=()=>{this.mdcFoundation.handleWindowResize()}}}(0,a.Cg)([(0,s.MZ)({type:Boolean,reflect:!0})],_.prototype,"prominent",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean,reflect:!0})],_.prototype,"dense",void 0);var y=i(23665);class b extends _{barClasses(){return Object.assign(Object.assign({},super.barClasses()),{"mdc-top-app-bar--fixed":!0})}registerListeners(){this.scrollTarget.addEventListener("scroll",this.handleTargetScroll,m)}unregisterListeners(){this.scrollTarget.removeEventListener("scroll",this.handleTargetScroll)}constructor(){super(...arguments),this.mdcFoundationClass=y.A}}},69093:function(e,t,i){i.d(t,{t:function(){return r}});var a=i(71727);const r=e=>(0,a.m)(e.entity_id)},47129:function(e,t,i){i.d(t,{a:function(){return s}});i(74423);var a=i(22675),r=i(71727);function s(e,t){const i=(0,r.m)(e.entity_id),s=void 0!==t?t:null==e?void 0:e.state;if(["button","event","input_button","scene"].includes(i))return s!==a.Hh;if((0,a.g0)(s))return!1;if(s===a.KF&&"alert"!==i)return!1;switch(i){case"alarm_control_panel":return"disarmed"!==s;case"alert":return"idle"!==s;case"cover":case"valve":return"closed"!==s;case"device_tracker":case"person":return"not_home"!==s;case"lawn_mower":return["mowing","error"].includes(s);case"lock":return"locked"!==s;case"media_player":return"standby"!==s;case"vacuum":return!["idle","docked","paused"].includes(s);case"plant":return"problem"===s;case"group":return["on","home","open","locked","problem"].includes(s);case"timer":return"active"===s;case"camera":return"streaming"===s}return!0}},82286:function(e,t,i){i.d(t,{$:function(){return a}});const a=(e,t)=>r(e.attributes,t),r=(e,t)=>0!==(e.supported_features&t)},81836:function(e,t,i){i.d(t,{d:function(){return a},p:function(){return r}});const a=(e,t,i=1e3)=>e||window.setInterval(t,i),r=e=>{e&&clearInterval(e)}},58274:function(e,t,i){i.d(t,{m:function(){return a}});class a{get isInteracting(){return this._touchDragging||this._dragging}setStep(e){this._options.step=e}_getVolumeFromTouch(e){const t=this._options.getSlider();if(!t)return 0;const i=t.getBoundingClientRect(),a=Math.min(Math.max(e-i.left,0),i.width)/i.width*100;return this._roundVolumeValue(a)}_roundVolumeValue(e){return Math.min(Math.max(Math.round(e/this._options.step)*this._options.step,0),100)}_getSliderValue(){const e=this._options.getSlider();return e?Number(e.value):this._lastValue}_updateValue(e){var t,i;this._lastValue=e,null===(t=(i=this._options).onValueUpdated)||void 0===t||t.call(i,e);const a=this._options.getSlider();a&&(a.value=e)}_showTooltip(){var e;const t=this._options.getSlider();null==t||null===(e=t.showTooltip)||void 0===e||e.call(t)}_hideTooltip(){var e;const t=this._options.getSlider();null==t||null===(e=t.hideTooltip)||void 0===e||e.call(t)}constructor(e){this._touchStartX=0,this._touchStartY=0,this._touchStartValue=0,this._touchDragging=!1,this._touchScrolling=!1,this._dragging=!1,this._lastValue=0,this.handleInput=e=>{var t,i;e.stopPropagation();const a=Number(e.target.value);this._dragging=!0,this._updateValue(a),null===(t=(i=this._options).onSetVolumeDebounced)||void 0===t||t.call(i,a)},this.handleChange=e=>{e.stopPropagation();const t=Number(e.target.value);this._dragging=!1,this._updateValue(t),this._options.onSetVolume(t)},this.handleTouchStart=e=>{e.stopPropagation();const t=e.touches[0];this._touchStartX=t.clientX,this._touchStartY=t.clientY,this._touchStartValue=this._getSliderValue(),this._touchDragging=!1,this._touchScrolling=!1,this._showTooltip()},this.handleTouchMove=e=>{if(this._touchScrolling)return;const t=e.touches[0],i=t.clientX-this._touchStartX,a=t.clientY-this._touchStartY,r=Math.abs(i),s=Math.abs(a);if(!this._touchDragging){if(s>10&&s>2*r)return void(this._touchScrolling=!0);r>8&&(this._touchDragging=!0)}if(this._touchDragging){e.preventDefault();const i=this._getVolumeFromTouch(t.clientX);this._updateValue(i)}},this.handleTouchEnd=e=>{if(this._touchScrolling)return this._touchScrolling=!1,void this._hideTooltip();const t=e.changedTouches[0];if(this._touchDragging){const e=this._getVolumeFromTouch(t.clientX);this._updateValue(e),this._options.onSetVolume(e)}else{const e=this._getVolumeFromTouch(t.clientX)>this._touchStartValue?this._options.step:-this._options.step,i=this._roundVolumeValue(this._touchStartValue+e);this._updateValue(i),this._options.onSetVolume(i)}this._touchDragging=!1,this._dragging=!1,this._hideTooltip()},this.handleTouchCancel=()=>{this._touchDragging=!1,this._touchScrolling=!1,this._dragging=!1,this._updateValue(this._touchStartValue),this._hideTooltip()},this.handleWheel=e=>{e.preventDefault(),e.stopPropagation();const t=e.deltaY>0?-1:1,i=this._getSliderValue(),a=this._roundVolumeValue(i+t*this._options.step);this._updateValue(a),this._options.onSetVolume(a)},this._options=e}}},59174:function(e,t,i){i.a(e,async function(e,t){try{var a=i(40445),r=i(96196),s=i(77845),o=i(3890),n=i(85694),l=i(44144),h=(i(88945),e([n]));n=(h.then?(await h)():h)[0];let d,c,p,u,g,m,v,_=e=>e;class y extends r.WF{render(){if(this.icon)return(0,r.qy)(d||(d=_`<ha-icon .icon="${0}"></ha-icon>`),this.icon);if(!this.domain)return r.s6;if(!this.hass)return this._renderFallback();const e=(0,n._4)(this.hass,this.domain,this.deviceClass,this.state).then(e=>e?(0,r.qy)(c||(c=_`<ha-icon .icon="${0}"></ha-icon>`),e):this._renderFallback());return(0,r.qy)(p||(p=_`${0}`),(0,o.T)(e))}_renderFallback(){if(this.domain&&this.domain in n.l)return(0,r.qy)(u||(u=_` <ha-svg-icon .path="${0}"></ha-svg-icon> `),n.l[this.domain]);if(this.brandFallback){var e;const t=(0,l.MR)({domain:this.domain,type:"icon",darkOptimized:null===(e=this.hass.themes)||void 0===e?void 0:e.darkMode});return(0,r.qy)(g||(g=_` <img alt="" src="${0}" crossorigin="anonymous" referrerpolicy="no-referrer"> `),t)}return(0,r.qy)(m||(m=_`<ha-svg-icon .path="${0}"></ha-svg-icon>`),n.lW)}}y.styles=(0,r.AH)(v||(v=_`img{width:var(--mdc-icon-size,24px)}`)),(0,a.Cg)([(0,s.MZ)({attribute:!1})],y.prototype,"hass",void 0),(0,a.Cg)([(0,s.MZ)()],y.prototype,"domain",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],y.prototype,"deviceClass",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],y.prototype,"state",void 0),(0,a.Cg)([(0,s.MZ)()],y.prototype,"icon",void 0),(0,a.Cg)([(0,s.MZ)({attribute:"brand-fallback",type:Boolean})],y.prototype,"brandFallback",void 0),y=(0,a.Cg)([(0,s.EM)("ha-domain-icon")],y),t()}catch(d){t(d)}})},52763:function(e,t,i){i(18111),i(7588),i(61701),i(3362),i(62953);var a=i(40445),r=i(96196),s=i(77845),o=i(69558),n=i(1087);i(38962),i(11399);let l,h,d,c,p,u,g,m,v,_=e=>e;const y={boolean:()=>Promise.all([i.e("8477"),i.e("81347")]).then(i.bind(i,46990)),constant:()=>i.e("65733").then(i.bind(i,90820)),float:()=>Promise.all([i.e("73126"),i.e("44533"),i.e("17477")]).then(i.bind(i,20676)),grid:()=>i.e("60761").then(i.bind(i,70208)),expandable:()=>i.e("45001").then(i.bind(i,40003)),integer:()=>Promise.all([i.e("73126"),i.e("62066"),i.e("44533"),i.e("63768"),i.e("8477"),i.e("21543"),i.e("78039"),i.e("43413")]).then(i.bind(i,20036)),multi_select:()=>Promise.all([i.e("62066"),i.e("46095"),i.e("63768"),i.e("34995"),i.e("8477"),i.e("30965"),i.e("78219")]).then(i.bind(i,36182)),positive_time_period_dict:()=>Promise.all([i.e("73126"),i.e("44533"),i.e("26767"),i.e("63577"),i.e("56208"),i.e("16508"),i.e("50371")]).then(i.bind(i,89422)),select:()=>Promise.all([i.e("73126"),i.e("62066"),i.e("44533"),i.e("46095"),i.e("63768"),i.e("92769"),i.e("62453"),i.e("26767"),i.e("63577"),i.e("8477"),i.e("4939"),i.e("53246"),i.e("26233"),i.e("39005"),i.e("35873"),i.e("12112")]).then(i.bind(i,63804)),string:()=>Promise.all([i.e("73126"),i.e("44533"),i.e("31802")]).then(i.bind(i,54753)),optional_actions:()=>Promise.all([i.e("62066"),i.e("63768"),i.e("34995"),i.e("93709")]).then(i.bind(i,8456))},b=(e,t)=>e?!t.name||t.flatten?e:e[t.name]:null;class f extends r.WF{getFormProperties(){return{}}async focus(){await this.updateComplete;const e=this.renderRoot.querySelector(".root");if(e)for(const t of e.children)if("HA-ALERT"!==t.tagName){t instanceof r.mN&&await t.updateComplete,t.focus();break}}willUpdate(e){e.has("schema")&&this.schema&&this.schema.forEach(e=>{var t;"selector"in e||null===(t=y[e.type])||void 0===t||t.call(y)})}render(){return(0,r.qy)(l||(l=_` <div class="root" part="root"> ${0} ${0} </div> `),this.error&&this.error.base?(0,r.qy)(h||(h=_` <ha-alert alert-type="error"> ${0} </ha-alert> `),this._computeError(this.error.base,this.schema)):"",this.schema.map(e=>{var t;const i=((e,t)=>e&&t.name?e[t.name]:null)(this.error,e),a=((e,t)=>e&&t.name?e[t.name]:null)(this.warning,e);return(0,r.qy)(d||(d=_` ${0} ${0} `),i?(0,r.qy)(c||(c=_` <ha-alert own-margin alert-type="error"> ${0} </ha-alert> `),this._computeError(i,e)):a?(0,r.qy)(p||(p=_` <ha-alert own-margin alert-type="warning"> ${0} </ha-alert> `),this._computeWarning(a,e)):"","selector"in e?(0,r.qy)(u||(u=_`<ha-selector .schema="${0}" .hass="${0}" .narrow="${0}" .name="${0}" .selector="${0}" .value="${0}" .label="${0}" .disabled="${0}" .placeholder="${0}" .helper="${0}" .localizeValue="${0}" .required="${0}" .context="${0}"></ha-selector>`),e,this.hass,this.narrow,e.name,e.selector,b(this.data,e),this._computeLabel(e,this.data),e.disabled||this.disabled||!1,e.required?void 0:e.default,this._computeHelper(e),this.localizeValue,e.required||!1,this._generateContext(e)):(0,o._)(this.fieldElementName(e.type),Object.assign({schema:e,data:b(this.data,e),label:this._computeLabel(e,this.data),helper:this._computeHelper(e),disabled:this.disabled||e.disabled||!1,hass:this.hass,localize:null===(t=this.hass)||void 0===t?void 0:t.localize,computeLabel:this.computeLabel,computeHelper:this.computeHelper,localizeValue:this.localizeValue,context:this._generateContext(e)},this.getFormProperties())))}))}fieldElementName(e){return`ha-form-${e}`}_generateContext(e){if(!e.context)return;const t={};for(const[i,a]of Object.entries(e.context))t[i]=this.data[a];return t}createRenderRoot(){const e=super.createRenderRoot();return this.addValueChangedListener(e),e}addValueChangedListener(e){e.addEventListener("value-changed",e=>{e.stopPropagation();const t=e.target.schema;if(e.target===this)return;const i=!t.name||"flatten"in t&&t.flatten?e.detail.value:{[t.name]:e.detail.value};this.data=Object.assign(Object.assign({},this.data),i),(0,n.r)(this,"value-changed",{value:this.data})})}_computeLabel(e,t){return this.computeLabel?this.computeLabel(e,t):e?e.name:""}_computeHelper(e){return this.computeHelper?this.computeHelper(e):""}_computeError(e,t){return Array.isArray(e)?(0,r.qy)(g||(g=_`<ul> ${0} </ul>`),e.map(e=>(0,r.qy)(m||(m=_`<li> ${0} </li>`),this.computeError?this.computeError(e,t):e))):this.computeError?this.computeError(e,t):e}_computeWarning(e,t){return this.computeWarning?this.computeWarning(e,t):e}constructor(...e){super(...e),this.narrow=!1,this.disabled=!1}}f.shadowRootOptions={mode:"open",delegatesFocus:!0},f.styles=(0,r.AH)(v||(v=_`.root>*{display:block}.root>:not([own-margin]):not(:last-child){margin-bottom:24px}ha-alert[own-margin]{margin-bottom:4px}`)),(0,a.Cg)([(0,s.MZ)({attribute:!1})],f.prototype,"hass",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean})],f.prototype,"narrow",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],f.prototype,"data",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],f.prototype,"schema",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],f.prototype,"error",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],f.prototype,"warning",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean})],f.prototype,"disabled",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],f.prototype,"computeError",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],f.prototype,"computeWarning",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],f.prototype,"computeLabel",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],f.prototype,"computeHelper",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],f.prototype,"localizeValue",void 0),f=(0,a.Cg)([(0,s.EM)("ha-form")],f)},14927:function(e,t,i){i.a(e,async function(e,a){try{i.d(t,{getLanguageOptions:function(){return V}});var r=i(74487),s=(i(26910),i(18111),i(20116),i(61701),i(62953),i(40445)),o=i(96196),n=i(77845),l=i(22786),h=i(1087),d=i(86198),c=i(52220),p=i(89668),u=i(18350),g=i(38508),m=e([r,u,g,d]);[r,u,g,d]=m.then?(await m)():m;let v,_,y,b,f,w,$=e=>e;const x="M7,10L12,15L17,10H7Z",C=[{name:"primary",weight:10},{name:"secondary",weight:8},{name:"search_labels.english",weight:5}],V=(e,t,i,a)=>{let r=[];const s={language:"en"};if(t){const t=p.P.translations;r=e.map(e=>{var i;let r=null===(i=t[e])||void 0===i?void 0:i.nativeName;if(!r)try{r=new Intl.DisplayNames(e,{type:"language",fallback:"code"}).of(e)}catch(l){r=e}const o=(0,d.T)(e,a||{language:navigator.language}),n=(0,d.T)(e,s);return{id:e,primary:r,secondary:o!==r?o:void 0,search_labels:{english:n!==r?n:null}}})}else a&&(r=e.map(e=>{const t=(0,d.T)(e,a),i=(0,d.T)(e,s);return{id:e,primary:t,search_labels:{english:i!==t?i:null}}}));return!i&&a&&r.sort((e,t)=>(0,c.SH)(e.primary,t.primary,a.language)),r};class M extends o.WF{firstUpdated(e){super.firstUpdated(e),this._computeDefaultLanguageOptions()}_computeDefaultLanguageOptions(){this._defaultLanguages=Object.keys(p.P.translations)}render(){var e,t,i,a;const r=null!==(e=this.label)&&void 0!==e?e:(null===(t=this.hass)||void 0===t?void 0:t.localize("ui.components.language-picker.language"))||"Language",s=null!==(i=this.value)&&void 0!==i?i:this.required&&!this.disabled?this._getItems()[0].id:this.value;return(0,o.qy)(v||(v=$` <ha-generic-picker .hass="${0}" .autofocus="${0}" popover-placement="bottom-end" .notFoundLabel="${0}" .emptyLabel="${0}" .label="${0}" .value="${0}" .valueRenderer="${0}" .disabled="${0}" .helper="${0}" .getItems="${0}" .searchKeys="${0}" @value-changed="${0}" hide-clear-icon> ${0} </ha-generic-picker> `),this.hass,this.autofocus,this._notFoundLabel,(null===(a=this.hass)||void 0===a?void 0:a.localize("ui.components.language-picker.no_languages"))||"No languages available",r,s,this._valueRenderer,this.disabled,this.helper,this._getItems,C,this._changed,this.buttonStyle?(0,o.qy)(_||(_=$`<ha-button slot="field" .disabled="${0}" @click="${0}" appearance="plain" variant="neutral"> ${0} <ha-svg-icon slot="end" .path="${0}"></ha-svg-icon> </ha-button>`),this.disabled,this._openPicker,this._getLanguageName(s),x):o.s6)}_openPicker(e){e.stopPropagation(),this.genericPicker.open()}_changed(e){e.stopPropagation(),this.value=e.detail.value,(0,h.r)(this,"value-changed",{value:this.value})}constructor(...e){super(...e),this.disabled=!1,this.required=!1,this.nativeName=!1,this.buttonStyle=!1,this.noSort=!1,this.inlineArrow=!1,this._defaultLanguages=[],this._getLanguagesOptions=(0,l.A)(V),this._getItems=()=>{var e,t;return this._getLanguagesOptions(null!==(e=this.languages)&&void 0!==e?e:this._defaultLanguages,this.nativeName,this.noSort,null===(t=this.hass)||void 0===t?void 0:t.locale)},this._getLanguageName=e=>{var t;return null===(t=this._getItems().find(t=>t.id===e))||void 0===t?void 0:t.primary},this._valueRenderer=e=>{var t;return(0,o.qy)(y||(y=$`<span slot="headline">${0}</span> `),null!==(t=this._getLanguageName(e))&&void 0!==t?t:e)},this._notFoundLabel=e=>{const t=(0,o.qy)(b||(b=$`<b>‘${0}’</b>`),e);return this.hass?this.hass.localize("ui.components.language-picker.no_match",{term:t}):(0,o.qy)(f||(f=$`No languages found for ${0}`),t)}}}M.styles=(0,o.AH)(w||(w=$`ha-generic-picker{width:100%;min-width:200px;display:block}`)),(0,s.Cg)([(0,n.MZ)()],M.prototype,"value",void 0),(0,s.Cg)([(0,n.MZ)()],M.prototype,"label",void 0),(0,s.Cg)([(0,n.MZ)({type:Array})],M.prototype,"languages",void 0),(0,s.Cg)([(0,n.MZ)({attribute:!1})],M.prototype,"hass",void 0),(0,s.Cg)([(0,n.MZ)({type:Boolean,reflect:!0})],M.prototype,"disabled",void 0),(0,s.Cg)([(0,n.MZ)({type:Boolean})],M.prototype,"required",void 0),(0,s.Cg)([(0,n.MZ)()],M.prototype,"helper",void 0),(0,s.Cg)([(0,n.MZ)({attribute:"native-name",type:Boolean})],M.prototype,"nativeName",void 0),(0,s.Cg)([(0,n.MZ)({type:Boolean,attribute:"button-style"})],M.prototype,"buttonStyle",void 0),(0,s.Cg)([(0,n.MZ)({attribute:"no-sort",type:Boolean})],M.prototype,"noSort",void 0),(0,s.Cg)([(0,n.MZ)({attribute:"inline-arrow",type:Boolean})],M.prototype,"inlineArrow",void 0),(0,s.Cg)([(0,n.wk)()],M.prototype,"_defaultLanguages",void 0),(0,s.Cg)([(0,n.P)("ha-generic-picker",!0)],M.prototype,"genericPicker",void 0),M=(0,s.Cg)([(0,n.EM)("ha-language-picker")],M),a()}catch(v){a(v)}})},70759:function(e,t,i){i.a(e,async function(e,t){try{i(62953);var a=i(40445),r=i(60346),s=i(96196),o=i(77845),n=i(63091),l=e([r]);r=(l.then?(await l)():l)[0];let h,d=e=>e;class c extends r.A{connectedCallback(){super.connectedCallback(),this.dir=n.G.document.dir}static get styles(){return[r.A.styles,(0,s.AH)(h||(h=d`:host{--track-size:var(--ha-slider-track-size, 4px);--marker-height:calc(var(--ha-slider-track-size, 4px) / 2);--marker-width:calc(var(--ha-slider-track-size, 4px) / 2);--wa-color-surface-default:var(--card-background-color);--wa-color-neutral-fill-normal:var(--disabled-color);--wa-tooltip-background-color:var(--secondary-background-color);--wa-tooltip-color:var(--primary-text-color);--wa-tooltip-font-family:var(
            --ha-tooltip-font-family,
            var(--ha-font-family-body)
          );--wa-tooltip-font-size:var(
            --ha-tooltip-font-size,
            var(--ha-font-size-s)
          );--wa-tooltip-font-weight:var(
            --ha-tooltip-font-weight,
            var(--ha-font-weight-normal)
          );--wa-tooltip-line-height:var(
            --ha-tooltip-line-height,
            var(--ha-line-height-condensed)
          );--wa-tooltip-padding:8px;--wa-tooltip-border-radius:var(
            --ha-tooltip-border-radius,
            var(--ha-border-radius-sm)
          );--wa-tooltip-arrow-size:var(--ha-tooltip-arrow-size, 8px);--wa-z-index-tooltip:var(--ha-tooltip-z-index, 1000);min-width:100px;min-inline-size:100px;width:200px}#thumb{border:none;background-color:var(--ha-slider-thumb-color,var(--primary-color));overflow:hidden}#thumb:after{content:"";border-radius:50%;position:absolute;width:calc(var(--thumb-width) * 2 + 8px);height:calc(var(--thumb-height) * 2 + 8px);left:calc(-50% - 4px);top:calc(-50% - 4px);cursor:pointer}#slider:focus-visible:not(.disabled) #thumb,#slider:focus-visible:not(.disabled) #thumb-max,#slider:focus-visible:not(.disabled) #thumb-min{outline:var(--wa-focus-ring)}#track:after{content:"";position:absolute;top:calc(-50% - 4px);left:0;width:100%;height:calc(var(--track-size) * 2 + 8px);cursor:pointer}#indicator{background-color:var(--ha-slider-indicator-color,var(--primary-color))}:host([size=medium]){--thumb-width:20px;--thumb-height:20px}:host([size=small]){--thumb-width:16px;--thumb-height:16px}`))]}constructor(...e){super(...e),this.size="small",this.withTooltip=!0}}(0,a.Cg)([(0,o.MZ)({reflect:!0})],c.prototype,"size",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean,attribute:"with-tooltip"})],c.prototype,"withTooltip",void 0),c=(0,a.Cg)([(0,o.EM)("ha-slider")],c),t()}catch(h){t(h)}})},27330:function(e,t,i){i(62953);var a=i(40445),r=i(29781),s=i(71467),o=i(96196),n=i(77845);let l;class h extends r.${constructor(...e){super(...e),this.narrow=!1}}h.styles=[s.R,(0,o.AH)(l||(l=(e=>e)`header{padding-top:var(--safe-area-inset-top)}.mdc-top-app-bar__row{height:var(--header-height);border-bottom:var(--app-header-border-bottom)}.mdc-top-app-bar--fixed-adjust{padding-top:calc(var(--header-height,0px) + var(--safe-area-inset-top,0px));padding-bottom:var(--safe-area-inset-bottom);padding-right:var(--safe-area-inset-right)}:host([narrow]) .mdc-top-app-bar--fixed-adjust{padding-left:var(--safe-area-inset-left)}.mdc-top-app-bar{--mdc-typography-headline6-font-weight:var(--ha-font-weight-normal);color:var(--app-header-text-color,var(--mdc-theme-on-primary,#fff));background-color:var(--app-header-background-color,var(--mdc-theme-primary));padding-top:var(--safe-area-inset-top);padding-right:var(--safe-area-inset-right)}:host([narrow]) .mdc-top-app-bar{padding-left:var(--safe-area-inset-left)}.mdc-top-app-bar__title{font-size:var(--ha-font-size-xl);padding-inline-start:var(--ha-space-6);padding-inline-end:initial}:host([narrow]) .mdc-top-app-bar__title{padding-inline-start:var(--ha-space-2)}`))],(0,a.Cg)([(0,n.MZ)({type:Boolean,reflect:!0})],h.prototype,"narrow",void 0),h=(0,a.Cg)([(0,n.EM)("ha-top-app-bar-fixed")],h)},22675:function(e,t,i){i.d(t,{HV:function(){return s},Hh:function(){return r},KF:function(){return n},ON:function(){return o},g0:function(){return d},s7:function(){return l}});var a=i(23832);const r="unavailable",s="unknown",o="on",n="off",l=[r,s],h=[r,s,n],d=(0,a.g)(l);(0,a.g)(h)},24367:function(e,t,i){i.d(t,{L:function(){return r},z:function(){return s}});var a=i(23832);const r=["input_boolean","input_button","input_text","input_number","input_datetime","input_select","counter","timer","schedule"],s=(0,a.g)(r)},12895:function(e,t,i){i(62953);var a=i(40445),r=i(96196),s=i(77845);let o,n,l,h=e=>e;class d extends r.WF{firstUpdated(e){super.firstUpdated(e),this.addEventListener("mouseover",()=>this.classList.add("hovering"),{capture:!0}),this.addEventListener("mouseout",()=>this.classList.remove("hovering"))}updated(e){super.updated(e),e.has("text")&&this.animating&&(this.animating=!1),e.has("active")&&this.active&&this.offsetWidth<this.scrollWidth&&(this.animating=!0)}render(){return this.text?(0,r.qy)(o||(o=h` <div class="marquee-inner" @animationiteration="${0}"> <span>${0}</span> ${0} </div> `),this._onIteration,this.text,this.animating?(0,r.qy)(n||(n=h` <span>${0}</span> `),this.text):""):r.s6}_onIteration(){this.active||(this.animating=!1)}constructor(...e){super(...e),this.active=!1,this.animating=!1}}d.styles=(0,r.AH)(l||(l=h`:host{display:flex;position:relative;align-items:center;height:1.2em;contain:strict}.marquee-inner{position:absolute;left:0;right:0;text-overflow:ellipsis;overflow:hidden}:host(.hovering) .marquee-inner{text-overflow:initial;overflow:initial}:host([animating]) .marquee-inner{left:initial;right:initial;animation:marquee 10s linear infinite}:host([animating]) .marquee-inner span{padding-right:16px;padding-inline-end:16px;padding-inline-start:initial}@keyframes marquee{0%{transform:translateX(0%)}100%{transform:translateX(-50%)}}`)),(0,a.Cg)([(0,s.MZ)()],d.prototype,"text",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean})],d.prototype,"active",void 0),(0,a.Cg)([(0,s.MZ)({reflect:!0,type:Boolean})],d.prototype,"animating",void 0),d=(0,a.Cg)([(0,s.EM)("hui-marquee")],d)},76704:function(e,t,i){i.d(t,{A:function(){return s},B:function(){return r}});i(16280);var a=i(53072);const r="Unsupported Media";class s{pause(){this.buffering=!1,this.player.pause()}play(){this.player.play()}setVolume(e){this.player.volume=e,this.onChange()}remove(){this._removed=!0,this.onChange=void 0,this.player&&this.player.pause()}static idleStateObj(){const e=(new Date).toISOString();return{state:"idle",entity_id:a.H1,last_changed:e,last_updated:e,attributes:{},context:{id:"",user_id:null,parent_id:null}}}toStateObj(){const e=s.idleStateObj();return e.state=this.buffering?"buffering":this.player.paused||this.player.ended?"paused":"playing",e.attributes={media_title:this.item.title,entity_picture:this.item.thumbnail,volume_level:this.player.volume,supported_features:a.vj.PLAY|a.vj.PAUSE|a.vj.VOLUME_SET},this.player.duration&&(e.attributes.media_duration=this.player.duration,e.attributes.media_position=this.player.currentTime,e.attributes.media_position_updated_at=e.last_updated),e}constructor(e,t,i,a,s){this.hass=e,this.item=t,this.resolved=i,this.onChange=s,this.buffering=!0,this._removed=!1,this._handleChange=()=>{this._removed||this.onChange()};const o=new Audio(this.resolved.url);if(""===o.canPlayType(i.mime_type))throw new Error(r);o.autoplay=!0,o.volume=a,o.addEventListener("play",this._handleChange),o.addEventListener("playing",()=>{this.buffering=!1,this._handleChange()}),o.addEventListener("pause",this._handleChange),o.addEventListener("ended",this._handleChange),o.addEventListener("canplaythrough",this._handleChange),this.player=o}}},64401:function(e,t,i){i.a(e,async function(e,t){try{i(16280),i(18111),i(22489),i(61701),i(3362),i(62953);var a=i(40445),r=i(96196),s=i(77845),o=i(94333),n=i(3890),l=i(1087),h=i(71727),d=i(69093),c=i(28978),p=i(82286),u=i(9899),g=i(81836),m=i(58274),v=i(18350),_=i(59174),y=i(29823),b=(i(70947),i(26300),i(70759)),f=i(65829),w=i(93367),$=(i(67094),i(22675)),x=i(53072),C=i(65063),V=i(54706),M=(i(12895),i(76704)),H=e([v,_,y,b,f,w]);[v,_,y,b,f,w]=H.then?(await H)():H;let I,P,k,S,L,T,q,A,E,z,Z,j,O,B,R,N,F,U,D=e=>e;const W="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",X="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z",Y="M14,19H18V5H14M6,19H10V5H6V19Z",K="M8,5.14V19.14L19,12.14L8,5.14Z",Q="M3,5V19L11,12M13,19H16V5H13M18,5V19H21V5",G="M18,18H6V6H18V18Z",J="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z";class ee extends((0,V.E)(r.WF)){connectedCallback(){super.connectedCallback();const e=this._stateObj;e&&this._showProgressBar&&"playing"===e.state&&!this._progressInterval&&(this._progressInterval=(0,g.d)(this._progressInterval,()=>this._updateProgressBar()))}disconnectedCallback(){super.disconnectedCallback(),this._progressInterval=(0,g.p)(this._progressInterval),this._tearDownBrowserPlayer()}showResolvingNewMediaPicked(){this._tearDownBrowserPlayer(),this._newMediaExpected=!0,this._debouncedResetMediaExpected()}hideResolvingNewMediaPicked(){this._newMediaExpected=!1}playItem(e,t){if(this.entityId!==x.H1)throw Error("Only browser supported");this._tearDownBrowserPlayer();try{this._browserPlayer=new M.A(this.hass,e,t,this._browserPlayerVolume,()=>this.requestUpdate("_browserPlayer"))}catch(i){if(i.message!==M.B)throw i;(0,C.showAlertDialog)(this,{text:this.hass.localize("ui.components.media-browser.media_not_supported")})}this._newMediaExpected=!1}render(){var e;if(this._newMediaExpected)return(0,r.qy)(I||(I=D` <div class="controls-progress buffering"> ${0} </div> `),(0,n.T)(new Promise(e=>{setTimeout(e,500)}).then(()=>(0,r.qy)(P||(P=D`<ha-spinner></ha-spinner>`)))));const t=this.entityId===x.H1,i=this._stateObj;if(!i)return this._renderChoosePlayer(i,this._volumeValue);const a=this.narrow?"playing"===i.state&&((0,p.$)(i,x.vj.PAUSE)||(0,p.$)(i,x.vj.STOP))||("paused"===i.state||"idle"===i.state)&&(0,p.$)(i,x.vj.PLAY)||"on"===i.state&&((0,p.$)(i,x.vj.PLAY)||(0,p.$)(i,x.vj.PAUSE))?[{icon:"on"===i.state?Q:"playing"!==i.state?K:(0,p.$)(i,x.vj.PAUSE)?Y:G,action:"playing"!==i.state?"media_play":(0,p.$)(i,x.vj.PAUSE)?"media_pause":"media_stop"}]:void 0:(0,x.Un)(i,!0),s=(0,x.mm)(i),l=(0,x.Xm)(i.attributes.media_duration),h=(0,x.HN)(i.attributes.media_title||i.attributes.media_content_id),d=i.attributes.entity_picture_local||i.attributes.entity_picture;return(0,r.qy)(k||(k=D` <div class="${0}" @click="${0}"> ${0} <div class="media-info"> <hui-marquee .text="${0}" .active="${0}" @mouseover="${0}" @mouseleave="${0}"></hui-marquee> <span class="secondary"> ${0} </span> </div> </div> <div class="controls-progress ${0}"> ${0} </div> ${0} `),(0,o.H)({info:!0,pointer:!t,app:"app"===(null===(e=this._browserPlayer)||void 0===e?void 0:e.item.media_class)}),this._openMoreInfo,d?(0,r.qy)(S||(S=D`<img alt="" src="${0}">`),this.hass.hassUrl(d)):"",h||s||("playing"!==i.state&&"on"!==i.state?this.hass.localize("ui.card.media_player.nothing_playing"):""),this._marqueeActive,this._marqueeMouseOver,this._marqueeMouseLeave,h?s:"","buffering"===i.state?"buffering":"","buffering"===i.state?(0,r.qy)(L||(L=D`<ha-spinner></ha-spinner> `)):(0,r.qy)(T||(T=D` <div class="controls"> ${0} </div> ${0} `),void 0===a?"":a.map(e=>(0,r.qy)(q||(q=D` <ha-icon-button .label="${0}" .path="${0}" action="${0}" @click="${0}"> </ha-icon-button> `),this.hass.localize(`ui.card.media_player.${e.action}`),e.icon,e.action,this._handleControlClick)),i.attributes.media_duration===1/0?r.s6:this.narrow?(0,r.qy)(A||(A=D`<ha-slider class="progress-slider" min="0" max="${0}" step="1" .value="${0}" .withTooltip="${0}" size="small" aria-label="${0}" ?disabled="${0}" @change="${0}"></ha-slider>`),i.attributes.media_duration||0,(0,x.$6)(i),!1,this.hass.localize("ui.card.media_player.track_position"),t||!(0,p.$)(i,x.vj.SEEK),this._handleMediaSeekChanged):(0,r.qy)(E||(E=D` <div class="progress"> <div id="CurrentProgress"></div> <ha-slider class="progress-slider" min="0" max="${0}" step="1" .value="${0}" .withTooltip="${0}" size="small" aria-label="${0}" ?disabled="${0}" @change="${0}"></ha-slider> <div>${0}</div> </div> `),i.attributes.media_duration||0,(0,x.$6)(i),!1,this.hass.localize("ui.card.media_player.track_position"),t||!(0,p.$)(i,x.vj.SEEK),this._handleMediaSeekChanged,l)),this._renderChoosePlayer(i,this._volumeValue))}_renderChoosePlayer(e,t){const i=this.entityId===x.H1;return(0,r.qy)(z||(z=D` <div class="choose-player ${0}"> ${0} <ha-dropdown class="player-menu" placement="top-end" .distance="${0}" @wa-select="${0}"> ${0} <ha-dropdown-item class="${0}" .value="${0}"> ${0} </ha-dropdown-item> ${0} </ha-dropdown> </div> `),i?"browser":"",!this.narrow&&e&&(0,p.$)(e,x.vj.VOLUME_SET)?(0,r.qy)(Z||(Z=D` <ha-dropdown class="volume-menu" placement="top" .distance="${0}"> <ha-icon-button slot="trigger" .path="${0}"></ha-icon-button> <div class="volume-slider-container" @touchstart="${0}" @touchmove="${0}" @touchend="${0}" @touchcancel="${0}" @wheel="${0}"> <ha-slider class="volume-slider" labeled min="0" max="100" .step="${0}" .value="${0}" @input="${0}" @change="${0}"> </ha-slider> </div> </ha-dropdown> `),8,J,this._volumeController.handleTouchStart,this._volumeController.handleTouchMove,this._volumeController.handleTouchEnd,this._volumeController.handleTouchCancel,this._volumeController.handleWheel,this._volumeStep,t,this._volumeController.handleInput,this._volumeController.handleChange):"",8,this._handlePlayerSelect,this.narrow?(0,r.qy)(j||(j=D` <ha-icon-button slot="trigger"> ${0} </ha-icon-button> `),this._renderIcon(i,e)):(0,r.qy)(O||(O=D` <ha-button slot="trigger"> <span slot="start"> ${0} </span> ${0} <ha-svg-icon slot="end" .path="${0}"></ha-svg-icon> </ha-button> `),this._renderIcon(i,e),this.narrow?r.s6:i?this.hass.localize("ui.components.media-browser.web-browser"):e?(0,c.u)(e):this.entityId,W),i?"selected":"",x.H1,this.hass.localize("ui.components.media-browser.web-browser"),this._mediaPlayerEntities.map(e=>(0,r.qy)(B||(B=D` <ha-dropdown-item class="${0}" .disabled="${0}" .value="${0}"> ${0} </ha-dropdown-item> `),e.entity_id===this.entityId?"selected":"",e.state===$.Hh,e.entity_id,(0,c.u)(e))))}_renderIcon(e,t){return e?(0,r.qy)(R||(R=D`<ha-svg-icon .path="${0}"></ha-svg-icon>`),X):t?(0,r.qy)(N||(N=D` <ha-state-icon .hass="${0}" .stateObj="${0}"></ha-state-icon> `),this.hass,t):(0,r.qy)(F||(F=D` <ha-domain-icon .hass="${0}" .domain="${0}"></ha-domain-icon> `),this.hass,(0,h.m)(this.entityId))}willUpdate(e){if(super.willUpdate(e),e.has("entityId")&&this._tearDownBrowserPlayer(),!e.has("hass")||this.entityId===x.H1)return;const t=e.get("hass");t&&t.states[this.entityId]===this.hass.states[this.entityId]||(this._newMediaExpected=!1),e.has("hass")&&this._updateVolumeValueFromState(this._stateObj)}updated(e){if(super.updated(e),this.entityId===x.H1){if(!e.has("_browserPlayer"))return}else{const t=e.get("hass");if(t&&t.states[this.entityId]===this._stateObj)return}const t=this._stateObj;this.entityId===x.H1&&this._updateVolumeValueFromState(t),this._updateProgressBar(),this._syncVolumeSlider(),this._showProgressBar&&"playing"===(null==t?void 0:t.state)?this._progressInterval=(0,g.d)(this._progressInterval,()=>this._updateProgressBar()):!this._progressInterval||this._showProgressBar&&"playing"===(null==t?void 0:t.state)||(this._progressInterval=(0,g.p)(this._progressInterval))}get _stateObj(){return this.entityId===x.H1?this._browserPlayer?this._browserPlayer.toStateObj():M.A.idleStateObj():this.hass.states[this.entityId]}_tearDownBrowserPlayer(){this._browserPlayer&&(this._browserPlayer.remove(),this._browserPlayer=void 0)}_openMoreInfo(){this.entityId!==x.H1&&(0,l.r)(this,"hass-more-info",{entityId:this.entityId})}get _showProgressBar(){if(!this.hass)return!1;const e=this._stateObj;return e&&("playing"===e.state||"paused"===e.state)&&"media_duration"in e.attributes&&"media_position"in e.attributes}get _mediaPlayerEntities(){return Object.values(this.hass.states).filter(e=>{var t;return"media_player"===(0,d.t)(e)&&(0,p.$)(e,x.vj.BROWSE_MEDIA)&&!(null!==(t=this.hass.entities[e.entity_id])&&void 0!==t&&t.hidden)})}_updateProgressBar(){const e=this._stateObj;if(!this._progressBar||!e)return;if(!e.attributes.media_duration)return this._progressBar.value=0,void(this._currentProgress&&(this._currentProgress.innerHTML=""));const t=(0,x.$6)(e);this._progressBar.max=e.attributes.media_duration,this._progressBar.value=t,this._currentProgress&&(this._currentProgress.innerHTML=(0,x.Xm)(t))}_updateVolumeValueFromState(e){if(!e)return;const t=e.attributes.volume_level;"number"==typeof t&&Number.isFinite(t)&&(this._volumeValue=Math.round(100*t))}_syncVolumeSlider(){this._volumeSlider&&!this._volumeController.isInteracting&&(this._volumeSlider.value=this._volumeValue)}_handleControlClick(e){const t=e.currentTarget.getAttribute("action");this._browserPlayer?"media_pause"===t?this._browserPlayer.pause():"media_play"===t&&this._browserPlayer.play():(0,x.ce)(this.hass,this._stateObj,e.currentTarget.getAttribute("action"))}_handleMediaSeekChanged(e){if(this.entityId===x.H1||!this._stateObj)return;const t=e.target.value;this.hass.callService("media_player","media_seek",{entity_id:this._stateObj.entity_id,seek_position:t})}_marqueeMouseOver(){this._marqueeActive||(this._marqueeActive=!0)}_marqueeMouseLeave(){this._marqueeActive&&(this._marqueeActive=!1)}_handlePlayerSelect(e){const t=e.detail.item.value;(0,l.r)(this,"player-picked",{entityId:t})}_setVolume(e){const t=e/100;if(this._browserPlayer)return this._browserPlayerVolume=t,void this._browserPlayer.setVolume(t);(0,x.QI)(this.hass,this.entityId,t)}constructor(...e){super(...e),this.narrow=!1,this._marqueeActive=!1,this._newMediaExpected=!1,this._volumeValue=0,this._browserPlayerVolume=.8,this._volumeStep=2,this._debouncedVolumeSet=(0,u.s)(e=>{this._setVolume(e)},100),this._volumeController=new m.m({getSlider:()=>this._volumeSlider,step:this._volumeStep,onSetVolume:e=>this._setVolume(e),onSetVolumeDebounced:e=>this._debouncedVolumeSet(e),onValueUpdated:e=>{this._volumeValue=e}}),this._debouncedResetMediaExpected=(0,u.s)(()=>{this._newMediaExpected=!1},2e3)}}ee.styles=(0,r.AH)(U||(U=D`:host{display:flex;height:100px;box-sizing:border-box;background:var(--ha-card-background,var(--card-background-color,#fff));border-top:1px solid var(--divider-color);margin-right:var(--safe-area-inset-right)}:host([narrow]){margin-left:var(--safe-area-inset-left)}ha-slider{width:100%;min-width:100%;--ha-slider-thumb-color:var(--primary-color);--ha-slider-indicator-color:var(--primary-color)}.info{flex:1;display:flex;align-items:center;width:100%;margin-right:16px;margin-inline-end:16px;margin-inline-start:initial;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pointer{cursor:pointer}.progress,.secondary{color:var(--secondary-text-color)}.choose-player{flex:1;display:flex;justify-content:flex-end;align-items:center;padding:16px;gap:var(--ha-space-2)}.controls{height:48px;padding-bottom:4px}.controls-progress{flex:2;display:flex;align-items:center;justify-content:center;flex-direction:column;direction:ltr}.progress{display:flex;width:100%;align-items:center}.progress>div:first-child{margin-right:var(--ha-space-2)}.progress>div:last-child{margin-left:var(--ha-space-2)}.progress ha-slider{margin:0 4px}ha-dropdown.volume-menu::part(menu){width:220px;max-width:220px;overflow:visible;padding:15px 15px}.volume-slider-container{width:100%}@media (pointer:coarse){.volume-slider{pointer-events:none}}.media-info{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding-left:16px;padding-inline-start:16px;padding-inline-end:initial;width:100%}hui-marquee{font-size:1.2em;margin:0px 0 4px}img{height:100%}.app img{height:68px;margin:16px 0 16px 16px}:host([narrow]){height:57px}:host([narrow]) .controls-progress{flex:unset;min-width:48px}:host([narrow]) .controls-progress.buffering{flex:1}:host([narrow]) .media-info{padding-left:8px;padding-inline-start:8px;padding-inline-end:initial}:host([narrow]) .controls{display:flex;padding-bottom:0;--mdc-icon-size:30px}:host([narrow]) .choose-player{padding-left:0;padding-right:8px;padding-inline-start:0;padding-inline-end:8px;min-width:48px;flex:unset;justify-content:center}:host([narrow]) .choose-player.browser{justify-content:flex-end}:host([narrow]) ha-slider{position:absolute;top:-6px;left:0;right:0}ha-dropdown-item.selected{font-weight:var(--ha-font-weight-bold)}`)),(0,a.Cg)([(0,s.MZ)({attribute:!1})],ee.prototype,"hass",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],ee.prototype,"entityId",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean,reflect:!0})],ee.prototype,"narrow",void 0),(0,a.Cg)([(0,s.P)(".progress-slider")],ee.prototype,"_progressBar",void 0),(0,a.Cg)([(0,s.P)("#CurrentProgress")],ee.prototype,"_currentProgress",void 0),(0,a.Cg)([(0,s.P)(".volume-slider")],ee.prototype,"_volumeSlider",void 0),(0,a.Cg)([(0,s.wk)()],ee.prototype,"_marqueeActive",void 0),(0,a.Cg)([(0,s.wk)()],ee.prototype,"_newMediaExpected",void 0),(0,a.Cg)([(0,s.wk)()],ee.prototype,"_browserPlayer",void 0),ee=(0,a.Cg)([(0,s.EM)("ha-bar-media-player")],ee),t()}catch(I){t(I)}})},68965:function(e,t,i){i.a(e,async function(e,a){try{i.r(t);i(74423),i(18111),i(61701),i(3362),i(27495),i(25440),i(62953);var r=i(40445),s=i(96196),o=i(77845),n=i(93905),l=i(1087),h=i(91926),d=i(29823),c=(i(70947),i(26300),i(90248),i(2054),i(27330),i(19262)),p=i(45098),u=i(10897),g=i(53072),m=i(17022),v=i(65063),_=i(14503),y=i(64401),b=i(75484),f=e([d,c,p,y]);[d,c,p,y]=f.then?(await f)():f;let w,$,x,C,V=e=>e;const M="M3,5A2,2 0 0,1 5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5C3.89,21 3,20.1 3,19V5M5,5V19H19V5H5M11,7H13A2,2 0 0,1 15,9V17H13V13H11V17H9V9A2,2 0 0,1 11,7M11,9V11H13V9H11Z",H="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",I="M10,4V8H14V4H10M16,4V8H20V4H16M16,10V14H20V10H16M16,16V20H20V16H16M14,20V16H10V20H14M8,20V16H4V20H8M8,14V10H4V14H8M8,8V4H4V8H8M10,14H14V10H10V14M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4C2.92,22 2,21.1 2,20V4A2,2 0 0,1 4,2Z",P="M11 15H17V17H11V15M9 7H7V9H9V7M11 13H17V11H11V13M11 9H17V7H11V9M9 11H7V13H9V11M21 5V19C21 20.1 20.1 21 19 21H5C3.9 21 3 20.1 3 19V5C3 3.9 3.9 3 5 3H19C20.1 3 21 3.9 21 5M19 5H5V19H19V5M9 15H7V17H9V15Z",k=(e,t)=>{let i=`/media-browser/${e}`;for(const a of t.slice(1))i+="/"+encodeURIComponent(`${a.media_content_type},${a.media_content_id}`);return i};class S extends s.WF{render(){return(0,s.qy)(w||(w=V` <ha-top-app-bar-fixed .narrow="${0}"> ${0} <div slot="title"> ${0} </div> <ha-media-manage-button slot="actionItems" .hass="${0}" .currentItem="${0}" @media-refresh="${0}"></ha-media-manage-button> <ha-dropdown slot="actionItems" @wa-select="${0}"> <ha-icon-button slot="trigger" .label="${0}" .path="${0}"></ha-icon-button> <ha-dropdown-item value="auto" class="${0}"> ${0} <ha-svg-icon slot="icon" .path="${0}"></ha-svg-icon> </ha-dropdown-item> <ha-dropdown-item value="grid" class="${0}"> ${0} <ha-svg-icon slot="icon" .path="${0}"></ha-svg-icon> </ha-dropdown-item> <ha-dropdown-item value="list" class="${0}"> ${0} <ha-svg-icon slot="icon" .path="${0}"></ha-svg-icon> </ha-dropdown-item> </ha-dropdown> <ha-media-player-browse .hass="${0}" .entityId="${0}" .navigateIds="${0}" .preferredLayout="${0}" @media-picked="${0}" @media-browsed="${0}"></ha-media-player-browse> </ha-top-app-bar-fixed> <ha-bar-media-player .hass="${0}" .entityId="${0}" .narrow="${0}" @player-picked="${0}"></ha-bar-media-player> `),this.narrow,this._navigateIds.length>1?(0,s.qy)($||($=V` <ha-icon-button-arrow-prev slot="navigationIcon" @click="${0}"></ha-icon-button-arrow-prev> `),this._goBack):(0,s.qy)(x||(x=V` <ha-menu-button slot="navigationIcon" .hass="${0}" .narrow="${0}"></ha-menu-button> `),this.hass,this.narrow),this._currentItem?this._currentItem.title:this.hass.localize("ui.components.media-browser.media-player-browser"),this.hass,this._currentItem,this._refreshMedia,this._handleMenuAction,this.hass.localize("ui.common.menu"),H,"auto"===this._preferredLayout?"selected_menu_item":"",this.hass.localize("ui.components.media-browser.auto"),M,"grid"===this._preferredLayout?"selected_menu_item":"",this.hass.localize("ui.components.media-browser.grid"),I,"list"===this._preferredLayout?"selected_menu_item":"",this.hass.localize("ui.components.media-browser.list"),P,this.hass,this._entityId,this._navigateIds,this._preferredLayout,this._mediaPicked,this._mediaBrowsed,this.hass,this._entityId,this.narrow,this._playerPicked)}_handleMenuAction(e){const t=e.detail.item.value;["auto","grid","list"].includes(t)&&(this._preferredLayout=t)}willUpdate(e){if(super.willUpdate(e),this.hasUpdated||this._entityId===g.H1||this._entityId in this.hass.states||(this._entityId=g.H1),!e.has("route"))return;if(""===this.route.path)return void(0,h.o)(`/media-browser/${this._entityId}`,{replace:!0});const[t,...i]=this.route.path.substring(1).split("/");if(t!==this._entityId){if(t!==g.H1&&void 0===this.hass.states[t])return(0,h.o)(`/media-browser/${g.H1}`,{replace:!0}),void(0,v.showAlertDialog)(this,{text:this.hass.localize("ui.panel.media-browser.error.player_not_exist",{name:t})});this._entityId=t}this._navigateIds=[{media_content_type:void 0,media_content_id:void 0},...i.map(e=>{const t=decodeURIComponent(e),i=t.indexOf(",");return{media_content_type:t.substring(0,i),media_content_id:t.substring(i+1)}})],this._currentItem=void 0}_goBack(){(0,h.o)(k(this._entityId,this._navigateIds.slice(0,-1)))}_mediaBrowsed(e){e.detail.ids!==this._navigateIds?(0,h.o)(k(this._entityId,e.detail.ids),{replace:e.detail.replace}):this._currentItem=e.detail.current}async _mediaPicked(e){const t=e.detail.item;if(this._entityId!==g.H1){this._player.showResolvingNewMediaPicked();try{await(0,g.ie)(this.hass,this._entityId,t.media_content_id,t.media_content_type)}catch(a){this._player.hideResolvingNewMediaPicked()}return}if((0,u.j4)(t.media_content_id))return void(0,l.r)(this,"hass-more-info",{entityId:(0,u.vc)(t.media_content_id)});let i;this._player.showResolvingNewMediaPicked();try{i=await(0,m.A1)(this.hass,t.media_content_id)}catch(r){return(0,v.showAlertDialog)(this,{title:this.hass.localize("ui.components.media-browser.media_browsing_error"),text:r.message}),void this._player.hideResolvingNewMediaPicked()}i.mime_type.startsWith("audio/")?this._player.playItem(t,i):((0,b.M)(this,{sourceUrl:i.url,sourceType:i.mime_type,title:t.title,can_play:t.can_play}),this._player.hideResolvingNewMediaPicked())}_playerPicked(e){const t=e.detail.entityId;t!==this._entityId&&(0,h.o)(k(t,this._navigateIds))}_refreshMedia(){this._browser.refresh()}static get styles(){return[_.RF,(0,s.AH)(C||(C=V`ha-media-manage-button{--mdc-theme-primary:var(--app-header-text-color)}ha-media-player-browse{height:calc(100vh - (100px + var(--header-height,0px) + var(--safe-area-inset-top,0px) + var(--safe-area-inset-bottom,0px)))}:host([narrow]) ha-media-player-browse{height:calc(100vh - (68px + var(--header-height,0px) + var(--safe-area-inset-top,0px) + var(--safe-area-inset-bottom,0px)))}.selected_menu_item{color:var(--primary-color)}.selected_menu_item ha-svg-icon{color:currentColor}ha-bar-media-player{position:fixed;bottom:var(--safe-area-inset-bottom,0px);width:calc(var(--mdc-top-app-bar-width,100%) - var(--safe-area-inset-right,0px))}:host([narrow]) ha-bar-media-player{width:calc(var(--mdc-top-app-bar-width,100%) - var(--safe-area-inset-left,0px) - var(--safe-area-inset-right,0px))}`))]}constructor(...e){super(...e),this.narrow=!1,this._preferredLayout="auto",this._navigateIds=[{media_content_id:void 0,media_content_type:void 0}],this._entityId=g.H1}}(0,r.Cg)([(0,o.MZ)({attribute:!1})],S.prototype,"hass",void 0),(0,r.Cg)([(0,o.MZ)({type:Boolean,reflect:!0})],S.prototype,"narrow",void 0),(0,r.Cg)([(0,o.MZ)({attribute:!1})],S.prototype,"route",void 0),(0,r.Cg)([(0,o.wk)()],S.prototype,"_currentItem",void 0),(0,r.Cg)([(0,o.wk)(),(0,n.I)({key:"mediaBrowserPreferredLayout",state:!0,subscribe:!1})],S.prototype,"_preferredLayout",void 0),(0,r.Cg)([(0,o.wk)(),(0,n.I)({key:"mediaBrowseEntityId",state:!0,subscribe:!1})],S.prototype,"_entityId",void 0),(0,r.Cg)([(0,o.P)("ha-media-player-browse")],S.prototype,"_browser",void 0),(0,r.Cg)([(0,o.P)("ha-bar-media-player")],S.prototype,"_player",void 0),S=(0,r.Cg)([(0,o.EM)("ha-panel-media-browser")],S),a()}catch(w){a(w)}})},75484:function(e,t,i){i.d(t,{M:function(){return r}});i(3362),i(62953);var a=i(1087);const r=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"hui-dialog-web-browser-play-media",dialogImport:()=>Promise.all([i.e("93785"),i.e("3249")]).then(i.bind(i,42856)),dialogParams:t})}}}]);
//# sourceMappingURL=20360.8d54c125c0cb4e3a.js.map