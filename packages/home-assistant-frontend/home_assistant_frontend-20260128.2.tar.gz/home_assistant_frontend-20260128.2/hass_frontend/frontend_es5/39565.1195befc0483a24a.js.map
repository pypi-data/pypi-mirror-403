{"version":3,"file":"39565.1195befc0483a24a.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20260128.2/src/common/color/colors.ts","https://raw.githubusercontent.com/home-assistant/frontend/20260128.2/src/panels/lovelace/cards/energy/common/color.ts","https://raw.githubusercontent.com/home-assistant/frontend/20260128.2/src/panels/lovelace/cards/energy/hui-energy-devices-detail-graph-card.ts","/unknown/node_modules/date-fns/differenceInMinutes.js","/unknown/node_modules/date-fns/endOfToday.js","/unknown/node_modules/date-fns/startOfToday.js"],"names":["COLORS_COUNT","getColorByIndex","index","style","colorIndex","getPropertyValue","getGraphColorByIndex","themeColor","theme2hex","getAllGraphColors","memoizeOne","Array","from","length","_","newArgs","lastArgs","getEnergyColor","computedStyles","darkMode","background","compare","propertyName","idx","themeIdxColor","trim","hexColor","rgb2hex","lab2rgb","labBrighten","rgb2lab","hex2rgb","labDarken","UNIT","HuiEnergyDevicesDetailGraphCard","SubscribeMixin","LitElement","hassSubscribe","_this$_config","getEnergyDataCollection","this","hass","key","_config","collection_key","subscribe","data","_data","getCardSize","setConfig","config","shouldUpdate","changedProps","hasConfigChanged","size","has","willUpdate","_processStatistics","render","html","_t","title","_t2","classMap","_chartData","_createOptions","_start","_end","locale","_compareStart","_compareEnd","_datasetHidden","_datasetUnhidden","nothing","ev","_hiddenStats","_getStatIdFromId","detail","id","filter","stat","energyData","start","end","endOfToday","startCompare","endCompare","stats","compareData","statsCompare","computedStyle","getComputedStyle","devices","prefs","device_consumption","childMap","forEach","d","included_in_stat","push","stat_consumption","growthValues","device","value","calculateStatisticSumGrowth","growthValuesExChildren","reduce","acc","child","sorted_devices","map","sort","a","b","datasets","summedData","compareSummedData","getSummedData","showUntracked","consumption","consumptionData","compareConsumption","consumptionCompareData","computeConsumptionData","undefined","processedCompareData","_processDataSet","statsMetadata","untrackedCompareData","_processUntracked","type","stack","processedData","_legendData","_d$itemStyle","secondaryIds","name","itemStyle","color","borderColor","_untrackedData$itemSt","untrackedData","fillDataGapsAndRoundCaps","totalDeviceConsumption","datapoint","compareTransform","getCompareTransform","untrackedConsumption","Object","keys","used_total","Number","time","ts","dataPoint","Date","getTime","order","now","cursor","localize","themes","barMaxWidth","statistics","statisticsMetaData","source","_this$_config2","indexOf","max_devices","console","warn","prevStart","point","change","sumChildren","c","_cStats$find","cStats","find","cStat","getStatisticLabel","Boolean","replace","args","startOfToday","hassSubscribeRequiredHostProps","_formatTotal","total","num","formatNumber","unit","compareStart","compareEnd","commonOptions","getCommonOptions","selected","includes","assign","legend","show","grid","top","bottom","left","right","containLabel","styles","css","_t3","attribute","state","differenceInMinutes","dateLeft","dateRight","options","diff","differenceInMilliseconds","millisecondsInMinute","getRoundingMethod","roundingMethod","endOfDay","startOfDay"],"mappings":"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"}