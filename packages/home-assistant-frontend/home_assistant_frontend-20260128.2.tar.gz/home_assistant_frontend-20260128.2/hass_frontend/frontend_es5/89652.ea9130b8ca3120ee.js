"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["89652"],{65522:function(e,t,i){i.d(t,{A:function(){return a}});const a=e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.trim()}},79:function(e,t,i){i.d(t,{Kh:function(){return l},xn:function(){return o},T:function(){return n}});i(18111),i(22489),i(61701),i(42762),i(62953);var a=i(22786);i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698);var r=i(28978);const o=e=>{var t;return null===(t=e.name_by_user||e.name)||void 0===t?void 0:t.trim()},n=(e,t,i)=>o(e)||i&&s(t,i)||t.localize("ui.panel.config.devices.unnamed_device",{type:t.localize(`ui.panel.config.devices.type.${e.entry_type||"device"}`)}),s=(e,t)=>{for(const i of t||[]){const t="string"==typeof i?i:i.entity_id,a=e.states[t];if(a)return(0,r.u)(a)}},l=(0,a.A)(e=>function(e){const t=new Set,i=new Set;for(const a of e)i.has(a)?t.add(a):i.add(a);return t}(Object.values(e).map(e=>o(e)).filter(e=>void 0!==e)))},81816:function(e,t,i){i.d(t,{aH:function(){return n},cx:function(){return s},es:function(){return l}});var a=i(79),r=i(28978),o=i(79461);const n=(e,t,i)=>{const a=t[e.entity_id];return a?s(a,i):(0,r.u)(e)},s=(e,t,i)=>{const n=e.name||("original_name"in e&&null!=e.original_name?String(e.original_name):void 0),s=e.device_id?t[e.device_id]:void 0;if(!s)return n||(i?(0,r.u)(i):void 0);const l=(0,a.xn)(s);return l!==n?l&&n&&(0,o.p)(n,l)||n:void 0},l=(e,t,i)=>!n(e,t,i)},74705:function(e,t,i){i.d(t,{Cf:function(){return h},uU:function(){return c}});i(18111),i(81148),i(22489),i(61701),i(13579);if(66649!=i.j)var a=i(44537);var r=i(65522),o=i(79),n=i(81816),s=i(55931),l=i(28455);const d=66649!=i.j?[{type:"device"},{type:"entity"}]:null,c=(e,t,i,r,o,s,l)=>{var c;let u=(0,a.e)(t||d);const p=null!==(c=null==l?void 0:l.separator)&&void 0!==c?c:" ";if(u.every(e=>"text"===e.type))return u.map(e=>e.text).join(p);if((0,n.es)(e,i,r)){u.some(e=>"device"===e.type)||(u=u.map(e=>"entity"===e.type?{type:"device"}:e))}const v=h(e,u,i,r,o,s);return 1===v.length?v[0]||"":v.filter(e=>e).join(p)},h=(e,t,i,a,d,c)=>{const{device:h,area:u,floor:p}=(0,l.l)(e,i,a,d,c);return t.map(t=>{switch(t.type){case"entity":return(0,n.aH)(e,i,a);case"device":return h?(0,o.xn)(h):void 0;case"area":return u?(0,r.A)(u):void 0;case"floor":return p?(0,s.X)(p):void 0;case"text":return t.text;default:return""}})}},55931:function(e,t,i){i.d(t,{X:function(){return a}});i(42762);const a=e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.trim()}},79461:function(e,t,i){i.d(t,{p:function(){return r}});i(62953);const a=[" ",": "," - "],r=(e,t)=>{const i=e.toLowerCase(),r=t.toLowerCase();for(const n of a){const t=`${r}${n}`;if(i.startsWith(t)){const i=e.substring(t.length);if(i.length)return o(i.substr(0,i.indexOf(" ")))?i:i[0].toUpperCase()+i.slice(1)}}},o=e=>e.toLowerCase()!==e},85938:function(e,t,i){i(18111),i(22489),i(3362),i(46058),i(62953);var a=i(40445),r=i(96196),o=i(77845),n=i(1087);let s,l=e=>e;class d extends r.WF{updated(e){e.has("disabled")&&(this.disabled?this._destroySortable():this._createSortable())}disconnectedCallback(){super.disconnectedCallback(),this._shouldBeDestroy=!0,setTimeout(()=>{this._shouldBeDestroy&&(this._destroySortable(),this._shouldBeDestroy=!1)},1)}connectedCallback(){super.connectedCallback(),this._shouldBeDestroy=!1,this.hasUpdated&&!this.disabled&&this._createSortable()}createRenderRoot(){return this}render(){return this.noStyle?r.s6:(0,r.qy)(s||(s=l` <style>.sortable-fallback{display:none!important}.sortable-ghost{box-shadow:0 0 0 2px var(--primary-color);background:rgba(var(--rgb-primary-color),.25);border-radius:var(--ha-border-radius-sm);opacity:.4}.sortable-drag{border-radius:var(--ha-border-radius-sm);opacity:1;background:var(--card-background-color);box-shadow:0px 4px 8px 3px #00000026;cursor:grabbing}</style> `))}async _createSortable(){if(this._sortable)return;const e=this.children[0];if(!e)return;const t=(await Promise.all([i.e("85283"),i.e("70322")]).then(i.bind(i,80745))).default,a=Object.assign(Object.assign({scroll:!0,forceAutoScrollFallback:!0,scrollSpeed:20,animation:150},this.options),{},{onChoose:this._handleChoose,onStart:this._handleStart,onEnd:this._handleEnd,onUpdate:this._handleUpdate,onAdd:this._handleAdd,onRemove:this._handleRemove});this.draggableSelector&&(a.draggable=this.draggableSelector),this.handleSelector&&(a.handle=this.handleSelector),void 0!==this.invertSwap&&(a.invertSwap=this.invertSwap),this.group&&(a.group=this.group),this.filter&&(a.filter=this.filter),this._sortable=new t(e,a)}_destroySortable(){this._sortable&&(this._sortable.destroy(),this._sortable=void 0)}constructor(...e){super(...e),this.disabled=!1,this.noStyle=!1,this.invertSwap=!1,this.rollback=!0,this._shouldBeDestroy=!1,this._handleUpdate=e=>{(0,n.r)(this,"item-moved",{newIndex:e.newIndex,oldIndex:e.oldIndex})},this._handleAdd=e=>{(0,n.r)(this,"item-added",{index:e.newIndex,data:e.item.sortableData,item:e.item})},this._handleRemove=e=>{(0,n.r)(this,"item-removed",{index:e.oldIndex})},this._handleEnd=async e=>{(0,n.r)(this,"drag-end"),this.rollback&&e.item.placeholder&&(e.item.placeholder.replaceWith(e.item),delete e.item.placeholder)},this._handleStart=()=>{(0,n.r)(this,"drag-start")},this._handleChoose=e=>{this.rollback&&(e.item.placeholder=document.createComment("sort-placeholder"),e.item.after(e.item.placeholder))}}}(0,a.Cg)([(0,o.MZ)({type:Boolean})],d.prototype,"disabled",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean,attribute:"no-style"})],d.prototype,"noStyle",void 0),(0,a.Cg)([(0,o.MZ)({type:String,attribute:"draggable-selector"})],d.prototype,"draggableSelector",void 0),(0,a.Cg)([(0,o.MZ)({type:String,attribute:"handle-selector"})],d.prototype,"handleSelector",void 0),(0,a.Cg)([(0,o.MZ)({type:String,attribute:"filter"})],d.prototype,"filter",void 0),(0,a.Cg)([(0,o.MZ)({type:String})],d.prototype,"group",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean,attribute:"invert-swap"})],d.prototype,"invertSwap",void 0),(0,a.Cg)([(0,o.MZ)({attribute:!1})],d.prototype,"options",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],d.prototype,"rollback",void 0),d=(0,a.Cg)([(0,o.EM)("ha-sortable")],d)},6534:function(e,t,i){i.a(e,async function(e,a){try{i.r(t),i.d(t,{HuiCalendarCardEditor:function(){return y}});i(62953);var r=i(40445),o=i(96196),n=i(77845),s=i(22786),l=i(63533),d=i(1087),c=i(77122),h=(i(52763),i(84698)),u=e([c]);c=(u.then?(await u)():u)[0];let p,v,g=e=>e;const b=(0,l.kp)(h.H,(0,l.Ik)({title:(0,l.lq)((0,l.KC)([(0,l.Yj)(),(0,l.zM)()])),initial_view:(0,l.lq)((0,l.Yj)()),theme:(0,l.lq)((0,l.Yj)()),entities:(0,l.YO)((0,l.Yj)())})),f=["dayGridMonth","dayGridDay","listWeek"];class y extends o.WF{setConfig(e){(0,l.vA)(e,b),this._config=e}render(){if(!this.hass||!this._config)return o.s6;const e=this._schema(this.hass.localize),t=Object.assign({initial_view:"dayGridMonth"},this._config);return(0,o.qy)(p||(p=g` <ha-form .hass="${0}" .data="${0}" .schema="${0}" .computeLabel="${0}" @value-changed="${0}"></ha-form> <h3> ${0} </h3> <ha-entities-picker .hass="${0}" .value="${0}" .includeDomains="${0}" @value-changed="${0}"> </ha-entities-picker> `),this.hass,t,e,this._computeLabelCallback,this._valueChanged,this.hass.localize("ui.panel.lovelace.editor.card.calendar.calendar_entities")+" ("+this.hass.localize("ui.panel.lovelace.editor.card.config.required")+")",this.hass,this._config.entities,["calendar"],this._entitiesChanged)}_valueChanged(e){const t=e.detail.value;(0,d.r)(this,"config-changed",{config:t})}_entitiesChanged(e){const t=Object.assign(Object.assign({},this._config),{},{entities:e.detail.value});(0,d.r)(this,"config-changed",{config:t})}constructor(...e){super(...e),this._schema=(0,s.A)(e=>[{name:"",type:"grid",schema:[{name:"title",required:!1,selector:{text:{}}},{name:"initial_view",required:!1,selector:{select:{options:f.map(t=>({value:t,label:e(`ui.panel.lovelace.editor.card.calendar.views.${t}`)}))}}}]},{name:"theme",required:!1,selector:{theme:{}}}]),this._computeLabelCallback=e=>"title"===e.name?this.hass.localize("ui.panel.lovelace.editor.card.generic.title"):"theme"===e.name?`${this.hass.localize("ui.panel.lovelace.editor.card.generic.theme")} (${this.hass.localize("ui.panel.lovelace.editor.card.config.optional")})`:this.hass.localize(`ui.panel.lovelace.editor.card.calendar.${e.name}`)}}y.styles=(0,o.AH)(v||(v=g`ha-form{display:block;overflow:auto}`)),(0,r.Cg)([(0,n.MZ)({attribute:!1})],y.prototype,"hass",void 0),(0,r.Cg)([(0,n.wk)()],y.prototype,"_config",void 0),y=(0,r.Cg)([(0,n.EM)("hui-calendar-card-editor")],y),a()}catch(p){a(p)}})},84698:function(e,t,i){i.d(t,{H:function(){return r}});var a=i(63533);const r=(0,a.Ik)({type:(0,a.Yj)(),view_layout:(0,a.bz)(),layout_options:(0,a.bz)(),grid_options:(0,a.bz)(),visibility:(0,a.bz)(),disabled:(0,a.lq)((0,a.zM)())})}}]);
//# sourceMappingURL=89652.ea9130b8ca3120ee.js.map