"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["48668"],{91069:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{EO:function(){return w},Yq:function(){return j},_U:function(){return O},eE:function(){return S},fU:function(){return T},ol:function(){return y},xo:function(){return b}});var r=n(78016),o=n(31810),a=n(49134),c=n(81977),s=n(36307),l=n(35932),u=n(73983),d=n(6946),f=n(92913),g=n(83339),m=n(77972),_=n(31886),v=n(46927),p=t([_]);_=(p.then?(await p)():p)[0];const h=(t,e,n,i)=>{const r=n(new _.BB(t,e),i);return r instanceof Date?new Date(r.getTime()):r},y=(t,e,n,i,r)=>n.time_zone===v.Wj.server?h(t,i.time_zone,e,r):e(t,r),b=(t,e,n,i,r)=>n.time_zone===v.Wj.server?h(t,i.time_zone,e,r):e(t,r),w=(t,e,n,i,r)=>b(t,n,i,r,i.time_zone===v.Wj.server?new _.BB(e,r.time_zone):e),S=(t,e,n,i,_)=>{let v,p;if(b(t,r.e,i,_)&&b(e,o.c,i,_)){const r=(w(e,t,a.W,i,_)+1)*(n?1:-1);v=y(t,c.P,i,_,r),p=y(y(e,c.P,i,_,r),s.p,i,_)}else if(b(t,t=>(0,l.o)(t).getMilliseconds()===t.getMilliseconds(),i,_)&&b(e,t=>(0,u.D)(t).getMilliseconds()===t.getMilliseconds(),i,_)){const r=(w(e,t,d.c,i,_)+1)*(n?1:-1);v=y(t,f.f,i,_,r),p=y(e,f.f,i,_,r)}else{const r=w(e,t,g.b,i,_)*(n?1:-1);v=y(t,m.A,i,_,r),p=y(e,m.A,i,_,r)}return{start:v,end:p}},O=(t,e)=>{const n=new _.BB(t,e);return new Date(n.getTime())},j=(t,e)=>new _.BB(t,e).toISOString().split("T")[0],T=(t,e)=>new _.BB(t,e).toISOString().split("T")[1].split(".")[0];i()}catch(h){i(h)}})},46223:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{b:function(){return w}});var r=n(35932),o=n(73983),a=n(92913),c=n(52640),s=n(69137),l=n(35660),u=n(36307),d=n(11650),f=n(15797),g=n(33977),m=n(69748),_=n(55144),v=n(21828),p=n(66708),h=n(91069),y=n(380),b=t([y,h]);[y,h]=b.then?(await b)():b;const w=(t,e)=>{const n=new Date,i=(0,y.P)(t.locale);switch(e){case"today":return[(0,h.ol)(n,r.o,t.locale,t.config,{weekStartsOn:i}),(0,h.ol)(n,o.D,t.locale,t.config,{weekStartsOn:i})];case"yesterday":return[(0,h.ol)((0,a.f)(n,-1),r.o,t.locale,t.config,{weekStartsOn:i}),(0,h.ol)((0,a.f)(n,-1),o.D,t.locale,t.config,{weekStartsOn:i})];case"this_week":return[(0,h.ol)(n,c.k,t.locale,t.config,{weekStartsOn:i}),(0,h.ol)(n,s.$,t.locale,t.config,{weekStartsOn:i})];case"this_month":return[(0,h.ol)(n,l.w,t.locale,t.config),(0,h.ol)(n,u.p,t.locale,t.config)];case"this_quarter":return[(0,h.ol)(n,d.a,t.locale,t.config),(0,h.ol)(n,f.j,t.locale,t.config)];case"this_year":return[(0,h.ol)(n,g.D,t.locale,t.config),(0,h.ol)(n,m.Q,t.locale,t.config)];case"now-7d":return[(0,h.ol)(n,_.e,t.locale,t.config,7),(0,h.ol)(n,_.e,t.locale,t.config,0)];case"now-30d":return[(0,h.ol)(n,_.e,t.locale,t.config,30),(0,h.ol)(n,_.e,t.locale,t.config,0)];case"now-12m":return[(0,h.ol)(n,v.a,t.locale,t.config,12),(0,h.ol)(n,v.a,t.locale,t.config,0)];case"now-1h":return[(0,h.ol)(n,p.O,t.locale,t.config,1),(0,h.ol)(n,p.O,t.locale,t.config,0)];case"now-12h":return[(0,h.ol)(n,p.O,t.locale,t.config,12),(0,h.ol)(n,p.O,t.locale,t.config,0)];case"now-24h":return[(0,h.ol)(n,p.O,t.locale,t.config,24),(0,h.ol)(n,p.O,t.locale,t.config,0)]}return[n,n]};i()}catch(w){i(w)}})},75428:function(t,e,n){n.d(e,{D:function(){return o}});var i=n(75158),r=n.n(i);const o=t=>r()(t,{whiteList:{},stripIgnoreTag:!0,stripIgnoreTagBody:!0})},23528:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{$3:function(){return p},$O:function(){return T},$j:function(){return h},ED:function(){return c},JE:function(){return x},OQ:function(){return D},PU:function(){return k},Ph:function(){return _},Uf:function(){return j},W1:function(){return v},Wr:function(){return f},Z:function(){return u},gF:function(){return y},iY:function(){return b},jU:function(){return s},nN:function(){return O},p3:function(){return d},pJ:function(){return m},r_:function(){return l},sz:function(){return g}});n(74423),n(18111),n(13579),n(62953);var r=n(28978),o=n(380),a=t([o]);o=(a.then?(await a)():a)[0];var c=function(t){return t[t.NONE=0]="NONE",t[t.ARITHMETIC=1]="ARITHMETIC",t[t.CIRCULAR=2]="CIRCULAR",t}({});const s=["entity_not_recorded","entity_no_longer_recorded","state_class_removed","units_changed","mean_type_changed","no_state"],l=["L","gal","ft³","m³","CCF","MCF"],u=t=>t.sendMessagePromise({type:"recorder/info"}),d=(t,e)=>t.callWS({type:"recorder/list_statistic_ids",statistic_type:e}),f=(t,e)=>t.callWS({type:"recorder/get_statistics_metadata",statistic_ids:e}),g=(t,e,n,i,r="hour",o,a)=>t.callWS({type:"recorder/statistics_during_period",start_time:e.toISOString(),end_time:null==n?void 0:n.toISOString(),statistic_ids:i,period:r,units:o,types:a}),m=(t,e,n,i)=>t.callWS({type:"recorder/statistic_during_period",statistic_id:e,units:i,fixed_period:n.fixed_period?{start_time:n.fixed_period.start instanceof Date?n.fixed_period.start.toISOString():n.fixed_period.start,end_time:n.fixed_period.end instanceof Date?n.fixed_period.end.toISOString():n.fixed_period.end}:void 0,calendar:n.calendar?Object.assign(Object.assign({},"week"===n.calendar.period?{first_weekday:(0,o.D)(t.locale).substring(0,3)}:{}),n.calendar):void 0,rolling_window:n.rolling_window}),_=t=>t.callWS({type:"recorder/validate_statistics"}),v=(t,e,n,i)=>t.callWS({type:"recorder/update_statistics_metadata",statistic_id:e,unit_of_measurement:n,unit_class:i}),p=(t,e)=>t.callWS({type:"recorder/clear_statistics",statistic_ids:e}),h=t=>{let e=null;if(!t)return null;for(const n of t)null!==n.change&&void 0!==n.change&&(null===e?e=n.change:e+=n.change);return e},y=(t,e)=>{let n=null;for(const i of e){if(!(i in t))continue;const e=h(t[i]);null!==e&&(null===n?n=e:n+=e)}return n},b=(t,e)=>t.some(t=>void 0!==t[e]&&null!==t[e]),w=["mean","min","max"],S=["sum","state","change"],O=(t,e)=>!(!w.includes(e)||0===t.mean_type)||!(!S.includes(e)||!t.has_sum),j=(t,e,n,i,r)=>{const o=new Date(n).toISOString();return t.callWS({type:"recorder/adjust_sum_statistics",statistic_id:e,start_time:o,adjustment:i,adjustment_unit_of_measurement:r})},T=(t,e,n)=>{const i=t.states[e];return i?(0,r.u)(i):(null==n?void 0:n.name)||e},x=(t,e,n)=>{let i;var r;e&&(i=null===(r=t.states[e])||void 0===r?void 0:r.attributes.unit_of_measurement);return void 0===i?null==n?void 0:n.statistics_unit_of_measurement:i},D=t=>t.includes(":"),k=t=>t.callWS({type:"recorder/update_statistics_issues"});i()}catch(s){i(s)}})},97372:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{Gs:function(){return O},JR:function(){return $},RR:function(){return D},od:function(){return T},ok:function(){return W}});n(46449),n(44114),n(26910),n(93514),n(18111),n(22489),n(7588),n(61701),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(62953);var r=n(66708),o=n(6946),a=n(57279),c=n(98487),s=n(33977),l=n(56434),u=n(49134),d=n(35660),f=n(81977),g=n(35932),m=n(92913),_=n(77972),v=n(20058),p=n(72487),h=n(30162),y=n(75428),b=n(38114),w=t([b,p,h,v]);function O(t,e){let n=new Date(e);return"5minute"===t?n.getTime():(n.setMinutes(0,0,0),"hour"===t?n.getTime():(0===n.getHours()&&(n=(0,r.O)(n,1)),n.setHours(0),"day"===t||"week"===t||n.setDate(1),n.getTime()))}function j(t){let e;return n=>{const i=Math.max(1,-Math.floor(Math.log10(Math.abs(n-(null!=e?e:n)||1))));return e=n,(0,v.ZV)(n,t,{maximumFractionDigits:i})}}function T(t,e,n,i,r,a,c,s,l=!1){const u=(0,o.c)(e,t),d=void 0!==a&&void 0!==c,f=d&&t.getFullYear()!==a.getFullYear();return{xAxis:{type:"time",min:t,max:O((0,b.TI)(t,e,l),e)},yAxis:{type:"value",name:r,nameGap:2,nameTextStyle:{align:"left"},axisLabel:{formatter:j(n)},splitLine:{show:!0}},grid:{top:15,bottom:0,left:1,right:1,containLabel:!0},tooltip:{trigger:"axis",formatter:t=>{if(Array.isArray(t)){const e=[],o=[];return t.forEach(t=>{var n;null!==(n=t.seriesId)&&void 0!==n&&n.startsWith("compare-")?o.push(t):e.push(t)}),[e,o].map(t=>x(t,n,i,u,d,f,r,s)).filter(Boolean).join("<br><br>")}return x([t],n,i,u,d,f,r,s)}}}}function x(t,e,n,i,r,o,c,s){var l,u,d,f;if(null===(l=t[0])||void 0===l||!l.value)return"";const g=new Date(null!==(u=null===(d=t[0].value)||void 0===d?void 0:d[2])&&void 0!==u?u:null===(f=t[0].value)||void 0===f?void 0:f[0]);let m;i>=89?m=`${(0,p.fr)(g,e,n)}`:i>0?m=`${(o?p.kz:p.sl)(g,e,n)}`:(m=`${r?`${(o?p.kz:p.sl)(g,e,n)}: `:""}${(0,h.fU)(g,e,n)}`,"bar"===t[0].componentSubType&&(m+=` – ${(0,h.fU)((0,a.L)(g,1),e,n)}`));const _=`<h4 style="text-align: center; margin: 0;">${m}</h4>`;let b=0,w=0,S=0,O=0;const j=t.map(t=>{var n;const i=null===(n=t.value)||void 0===n?void 0:n[1],r=(0,v.ZV)(i,e,i<.1?{maximumFractionDigits:3}:void 0);return"0"!==r&&("bar"===t.componentSubType&&(i>0?(b+=i,w++):(S+=i,O++)),`${t.marker} ${(0,y.D)(t.seriesName)}: <div style="direction:ltr; display: inline;">${r} ${c}</div>`)}).filter(Boolean);let T="";return 0!==b&&w>1&&s&&(T+=`<br><b>${s(b)}</b>`),0!==S&&O>1&&s&&(T+=`<br><b>${s(S)}</b>`),j.length>0?`${_}${j.join("<br>")}${T}`:""}function D(t){Array.from(new Set(t.map(t=>t.data.map(t=>Number(t[0]))).flat())).sort((t,e)=>t-e).forEach((e,n)=>{const i={},r={};for(let d=t.length-1;d>=0;d--){var o,a,c,s,l;const f=t[d].data[n],g=f&&"object"==typeof f&&"value"in f?f:{value:f},m=null===(o=g.value)||void 0===o?void 0:o[0],_=null!==(a=t[d].stack)&&void 0!==a?a:"";var u;if(void 0!==m)if(Number(m)!==e)null===(u=t[d].data)||void 0===u||u.splice(n,0,{value:[e,0],itemStyle:{borderWidth:0}});else 0===(null===(c=g.value)||void 0===c?void 0:c[1])?t[d].data[n]=Object.assign(Object.assign({},g),{},{itemStyle:Object.assign(Object.assign({},g.itemStyle),{},{borderWidth:0})}):!i[_]&&(null===(s=g.value)||void 0===s?void 0:s[1])>0?(t[d].data[n]=Object.assign(Object.assign({},g),{},{itemStyle:Object.assign(Object.assign({},g.itemStyle),{},{borderRadius:[4,4,0,0]})}),i[_]=!0):!r[_]&&(null===(l=g.value)||void 0===l?void 0:l[1])<0&&(t[d].data[n]=Object.assign(Object.assign({},g),{},{itemStyle:Object.assign(Object.assign({},g.itemStyle),{},{borderRadius:[0,0,4,4]})}),r[_]=!0)}})}function k(t){var e;return Number(null===(e=(t&&"object"==typeof t&&"value"in t?t:{value:t}).value)||void 0===e?void 0:e[0])}function $(t){const e=Array.from(new Set(t.map(t=>t.data.map(t=>k(t))).flat())).sort((t,e)=>t-e);return t.forEach(t=>{const n=new Map;t.data.forEach(t=>{const e=t&&"object"==typeof t&&"value"in t?t:{value:t},i=k(t);Number.isNaN(i)||n.set(i,e)}),t.data=e.map(t=>{var e;return null!==(e=n.get(t))&&void 0!==e?e:[t,0]})}),t}function W(t,e){if(!e)return t=>t;const n=(0,c.V)(t,e);if(0!==n&&t.getTime()===(0,s.D)(t).getTime())return t=>(0,l.e)(t,n);const i=(0,u.W)(t,e);if(0!==i&&t.getTime()===(0,d.w)(t).getTime())return t=>(0,f.P)(t,i);const r=(0,o.c)(t,e);if(0!==r&&t.getTime()===(0,g.o)(t).getTime())return t=>(0,m.f)(t,r);const a=t.getTime()-e.getTime();return t=>(0,_.A)(t,a)}[b,p,h,v]=w.then?(await w)():w,i()}catch(S){i(S)}})},56434:function(t,e,n){n.d(e,{e:function(){return r}});var i=n(81977);function r(t,e,n){return(0,i.P)(t,12*e,n)}},98487:function(t,e,n){n.d(e,{V:function(){return a}});n(62953);var i=n(74816),r=n(95785);function o(t,e,n){const[r,o]=(0,i.x)(null==n?void 0:n.in,t,e);return r.getFullYear()-o.getFullYear()}function a(t,e,n){const[a,c]=(0,i.x)(null==n?void 0:n.in,t,e),s=(0,r.z)(a,c),l=Math.abs(o(a,c));a.setFullYear(1584),c.setFullYear(1584);const u=s*(l-+((0,r.z)(a,c)===-s));return 0===u?0:u}}}]);
//# sourceMappingURL=48668.13acb2f5ec488590.js.map