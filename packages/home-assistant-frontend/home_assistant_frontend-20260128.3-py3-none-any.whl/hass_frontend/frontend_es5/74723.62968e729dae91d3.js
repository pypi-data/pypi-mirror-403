"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["74723"],{77423:function(e,t,n){n.d(t,{A:function(){return r},Cm:function(){return o},JW:function(){return _},Pd:function(){return c},TC:function(){return d},VN:function(){return l},Vx:function(){return u},XQ:function(){return g},eM:function(){return h},iH:function(){return p},k3:function(){return y},m4:function(){return s},qf:function(){return a},t0:function(){return i},yv:function(){return f}});n(44114),n(18111),n(22489),n(20116),n(7588),n(61701),n(62953);const i=(e,t)=>e.callWS({type:"config_entries/subentries/list",entry_id:t}),r=(e,t,n,i)=>e.callWS(Object.assign({type:"config_entries/subentries/update",entry_id:t,subentry_id:n},i)),o=(e,t,n)=>e.callWS({type:"config_entries/subentries/delete",entry_id:t,subentry_id:n}),s=["migration_error","setup_error","setup_retry"],a=["not_loaded","loaded","setup_error","setup_retry"],c=(e,t,n)=>{const i=new m;return d(e,e=>{t(i.processMessage(e))},n)},d=(e,t,n)=>{const i={type:"config_entries/subscribe"};return n&&n.type&&(i.type_filter=n.type),e.connection.subscribeMessage(e=>{t(e)},i)},l=(e,t)=>{const n={};return t&&(t.type&&(n.type_filter=t.type),t.domain&&(n.domain=t.domain)),e.callWS(Object.assign({type:"config_entries/get"},n))},u=(e,t)=>e.callWS({type:"config_entries/get_single",entry_id:t}),p=(e,t,n)=>e.callWS(Object.assign({type:"config_entries/update",entry_id:t},n)),h=(e,t)=>e.callApi("DELETE",`config/config_entries/entry/${t}`),f=(e,t)=>e.callApi("POST",`config/config_entries/entry/${t}/reload`),g=(e,t)=>e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:"user"}),y=(e,t)=>e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:null}),_=(e,t)=>{if(!t)return e;const n=e.find(e=>e.entry_id===t);if(!n)return e;return[n,...e.filter(e=>e.entry_id!==t)]};class m{processMessage(e){return e.forEach(e=>{if(null!==e.type&&"added"!==e.type)if("removed"!==e.type){if("updated"===e.type){const t=e.entry;this._entries=this._entries.map(e=>e.entry_id===t.entry_id?t:e)}}else this._entries=this._entries.filter(t=>t.entry_id!==e.entry.entry_id);else this._entries.push(e.entry)}),this._entries}constructor(){this._entries=[]}}},26571:function(e,t,n){n.d(t,{Al:function(){return o},KY:function(){return r},PN:function(){return c},dG:function(){return l},jm:function(){return d},m7:function(){return g},sR:function(){return u},t1:function(){return a},t2:function(){return h},x:function(){return f},yu:function(){return p}});var i=n(95350);const r=["bluetooth","dhcp","discovery","esphome","hardware","hassio","homekit","integration_discovery","mqtt","ssdp","unignore","usb","zeroconf"],o=["reauth"],s={"HA-Frontend-Base":`${location.protocol}//${location.host}`},a=(e,t,n)=>{var i;return e.callApi("POST","config/config_entries/flow",{handler:t,show_advanced_options:Boolean(null===(i=e.userData)||void 0===i?void 0:i.showAdvanced),entry_id:n},s)},c=(e,t)=>e.callApi("GET",`config/config_entries/flow/${t}`,void 0,s),d=(e,t,n)=>e.callApi("POST",`config/config_entries/flow/${t}`,n,s),l=(e,t,n)=>e.callWS({type:"config_entries/ignore_flow",flow_id:t,title:n}),u=(e,t)=>e.callApi("DELETE",`config/config_entries/flow/${t}`),p=(e,t)=>e.callApi("GET","config/config_entries/flow_handlers"+(t?`?type=${t}`:"")),h=e=>e.sendMessagePromise({type:"config_entries/flow/progress"}),f=(e,t)=>e.connection.subscribeMessage(e=>t(e),{type:"config_entries/flow/subscribe"}),g=(e,t)=>t.context.title_placeholders&&0!==Object.keys(t.context.title_placeholders).length?e(`component.${t.handler}.config.flow_title`,t.context.title_placeholders)||("name"in t.context.title_placeholders?t.context.title_placeholders.name:(0,i.p$)(e,t.handler)):(0,i.p$)(e,t.handler)},42262:function(e,t,n){n.d(t,{$:function(){return i}});const i=e=>e.callWS({type:"usb/scan"})},73561:function(e,t,n){n(62953);var i=n(40445),r=n(96196),o=n(77845),s=n(44144);let a,c,d=e=>e;class l extends r.WF{render(){return(0,r.qy)(a||(a=d` <div class="icon"> <img alt="" src="${0}" crossorigin="anonymous" referrerpolicy="no-referrer"> </div> <div class="title">${0}</div> `),(0,s.MR)({domain:this.domain,type:"icon",darkOptimized:this.darkOptimizedIcon}),this.title)}constructor(...e){super(...e),this.darkOptimizedIcon=!1,this.clickable=!1}}l.styles=(0,r.AH)(c||(c=d`:host{display:inline-flex;flex-direction:column;text-align:center;color:var(--primary-text-color)}img{max-width:100%;max-height:100%}.icon{position:relative;margin:0 auto 8px;height:40px;width:40px;display:flex;align-items:center;justify-content:center}.title{min-height:2.3em;word-break:break-word}`)),(0,i.Cg)([(0,o.MZ)()],l.prototype,"domain",void 0),(0,i.Cg)([(0,o.MZ)({attribute:!1})],l.prototype,"title",void 0),(0,i.Cg)([(0,o.MZ)({attribute:"dark-optimized-icon",type:Boolean})],l.prototype,"darkOptimizedIcon",void 0),(0,i.Cg)([(0,o.MZ)({attribute:!1,type:Boolean,reflect:!0})],l.prototype,"clickable",void 0),l=(0,i.Cg)([(0,o.EM)("integration-badge")],l)},35502:function(e,t,n){n.a(e,async function(e,i){try{n.r(t);n(44114),n(26910),n(18111),n(22489),n(7588),n(61701),n(3362),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(62953);var r=n(40445),o=n(96196),s=n(77845),a=n(36312),c=n(1087),d=n(52220),l=n(18350),u=n(77423),p=n(26571),h=n(95350),f=n(42262),g=n(54706),y=(n(73561),n(54819)),_=e([l]);l=(_.then?(await _)():_)[0];let m,b,v,$,w,k=e=>e;const x=new Set(["backup","google_translate","hassio","met","radio_browser","rpi_power","shopping_list","sun"]);class S extends((0,g.E)(o.WF)){hassSubscribe(){return[(0,p.x)(this.hass,e=>{e.forEach(e=>{"removed"===e.type||x.has(e.flow.handler)||this._discoveredDomains.add(e.flow.handler)}),this.hass.loadBackendTranslation("title",Array.from(this._discoveredDomains)),this._discoveredDomainsReceived=!0}),(0,u.TC)(this.hass,e=>{let t=!1;const n=[],i=new Set;if(e.forEach(e=>{if(null===e.type||"added"===e.type){if(x.has(e.entry.domain))return;n.push(e.entry),i.add(e.entry.domain),null===e.type&&(t=!0)}else if("removed"===e.type)this._entries=this._entries.filter(t=>t.entry_id!==e.entry.entry_id);else if("updated"===e.type){if(x.has(e.entry.domain))return;const t=e.entry;this._entries=this._entries.map(e=>e.entry_id===t.entry_id?t:e)}}),!n.length&&!t)return;this.hass.loadBackendTranslation("title",Array.from(i));const r=t?[]:this._entries;this._entries=[...r,...n]},{type:["device","hub","service"]})]}render(){if(!this._discoveredDomainsReceived)return o.s6;let e=new Set;this._entries.forEach(t=>{e.add(t.domain)}),e=new Set([...e,...this._discoveredDomains]);let t=[];for(const i of e.values())t.push([i,(0,h.p$)(this.hass.localize,i)]);t=t.sort((e,t)=>(0,d.xL)(e[0],t[0],this.hass.locale.language));const n=t.length;return 0===n?(0,o.qy)(m||(m=k` <div class="all-set-icon">ðŸŽ‰</div> <h1> ${0} </h1> <p> ${0} </p> <div class="footer"> <ha-button @click="${0}"> ${0} </ha-button> </div> `),this.onboardingLocalize("ui.panel.page-onboarding.integration.all_set"),this.onboardingLocalize("ui.panel.page-onboarding.integration.lets_start"),this._finish,this.onboardingLocalize("ui.panel.page-onboarding.integration.finish")):(t.length>12&&(t=t.slice(0,11)),(0,o.qy)(b||(b=k` <h1> ${0} </h1> <p> ${0} </p> <div class="badges"> ${0} ${0} </div> <div class="footer"> <ha-button @click="${0}"> ${0} </ha-button> </div> `),this.onboardingLocalize("ui.panel.page-onboarding.integration.header"),this.onboardingLocalize("ui.panel.page-onboarding.integration.intro"),t.map(([e,t])=>{var n;return(0,o.qy)(v||(v=k`<integration-badge .domain="${0}" .title="${0}" .darkOptimizedIcon="${0}"></integration-badge>`),e,t,null===(n=this.hass.themes)||void 0===n?void 0:n.darkMode)}),n>t.length?(0,o.qy)($||($=k`<div class="more"> ${0} </div>`),this.onboardingLocalize("ui.panel.page-onboarding.integration.more_integrations",{count:n-t.length})):o.s6,this._finish,this.onboardingLocalize("ui.panel.page-onboarding.integration.finish")))}firstUpdated(e){super.firstUpdated(e),this.hass.loadBackendTranslation("title"),this._scanUSBDevices()}async _scanUSBDevices(){(0,a.x)(this.hass,"usb")&&await(0,f.$)(this.hass)}async _finish(){(0,c.r)(this,"onboarding-step",{type:"integration"})}static get styles(){return[y.o,(0,o.AH)(w||(w=k`.badges{margin-top:24px;display:grid;grid-template-columns:repeat(auto-fill,minmax(106px,1fr));row-gap:var(--ha-space-6)}.more{display:flex;justify-content:center;align-items:center;height:100%}.all-set-icon{font-size:64px;text-align:center}`))]}constructor(...e){super(...e),this._entries=[],this._discoveredDomains=new Set,this._discoveredDomainsReceived=!1}}(0,r.Cg)([(0,s.MZ)({attribute:!1})],S.prototype,"hass",void 0),(0,r.Cg)([(0,s.MZ)({attribute:!1})],S.prototype,"onboardingLocalize",void 0),(0,r.Cg)([(0,s.wk)()],S.prototype,"_entries",void 0),(0,r.Cg)([(0,s.wk)()],S.prototype,"_discoveredDomains",void 0),(0,r.Cg)([(0,s.wk)()],S.prototype,"_discoveredDomainsReceived",void 0),S=(0,r.Cg)([(0,s.EM)("onboarding-integrations")],S),i()}catch(m){i(m)}})},44144:function(e,t,n){n.d(t,{MR:function(){return i},QR:function(){return r},a_:function(){return o},bg:function(){return s}});const i=e=>`https://brands.home-assistant.io/${e.brand?"brands/":""}_/${e.domain}/${e.darkOptimized?"dark_":""}${e.type}.png`,r=e=>`https://brands.home-assistant.io/hardware/${e.category}/${e.darkOptimized?"dark_":""}${e.manufacturer}${e.model?`_${e.model}`:""}.png`,o=e=>e.split("/")[4],s=e=>e.startsWith("https://brands.home-assistant.io/")}}]);
//# sourceMappingURL=74723.62968e729dae91d3.js.map