export const __rspack_esm_id="13837";export const __rspack_esm_ids=["13837"];export const __webpack_modules__={15090(e,t,i){i.d(t,{n:()=>l,v:()=>r});i(44114),i(18111),i(22489),i(61701),i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698);var a=i(22675),n=i(52220),o=i(71727),s=i(69093);const r={alarm_control_panel:["armed_away","armed_custom_bypass","armed_home","armed_night","armed_vacation","arming","disarmed","disarming","pending","triggered"],alert:["on","off","idle"],assist_satellite:["idle","listening","responding","processing"],automation:["on","off"],binary_sensor:["on","off"],button:[],calendar:["on","off"],camera:["idle","recording","streaming"],cover:["closed","closing","open","opening"],device_tracker:["home","not_home"],fan:["on","off"],humidifier:["on","off"],input_boolean:["on","off"],input_button:[],lawn_mower:["error","paused","mowing","returning","docked"],light:["on","off"],lock:["jammed","locked","locking","unlocked","unlocking","opening","open"],media_player:["off","on","idle","playing","paused","standby","buffering"],person:["home","not_home"],plant:["ok","problem"],remote:["on","off"],scene:[],schedule:["on","off"],script:["on","off"],siren:["on","off"],sun:["above_horizon","below_horizon"],switch:["on","off"],timer:["active","idle","paused"],update:["on","off"],vacuum:["cleaning","docked","error","idle","paused","returning"],valve:["closed","closing","open","opening"],weather:["clear-night","cloudy","exceptional","fog","hail","lightning-rainy","lightning","partlycloudy","pouring","rainy","snowy-rainy","snowy","sunny","windy-variant","windy"]},c={alarm_control_panel:{code_format:["number","text"]},binary_sensor:{device_class:["battery","battery_charging","co","cold","connectivity","door","garage_door","gas","heat","light","lock","moisture","motion","moving","occupancy","opening","plug","power","presence","problem","running","safety","smoke","sound","tamper","update","vibration","window"]},button:{device_class:["restart","update"]},camera:{frontend_stream_type:["hls","web_rtc"]},climate:{hvac_action:["off","idle","preheating","defrosting","heating","cooling","drying","fan"]},cover:{device_class:["awning","blind","curtain","damper","door","garage","gate","shade","shutter","window"]},device_tracker:{source_type:["bluetooth","bluetooth_le","gps","router"]},fan:{direction:["forward","reverse"]},humidifier:{device_class:["humidifier","dehumidifier"],action:["off","idle","humidifying","drying"]},media_player:{device_class:["tv","speaker","receiver"],media_content_type:["album","app","artist","channel","channels","composer","contributing_artist","episode","game","genre","image","movie","music","playlist","podcast","season","track","tvshow","url","video"],repeat:["off","one","all"]},number:{device_class:["temperature"]},sensor:{device_class:["apparent_power","aqi","battery","carbon_dioxide","carbon_monoxide","current","date","duration","energy","frequency","gas","humidity","illuminance","monetary","nitrogen_dioxide","nitrogen_monoxide","nitrous_oxide","ozone","ph","pm1","pm10","pm25","pm4","power_factor","power","pressure","reactive_power","signal_strength","sulphur_dioxide","temperature","timestamp","volatile_organic_compounds","volatile_organic_compounds_parts","voltage","volume_flow_rate"],state_class:["measurement","total","total_increasing"]},switch:{device_class:["outlet","switch"]},update:{device_class:["firmware"]},water_heater:{away_mode:["on","off"]}},l=(e,t,i=void 0)=>{const l=(0,s.t)(t),d=[];switch(!i&&l in r?d.push(...r[l]):i&&l in c&&i in c[l]&&d.push(...c[l][i]),l){case"climate":i?"fan_mode"===i?d.push(...t.attributes.fan_modes):"preset_mode"===i?d.push(...t.attributes.preset_modes):"swing_mode"===i&&d.push(...t.attributes.swing_modes):d.push(...t.attributes.hvac_modes);break;case"device_tracker":case"person":i||d.push(...Object.entries(e.states).filter(([e,t])=>"zone"===(0,o.m)(e)&&"zone.home"!==e&&t.attributes.friendly_name).map(([e,t])=>t.attributes.friendly_name).sort((t,i)=>(0,n.xL)(t,i,e.locale.language)));break;case"event":"event_type"===i&&d.push(...t.attributes.event_types);break;case"fan":"preset_mode"===i&&d.push(...t.attributes.preset_modes);break;case"humidifier":"mode"===i&&d.push(...t.attributes.available_modes);break;case"input_select":case"select":i||d.push(...t.attributes.options);break;case"light":"effect"===i&&t.attributes.effect_list?d.push(...t.attributes.effect_list):"color_mode"===i&&t.attributes.supported_color_modes&&d.push(...t.attributes.supported_color_modes);break;case"media_player":"sound_mode"===i?d.push(...t.attributes.sound_mode_list):"source"===i&&d.push(...t.attributes.source_list);break;case"remote":"current_activity"===i&&d.push(...t.attributes.activity_list);break;case"sensor":i||"enum"!==t.attributes.device_class||d.push(...t.attributes.options);break;case"vacuum":"fan_speed"===i&&d.push(...t.attributes.fan_speed_list);break;case"water_heater":i&&"operation_mode"!==i||d.push(...t.attributes.operation_list)}return i||d.push(...a.s7),[...new Set(d)]}},30592(e,t,i){i.a(e,async function(e,t){try{i(18111),i(61701);var a=i(62826),n=i(96196),o=i(44457),s=i(4937),r=i(1087),c=i(81816),l=i(15638),d=i(82474),h=(i(26300),i(85938),e([d]));d=(h.then?(await h)():h)[0];const m="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",p="M21 11H3V9H21V11M21 13H3V15H21V13Z",_="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z";class u extends n.WF{_getKey(e){return this._entityKeys.has(e)||this._entityKeys.set(e,Math.random().toString()),this._entityKeys.get(e)}_renderItem(e,t){const i=this.hass.states[e.entity],a=i&&(0,c.es)(i,this.hass.entities,this.hass.devices),o=(0,l.qC)(this.hass),s=i&&this.hass.formatEntityName(i,a?{type:"device"}:{type:"entity"})||e.entity,r=i&&this.hass.formatEntityName(i,a?[{type:"area"}]:[{type:"area"},{type:"device"}],{separator:o?" ◂ ":" ▸ "});return n.qy` <ha-md-list-item class="item"> <ha-svg-icon class="handle" .path="${p}" slot="start"></ha-svg-icon> <div slot="headline" class="label">${s}</div> ${r?n.qy`<div slot="supporting-text" class="description"> ${r} </div>`:n.s6} <ha-icon-button slot="end" .item="${e}" .index="${t}" .label="${this.hass.localize("ui.common.edit")}" .path="${_}" @click="${this._editItem}"></ha-icon-button> <ha-icon-button slot="end" .index="${t}" .label="${this.hass.localize("ui.common.delete")}" .path="${m}" @click="${this._deleteItem}"></ha-icon-button> </ha-md-list-item> `}_editItem(e){const t=e.currentTarget.index;(0,r.r)(this,"edit-detail-element",{subElementConfig:{index:t,type:"row",elementConfig:this.entities[t]}})}_deleteItem(e){const t=e.target.index,i=this.entities.slice(0,t).concat(this.entities.slice(t+1));(0,r.r)(this,"entities-changed",{entities:i})}render(){return this.entities?n.qy` <h3> ${this.label||this.hass.localize("ui.panel.lovelace.editor.card.generic.entities")+" ("+this.hass.localize("ui.panel.lovelace.editor.card.config.required")+")"} </h3> ${this.canEdit?n.qy` <div class="items-container"> <ha-sortable handle-selector=".handle" draggable-selector=".item" @item-moved="${this._entityMoved}"> <ha-md-list> ${this.entities.map((e,t)=>this._renderItem(e,t))} </ha-md-list> </ha-sortable> </div> `:n.qy` <ha-sortable handle-selector=".handle" @item-moved="${this._entityMoved}"> <div class="entities"> ${(0,s.u)(this.entities,e=>this._getKey(e),(e,t)=>n.qy` <div class="entity" data-entity-id="${e.entity}"> <div class="handle"> <ha-svg-icon .path="${p}"></ha-svg-icon> </div> <ha-entity-picker .hass="${this.hass}" .value="${e.entity}" .index="${t}" .entityFilter="${this.entityFilter}" @value-changed="${this._valueChanged}"></ha-entity-picker> </div> `)} </div> </ha-sortable>`} <ha-entity-picker .hass="${this.hass}" .entityFilter="${this.entityFilter}" @value-changed="${this._addEntity}" add-button></ha-entity-picker> `:n.s6}async _addEntity(e){const t=e.detail.value;if(""===t)return;const i=this.entities.concat({entity:t});e.target.value="",(0,r.r)(this,"entities-changed",{entities:i})}_entityMoved(e){e.stopPropagation();const{oldIndex:t,newIndex:i}=e.detail,a=this.entities.concat();a.splice(i,0,a.splice(t,1)[0]),(0,r.r)(this,"entities-changed",{entities:a})}_valueChanged(e){const t=e.detail.value,i=e.target.index,a=this.entities.concat();""===t||void 0===t?a.splice(i,1):a[i]={...a[i],entity:t},(0,r.r)(this,"entities-changed",{entities:a})}constructor(...e){super(...e),this._entityKeys=new WeakMap}}u.styles=n.AH`ha-entity-picker{margin-top:8px}.entity{display:flex;align-items:center}.entity .handle{padding-right:8px;cursor:move;cursor:grab;padding-inline-end:8px;padding-inline-start:initial;direction:var(--direction)}.entity .handle>*{pointer-events:none}.entity ha-entity-picker{flex-grow:1}ha-md-list{gap:8px}ha-md-list-item{border:1px solid var(--divider-color);border-radius:8px;--ha-md-list-item-gap:0;--md-list-item-top-space:0;--md-list-item-bottom-space:0;--md-list-item-leading-space:12px;--md-list-item-trailing-space:4px;--md-list-item-two-line-container-height:48px;--md-list-item-one-line-container-height:48px}.handle{cursor:move;padding:8px;margin-inline-start:-8px}label{margin-bottom:8px;display:block}ha-md-list-item .description,ha-md-list-item .label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}`,(0,a.Cg)([(0,o.MZ)({attribute:!1})],u.prototype,"hass",void 0),(0,a.Cg)([(0,o.MZ)({attribute:!1})],u.prototype,"entities",void 0),(0,a.Cg)([(0,o.MZ)({attribute:!1})],u.prototype,"entityFilter",void 0),(0,a.Cg)([(0,o.MZ)()],u.prototype,"label",void 0),(0,a.Cg)([(0,o.MZ)({attribute:"can-edit",type:Boolean})],u.prototype,"canEdit",void 0),u=(0,a.Cg)([(0,o.EM)("hui-entity-editor")],u),t()}catch(e){t(e)}})},92469(e,t,i){i.a(e,async function(e,a){try{i.r(t),i.d(t,{HuiPictureGlanceCardEditor:()=>x});var n=i(62826),o=i(96196),s=i(44457),r=i(22786),c=i(63533),l=i(1087),d=(i(52763),i(81287)),h=i(30592),m=i(999),p=i(88170),_=i(91408),u=i(84698),g=i(20507),f=i(7382),y=i(46190),v=i(71727),b=e([d,h,m]);[d,h,m]=b.then?(await b)():b;const w="M10,9A1,1 0 0,1 11,8A1,1 0 0,1 12,9V13.47L13.21,13.6L18.15,15.79C18.68,16.03 19,16.56 19,17.14V21.5C18.97,22.32 18.32,22.97 17.5,23H11C10.62,23 10.26,22.85 10,22.57L5.1,18.37L5.84,17.6C6.03,17.39 6.3,17.28 6.58,17.28H6.8L10,19V9M11,5A4,4 0 0,1 15,9C15,10.5 14.2,11.77 13,12.46V11.24C13.61,10.69 14,9.89 14,9A3,3 0 0,0 11,6A3,3 0 0,0 8,9C8,9.89 8.39,10.69 9,11.24V12.46C7.8,11.77 7,10.5 7,9A4,4 0 0,1 11,5Z",k=(0,c.kp)(u.H,(0,c.Ik)({title:(0,c.lq)((0,c.Yj)()),entity:(0,c.lq)((0,c.Yj)()),image:(0,c.lq)((0,c.KC)([(0,c.Yj)(),(0,c.Ik)()])),image_entity:(0,c.lq)((0,c.Yj)()),camera_image:(0,c.lq)((0,c.Yj)()),camera_view:(0,c.lq)((0,c.vP)(["auto","live"])),aspect_ratio:(0,c.lq)((0,c.Yj)()),tap_action:(0,c.lq)(_.kn),hold_action:(0,c.lq)(_.kn),double_tap_action:(0,c.lq)(_.kn),entities:(0,c.YO)(g.l),theme:(0,c.lq)((0,c.Yj)()),fit_mode:(0,c.lq)((0,c.vP)(["cover","contain","fill"]))}));class x extends o.WF{setConfig(e){(0,c.vA)(e,k),this._config=e,this._configEntities=(0,p._)(e.entities)}render(){return this.hass&&this._config?this._subElementEditorConfig?o.qy` <hui-sub-element-editor .hass="${this.hass}" .config="${this._subElementEditorConfig}" .schema="${this._subSchema(this._subElementEditorConfig.elementConfig.entity)}" @go-back="${this._goBack}" @config-changed="${this._handleSubEntityChanged}"> </hui-sub-element-editor> `:o.qy` <ha-form .hass="${this.hass}" .data="${this._processData(this._config)}" .schema="${this._schema(this.hass.localize)}" .computeLabel="${this._computeLabelCallback}" .computeHelper="${this._computeHelperCallback}" @value-changed="${this._valueChanged}"></ha-form> <div class="card-config"> <hui-entity-editor .hass="${this.hass}" can-edit .entities="${this._configEntities}" @entities-changed="${this._changed}" @edit-detail-element="${this._editDetailElement}"></hui-entity-editor> </div> `:o.s6}_goBack(){this._subElementEditorConfig=void 0}_editDetailElement(e){this._subElementEditorConfig=e.detail.subElementConfig}_handleSubEntityChanged(e){e.stopPropagation();const t=this._subElementEditorConfig.index,i=this._configEntities.concat(),a=e.detail.config;this._subElementEditorConfig={...this._subElementEditorConfig,elementConfig:a},i[t]=a;let n=this._config;n={...n,entities:i},this._config=n,this._configEntities=(0,p._)(n.entities),(0,l.r)(this,"config-changed",{config:n})}_valueChanged(e){(0,l.r)(this,"config-changed",{config:e.detail.value})}_changed(e){this._config&&this.hass&&(e.detail&&e.detail.entities&&(this._config={...this._config,entities:e.detail.entities},this._configEntities=(0,p._)(this._config.entities)),(0,l.r)(this,"config-changed",{config:this._config}))}constructor(...e){super(...e),this._schema=(0,r.A)(e=>[{name:"title",selector:{text:{}}},{name:"image",selector:{media:{accept:["image/*"],clearable:!0,image_upload:!0,hide_content_type:!0,content_id_helper:e("ui.panel.lovelace.editor.card.picture.content_id_helper")}}},{name:"image_entity",selector:{entity:{domain:["image","person"]}}},{name:"camera_image",selector:{entity:{domain:"camera"}}},{name:"",type:"grid",schema:[{name:"camera_view",required:!0,selector:{select:{options:["auto","live"].map(t=>({value:t,label:e(`ui.panel.lovelace.editor.card.generic.camera_view_options.${t}`)})),mode:"dropdown"}}},{name:"fit_mode",required:!0,selector:{select:{options:["cover","contain","fill"].map(t=>({value:t,label:e(`ui.panel.lovelace.editor.card.generic.fit_mode_options.${t}`)})),mode:"dropdown"}}},{name:"aspect_ratio",selector:{text:{}}}]},{name:"entity",selector:{entity:{}}},{name:"theme",selector:{theme:{}}},{name:"interactions",type:"expandable",flatten:!0,iconPath:w,schema:[{name:"tap_action",selector:{ui_action:{default_action:"more-info"}},context:m.Tq},{name:"",type:"optional_actions",flatten:!0,schema:[{name:"hold_action",selector:{ui_action:{default_action:"none"}},context:m.Tq},{name:"double_tap_action",selector:{ui_action:{default_action:"none"}},context:m.Tq}]}]}]),this._subSchema=(0,r.A)(e=>[{name:"entity",selector:{entity:{}},required:!0},{type:"grid",name:"",schema:[{name:"icon",selector:{icon:{}},context:{icon_entity:"entity"}},{name:"show_state",selector:{boolean:{}}}]},{name:"tap_action",selector:{ui_action:{default_action:y.FD.has((0,v.m)(e))?"toggle":"more-info"}},context:m.Tq},{name:"",type:"optional_actions",flatten:!0,schema:["hold_action","double_tap_action"].map(e=>({name:e,selector:{ui_action:{default_action:"none"}},context:m.Tq}))}]),this._processData=(0,r.A)(e=>({camera_view:"auto",fit_mode:"cover",...e,..."string"==typeof e.image?{image:{media_content_id:e.image}}:{}})),this._computeLabelCallback=e=>{switch(e.name){case"theme":case"tap_action":case"hold_action":case"double_tap_action":return`${this.hass.localize(`ui.panel.lovelace.editor.card.generic.${e.name}`)} (${this.hass.localize("ui.panel.lovelace.editor.card.config.optional")})`;case"entity":return this.hass.localize("ui.panel.lovelace.editor.card.picture-glance.state_entity");default:return this.hass.localize(`ui.panel.lovelace.editor.card.generic.${e.name}`)}},this._computeHelperCallback=e=>"aspect_ratio"===e.name&&"number"==typeof this._config?.grid_options?.rows?this.hass.localize("ui.panel.lovelace.editor.card.generic.aspect_ratio_ignored"):""}}x.styles=f.U,(0,n.Cg)([(0,s.MZ)({attribute:!1})],x.prototype,"hass",void 0),(0,n.Cg)([(0,s.wk)()],x.prototype,"_config",void 0),(0,n.Cg)([(0,s.wk)()],x.prototype,"_subElementEditorConfig",void 0),(0,n.Cg)([(0,s.wk)()],x.prototype,"_configEntities",void 0),x=(0,n.Cg)([(0,s.EM)("hui-picture-glance-card-editor")],x),a()}catch(e){a(e)}})}};
//# sourceMappingURL=13837.bbc0ef102f93f80a.js.map