export const __rspack_esm_id="11868";export const __rspack_esm_ids=["11868"];export const __webpack_modules__={65522(e,t,i){i.d(t,{A:()=>s});const s=e=>e.name?.trim()},79(e,t,i){i.d(t,{Kh:()=>l,xn:()=>n,T:()=>o});i(18111),i(22489),i(61701);var s=i(22786);i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698);var a=i(28978);const n=e=>(e.name_by_user||e.name)?.trim(),o=(e,t,i)=>n(e)||i&&r(t,i)||t.localize("ui.panel.config.devices.unnamed_device",{type:t.localize(`ui.panel.config.devices.type.${e.entry_type||"device"}`)}),r=(e,t)=>{for(const i of t||[]){const t="string"==typeof i?i:i.entity_id,s=e.states[t];if(s)return(0,a.u)(s)}},l=(0,s.A)(e=>function(e){const t=new Set,i=new Set;for(const s of e)i.has(s)?t.add(s):i.add(s);return t}(Object.values(e).map(e=>n(e)).filter(e=>void 0!==e)))},81816(e,t,i){i.d(t,{aH:()=>o,cx:()=>r,es:()=>l});var s=i(79),a=i(28978),n=i(79461);const o=(e,t,i)=>{const s=t[e.entity_id];return s?r(s,i):(0,a.u)(e)},r=(e,t,i)=>{const o=e.name||("original_name"in e&&null!=e.original_name?String(e.original_name):void 0),r=e.device_id?t[e.device_id]:void 0;if(!r)return o||(i?(0,a.u)(i):void 0);const l=(0,s.xn)(r);return l!==o?l&&o&&(0,n.p)(o,l)||o:void 0},l=(e,t,i)=>!o(e,t,i)},74705(e,t,i){i.d(t,{Cf:()=>h,uU:()=>d});i(18111),i(81148),i(22489),i(61701),i(13579);if(66649!=i.j)var s=i(44537);var a=i(65522),n=i(79),o=i(81816),r=i(55931),l=i(28455);const c=66649!=i.j?[{type:"device"},{type:"entity"}]:null,d=(e,t,i,a,n,r,l)=>{let d=(0,s.e)(t||c);const u=l?.separator??" ";if(d.every(e=>"text"===e.type))return d.map(e=>e.text).join(u);if((0,o.es)(e,i,a)){d.some(e=>"device"===e.type)||(d=d.map(e=>"entity"===e.type?{type:"device"}:e))}const p=h(e,d,i,a,n,r);return 1===p.length?p[0]||"":p.filter(e=>e).join(u)},h=(e,t,i,s,c,d)=>{const{device:h,area:u,floor:p}=(0,l.l)(e,i,s,c,d);return t.map(t=>{switch(t.type){case"entity":return(0,o.aH)(e,i,s);case"device":return h?(0,n.xn)(h):void 0;case"area":return u?(0,a.A)(u):void 0;case"floor":return p?(0,r.X)(p):void 0;case"text":return t.text;default:return""}})}},55931(e,t,i){i.d(t,{X:()=>s});const s=e=>e.name?.trim()},79461(e,t,i){i.d(t,{p:()=>a});const s=[" ",": "," - "],a=(e,t)=>{const i=e.toLowerCase(),a=t.toLowerCase();for(const t of s){const s=`${a}${t}`;if(i.startsWith(s)){const t=e.substring(s.length);if(t.length)return n(t.substr(0,t.indexOf(" ")))?t:t[0].toUpperCase()+t.slice(1)}}},n=e=>e.toLowerCase()!==e},82474(e,t,i){i.a(e,async function(e,t){try{i(18111),i(61701);var s=i(62826),a=i(96196),n=i(44457),o=i(22786),r=i(1087),l=i(74705),c=i(78649),d=i(15638),h=i(53756),u=i(95350),p=i(24367),y=i(19711),g=(i(75064),i(38508)),_=(i(67094),i(74281)),m=e([g,_]);[g,_]=m.then?(await m)():m;const v="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",f="M11,13.5V21.5H3V13.5H11M12,2L17.5,11H6.5L12,2M17.5,13C20,13 22,15 22,17.5C22,20 20,22 17.5,22C15,22 13,20 13,17.5C13,15 15,13 17.5,13Z",b="___create-new-entity___";class $ extends a.WF{firstUpdated(e){super.firstUpdated(e),this.hass.loadBackendTranslation("title")}get _showEntityId(){return this.showEntityId||this.hass.userData?.showEntityIdPicker}render(){const e=this.placeholder??this.hass.localize("ui.components.entity.entity-picker.placeholder");return a.qy` <ha-generic-picker .hass="${this.hass}" .disabled="${this.disabled}" .autofocus="${this.autofocus}" .allowCustomValue="${this.allowCustomEntity}" .required="${this.required}" .label="${this.label}" .placeholder="${e}" .helper="${this.helper}" .value="${this.addButton?void 0:this.value}" .searchLabel="${this.searchLabel}" .notFoundLabel="${this._notFoundLabel}" .rowRenderer="${this._rowRenderer}" .getItems="${this._getItems}" .getAdditionalItems="${this._getAdditionalItems}" .hideClearIcon="${this.hideClearIcon}" .searchFn="${this._searchFn}" .valueRenderer="${this._valueRenderer}" .searchKeys="${h.t}" use-top-label .addButtonLabel="${this.addButton?this.hass.localize("ui.components.entity.entity-picker.add"):void 0}" .unknownItemText="${this.hass.localize("ui.components.entity.entity-picker.unknown")}" @value-changed="${this._valueChanged}"> </ha-generic-picker> `}async open(){await this.updateComplete,await(this._picker?.open())}_valueChanged(e){e.stopPropagation();const t=e.detail.value;if(t){if(t.startsWith(b)){const e=t.substring(b.length);return void(0,y.$)(this,{domain:e,dialogClosedCallback:e=>{e.entityId&&this._setValue(e.entityId)}})}(0,c.n)(t)&&this._setValue(t)}else this._setValue(void 0)}_setValue(e){this.value=e,(0,r.r)(this,"value-changed",{value:e}),(0,r.r)(this,"change")}constructor(...e){super(...e),this.autofocus=!1,this.disabled=!1,this.required=!1,this.showEntityId=!1,this.hideClearIcon=!1,this.addButton=!1,this._valueRenderer=e=>{const t=e||"",i=this.hass.states[t];if(!i)return a.qy` <ha-svg-icon slot="start" .path="${f}" style="margin:0 4px"></ha-svg-icon> <span slot="headline">${t}</span> `;const[s,n,o]=(0,l.Cf)(i,[{type:"entity"},{type:"device"},{type:"area"}],this.hass.entities,this.hass.devices,this.hass.areas,this.hass.floors),r=(0,d.qC)(this.hass),c=s||n||t,h=[o,s?n:void 0].filter(Boolean).join(r?" ◂ ":" ▸ ");return a.qy` <state-badge .hass="${this.hass}" .stateObj="${i}" slot="start"></state-badge> <span slot="headline">${c}</span> <span slot="supporting-text">${h}</span> `},this._rowRenderer=(e,t)=>{const i=this._showEntityId;return a.qy` <ha-combo-box-item type="button" compact="compact" .borderTop="${0!==t}"> ${e.icon_path?a.qy` <ha-svg-icon slot="start" style="margin:0 4px" .path="${e.icon_path}"></ha-svg-icon> `:a.qy` <state-badge slot="start" .stateObj="${e.stateObj}" .hass="${this.hass}"></state-badge> `} <span slot="headline">${e.primary}</span> ${e.secondary?a.qy`<span slot="supporting-text">${e.secondary}</span>`:a.s6} ${e.stateObj&&i?a.qy` <span slot="supporting-text" class="code"> ${e.stateObj.entity_id} </span> `:a.s6} ${e.domain_name&&!i?a.qy` <div slot="trailing-supporting-text" class="domain"> ${e.domain_name} </div> `:a.s6} </ha-combo-box-item> `},this._getAdditionalItems=()=>this._getCreateItems(this.hass.localize,this.createDomains),this._getCreateItems=(0,o.A)((e,t)=>t?.length?(this.hass.loadFragmentTranslation("config"),t.map(t=>{const i=e("ui.components.entity.entity-picker.create_helper",{domain:(0,p.z)(t)?e(`ui.panel.config.helpers.types.${t}`)||t:(0,u.p$)(e,t)});return{id:b+t,primary:i,secondary:e("ui.components.entity.entity-picker.new_entity"),icon_path:v}})):[]),this._getEntitiesMemoized=(0,o.A)(h.w),this._getItems=()=>this._getEntitiesMemoized(this.hass,this.includeDomains,this.excludeDomains,this.entityFilter,this.includeDeviceClasses,this.includeUnitOfMeasurement,this.includeEntities,this.excludeEntities,this.value),this._searchFn=(e,t)=>{const i=t.findIndex(t=>t.stateObj?.entity_id===e);if(-1===i)return t;const[s]=t.splice(i,1);return t.unshift(s),t},this._notFoundLabel=e=>this.hass.localize("ui.components.entity.entity-picker.no_match",{term:a.qy`<b>‘${e}’</b>`})}}(0,s.Cg)([(0,n.MZ)({attribute:!1})],$.prototype,"hass",void 0),(0,s.Cg)([(0,n.MZ)({type:Boolean})],$.prototype,"autofocus",void 0),(0,s.Cg)([(0,n.MZ)({type:Boolean})],$.prototype,"disabled",void 0),(0,s.Cg)([(0,n.MZ)({type:Boolean})],$.prototype,"required",void 0),(0,s.Cg)([(0,n.MZ)({type:Boolean,attribute:"allow-custom-entity"})],$.prototype,"allowCustomEntity",void 0),(0,s.Cg)([(0,n.MZ)({type:Boolean,attribute:"show-entity-id"})],$.prototype,"showEntityId",void 0),(0,s.Cg)([(0,n.MZ)()],$.prototype,"label",void 0),(0,s.Cg)([(0,n.MZ)()],$.prototype,"value",void 0),(0,s.Cg)([(0,n.MZ)()],$.prototype,"helper",void 0),(0,s.Cg)([(0,n.MZ)()],$.prototype,"placeholder",void 0),(0,s.Cg)([(0,n.MZ)({type:String,attribute:"search-label"})],$.prototype,"searchLabel",void 0),(0,s.Cg)([(0,n.MZ)({attribute:!1,type:Array})],$.prototype,"createDomains",void 0),(0,s.Cg)([(0,n.MZ)({type:Array,attribute:"include-domains"})],$.prototype,"includeDomains",void 0),(0,s.Cg)([(0,n.MZ)({type:Array,attribute:"exclude-domains"})],$.prototype,"excludeDomains",void 0),(0,s.Cg)([(0,n.MZ)({type:Array,attribute:"include-device-classes"})],$.prototype,"includeDeviceClasses",void 0),(0,s.Cg)([(0,n.MZ)({type:Array,attribute:"include-unit-of-measurement"})],$.prototype,"includeUnitOfMeasurement",void 0),(0,s.Cg)([(0,n.MZ)({type:Array,attribute:"include-entities"})],$.prototype,"includeEntities",void 0),(0,s.Cg)([(0,n.MZ)({type:Array,attribute:"exclude-entities"})],$.prototype,"excludeEntities",void 0),(0,s.Cg)([(0,n.MZ)({attribute:!1})],$.prototype,"entityFilter",void 0),(0,s.Cg)([(0,n.MZ)({attribute:"hide-clear-icon",type:Boolean})],$.prototype,"hideClearIcon",void 0),(0,s.Cg)([(0,n.MZ)({attribute:"add-button",type:Boolean})],$.prototype,"addButton",void 0),(0,s.Cg)([(0,n.P)("ha-generic-picker")],$.prototype,"_picker",void 0),$=(0,s.Cg)([(0,n.EM)("ha-entity-picker")],$),t()}catch(e){t(e)}})},53756(e,t,i){i.d(t,{t:()=>l,w:()=>c});i(18111),i(22489),i(61701);var s=i(71727),a=i(74705),n=i(28978),o=i(15638),r=i(95350);const l=[{name:"search_labels.entityName",weight:10},{name:"search_labels.friendlyName",weight:8},{name:"search_labels.deviceName",weight:7},{name:"search_labels.areaName",weight:6},{name:"search_labels.domainName",weight:6},{name:"search_labels.entityId",weight:3}],c=(e,t,i,l,c,d,h,u,p,y="")=>{let g=[],_=Object.keys(e.states);return h&&(_=_.filter(e=>h.includes(e))),u&&(_=_.filter(e=>!u.includes(e))),t&&(_=_.filter(e=>t.includes((0,s.m)(e)))),i&&(_=_.filter(e=>!i.includes((0,s.m)(e)))),g=_.map(t=>{const i=e.states[t],l=(0,n.u)(i),[c,d,h]=(0,a.Cf)(i,[{type:"entity"},{type:"device"},{type:"area"}],e.entities,e.devices,e.areas,e.floors),u=(0,r.p$)(e.localize,(0,s.m)(t)),p=(0,o.qC)(e),g=c||d||t,_=[h,c?d:void 0].filter(Boolean).join(p?" ◂ ":" ▸ ");return{id:`${y}${t}`,primary:g,secondary:_,domain_name:u,sorting_label:[g,_].filter(Boolean).join("_"),search_labels:{entityName:c||null,deviceName:d||null,areaName:h||null,domainName:u||null,friendlyName:l||null,entityId:t},stateObj:i}}),c&&(g=g.filter(e=>e.id===p||e.stateObj?.attributes.device_class&&c.includes(e.stateObj.attributes.device_class))),d&&(g=g.filter(e=>e.id===p||e.stateObj?.attributes.unit_of_measurement&&d.includes(e.stateObj.attributes.unit_of_measurement))),l&&(g=g.filter(e=>e.id===p||e.stateObj&&l(e.stateObj))),g}},19711(e,t,i){i.d(t,{$:()=>n});var s=i(1087);const a=()=>Promise.all([i.e("26767"),i.e("93785"),i.e("12036"),i.e("18738"),i.e("81046")]).then(i.bind(i,79029)),n=(e,t)=>{(0,s.r)(e,"show-dialog",{dialogTag:"dialog-helper-detail",dialogImport:a,dialogParams:t})}},87031(e,t,i){i.a(e,async function(e,s){try{i.r(t),i.d(t,{HuiGraphFooterEditor:()=>y});var a=i(62826),n=i(96196),o=i(44457),r=i(63533),l=i(1087),c=i(82474),d=(i(6),i(59646),i(75709),i(30345)),h=i(7382),u=e([c]);c=(u.then?(await u)():u)[0];const p=["sensor"];class y extends n.WF{setConfig(e){(0,r.vA)(e,d.oe),this._config=e}get _entity(){return this._config.entity||""}get _detail(){return this._config.detail??1}get _hours_to_show(){return this._config.hours_to_show||24}render(){return this.hass&&this._config?n.qy` <div class="card-config"> <ha-entity-picker .label="${this.hass.localize("ui.panel.lovelace.editor.card.generic.entity")}" .hass="${this.hass}" .value="${this._entity}" .configValue="${"entity"}" .includeDomains="${p}" .required="${!0}" @value-changed="${this._valueChanged}"></ha-entity-picker> <div class="side-by-side"> <ha-formfield label="${this.hass.localize("ui.panel.lovelace.editor.card.sensor.show_more_detail")}"> <ha-switch .checked="${2===this._detail}" .configValue="${"detail"}" @change="${this._change}"></ha-switch> </ha-formfield> <ha-textfield type="number" .label="${this.hass.localize("ui.panel.lovelace.editor.card.generic.hours_to_show")} (${this.hass.localize("ui.panel.lovelace.editor.card.config.optional")})" .value="${this._hours_to_show}" min="1" .configValue="${"hours_to_show"}" @input="${this._valueChanged}"></ha-textfield> </div> </div> `:n.s6}_change(e){if(!this._config||!this.hass)return;const t=e.target.checked?2:1;this._detail!==t&&(this._config={...this._config,detail:t},(0,l.r)(this,"config-changed",{config:this._config}))}_valueChanged(e){if(!this._config||!this.hass)return;const t=e.target;if(this[`_${t.configValue}`]!==t.value){if(t.configValue)if(""===t.value||"number"===t.type&&isNaN(Number(t.value)))this._config={...this._config},delete this._config[t.configValue];else{let e=t.value;"number"===t.type&&(e=Number(e)),this._config={...this._config,[t.configValue]:e}}(0,l.r)(this,"config-changed",{config:this._config})}}static get styles(){return[h.U,n.AH`.card-config ha-switch{margin:1px 0}`]}}(0,a.Cg)([(0,o.MZ)({attribute:!1})],y.prototype,"hass",void 0),(0,a.Cg)([(0,o.wk)()],y.prototype,"_config",void 0),y=(0,a.Cg)([(0,o.EM)("hui-graph-footer-editor")],y),s()}catch(e){s(e)}})},55904(e,t,i){i.d(t,{J:()=>n});var s=i(63533),a=i(91408);const n=(0,s.Ik)({entity:(0,s.Yj)(),name:(0,s.lq)((0,s.Yj)()),icon:(0,s.lq)((0,s.Yj)()),image:(0,s.lq)((0,s.Yj)()),show_name:(0,s.lq)((0,s.zM)()),show_icon:(0,s.lq)((0,s.zM)()),tap_action:(0,s.lq)(a.kn),hold_action:(0,s.lq)(a.kn),double_tap_action:(0,s.lq)(a.kn)})},30345(e,t,i){i.d(t,{oe:()=>l,zb:()=>c});var s=i(63533),a=i(91408),n=i(55904);const o=(0,s.Ik)({type:(0,s.Yj)(),image:(0,s.Yj)(),tap_action:(0,s.lq)(a.kn),hold_action:(0,s.lq)(a.kn),double_tap_action:(0,s.lq)(a.kn),alt_text:(0,s.lq)((0,s.Yj)())}),r=(0,s.Ik)({type:(0,s.Yj)(),entities:(0,s.YO)(n.J)}),l=(0,s.Ik)({type:(0,s.Yj)(),entity:(0,s.Yj)(),detail:(0,s.lq)((0,s.ai)()),hours_to_show:(0,s.lq)((0,s.ai)())}),c=(0,s.OR)(e=>{if(e&&"object"==typeof e&&"type"in e)switch(e.type){case"buttons":return r;case"graph":return l;case"picture":return o}return(0,s.KC)([r,l,o])})}};
//# sourceMappingURL=11868.0d1a3007b60849c4.js.map