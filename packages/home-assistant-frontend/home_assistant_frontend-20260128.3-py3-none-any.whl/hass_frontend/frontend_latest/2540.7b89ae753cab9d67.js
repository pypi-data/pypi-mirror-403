export const __rspack_esm_id="2540";export const __rspack_esm_ids=["2540"];export const __webpack_modules__={44423(i,e,t){t.a(i,async function(i,a){try{t.r(e),t.d(e,{HuiDialogEditViewHeader:()=>f});var s=t(62826),o=t(96196),d=t(44457),l=t(94333),n=t(1087),h=t(19459),r=t(18350),c=(t(72554),t(76538),t(29823)),_=(t(70947),t(65829)),g=t(10763),p=t(65063),m=t(14503),u=t(67901),v=i([r,c,_,g,u]);[r,c,_,g,u]=v.then?(await v)():v;const w="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",y="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",b="M3 6V8H14V6H3M3 10V12H14V10H3M20 10.1C19.9 10.1 19.7 10.2 19.6 10.3L18.6 11.3L20.7 13.4L21.7 12.4C21.9 12.2 21.9 11.8 21.7 11.6L20.4 10.3C20.3 10.2 20.2 10.1 20 10.1M18.1 11.9L12 17.9V20H14.1L20.2 13.9L18.1 11.9M3 14V16H10V14H3Z";class f extends o.WF{updated(i){if(this._yamlMode&&i.has("_yamlMode")){const i={...this._config};this._editor?.setValue(i)}}showDialog(i){this._params=i,this._dirty=!1,this._config=this._params.config}closeDialog(){this._params=void 0,this._config=void 0,this._yamlMode=!1,this._dirty=!1,this._saving=!1,(0,n.r)(this,"dialog-closed",{dialog:this.localName})}render(){if(!this._params||!this.hass)return o.s6;let i;i=this._yamlMode?o.qy` <ha-yaml-editor .hass="${this.hass}" dialogInitialFocus @value-changed="${this._viewYamlChanged}"></ha-yaml-editor> `:o.qy` <hui-view-header-settings-editor .hass="${this.hass}" .config="${this._config}" @config-changed="${this._configChanged}"></hui-view-header-settings-editor> `;const e=this.hass.localize("ui.panel.lovelace.editor.edit_view_header.header");return o.qy` <ha-dialog open scrimClickAction escapeKeyAction @closed="${this.closeDialog}" .heading="${e}" class="${(0,l.H)({"yaml-mode":this._yamlMode})}"> <ha-dialog-header show-border slot="heading"> <ha-icon-button slot="navigationIcon" dialogAction="cancel" .label="${this.hass.localize("ui.common.close")}" .path="${w}"></ha-icon-button> <h2 slot="title">${e}</h2> <ha-dropdown slot="actionItems" placement="bottom-end" @wa-select="${this._handleAction}"> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.common.menu")}" .path="${y}"></ha-icon-button> <ha-dropdown-item value="toggle-mode"> ${this.hass.localize("ui.panel.lovelace.editor.edit_view_header.edit_"+(this._yamlMode?"ui":"yaml"))} <ha-svg-icon slot="icon" .path="${b}"></ha-svg-icon> </ha-dropdown-item> </ha-dropdown> </ha-dialog-header> ${i} <ha-button slot="primaryAction" .disabled="${!this._config||this._saving||!this._dirty}" @click="${this._save}" .loading="${this._saving}"> ${this.hass.localize("ui.common.save")}</ha-button> </ha-dialog> `}async _handleAction(i){"toggle-mode"===i.detail.item.value&&(this._yamlMode=!this._yamlMode)}_configChanged(i){i.detail&&i.detail.config&&!(0,h.b)(this._config,i.detail.config)&&(this._config=i.detail.config,this._dirty=!0)}_viewYamlChanged(i){i.stopPropagation(),i.detail.isValid&&(this._config=i.detail.value,this._dirty=!0)}async _save(){if(this._params&&this._config){this._saving=!0;try{await this._params.saveConfig(this._config),this.closeDialog()}catch(i){(0,p.showAlertDialog)(this,{text:`${this.hass.localize("ui.panel.lovelace.editor.edit_view_header.saving_failed")}: ${i.message}`})}finally{this._saving=!1}}}static get styles(){return[m.nA,m.kO,o.AH`ha-dialog.yaml-mode{--dialog-content-padding:0}h2{margin:0;font-size:inherit;font-weight:inherit}@media all and (min-width:600px){ha-dialog{--mdc-dialog-min-width:600px}}`]}constructor(...i){super(...i),this._saving=!1,this._dirty=!1,this._yamlMode=!1}}(0,s.Cg)([(0,d.MZ)({attribute:!1})],f.prototype,"hass",void 0),(0,s.Cg)([(0,d.wk)()],f.prototype,"_params",void 0),(0,s.Cg)([(0,d.wk)()],f.prototype,"_config",void 0),(0,s.Cg)([(0,d.wk)()],f.prototype,"_saving",void 0),(0,s.Cg)([(0,d.wk)()],f.prototype,"_dirty",void 0),(0,s.Cg)([(0,d.wk)()],f.prototype,"_yamlMode",void 0),(0,s.Cg)([(0,d.P)("ha-yaml-editor")],f.prototype,"_editor",void 0),f=(0,s.Cg)([(0,d.EM)("hui-dialog-edit-view-header")],f),a()}catch(i){a(i)}})},67901(i,e,t){t.a(i,async function(i,e){try{var a=t(62826),s=t(96196),o=t(44457),d=t(22786),l=t(1087),n=t(15638),h=(t(52763),t(98440)),r=t(71769),c=i([h]);h=(c.then?(await c)():c)[0];class _ extends s.WF{connectedCallback(){super.connectedCallback(),this._unsubMql=(0,r.m)("(max-width: 600px)",i=>{this.narrow=i})}disconnectedCallback(){super.disconnectedCallback(),this._unsubMql?.(),this._unsubMql=void 0}render(){if(!this.hass)return s.s6;const i={layout:this.config?.layout||h.h0,badges_position:this.config?.badges_position||h.hh,badges_wrap:this.config?.badges_wrap||h.Sm},e=this.narrow,t=(0,n.qC)(this.hass),a=this._schema(this.hass.localize,t,e);return s.qy` <ha-form .hass="${this.hass}" .data="${i}" .schema="${a}" .computeLabel="${this._computeLabel}" @value-changed="${this._valueChanged}"></ha-form> `}_valueChanged(i){i.stopPropagation();const e=i.detail.value,t={...this.config,...e};(0,l.r)(this,"config-changed",{config:t})}constructor(...i){super(...i),this.narrow=!1,this._schema=(0,d.A)((i,e,t)=>[{name:"layout",selector:{select:{mode:"box",box_max_columns:t?1:3,options:["responsive","start","center"].map(t=>({value:t,label:i(`ui.panel.lovelace.editor.edit_view_header.settings.layout_options.${"start"===t&&e?`${t}_rtl`:t}`),description:i(`ui.panel.lovelace.editor.edit_view_header.settings.layout_options.${t}_description`),image:{src:`/static/images/form/view_header_layout_${t}.svg`,src_dark:`/static/images/form/view_header_layout_${t}_dark.svg`,flip_rtl:!0}}))}}},{name:"badges_position",selector:{select:{mode:"box",options:["bottom","top"].map(e=>({value:e,label:i(`ui.panel.lovelace.editor.edit_view_header.settings.badges_position_options.${e}`),image:{src:`/static/images/form/view_header_badges_position_${e}.svg`,src_dark:`/static/images/form/view_header_badges_position_${e}_dark.svg`,flip_rtl:!0}}))}}},{name:"badges_wrap",selector:{select:{mode:"box",options:["wrap","scroll"].map(e=>({value:e,label:i(`ui.panel.lovelace.editor.edit_view_header.settings.badges_wrap_options.${e}`),..."scroll"===e&&{description:i(`ui.panel.lovelace.editor.edit_view_header.settings.badges_wrap_options.${e}_description`)},image:{src:`/static/images/form/view_header_badges_wrap_${e}.svg`,src_dark:`/static/images/form/view_header_badges_wrap_${e}_dark.svg`,flip_rtl:!0}}))}}}]),this._computeLabel=i=>{switch(i.name){case"layout":case"badges_position":case"badges_wrap":return this.hass.localize(`ui.panel.lovelace.editor.edit_view_header.settings.${i.name}`);default:return""}}}}(0,a.Cg)([(0,o.MZ)({attribute:!1})],_.prototype,"hass",void 0),(0,a.Cg)([(0,o.MZ)({attribute:!1})],_.prototype,"config",void 0),(0,a.Cg)([(0,o.wk)({attribute:!1})],_.prototype,"narrow",void 0),_=(0,a.Cg)([(0,o.EM)("hui-view-header-settings-editor")],_),e()}catch(i){e(i)}})}};
//# sourceMappingURL=2540.7b89ae753cab9d67.js.map