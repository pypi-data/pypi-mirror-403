export const __rspack_esm_id="64264";export const __rspack_esm_ids=["64264"];export const __webpack_modules__={28978(e,t,i){i.d(t,{_:()=>s,u:()=>r});var n=i(68246);const s=(e,t)=>void 0===t.friendly_name?(0,n.Y)(e).replace(/_/g," "):(t.friendly_name??"").toString(),r=e=>s(e.entity_id,e.attributes)},24790(e,t,i){i.d(t,{F:()=>s,r:()=>r});i(18111),i(13579);const n=/{%|{{/,s=e=>n.test(e),r=e=>{if(!e)return!1;if("string"==typeof e)return s(e);if("object"==typeof e){return(Array.isArray(e)?e:Object.values(e)).some(e=>e&&r(e))}return!1}},88249(e,t,i){i.d(t,{$W:()=>m,Dp:()=>C,Dt:()=>_,EC:()=>c,G3:()=>E,HB:()=>v,KH:()=>W,Q:()=>g,S9:()=>R,VH:()=>l,XF:()=>u,aI:()=>S,b1:()=>h,bV:()=>d,fo:()=>O,lB:()=>f,lg:()=>p,mX:()=>A,oj:()=>b,rY:()=>k,vH:()=>Y,vO:()=>j});i(44114),i(18111),i(7588),i(61701);var n=i(44537),s=i(91926),r=i(6030),o=i(87225),a=i(84025);const c="single",d=10,l="__DYNAMIC__",g=e=>e?.startsWith(l),_=e=>e.substring(l.length),u=e=>{if("condition"in e&&Array.isArray(e.condition))return{condition:"and",conditions:e.condition};for(const t of o.I8)if(t in e)return{condition:t,conditions:e[t]};return e},f=(e,t)=>{e.callService("automation","trigger",{entity_id:t,skip_condition:!0})},p=(e,t)=>e.callApi("DELETE",`config/automation/config/${t}`);let y;const b=(e,t)=>e.callApi("GET",`config/automation/config/${t}`),m=(e,t)=>e.callWS({type:"automation/config",entity_id:t}),h=(e,t,i)=>e.callApi("POST",`config/automation/config/${t}`,i),v=e=>{e=q(e);for(const t of["triggers","conditions","actions"]){const i=e[t];i&&!Array.isArray(i)&&(e[t]=[i])}return e},q=e=>("trigger"in e&&("triggers"in e||(e.triggers=e.trigger),delete e.trigger),"condition"in e&&("conditions"in e||(e.conditions=e.condition),delete e.condition),"action"in e&&("actions"in e||(e.actions=e.action),delete e.action),e.triggers&&(e.triggers=j(e.triggers)),e.actions&&(e.actions=(0,a.Rn)(e.actions)),e),j=e=>e?Array.isArray(e)?e.map(j):("triggers"in e&&e.triggers&&(e.triggers=j(e.triggers)),"platform"in e&&("trigger"in e||(e.trigger=e.platform),delete e.platform),e):e,S=e=>{if(!e)return[];const t=[];return(0,n.e)(e).forEach(e=>{"triggers"in e?e.triggers&&t.push(...S(e.triggers)):t.push(e)}),t},A=(e,t)=>{y=e;const i=t?`?${(0,r.KH)({expanded:"1"})}`:"";(0,s.o)(`/config/automation/edit/new${i}`)},Y=e=>{A({...e,id:void 0,alias:void 0})},k=()=>{const e=y;return y=void 0,e},O=e=>{if(!e||"object"!=typeof e)return!1;const t=e;return"trigger"in t&&"string"==typeof t.trigger||"platform"in t&&"string"==typeof t.platform},E=e=>{if(!e||"object"!=typeof e)return!1;return"condition"in e&&"string"==typeof e.condition},W=e=>{if(!e||"object"!=typeof e)return!1;return"field"in e&&"object"==typeof e.field},C=(e,t,i,n)=>e.connection.subscribeMessage(t,{type:"subscribe_trigger",trigger:i,variables:n}),R=(e,t,i)=>e.callWS({type:"test_condition",condition:t,variables:i})},59241(e,t,i){i.d(t,{BM:()=>A,Bz:()=>v,DW:()=>g,Er:()=>l,G3:()=>f,G_:()=>p,Ox:()=>j,P9:()=>S,RP:()=>m,bg:()=>y,jh:()=>_,n4:()=>q,v:()=>u});i(18111),i(22489),i(20116);var n=i(35518),s=i(22786),r=i(71727),o=i(28978),a=i(52220),c=i(9899);const d=["sensor","binary_sensor"],l=(e,t)=>{const i=t.filter(t=>e.states[t.entity_id]&&"battery"===e.states[t.entity_id].attributes.device_class&&d.includes((0,r.m)(t.entity_id))).sort((e,t)=>d.indexOf((0,r.m)(e.entity_id))-d.indexOf((0,r.m)(t.entity_id)));if(i.length>0)return i[0]},g=(e,t)=>t.find(t=>e.states[t.entity_id]&&"battery_charging"===e.states[t.entity_id].attributes.device_class),_=(e,t)=>{if(t.name)return t.name;const i=e.states[t.entity_id];return i?(0,o.u)(i):t.original_name?t.original_name:t.entity_id},u=(e,t)=>e.callWS({type:"config/entity_registry/get",entity_id:t}),f=(e,t)=>e.callWS({type:"config/entity_registry/get_entries",entity_ids:t}),p=(e,t,i)=>e.callWS({type:"config/entity_registry/update",entity_id:t,...i}),y=(e,t)=>e.callWS({type:"config/entity_registry/remove",entity_id:t}),b=e=>e.sendMessagePromise({type:"config/entity_registry/list"}),m=e=>e.sendMessagePromise({type:"config/entity_registry/list_for_display"}),h=(e,t)=>e.subscribeEvents((0,c.s)(()=>b(e).then(e=>t.setState(e,!0)),500,!0),"entity_registry_updated"),v=(e,t)=>(0,n.N)("_entityRegistry",b,h,e,t),q=(e,t)=>e.sort((e,i)=>(0,a.SH)(e.name||"",i.name||"",t)),j=(0,s.A)(e=>{const t={};for(const i of e)t[i.entity_id]=i;return t}),S=(0,s.A)(e=>{const t={};for(const i of e)t[i.id]=i;return t}),A=(e,t)=>e.callWS({type:"config/entity_registry/get_automatic_entity_ids",entity_ids:t})},95350(e,t,i){i.d(t,{$h:()=>g,FP:()=>p,Og:()=>r,QC:()=>l,QQ:()=>a,S1:()=>o,Ud:()=>y,fK:()=>d,nQ:()=>u,p$:()=>c});var n=i(35518),s=i(9899);const r={bluetooth:"config/bluetooth",dhcp:"config/dhcp",matter:"config/matter",mqtt:"config/mqtt",ssdp:"config/ssdp",thread:"config/thread",zeroconf:"config/zeroconf",zha:"config/zha/dashboard",zwave_js:"config/zwave_js/dashboard"};var o=function(e){return e[e.CRITICAL=50]="CRITICAL",e[e.ERROR=40]="ERROR",e[e.WARNING=30]="WARNING",e[e.INFO=20]="INFO",e[e.DEBUG=10]="DEBUG",e[e.NOTSET=0]="NOTSET",e}({});const a=(e,t)=>t.issue_tracker||`https://github.com/home-assistant/core/issues?q=is%3Aissue+is%3Aopen+label%3A%22integration%3A+${e}%22`,c=(e,t,i)=>e(`component.${t}.title`)||i?.name||t,d=(e,t)=>{const i={type:"manifest/list"};return t&&(i.integrations=t),e.callWS(i)},l=(e,t)=>e.callWS({type:"manifest/get",integration:t}),g=e=>e.callWS({type:"integration/setup_info"}),_=e=>e.sendMessagePromise({type:"logger/log_info"}),u=(e,t,i,n)=>e.callWS({type:"logger/integration_log_level",integration:t,level:i,persistence:n}),f=(e,t)=>e.subscribeEvents((0,s.s)(()=>_(e).then(e=>t.setState(e,!0)),200,!0),"logging_changed"),p=(e,t)=>(0,n.N)("_integration_log_info",_,f,e,t),y=(e,t)=>e.callWS({type:"integration/wait",domain:t})},84025(e,t,i){i.d(t,{AM:()=>q,BD:()=>f,FN:()=>l,GA:()=>k,Ht:()=>b,Iq:()=>g,Kq:()=>h,NX:()=>j,Q2:()=>y,R$:()=>v,Rn:()=>E,TP:()=>Y,dW:()=>u,kR:()=>p,nB:()=>W,pq:()=>S,sW:()=>O,ve:()=>A});i(18111),i(81148),i(61701),i(13579);var n=i(63533),s=i(23832),r=i(68246),o=i(91926),a=i(24790),c=i(6030),d=i(88249);const l=["single","restart","queued","parallel"],g=(0,s.g)(["queued","parallel"]),_=(0,n.Ik)({alias:(0,n.lq)((0,n.Yj)()),continue_on_error:(0,n.lq)((0,n.zM)()),enabled:(0,n.lq)((0,n.zM)())}),u=(0,n.Ik)({entity_id:(0,n.lq)((0,n.KC)([(0,n.Yj)(),(0,n.YO)((0,n.Yj)())])),device_id:(0,n.lq)((0,n.KC)([(0,n.Yj)(),(0,n.YO)((0,n.Yj)())])),area_id:(0,n.lq)((0,n.KC)([(0,n.Yj)(),(0,n.YO)((0,n.Yj)())])),floor_id:(0,n.lq)((0,n.KC)([(0,n.Yj)(),(0,n.YO)((0,n.Yj)())])),label_id:(0,n.lq)((0,n.KC)([(0,n.Yj)(),(0,n.YO)((0,n.Yj)())]))}),f=(0,n.kp)(_,(0,n.Ik)({action:(0,n.lq)((0,n.Yj)()),service_template:(0,n.lq)((0,n.Yj)()),entity_id:(0,n.lq)((0,n.Yj)()),target:(0,n.lq)((0,n.KC)([u,(0,n.YP)((0,n.Yj)(),"has_template",e=>(0,a.r)(e))])),data:(0,n.lq)((0,n.Ik)()),response_variable:(0,n.lq)((0,n.Yj)()),metadata:(0,n.lq)((0,n.Ik)())})),p=(e,t,i)=>e.callService("script",t,i),y=e=>"off"===e.state||!!("on"===e.state&&g(e.attributes.mode)&&e.attributes.current<e.attributes.max),b=(e,t)=>e.callApi("DELETE",`config/script/config/${t}`);let m;const h=(e,t)=>e.callApi("GET",`config/script/config/${t}`),v=(e,t)=>e.callWS({type:"script/config",entity_id:t}),q=(e,t)=>{m=e;const i=t?`?${(0,c.KH)({expanded:"1"})}`:"";(0,o.o)(`/config/script/edit/new${i}`)},j=()=>{const e=m;return m=void 0,e},S=e=>"string"==typeof e&&(0,a.r)(e)?"check_condition":"delay"in e?"delay":"wait_template"in e?"wait_template":["condition","and","or","not"].some(t=>t in e)?"check_condition":"event"in e?"fire_event":!("device_id"in e)||"trigger"in e||"condition"in e?"repeat"in e?"repeat":"choose"in e?"choose":"if"in e?"if":"wait_for_trigger"in e?"wait_for_trigger":"variables"in e?"variables":"stop"in e?"stop":"sequence"in e?"sequence":"parallel"in e?"parallel":"set_conversation_response"in e?"set_conversation_response":"action"in e||"service"in e?"service":"unknown":"device_action",A=e=>"unknown"!==S(e),Y=(e,t)=>{const i=e.services.script[(0,r.Y)(t)]?.fields;return void 0!==i&&Object.keys(i).length>0},k=(e,t)=>{const i=e.services.script[(0,r.Y)(t)]?.fields;return void 0!==i&&Object.values(i).some(e=>e.required)},O=(e,t,i)=>{const n=e.services.script[(0,r.Y)(t)]?.fields;return void 0===n||0===Object.keys(n).length||void 0!==i&&Object.entries(n).every(([e,t])=>!t.required||void 0!==i[e])},E=e=>{if(!e)return e;if(Array.isArray(e))return e.map(E);if("object"==typeof e&&null!==e&&"service"in e&&("action"in e||(e.action=e.service),delete e.service),"object"==typeof e&&null!==e&&"scene"in e&&(e.action="scene.turn_on",e.target={entity_id:e.scene},delete e.scene),"object"==typeof e&&null!==e&&"action"in e&&"media_player.play_media"===e.action&&"data"in e&&(e.data?.media_content_id||e.data?.media_content_type)){const t={...e.data},i={media_content_id:t.media_content_id,media_content_type:t.media_content_type,metadata:{...e.metadata||{}}};delete e.metadata,delete t.media_content_id,delete t.media_content_type,e.data={...t,media:i}}if("object"==typeof e&&null!==e&&"sequence"in e){delete e.metadata;for(const t of e.sequence)E(t)}const t=S(e);if("parallel"===t){E(e.parallel)}if("choose"===t){const t=e;if(Array.isArray(t.choose))for(const e of t.choose)E(e.sequence);else t.choose&&E(t.choose.sequence);t.default&&E(t.default)}if("repeat"===t){E(e.repeat.sequence)}if("if"===t){const t=e;E(t.then),t.else&&E(t.else)}if("wait_for_trigger"===t){const t=e;(0,d.vO)(t.wait_for_trigger)}return e},W=e=>{const t=e.sequence;return t&&!Array.isArray(t)&&(e.sequence=[t]),e.sequence&&(e.sequence=E(e.sequence)),e}},54706(e,t,i){i.d(t,{E:()=>r});i(18111),i(13579);var n=i(62826),s=i(44457);const r=e=>{class t extends e{connectedCallback(){super.connectedCallback(),this._checkSubscribed()}disconnectedCallback(){if(super.disconnectedCallback(),this.__unsubs){for(;this.__unsubs.length;){const e=this.__unsubs.pop();e instanceof Promise?e.then(e=>e()):e()}this.__unsubs=void 0}}updated(e){if(super.updated(e),e.has("hass"))this._checkSubscribed();else if(this.hassSubscribeRequiredHostProps)for(const t of e.keys())if(this.hassSubscribeRequiredHostProps.includes(t))return void this._checkSubscribed()}hassSubscribe(){return[]}_checkSubscribed(){void 0===this.__unsubs&&this.isConnected&&void 0!==this.hass&&!this.hassSubscribeRequiredHostProps?.some(e=>void 0===this[e])&&(this.__unsubs=this.hassSubscribe())}}return(0,n.Cg)([(0,s.MZ)({attribute:!1})],t.prototype,"hass",void 0),t}}};
//# sourceMappingURL=64264.c3eab57e375b06c6.js.map