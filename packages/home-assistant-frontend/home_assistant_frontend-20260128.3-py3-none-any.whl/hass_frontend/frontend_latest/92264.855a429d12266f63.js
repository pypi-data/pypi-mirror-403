/*! For license information please see 92264.855a429d12266f63.js.LICENSE.txt */
export const __rspack_esm_id="92264";export const __rspack_esm_ids=["92264"];export const __webpack_modules__={90409(t,e,s){s.d(e,{A:()=>i});s(18111),s(61701);function i(t){const e=t.split(":").map(Number);return 3600*e[0]+60*e[1]+e[2]}},8872(t,e,s){s.d(e,{F:()=>n,_:()=>a});var i=s(1087);const n=()=>Promise.all([s.e("92769"),s.e("62453"),s.e("40469"),s.e("26233"),s.e("66201"),s.e("11444")]).then(s.bind(s,22756)),a=(t,e)=>{(0,i.r)(t,"show-dialog",{dialogTag:"dialog-device-registry-detail",dialogImport:n,dialogParams:e})}},74699(t,e,s){s.d(e,{X:()=>a});var i=s(1087);const n=()=>s.e("95309").then(s.bind(s,284)),a=(t,e)=>{(0,i.r)(t,"show-dialog",{dialogTag:"dialog-edit-home",dialogImport:n,dialogParams:e})}},75480(t,e,s){s.d(e,{x:()=>a});var i=s(1087);const n=()=>s.e("31581").then(s.bind(s,31756)),a=(t,e)=>{(0,i.r)(t,"show-dialog",{dialogTag:"dialog-new-overview",dialogImport:n,dialogParams:e})}},50647(t,e,s){s.a(t,async function(t,i){try{s.r(e);var n=s(62826),a=s(88696),o=s(96196),r=s(44457),c=s(6415),h=s(62384),d=s(91926),l=s(9899),u=s(19459),g=s(18350),p=(s(67094),s(52927)),f=s(28989),_=s(48250),v=s(53580),m=s(81619),w=s(34023),y=s(8872),b=s(76559),C=s(29994),x=s(93275),N=s(74699),$=s(75480),D=s(99774),T=t([g,C]);[g,C]=T.then?(await T)():T;const I="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z";class A extends o.WF{get _showBanner(){if(this._config.welcome_banner_dismissed)return!1;if("RUNNING"!==this.hass.config.state)return!1;const t=this.hass.systemData?.onboarded_version,e=t&&(0,h.v)(t,2026,2),s=(0,D.Dq)(this.hass);return!e&&!s}willUpdate(t){if(super.willUpdate(t),!this.hasUpdated)return void this._setup();if(t.has("route")&&this._updateExtraActionItems(),!t.has("hass"))return;const e=t.get("hass");if(e&&e.localize!==this.hass.localize)this._setLovelace();else if(e&&this.hass){if((e.entities!==this.hass.entities||e.devices!==this.hass.devices||e.areas!==this.hass.areas||e.floors!==this.hass.floors)&&"RUNNING"===this.hass.config.state)return void this._debounceRegistriesChanged();"RUNNING"===this.hass.config.state&&"RUNNING"!==e.config.state&&this._setup()}}async _setup(){this._updateExtraActionItems();try{const[t,e]=await Promise.all([this.hass.loadFragmentTranslation("lovelace"),(0,_.wE)(this.hass.connection,"home")]);this._config=e||{}}catch(t){console.error("Failed to load favorites:",t),this._config={}}this._setLovelace()}_updateExtraActionItems(){const t=this.route?.path?.split("/")[1];t?.startsWith("areas-")?this._extraActionItems=[{icon:I,labelKey:"ui.panel.lovelace.menu.edit_area",action:this._editArea}]:this._extraActionItems=t&&"overview"!==t?void 0:[{icon:I,labelKey:"ui.panel.lovelace.menu.edit_overview",action:this._editHome}]}async _showAddIntegrationDialog(){await this.hass.loadFragmentTranslation("config"),(0,b.X)(this,{navigateToResult:!1})}_showAssignAreaDialog(t){const e=this.hass.devices[t];e&&(0,y._)(this,{device:e,updateEntry:async e=>{await(0,f.FB)(this.hass,t,e)}})}render(){if(!this._lovelace)return o.s6;const t=(0,c.W)({"--view-container-padding-top":this._bannerHeight.value?`${this._bannerHeight.value}px`:void 0});return o.qy` ${this._renderBanner()} <hui-root .hass="${this.hass}" .narrow="${this.narrow}" .lovelace="${this._lovelace}" .route="${this.route}" .panel="${this.panel}" no-edit .extraActionItems="${this._extraActionItems}" @ll-custom="${this._handleLLCustomEvent}" style="${t}"></hui-root> `}_renderBanner(){return this._showBanner?o.qy` <div class="banner"> <div class="banner-content"> <ha-svg-icon .path="${v.mdiHomeAssistant}"></ha-svg-icon> <span class="banner-text"> Welcome to the new overview dashboard. </span> </div> <div class="banner-actions"> <ha-button size="small" appearance="filled" @click="${this._learnMore}"> Learn more </ha-button> </div> </div> `:o.s6}updated(t){if(super.updated(t),t.has("_showBanner")||t.has("_lovelace")){const t=this.shadowRoot?.querySelector(".banner");t&&this._bannerHeight.observe(t)}}_learnMore(){(0,$.x)(this,{dismiss:async()=>{const t={...this._config,welcome_banner_dismissed:!0};this._config=t,await(0,_.x0)(this.hass.connection,"home",t)}})}async _setLovelace(){const t={strategy:{type:"home",favorite_entities:this._config.favorite_entities,home_panel:!0}},e=await(0,x.d4)(t,this.hass);(0,u.b)(e,this._lovelace?.config)||(this._lovelace={config:e,rawConfig:e,editMode:!1,urlPath:"home",mode:"generated",locale:this.hass.locale,enableFullEditMode:()=>{},saveConfig:async()=>{},deleteConfig:async()=>{},setEditMode:()=>{},showToast:()=>{}})}async _saveConfig(t){try{await(0,_.x0)(this.hass.connection,"home",t),this._config=t||{}}catch(t){return console.error("Failed to save home configuration:",t),void(0,m.P)(this,{message:this.hass.localize("ui.panel.home.editor.save_failed"),duration:0,dismissable:!0})}(0,m.P)(this,{message:this.hass.localize("ui.common.successfully_saved")}),this._setLovelace()}constructor(...t){super(...t),this.narrow=!1,this._config={},this._bannerHeight=new a.P(this,{target:null,callback:t=>t[0]?.target?.offsetHeight??0}),this._debounceRegistriesChanged=(0,l.s)(()=>this._registriesChanged(),200),this._registriesChanged=async()=>{const t=this.route?.path?.split("/")[1];if(t?.startsWith("areas-")){const e=t.replace("areas-","");if(!this.hass.areas[e])return void(0,d.o)("/home")}this._setLovelace()},this._editHome=()=>{(0,N.X)(this,{config:this._config,saveConfig:async t=>{await this._saveConfig(t)}})},this._editArea=async()=>{const t=this.route?.path?.split("/")[1];if(!t?.startsWith("areas-"))return;const e=t.replace("areas-",""),s=this.hass.areas[e];s&&(await this.hass.loadFragmentTranslation("config"),(0,w.J)(this,{entry:s,updateEntry:t=>(0,p.gs)(this.hass,e,t)}))},this._handleLLCustomEvent=t=>{const e=t.detail;if(e.home_panel){const{type:t}=e.home_panel;switch(t){case"assign_area":{const{device_id:t}=e.home_panel;this._showAssignAreaDialog(t);break}case"add_integration":this._showAddIntegrationDialog()}}}}}A.styles=o.AH`:host{display:block}.banner{display:flex;align-items:center;flex-wrap:wrap;padding:var(--ha-space-2) var(--ha-space-4);background-color:var(--primary-color);color:var(--text-primary-color);gap:var(--ha-space-2);position:fixed;top:var(--header-height,56px);left:var(--mdc-drawer-width,0px);right:0;z-index:5}.banner-content{display:flex;align-items:center;gap:var(--ha-space-2);flex:1;min-width:200px}.banner ha-svg-icon{--mdc-icon-size:24px;flex-shrink:0}.banner-text{font-size:14px;font-weight:500}.banner-actions{display:flex;flex:none;gap:var(--ha-space-2);align-items:center;margin-inline-start:auto}.banner-actions ha-button::part(base){text-wrap:nowrap}`,(0,n.Cg)([(0,r.MZ)({attribute:!1})],A.prototype,"hass",void 0),(0,n.Cg)([(0,r.MZ)({type:Boolean,reflect:!0})],A.prototype,"narrow",void 0),(0,n.Cg)([(0,r.MZ)({attribute:!1})],A.prototype,"route",void 0),(0,n.Cg)([(0,r.MZ)({attribute:!1})],A.prototype,"panel",void 0),(0,n.Cg)([(0,r.wk)()],A.prototype,"_lovelace",void 0),(0,n.Cg)([(0,r.wk)()],A.prototype,"_config",void 0),(0,n.Cg)([(0,r.wk)()],A.prototype,"_extraActionItems",void 0),A=(0,n.Cg)([(0,r.EM)("ha-panel-home")],A),i()}catch(t){i(t)}})},21018(t,e,s){s.a(t,async function(t,i){try{s.d(e,{YH:()=>d,hZ:()=>h,ww:()=>l});s(17642),s(58004),s(33853),s(45876),s(32475),s(15024),s(31698);var n=s(67066),a=s(34128),o=t([n]);n=(o.then?(await o)():o)[0];const r=new Set(["error","entity"]),c={"entity-filter":()=>s.e("4994").then(s.bind(s,95417)),"state-label":()=>s.e("52396").then(s.bind(s,22087))},h=t=>(0,a.Vd)("badge",t,r,c,void 0,"entity"),d=t=>(0,a.Ue)("badge",t,r,c,void 0,"entity"),l=t=>(0,a.gh)(t,"badge",r,c);i()}catch(t){i(t)}})},31886(t,e,s){s.a(t,async function(t,i){try{s.d(e,{BB:()=>n.B});s(38744);var n=s(88775),a=s(49232),o=s(78713),r=s(53834),c=s(35204),h=s(5806),d=t([n,a,o,r,c,h]);[n,a,o,r,c,h]=d.then?(await d)():d,i()}catch(t){i(t)}})},18989(t,e,s){s.d(e,{R:()=>i});const i=s(96196).AH`:host{box-sizing:border-box;color:var(--md-divider-color,var(--md-sys-color-outline-variant,#cac4d0));display:flex;height:var(--md-divider-thickness,1px);width:100%}:host([inset-start]),:host([inset]){padding-inline-start:16px}:host([inset-end]),:host([inset]){padding-inline-end:16px}:host::before{background:currentColor;content:"";height:100%;width:100%}@media(forced-colors:active){:host::before{background:CanvasText}}`},10414(t,e,s){s.d(e,{c:()=>o});var i=s(62826),n=s(96196),a=s(44457);class o extends n.WF{constructor(){super(...arguments),this.inset=!1,this.insetStart=!1,this.insetEnd=!1}}(0,i.Cg)([(0,a.MZ)({type:Boolean,reflect:!0})],o.prototype,"inset",void 0),(0,i.Cg)([(0,a.MZ)({type:Boolean,reflect:!0,attribute:"inset-start"})],o.prototype,"insetStart",void 0),(0,i.Cg)([(0,a.MZ)({type:Boolean,reflect:!0,attribute:"inset-end"})],o.prototype,"insetEnd",void 0)},25625(t,e,s){s.d(e,{H:()=>o});var i=s(9160),n=s(51039),a=s(83504);function o(t,e){const s=()=>(0,n.w)(e?.in,NaN),o=e?.additionalDigits??2,f=function(t){const e={},s=t.split(r.dateTimeDelimiter);let i;if(s.length>2)return e;/:/.test(s[0])?i=s[0]:(e.date=s[0],i=s[1],r.timeZoneDelimiter.test(e.date)&&(e.date=t.split(r.timeZoneDelimiter)[0],i=t.substr(e.date.length,t.length)));if(i){const t=r.timezone.exec(i);t?(e.time=i.replace(t[1],""),e.timezone=t[1]):e.time=i}return e}(t);let _;if(f.date){const t=function(t,e){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=t.match(s);if(!i)return{year:NaN,restDateString:""};const n=i[1]?parseInt(i[1]):null,a=i[2]?parseInt(i[2]):null;return{year:null===a?n:100*a,restDateString:t.slice((i[1]||i[2]).length)}}(f.date,o);_=function(t,e){if(null===e)return new Date(NaN);const s=t.match(c);if(!s)return new Date(NaN);const i=!!s[4],n=l(s[1]),a=l(s[2])-1,o=l(s[3]),r=l(s[4]),h=l(s[5])-1;if(i)return function(t,e,s){return e>=1&&e<=53&&s>=0&&s<=6}(0,r,h)?function(t,e,s){const i=new Date(0);i.setUTCFullYear(t,0,4);const n=i.getUTCDay()||7,a=7*(e-1)+s+1-n;return i.setUTCDate(i.getUTCDate()+a),i}(e,r,h):new Date(NaN);{const t=new Date(0);return function(t,e,s){return e>=0&&e<=11&&s>=1&&s<=(g[e]||(p(t)?29:28))}(e,a,o)&&function(t,e){return e>=1&&e<=(p(t)?366:365)}(e,n)?(t.setUTCFullYear(e,a,Math.max(n,o)),t):new Date(NaN)}}(t.restDateString,t.year)}if(!_||isNaN(+_))return s();const v=+_;let m,w=0;if(f.time&&(w=function(t){const e=t.match(h);if(!e)return NaN;const s=u(e[1]),n=u(e[2]),a=u(e[3]);if(!function(t,e,s){if(24===t)return 0===e&&0===s;return s>=0&&s<60&&e>=0&&e<60&&t>=0&&t<25}(s,n,a))return NaN;return s*i.s0+6e4*n+1e3*a}(f.time),isNaN(w)))return s();if(!f.timezone){const t=new Date(v+w),s=(0,a.a)(0,e?.in);return s.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),s.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),s}return m=function(t){if("Z"===t)return 0;const e=t.match(d);if(!e)return 0;const s="+"===e[1]?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;if(!function(t,e){return e>=0&&e<=59}(0,a))return NaN;return s*(n*i.s0+6e4*a)}(f.timezone),isNaN(m)?s():(0,a.a)(v+w+m,e?.in)}const r={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},c=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,h=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,d=/^([+-])(\d{2})(?::?(\d{2}))?$/;function l(t){return t?parseInt(t):1}function u(t){return t&&parseFloat(t.replace(",","."))||0}const g=[31,null,31,30,31,30,31,31,30,31,30,31];function p(t){return t%400==0||t%4==0&&t%100!=0}},3890(t,e,s){s.d(e,{T:()=>u});s(18111),s(20116);var i=s(5055),n=s(63937),a=s(37540);class o{disconnect(){this.G=void 0}reconnect(t){this.G=t}deref(){return this.G}constructor(t){this.G=t}}class r{get(){return this.Y}pause(){this.Y??=new Promise(t=>this.Z=t)}resume(){this.Z?.(),this.Y=this.Z=void 0}constructor(){this.Y=void 0,this.Z=void 0}}var c=s(42017);const h=t=>!(0,n.sO)(t)&&"function"==typeof t.then,d=1073741823;class l extends a.Kq{render(...t){return t.find(t=>!h(t))??i.c0}update(t,e){const s=this._$Cbt;let n=s.length;this._$Cbt=e;const a=this._$CK,o=this._$CX;this.isConnected||this.disconnected();for(let t=0;t<e.length&&!(t>this._$Cwt);t++){const i=e[t];if(!h(i))return this._$Cwt=t,i;t<n&&i===s[t]||(this._$Cwt=d,n=0,Promise.resolve(i).then(async t=>{for(;o.get();)await o.get();const e=a.deref();if(void 0!==e){const s=e._$Cbt.indexOf(i);s>-1&&s<e._$Cwt&&(e._$Cwt=s,e.setValue(t))}}))}return i.c0}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}constructor(){super(...arguments),this._$Cwt=d,this._$Cbt=[],this._$CK=new o(this),this._$CX=new r}}const u=(0,c.u$)(l)}};
//# sourceMappingURL=92264.855a429d12266f63.js.map