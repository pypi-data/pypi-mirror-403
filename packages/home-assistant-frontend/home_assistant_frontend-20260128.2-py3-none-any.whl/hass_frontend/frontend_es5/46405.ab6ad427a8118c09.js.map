{"version":3,"file":"46405.ab6ad427a8118c09.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20260128.2/src/components/ha-hls-player.ts","https://raw.githubusercontent.com/home-assistant/frontend/20260128.2/src/dialogs/config-flow/previews/flow-preview-generic.ts","https://raw.githubusercontent.com/home-assistant/frontend/20260128.2/src/dialogs/config-flow/previews/flow-preview-generic_camera.ts"],"names":["HaHLSPlayer","LitElement","connectedCallback","super","streamCount","this","hasUpdated","_resetError","_startHls","document","addEventListener","_handleVisibilityChange","disconnectedCallback","removeEventListener","_cleanUp","render","html","_t","_","_error","_t2","_errorIsFatal","_t3","posterUrl","autoPlay","muted","playsInline","controls","_loadedData","styleMap","height","aspectRatio","objectFit","fitMode","updated","changedProps","entityChanged","has","urlChanged","_getStreamUrlFromEntityId","url","_url","isComponentLoaded","hass","entityid","fetchStreamUrl","hassUrl","err","console","error","fireEvent","hasAudio","hasVideo","_setFatalError","_this$hass$auth$exter","masterPlaylistPromise","fetch","Hls","default","isConnected","hlsSupported","isSupported","_videoEl","canPlayType","localize","useExoPlayer","allowExoPlayer","auth","external","config","hasExoPlayer","masterPlaylist","text","playlistRegexp","match","exec","matchTwice","playlist_url","URL","href","codecs","undefined","_reportStreams","includes","_renderHLSExoPlayer","_renderHLSPolyfill","_renderHLSNative","_exoPlayer","window","_resizeExoPlayer","updateComplete","then","nextRender","style","visibility","fireMessage","type","payload","_isLLHLSSupported","performance","getEntriesByType","length","perfEntry","nextHopProtocol","videoEl","hls","backBufferLength","fragLoadingTimeOut","manifestLoadingTimeOut","levelLoadingTimeOut","maxLiveSyncPlaybackRate","lowLatencyMode","_hlsPolyfillInstance","attachMedia","on","Events","MEDIA_ATTACHED","loadSource","FRAG_LOADED","_event","_data","ERROR","data","fatal","ErrorTypes","NETWORK_ERROR","details","ErrorDetails","MANIFEST_LOAD_ERROR","response","code","_setRetryableError","MANIFEST_LOAD_TIMEOUT","startLoad","MEDIA_ERROR","recoverMediaError","src","play","destroy","removeAttribute","load","errorMessage","_codec$includes","codec","split","Boolean","args","pictureInPictureElement","hidden","rect","getBoundingClientRect","left","top","right","bottom","styles","css","_t4","attribute","FlowPreviewGeneric","_unsub","unsub","willUpdate","_debouncedSubscribePreview","_preview","_subscribePreview","flowType","subscribePreviewGeneric","domain","flowId","stepData","_setPreview","errors","message","preview","now","Date","toISOString","Object","assign","entity_id","stepId","last_changed","last_updated","context","id","parent_id","user_id","debounce","FlowPreviewGenericCamera","nothing","stillUrl","attributes","still_url","streamUrl","stream_url","_videoLoaded","_this$shadowRoot$getE","shadowRoot","getElementById","remove"],"mappings":"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"}