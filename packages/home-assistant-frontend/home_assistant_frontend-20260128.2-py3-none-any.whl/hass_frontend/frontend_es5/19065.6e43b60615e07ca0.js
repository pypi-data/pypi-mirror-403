"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["19065"],{66639:function(e,t,i){i.d(t,{Vu:function(){return a},Xz:function(){return n},cs:function(){return r}});i(44114),i(18111),i(61701),i(62953);const r=(e,t)=>{const i=new Map,r=[];for(const n of t)n.floor_id?(i.has(n.floor_id)||i.set(n.floor_id,[]),i.get(n.floor_id).push(n.area_id)):r.push(n.area_id);return{floors:e.map(e=>({id:e.floor_id,areas:i.get(e.floor_id)||[]})),areas:r}},n=e=>{const t=[];for(const i of e.floors)t.push(...i.areas);return t.push(...e.areas),t},a=e=>e.floors.map(e=>e.id)},17308:function(e,t,i){var r=i(40445),n=i(49838),a=i(11245),s=i(96196),l=i(77845);let o;class d extends n.B{}d.styles=[a.R,(0,s.AH)(o||(o=(e=>e)`:host{--md-sys-color-surface:var(--card-background-color)}`))],d=(0,r.Cg)([(0,l.EM)("ha-md-list")],d)},73150:function(e,t,i){i(62953);var r=i(40445),n=i(96196),a=i(77845);let s,l,o=e=>e;class d extends n.WF{render(){return(0,n.qy)(s||(s=o` <svg width="100%" height="100%" viewBox="0 0 48 48"> <line x1="24" y1="0" x2="24" y2="${0}"></line> <line x1="24" y1="24" x2="36" y2="24"></line> </svg> `),this.end?"24":"48")}constructor(...e){super(...e),this.end=!1}}d.styles=(0,n.AH)(l||(l=o`:host{display:block;width:48px;height:48px}line{stroke:var(--divider-color);stroke-width:2;stroke-dasharray:2}`)),(0,r.Cg)([(0,a.MZ)({type:Boolean,reflect:!0})],d.prototype,"end",void 0),d=(0,r.Cg)([(0,a.EM)("ha-tree-indicator")],d)},28223:function(e,t,i){i.d(t,{Z2:function(){return c},bi:function(){return d},g3:function(){return o}});i(46449),i(74423),i(44114),i(93514),i(18111),i(81148),i(22489),i(7588),i(61701),i(13579),i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698),i(62953);var r=i(66639),n=i(65522),a=i(71727),s=i(55931),l=i(28989);const o=(e,t,i,r,n,a,s,l,o,d,c,_,f)=>u(e,t,i,r,n,a,s,l,o,d,c,_,f,!0),d=(e,t,i,r,n,a,s,l,o,d,c,_,f)=>u(e,t,i,r,n,a,s,l,o,d,c,_,f),c=[{name:"search_labels.name",weight:10},{name:"search_labels.aliases",weight:8},{name:"search_labels.floorName",weight:6},{name:"search_labels.relatedAreas",weight:4},{name:"search_labels.id",weight:3}],u=(e,t,i,o,d,c,u,_,f,h,m,p,y,g=!1)=>{const v=Object.values(t),b=Object.values(i),w=Object.values(o),j=Object.values(d);let x,E,O={};(u||_||f||h||m)&&(O=(0,l.g2)(j),x=w,E=j.filter(e=>e.area_id),u&&(x=x.filter(e=>{const t=O[e.id];return!(!t||!t.length)&&O[e.id].some(e=>u.includes((0,a.m)(e.entity_id)))}),E=E.filter(e=>u.includes((0,a.m)(e.entity_id)))),_&&(x=x.filter(e=>{const t=O[e.id];return!t||!t.length||j.every(e=>!_.includes((0,a.m)(e.entity_id)))}),E=E.filter(e=>!_.includes((0,a.m)(e.entity_id)))),f&&(x=x.filter(t=>{const i=O[t.id];return!(!i||!i.length)&&O[t.id].some(t=>{const i=e[t.entity_id];return!!i&&(i.attributes.device_class&&f.includes(i.attributes.device_class))})}),E=E.filter(t=>{const i=e[t.entity_id];return i.attributes.device_class&&f.includes(i.attributes.device_class)})),h&&(x=x.filter(e=>h(e))),m&&(x=x.filter(t=>{const i=O[t.id];return!(!i||!i.length)&&O[t.id].some(t=>{const i=e[t.entity_id];return!!i&&m(i)})}),E=E.filter(t=>{const i=e[t.entity_id];return!!i&&m(i)})));let A,k=b,C=v;if(x&&(A=x.filter(e=>e.area_id).map(e=>e.area_id)),E&&(A=(null!=A?A:[]).concat(E.filter(e=>e.area_id).map(e=>e.area_id))),A&&(k=k.filter(e=>A.includes(e.area_id))),p&&(k=k.filter(e=>!p.includes(e.area_id))),y&&(k=k.filter(e=>!e.floor_id||!y.includes(e.floor_id)),C=C.filter(e=>!y.includes(e.floor_id))),m||h||u||_||f){const e=new Set(k.map(e=>e.floor_id).filter(e=>e));C=C.filter(t=>e.has(t.floor_id))}const M=(0,r.cs)(C,k),H=[];M.floors.forEach(e=>{const r=t[e.id],a=e.areas.map(e=>i[e]),l=(0,s.X)(r),o=a.map(e=>{const t=(0,n.A)(e);return[e.area_id,...t?[t]:[],...e.aliases]}).flat(),d={id:c({id:r.floor_id,type:"floor"}),type:"floor",primary:l,floor:r,icon:r.icon||void 0,search_labels:{id:r.floor_id,name:l||null,aliases:r.aliases.join(", ")||null,relatedAreas:o.join(" ")||null}};H.push(d);const u=a.map(e=>{const t=(0,n.A)(e);return{id:c({id:e.area_id,type:"area"}),type:"area",primary:t||e.area_id,area:e,icon:e.icon||void 0,search_labels:{id:e.area_id,name:t||null,aliases:e.aliases.join(", ")||null,floorName:l||null}}});g&&r?d.areas=u:H.push(...u)});const S=M.areas.map(e=>{const t=i[e],r=(0,n.A)(t);return{id:c({id:t.area_id,type:"area"}),type:"area",primary:r||t.area_id,area:t,icon:t.icon||void 0,search_labels:{id:t.area_id,name:r||null,aliases:t.aliases.join(", ")||null}}});return g&&S.length?H.push({id:void 0,areas:S}):H.push(...S),H}},5904:function(e,t,i){i.d(t,{I:function(){return s},u:function(){return a}});i(89463),i(74423),i(18111),i(81148),i(22489),i(7588),i(61701),i(13579),i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698),i(62953);var r=i(71727),n=i(28989);const a=[{name:"search_labels.name",weight:10},{name:"search_labels.description",weight:5},{name:"search_labels.id",weight:4}],s=(e,t,i,a,s,l,o,d,c,u,_,f="")=>{if(!s||0===s.length)return[];const h=Object.values(i),m=Object.values(a);let p,y,g={};(l||o||d||c||u)&&(g=(0,n.g2)(m),p=h,y=m.filter(e=>e.labels.length>0),l&&(p=p.filter(e=>{const t=g[e.id];return!(!t||!t.length)&&g[e.id].some(e=>l.includes((0,r.m)(e.entity_id)))}),y=y.filter(e=>l.includes((0,r.m)(e.entity_id)))),o&&(p=p.filter(e=>{const t=g[e.id];return!t||!t.length||m.every(e=>!o.includes((0,r.m)(e.entity_id)))}),y=y.filter(e=>!o.includes((0,r.m)(e.entity_id)))),d&&(p=p.filter(t=>{const i=g[t.id];return!(!i||!i.length)&&g[t.id].some(t=>{const i=e[t.entity_id];return!!i&&(i.attributes.device_class&&d.includes(i.attributes.device_class))})}),y=y.filter(t=>{const i=e[t.entity_id];return i&&i.attributes.device_class&&d.includes(i.attributes.device_class)})),c&&(p=p.filter(e=>c(e))),u&&(p=p.filter(t=>{const i=g[t.id];return!(!i||!i.length)&&g[t.id].some(t=>{const i=e[t.entity_id];return!!i&&u(i)})}),y=y.filter(t=>{const i=e[t.entity_id];return!!i&&u(i)})));let v=s;const b=new Set;let w;p&&(w=p.filter(e=>e.area_id).map(e=>e.area_id),p.forEach(e=>{e.labels.forEach(e=>b.add(e))})),y&&(w=(null!=w?w:[]).concat(y.filter(e=>e.area_id).map(e=>e.area_id)),y.forEach(e=>{e.labels.forEach(e=>b.add(e))})),w&&w.forEach(e=>{const i=t[e];null==i||i.labels.forEach(e=>b.add(e))}),_&&(v=v.filter(e=>!_.includes(e.label_id))),(p||y)&&(v=v.filter(e=>b.has(e.label_id)));return v.map(e=>{var t;return{id:`${f}${e.label_id}`,primary:e.name,secondary:null!==(t=e.description)&&void 0!==t?t:"",icon:e.icon||void 0,icon_path:e.icon?void 0:"M17.63,5.84C17.27,5.33 16.67,5 16,5H5A2,2 0 0,0 3,7V17A2,2 0 0,0 5,19H16C16.67,19 17.27,18.66 17.63,18.15L22,12L17.63,5.84Z",sorting_label:e.name,search_labels:{name:e.name,description:e.description,id:e.label_id},color:e.color||void 0}})}},88555:function(e,t,i){i.d(t,{F7:function(){return a},G_:function(){return n},Kx:function(){return d},Ly:function(){return c},OJ:function(){return _},YK:function(){return u},j_:function(){return o},oV:function(){return s},vN:function(){return l}});i(74423),i(18111),i(22489),i(13579),i(3362);var r=i(71727);const n="________",a=async(e,t)=>e.callWS({type:"extract_from_target",target:t}),s=async(e,t,i=!0)=>e({type:"get_triggers_for_target",target:t,expand_group:i}),l=async(e,t,i=!0)=>e({type:"get_conditions_for_target",target:t,expand_group:i}),o=async(e,t,i=!0)=>e({type:"get_services_for_target",target:t,expand_group:i}),d=(e,t,i,r,n,a,s,l)=>{if(Object.values(t).filter(t=>t.area_id===e.area_id).some(e=>c(e,i,r,n,a,s,l)))return!0;return!!Object.values(i).filter(t=>t.area_id===e.area_id).some(e=>u(e,!1,n,a,s,l))},c=(e,t,i,r,n,a,s)=>!!Object.values(t).filter(t=>t.device_id===e.id).some(e=>u(e,!1,r,n,a,s))&&(!i||i(e)),u=(e,t=!1,i,n,a,s)=>{if(e.hidden||e.entity_category&&!t)return!1;if(i&&!i.includes((0,r.m)(e.entity_id)))return!1;if(n){const t=null==a?void 0:a[e.entity_id];if(!t)return!1;if(!t.attributes.device_class||!n.includes(t.attributes.device_class))return!1}if(s){const t=null==a?void 0:a[e.entity_id];return!!t&&s(t)}return!0},_=e=>"area"===e.type||"floor"===e.type?e.type:"domain"in e?"device":"stateObj"in e?"entity":"___EMPTY_SEARCH___"===e.id?"empty":"label"}}]);
//# sourceMappingURL=19065.6e43b60615e07ca0.js.map