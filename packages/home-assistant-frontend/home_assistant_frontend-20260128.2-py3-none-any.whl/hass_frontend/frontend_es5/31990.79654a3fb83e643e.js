"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["31990"],{66033:function(e,t,a){a.d(t,{L:function(){return i}});const i=(e,t)=>{const a=e.floor_id;return{area:e,floor:(a?t[a]:void 0)||null}}},44241:function(e,t,a){a.d(t,{G:function(){return n}});var i=a(96196);let s,o=e=>e;const n=e=>e("ui.common.supports_markdown",{markdown_help_link:(0,i.qy)(s||(s=o`<a href="${0}" target="_blank" rel="noreferrer">${0}</a>`),"https://commonmark.org/help/",e("ui.common.markdown"))})},66086:function(e,t,a){a.a(e,async function(e,t){try{a(74423),a(18111),a(22489),a(61701),a(3362),a(62953);var i=a(40445),s=a(96196),o=a(77845),n=a(22786),r=a(1087),l=a(65522),h=a(55931),c=a(66033),d=a(49852),p=a(53641),u=a(65063),g=a(34023),_=(a(75064),a(38508)),m=(a(26300),a(67094),e([_]));_=(m.then?(await m)():m)[0];let y,v,b,$,f,C,w,k=e=>e;const M="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",A="M20 2H4C2.9 2 2 2.9 2 4V20C2 21.11 2.9 22 4 22H20C21.11 22 22 21.11 22 20V4C22 2.9 21.11 2 20 2M4 6L6 4H10.9L4 10.9V6M4 13.7L13.7 4H18.6L4 18.6V13.7M20 18L18 20H13.1L20 13.1V18M20 10.3L10.3 20H5.4L20 5.4V10.3Z",O="___ADD_NEW___";class V extends s.WF{async open(){var e;await this.updateComplete,await(null===(e=this._picker)||void 0===e?void 0:e.open())}render(){var e;const t=null!==(e=this.label)&&void 0!==e?e:this.hass.localize("ui.components.area-picker.area"),a=this._computeValueRenderer(this.hass.areas);let i=t;if(this.value&&t){const e=this.hass.areas[this.value];if(e){const{floor:t}=(0,c.L)(e,this.hass.floors);t&&(i=void 0)}}return(0,s.qy)(y||(y=k` <ha-generic-picker .hass="${0}" .autofocus="${0}" .label="${0}" .helper="${0}" .notFoundLabel="${0}" .emptyLabel="${0}" .disabled="${0}" .required="${0}" .value="${0}" .getItems="${0}" .getAdditionalItems="${0}" .valueRenderer="${0}" .addButtonLabel="${0}" .searchKeys="${0}" .unknownItemText="${0}" @value-changed="${0}"> </ha-generic-picker> `),this.hass,this.autofocus,i,this.helper,this._notFoundLabel,this.hass.localize("ui.components.area-picker.no_areas"),this.disabled,this.required,this.value,this._getItems,this._getAdditionalItems,a,this.addButtonLabel,d.P,this.hass.localize("ui.components.area-picker.unknown"),this._valueChanged)}_valueChanged(e){e.stopPropagation();const t=e.detail.value;if(t){if(t.startsWith(O)){this.hass.loadFragmentTranslation("config");const e=t.substring(O.length);return void(0,g.J)(this,{suggestedName:e,createEntry:async e=>{try{const t=await(0,p.L3)(this.hass,e);this._setValue(t.area_id)}catch(t){(0,u.showAlertDialog)(this,{title:this.hass.localize("ui.components.area-picker.failed_create_area"),text:t.message})}}})}this._setValue(t)}else this._setValue(void 0)}_setValue(e){this.value=e,(0,r.r)(this,"value-changed",{value:e}),(0,r.r)(this,"change")}constructor(...e){super(...e),this.noAdd=!1,this.disabled=!1,this.required=!1,this._getAreasMemoized=(0,n.A)(d.j),this._computeValueRenderer=(0,n.A)(e=>e=>{const t=this.hass.areas[e];if(!t)return(0,s.qy)(v||(v=k` <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <span slot="headline">${0}</span> `),A,t);const{floor:a}=(0,c.L)(t,this.hass.floors),i=t?(0,l.A)(t):void 0,o=a?(0,h.X)(a):void 0,n=t.icon;return(0,s.qy)(b||(b=k` ${0} <span slot="headline">${0}</span> ${0} `),n?(0,s.qy)($||($=k`<ha-icon slot="start" .icon="${0}"></ha-icon>`),n):(0,s.qy)(f||(f=k`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),A),i,o?(0,s.qy)(C||(C=k`<span slot="supporting-text">${0}</span>`),o):s.s6)}),this._getItems=()=>this._getAreasMemoized(this.hass.areas,this.hass.floors,this.hass.devices,this.hass.entities,this.hass.states,this.includeDomains,this.excludeDomains,this.includeDeviceClasses,this.deviceFilter,this.entityFilter,this.excludeAreas),this._allAreaNames=(0,n.A)(e=>Object.values(e).map(e=>{var t;return null===(t=(0,l.A)(e))||void 0===t?void 0:t.toLowerCase()}).filter(Boolean)),this._getAdditionalItems=e=>{if(this.noAdd)return[];const t=this._allAreaNames(this.hass.areas);return e&&!t.includes(e.toLowerCase())?[{id:O+e,primary:this.hass.localize("ui.components.area-picker.add_new_sugestion",{name:e}),icon_path:M}]:[{id:O,primary:this.hass.localize("ui.components.area-picker.add_new"),icon_path:M}]},this._notFoundLabel=e=>this.hass.localize("ui.components.area-picker.no_match",{term:(0,s.qy)(w||(w=k`<b>‘${0}’</b>`),e)})}}(0,i.Cg)([(0,o.MZ)({attribute:!1})],V.prototype,"hass",void 0),(0,i.Cg)([(0,o.MZ)()],V.prototype,"label",void 0),(0,i.Cg)([(0,o.MZ)()],V.prototype,"value",void 0),(0,i.Cg)([(0,o.MZ)()],V.prototype,"helper",void 0),(0,i.Cg)([(0,o.MZ)()],V.prototype,"placeholder",void 0),(0,i.Cg)([(0,o.MZ)({type:Boolean,attribute:"no-add"})],V.prototype,"noAdd",void 0),(0,i.Cg)([(0,o.MZ)({type:Array,attribute:"include-domains"})],V.prototype,"includeDomains",void 0),(0,i.Cg)([(0,o.MZ)({type:Array,attribute:"exclude-domains"})],V.prototype,"excludeDomains",void 0),(0,i.Cg)([(0,o.MZ)({type:Array,attribute:"include-device-classes"})],V.prototype,"includeDeviceClasses",void 0),(0,i.Cg)([(0,o.MZ)({type:Array,attribute:"exclude-areas"})],V.prototype,"excludeAreas",void 0),(0,i.Cg)([(0,o.MZ)({attribute:!1})],V.prototype,"deviceFilter",void 0),(0,i.Cg)([(0,o.MZ)({attribute:!1})],V.prototype,"entityFilter",void 0),(0,i.Cg)([(0,o.MZ)({type:Boolean})],V.prototype,"disabled",void 0),(0,i.Cg)([(0,o.MZ)({type:Boolean})],V.prototype,"required",void 0),(0,i.Cg)([(0,o.MZ)({attribute:"add-button-label"})],V.prototype,"addButtonLabel",void 0),(0,i.Cg)([(0,o.P)("ha-generic-picker")],V.prototype,"_picker",void 0),V=(0,i.Cg)([(0,o.EM)("ha-area-picker")],V),t()}catch(y){t(y)}})},49852:function(e,t,a){a.d(t,{P:function(){return h},j:function(){return l}});a(74423),a(18111),a(81148),a(22489),a(61701),a(13579);var i=a(65522),s=a(71727),o=a(55931),n=a(66033),r=a(28989);const l=(e,t,a,l,h,c,d,p,u,g,_,m="")=>{let y,v,b={};const $=Object.values(e),f=Object.values(a),C=Object.values(l);(c||d||p||u||g)&&(b=(0,r.g2)(C),y=f,v=C.filter(e=>e.area_id),c&&(y=y.filter(e=>{const t=b[e.id];return!(!t||!t.length)&&b[e.id].some(e=>c.includes((0,s.m)(e.entity_id)))}),v=v.filter(e=>c.includes((0,s.m)(e.entity_id)))),d&&(y=y.filter(e=>{const t=b[e.id];return!t||!t.length||C.every(e=>!d.includes((0,s.m)(e.entity_id)))}),v=v.filter(e=>!d.includes((0,s.m)(e.entity_id)))),p&&(y=y.filter(e=>{const t=b[e.id];return!(!t||!t.length)&&b[e.id].some(e=>{const t=h[e.entity_id];return!!t&&(t.attributes.device_class&&p.includes(t.attributes.device_class))})}),v=v.filter(e=>{const t=h[e.entity_id];return t.attributes.device_class&&p.includes(t.attributes.device_class)})),u&&(y=y.filter(e=>u(e))),g&&(y=y.filter(e=>{const t=b[e.id];return!(!t||!t.length)&&b[e.id].some(e=>{const t=h[e.entity_id];return!!t&&g(t)})}),v=v.filter(e=>{const t=h[e.entity_id];return!!t&&g(t)})));let w,k=$;y&&(w=y.filter(e=>e.area_id).map(e=>e.area_id)),v&&(w=(null!=w?w:[]).concat(v.filter(e=>e.area_id).map(e=>e.area_id))),w&&(k=k.filter(e=>w.includes(e.area_id))),_&&(k=k.filter(e=>!_.includes(e.area_id)));return k.map(e=>{const{floor:a}=(0,n.L)(e,t),s=a?(0,o.X)(a):void 0,r=(0,i.A)(e);return{id:`${m}${e.area_id}`,primary:r||e.area_id,secondary:s,icon:e.icon||void 0,icon_path:e.icon?void 0:"M20 2H4C2.9 2 2 2.9 2 4V20C2 21.11 2.9 22 4 22H20C21.11 22 22 21.11 22 20V4C22 2.9 21.11 2 20 2M4 6L6 4H10.9L4 10.9V6M4 13.7L13.7 4H18.6L4 18.6V13.7M20 18L18 20H13.1L20 13.1V18M20 10.3L10.3 20H5.4L20 5.4V10.3Z",search_labels:{areaId:e.area_id,aliases:e.aliases.join(" ")}}})},h=[{name:"primary",weight:10},{name:"search_labels.aliases",weight:8},{name:"secondary",weight:6},{name:"search_labels.domain",weight:4},{name:"search_labels.areaId",weight:2}]},45986:function(e,t,a){a.a(e,async function(e,i){try{a.r(t);a(89463),a(16280),a(74423),a(3362),a(62953);var s=a(40445),o=a(96196),n=a(77845),r=a(1087),l=(a(34296),a(5745),a(38962),a(66086)),h=(a(93444),a(59174)),c=(a(11382),a(64138)),d=a(50176),p=(a(63891),a(67094),a(56304),a(75709),a(45331)),u=a(16536),g=a(44241),_=a(14503),m=a(36215),y=a(97268),v=e([l,h,c,d,p,u,m]);[l,h,c,d,p,u,m]=v.then?(await v)():v;let b,$,f,C,w,k,M,A,O,V,L,q,H,z=e=>e;const D="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z";class Z extends o.WF{showDialog(e){var t,a,i;this._open=!0,this._params=e,this._newIcon="icon"in e.config?e.config.icon:void 0,this._newName=e.config.alias||this.hass.localize(`ui.panel.config.${this._params.domain}.editor.default_name`),this._newDescription=e.config.description||"",this._entryUpdates=e.entityRegistryUpdate||{area:(null===(t=e.entityRegistryEntry)||void 0===t?void 0:t.area_id)||"",labels:(null===(a=e.entityRegistryEntry)||void 0===a?void 0:a.labels)||[],category:(null===(i=e.entityRegistryEntry)||void 0===i?void 0:i.categories[e.domain])||""},this._visibleOptionals=[this._newDescription?"description":"",this._newIcon?"icon":"",this._entryUpdates.category?"category":"",this._entryUpdates.labels.length>0?"labels":"",this._entryUpdates.area?"area":""].filter(Boolean)}closeDialog(){return this._open=!1,!0}_dialogClosed(){var e;null===(e=this._params)||void 0===e||e.onClose(),this._visibleOptionals=[],this._params=void 0,(0,r.r)(this,"dialog-closed",{dialog:this.localName})}_renderOptionalChip(e,t){return this._visibleOptionals.includes(e)?o.s6:(0,o.qy)(b||(b=z` <ha-assist-chip id="${0}" @click="${0}" label="${0}"> <ha-svg-icon slot="icon" .path="${0}"></ha-svg-icon> </ha-assist-chip> `),e,this._addOptional,t,D)}_renderDiscard(){var e;return null!==(e=this._params)&&void 0!==e&&e.onDiscard?(0,o.qy)($||($=z` <ha-button slot="secondaryAction" appearance="plain" variant="danger" @click="${0}"> ${0} </ha-button> `),this._handleDiscard,this.hass.localize("ui.common.dont_save")):o.s6}_renderInputs(){return!this._params||this._params.hideInputs?o.s6:(0,o.qy)(f||(f=z` <ha-textfield autofocus .value="${0}" .placeholder="${0}" .label="${0}" required type="string" @input="${0}"></ha-textfield> ${0} ${0} ${0} ${0} ${0} <ha-chip-set> ${0} ${0} ${0} ${0} ${0} </ha-chip-set> `),this._newName,this.hass.localize(`ui.panel.config.${this._params.domain}.editor.default_name`),this.hass.localize("ui.panel.config.automation.editor.alias"),this._valueChanged,"script"===this._params.domain&&this._visibleOptionals.includes("icon")?(0,o.qy)(C||(C=z` <ha-icon-picker .hass="${0}" .label="${0}" .value="${0}" @value-changed="${0}"> <ha-domain-icon slot="start" domain="${0}" .hass="${0}"> </ha-domain-icon> </ha-icon-picker> `),this.hass,this.hass.localize("ui.panel.config.automation.editor.icon"),this._newIcon,this._iconChanged,this._params.domain,this.hass):o.s6,this._visibleOptionals.includes("description")?(0,o.qy)(w||(w=z`<ha-textarea .label="${0}" .placeholder="${0}" name="description" autogrow .value="${0}" .helper="${0}" helperPersistent @input="${0}"></ha-textarea>`),this.hass.localize("ui.panel.config.automation.editor.description.label"),this.hass.localize("ui.panel.config.automation.editor.description.placeholder"),this._newDescription,(0,g.G)(this.hass.localize),this._valueChanged):o.s6,this._visibleOptionals.includes("category")?(0,o.qy)(k||(k=z` <ha-category-picker id="category" .hass="${0}" .scope="${0}" .label="${0}" .value="${0}" @value-changed="${0}"></ha-category-picker>`),this.hass,this._params.domain,this.hass.localize("ui.components.category-picker.category"),this._entryUpdates.category,this._registryEntryChanged):o.s6,this._visibleOptionals.includes("labels")?(0,o.qy)(M||(M=z` <ha-labels-picker id="labels" .hass="${0}" .value="${0}" @value-changed="${0}"></ha-labels-picker>`),this.hass,this._entryUpdates.labels,this._registryEntryChanged):o.s6,this._visibleOptionals.includes("area")?(0,o.qy)(A||(A=z` <ha-area-picker id="area" .hass="${0}" .value="${0}" @value-changed="${0}"></ha-area-picker>`),this.hass,this._entryUpdates.area,this._registryEntryChanged):o.s6,this._renderOptionalChip("description",this.hass.localize("ui.panel.config.automation.editor.dialog.add_description")),"script"===this._params.domain?this._renderOptionalChip("icon",this.hass.localize("ui.panel.config.automation.editor.dialog.add_icon")):o.s6,this._renderOptionalChip("area",this.hass.localize("ui.panel.config.automation.editor.dialog.add_area")),this._renderOptionalChip("category",this.hass.localize("ui.panel.config.automation.editor.dialog.add_category")),this._renderOptionalChip("labels",this.hass.localize("ui.panel.config.automation.editor.dialog.add_labels")))}render(){if(!this._params)return o.s6;const e=this.hass.localize(this._params.config.alias?"ui.panel.config.automation.editor.rename":"ui.common.save");return(0,o.qy)(O||(O=z` <ha-wa-dialog .hass="${0}" .open="${0}" @closed="${0}" header-title="${0}"> ${0} ${0} ${0} ${0} <ha-dialog-footer slot="footer"> ${0} <ha-button slot="secondaryAction" appearance="plain" @click="${0}"> ${0} </ha-button> <ha-button slot="primaryAction" @click="${0}"> ${0} </ha-button> </ha-dialog-footer> </ha-wa-dialog> `),this.hass,this._open,this._dialogClosed,this._params.title||e,this._params.hideInputs?o.s6:(0,o.qy)(V||(V=z` <ha-suggest-with-ai-button slot="headerActionItems" .hass="${0}" .generateTask="${0}" @suggestion="${0}"></ha-suggest-with-ai-button>`),this.hass,this._generateTask,this._handleSuggestion),this._error?(0,o.qy)(L||(L=z`<ha-alert alert-type="error">${0}</ha-alert>`),this.hass.localize("ui.panel.config.automation.editor.missing_name")):"",this._params.description?(0,o.qy)(q||(q=z`<p>${0}</p>`),this._params.description):o.s6,this._renderInputs(),this._renderDiscard(),this.closeDialog,this.hass.localize("ui.common.cancel"),this._save,this.hass.localize(this._params.config.alias&&!this._params.onDiscard?"ui.panel.config.automation.editor.rename":"ui.common.save"))}_addOptional(e){e.stopPropagation();const t=e.target.id;this._visibleOptionals=[...this._visibleOptionals,t]}_registryEntryChanged(e){e.stopPropagation();const t=e.target.id,a=e.detail.value;this._entryUpdates=Object.assign(Object.assign({},this._entryUpdates),{},{[t]:a})}_iconChanged(e){e.stopPropagation(),this._newIcon=e.detail.value||void 0}_valueChanged(e){e.stopPropagation();const t=e.target;"description"===t.name?this._newDescription=t.value:this._newName=t.value}_handleDiscard(){var e,t;null===(e=this._params)||void 0===e||null===(t=e.onDiscard)||void 0===t||t.call(e),this.closeDialog()}async _handleSuggestion(e){var t;if(!this._params)throw new Error("Dialog params not set");const a=e.detail,i=await(0,m.Fn)(this.hass.connection,this._params.domain,a);i.name&&(this._newName=i.name),i.description&&(this._newDescription=i.description,this._visibleOptionals.includes("description")||(this._visibleOptionals=[...this._visibleOptionals,"description"])),i.category&&(this._entryUpdates=Object.assign(Object.assign({},this._entryUpdates),{},{category:i.category}),this._visibleOptionals.includes("category")||(this._visibleOptionals=[...this._visibleOptionals,"category"])),null!==(t=i.labels)&&void 0!==t&&t.length&&(this._entryUpdates=Object.assign(Object.assign({},this._entryUpdates),{},{labels:i.labels}),this._visibleOptionals.includes("labels")||(this._visibleOptionals=[...this._visibleOptionals,"labels"]))}async _save(){this._params&&(this._newName?("script"===this._params.domain?await this._params.updateConfig(Object.assign(Object.assign({},this._params.config),{},{alias:this._newName,description:this._newDescription,icon:this._newIcon}),this._entryUpdates):await this._params.updateConfig(Object.assign(Object.assign({},this._params.config),{},{alias:this._newName,description:this._newDescription}),this._entryUpdates),this.closeDialog()):this._error="Name is required")}static get styles(){return[_.RF,_.nA,(0,o.AH)(H||(H=z`ha-wa-dialog{--dialog-content-padding:0 var(--ha-space-6) var(--ha-space-6) var(--ha-space-6)}ha-area-picker,ha-category-picker,ha-icon-picker,ha-labels-picker,ha-textarea,ha-textfield{display:block}ha-area-picker,ha-category-picker,ha-chip-set:has(> ha-assist-chip),ha-icon-picker,ha-labels-picker{margin-top:var(--ha-space-4)}ha-alert{display:block;margin-bottom:var(--ha-space-4)}ha-suggest-with-ai-button{margin:var(--ha-space-2) var(--ha-space-4)}`))]}constructor(...e){super(...e),this._open=!1,this._visibleOptionals=[],this._generateTask=async()=>{if(!this._params)throw new Error("Dialog params not set");return(0,m.q3)(this.hass.connection,this.hass.language,this._params.domain,this._params.config,await(0,y.m)(this.hass.connection,this.hass.states,this._params.domain))}}}(0,s.Cg)([(0,n.MZ)({attribute:!1})],Z.prototype,"hass",void 0),(0,s.Cg)([(0,n.wk)()],Z.prototype,"_open",void 0),(0,s.Cg)([(0,n.wk)()],Z.prototype,"_error",void 0),(0,s.Cg)([(0,n.wk)()],Z.prototype,"_visibleOptionals",void 0),(0,s.Cg)([(0,n.wk)()],Z.prototype,"_entryUpdates",void 0),(0,s.Cg)([(0,n.wk)()],Z.prototype,"_params",void 0),(0,s.Cg)([(0,n.wk)()],Z.prototype,"_newName",void 0),Z=(0,s.Cg)([(0,n.EM)("ha-dialog-automation-save")],Z),i()}catch(b){i(b)}})},16536:function(e,t,a){a.a(e,async function(e,t){try{a(74423),a(18111),a(22489),a(61701),a(3362),a(17642),a(58004),a(33853),a(45876),a(32475),a(15024),a(31698),a(62953);var i=a(40445),s=a(96196),o=a(77845),n=a(22786),r=a(1087),l=a(38508),h=(a(67094),a(76570)),c=a(54706),d=a(90986),p=e([l]);l=(p.then?(await p)():p)[0];let u,g,_,m,y,v,b=e=>e;const $="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",f="M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 5.5,4A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M21.41,11.58L12.41,2.58C12.05,2.22 11.55,2 11,2H4C2.89,2 2,2.89 2,4V11C2,11.55 2.22,12.05 2.59,12.41L11.58,21.41C11.95,21.77 12.45,22 13,22C13.55,22 14.05,21.77 14.41,21.41L21.41,14.41C21.78,14.05 22,13.55 22,13C22,12.44 21.77,11.94 21.41,11.58Z",C="___ADD_NEW___";class w extends((0,c.E)(s.WF)){async open(){var e;await this.updateComplete,await(null===(e=this._picker)||void 0===e?void 0:e.open())}hassSubscribe(){return[(0,h.Ar)(this.hass.connection,this.scope,e=>{this._categories=e})]}render(){const e=this._computeValueRenderer(this._categories);return(0,s.qy)(u||(u=b` <ha-generic-picker .hass="${0}" .autofocus="${0}" .label="${0}" .placeholder="${0}" .value="${0}" .notFoundLabel="${0}" .emptyLabel="${0}" .getItems="${0}" .getAdditionalItems="${0}" .valueRenderer="${0}" .unknownItemText="${0}" @value-changed="${0}"> </ha-generic-picker> `),this.hass,this.autofocus,this.label,this.placeholder,this.value,this._notFoundLabel,this.hass.localize("ui.components.category-picker.no_categories"),this._getItems,this._getAdditionalItems,e,this.hass.localize("ui.components.category-picker.unknown"),this._valueChanged)}_valueChanged(e){e.stopPropagation();const t=e.detail.value;if(t){if(t.startsWith(C)){this.hass.loadFragmentTranslation("config");const e=t.substring(C.length);return void(0,d.S)(this,{scope:this.scope,suggestedName:e,createEntry:async e=>{const t=await(0,h.s_)(this.hass,this.scope,e);return this._setValue(t.category_id),t}})}this._setValue(t)}else this._setValue(void 0)}_setValue(e){this.value=e,setTimeout(()=>{(0,r.r)(this,"value-changed",{value:e}),(0,r.r)(this,"change")},0)}constructor(...e){super(...e),this.noAdd=!1,this.disabled=!1,this.required=!1,this.hassSubscribeRequiredHostProps=["scope"],this._categoryMap=(0,n.A)(e=>e?new Map(e.map(e=>[e.category_id,e])):new Map),this._computeValueRenderer=(0,n.A)(e=>t=>{const a=this._categoryMap(e).get(t);return a?(0,s.qy)(_||(_=b` ${0} <span slot="headline">${0}</span> `),a.icon?(0,s.qy)(m||(m=b`<ha-icon slot="start" .icon="${0}"></ha-icon>`),a.icon):(0,s.qy)(y||(y=b`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),f),a.name):(0,s.qy)(g||(g=b` <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <span slot="headline">${0}</span> `),f,t)}),this._getCategories=(0,n.A)(e=>{if(!e)return;return e.map(e=>({id:e.category_id,primary:e.name,icon:e.icon||void 0,icon_path:e.icon?void 0:f,sorting_label:e.name}))}),this._getItems=()=>this._getCategories(this._categories),this._allCategoryNames=(0,n.A)(e=>e?[...new Set(e.map(e=>e.name.toLowerCase()).filter(Boolean))]:[]),this._getAdditionalItems=e=>{if(this.noAdd)return[];const t=this._allCategoryNames(this._categories);return e&&!t.includes(e.toLowerCase())?[{id:C+e,primary:this.hass.localize("ui.components.category-picker.add_new_sugestion",{name:e}),icon_path:$}]:[{id:C,primary:this.hass.localize("ui.components.category-picker.add_new"),icon_path:$}]},this._notFoundLabel=e=>this.hass.localize("ui.components.category-picker.no_match",{term:(0,s.qy)(v||(v=b`<b>‘${0}’</b>`),e)})}}(0,i.Cg)([(0,o.MZ)({attribute:!1})],w.prototype,"hass",void 0),(0,i.Cg)([(0,o.MZ)()],w.prototype,"scope",void 0),(0,i.Cg)([(0,o.MZ)()],w.prototype,"label",void 0),(0,i.Cg)([(0,o.MZ)()],w.prototype,"value",void 0),(0,i.Cg)([(0,o.MZ)()],w.prototype,"helper",void 0),(0,i.Cg)([(0,o.MZ)()],w.prototype,"placeholder",void 0),(0,i.Cg)([(0,o.MZ)({type:Boolean,attribute:"no-add"})],w.prototype,"noAdd",void 0),(0,i.Cg)([(0,o.MZ)({type:Boolean})],w.prototype,"disabled",void 0),(0,i.Cg)([(0,o.MZ)({type:Boolean})],w.prototype,"required",void 0),(0,i.Cg)([(0,o.wk)()],w.prototype,"_categories",void 0),(0,i.Cg)([(0,o.P)("ha-generic-picker")],w.prototype,"_picker",void 0),w=(0,i.Cg)([(0,o.EM)("ha-category-picker")],w),t()}catch(u){t(u)}})}}]);
//# sourceMappingURL=31990.79654a3fb83e643e.js.map