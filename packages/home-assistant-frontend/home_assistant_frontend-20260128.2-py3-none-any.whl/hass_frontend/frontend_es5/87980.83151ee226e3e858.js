"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["87980"],{24519:function(a,i,e){e.a(a,async function(a,o){try{e.r(i),e.d(i,{HuiSaveConfig:function(){return A}});e(3362);var t=e(40445),s=e(96196),l=e(77845),n=e(1087),h=e(18350),c=(e(72554),e(76538),e(6),e(26300),e(59646),e(10763)),r=e(14503),g=e(36918),p=e(93275),d=a([h,c]);[h,c]=d.then?(await d)():d;let u,_,m,v,f,y,$=a=>a;const C="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",b="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",k={views:[{title:"Home"}]};class A extends s.WF{showDialog(a){this._params=a,this._emptyConfig=!1}closeDialog(){return this._params=void 0,(0,n.r)(this,"dialog-closed",{dialog:this.localName}),!0}render(){if(!this._params)return s.s6;const a=this.hass.localize("ui.panel.lovelace.editor.save_config.header");return(0,s.qy)(u||(u=$` <ha-dialog open scrimClickAction escapeKeyAction @closed="${0}" .heading="${0}"> <ha-dialog-header slot="heading"> <ha-icon-button slot="navigationIcon" dialogAction="cancel" .label="${0}" .path="${0}"></ha-icon-button> <span slot="title">${0}</span> <a href="${0}" title="${0}" target="_blank" rel="noreferrer" slot="actionItems"> <ha-icon-button .path="${0}" .label="${0}"></ha-icon-button> </a> </ha-dialog-header> <div> <p> ${0} </p> ${0} </div> ${0} </ha-dialog> `),this._close,a,this.hass.localize("ui.common.close"),C,a,(0,g.o)(this.hass,"/lovelace/"),this.hass.localize("ui.panel.lovelace.menu.help"),b,this.hass.localize("ui.common.help"),this.hass.localize("ui.panel.lovelace.editor.save_config.para"),"storage"===this._params.mode?(0,s.qy)(_||(_=$` <p> ${0} </p> <ha-formfield .label="${0}"> <ha-switch .checked="${0}" @change="${0}" dialogInitialFocus></ha-switch></ha-formfield> `),this.hass.localize("ui.panel.lovelace.editor.save_config.para_sure"),this.hass.localize("ui.panel.lovelace.editor.save_config.empty_config"),this._emptyConfig,this._emptyConfigChanged):(0,s.qy)(m||(m=$` <p> ${0} </p> <p> ${0} </p> <p> ${0} </p> <ha-yaml-editor .hass="${0}" .defaultValue="${0}" dialogInitialFocus></ha-yaml-editor> `),this.hass.localize("ui.panel.lovelace.editor.save_config.yaml_mode"),this.hass.localize("ui.panel.lovelace.editor.save_config.yaml_control"),this.hass.localize("ui.panel.lovelace.editor.save_config.yaml_config"),this.hass,this._params.lovelace.config),"storage"===this._params.mode?(0,s.qy)(v||(v=$` <ha-button appearance="plain" slot="primaryAction" @click="${0}"> ${0} </ha-button> <ha-button slot="primaryAction" @click="${0}" .loading="${0}"> ${0} </ha-button> `),this.closeDialog,this.hass.localize("ui.common.cancel"),this._saveConfig,this._saving,this.hass.localize("ui.panel.lovelace.editor.save_config.save")):(0,s.qy)(f||(f=$` <ha-button slot="primaryAction" @click="${0}"> ${0}</ha-button> `),this.closeDialog,this.hass.localize("ui.panel.lovelace.editor.save_config.close")))}_close(a){a&&a.stopPropagation(),this.closeDialog()}_emptyConfigChanged(a){this._emptyConfig=a.target.checked}async _saveConfig(){if(this.hass&&this._params){this._saving=!0;try{const a=this._params.lovelace;await a.saveConfig(this._emptyConfig?k:await(0,p.d4)(a.config,this.hass)),a.setEditMode(!0),this._saving=!1,this.closeDialog()}catch(a){alert(`Saving failed: ${a.message}`),this._saving=!1}}}static get styles(){return[r.nA,(0,s.AH)(y||(y=$`ha-dialog{--dialog-content-padding:0 24px 24px 24px}ha-dialog-header a{color:inherit;text-decoration:none}`))]}constructor(){super(),this._emptyConfig=!1,this._saving=!1}}(0,t.Cg)([(0,l.MZ)({attribute:!1})],A.prototype,"hass",void 0),(0,t.Cg)([(0,l.wk)()],A.prototype,"_params",void 0),(0,t.Cg)([(0,l.wk)()],A.prototype,"_emptyConfig",void 0),(0,t.Cg)([(0,l.wk)()],A.prototype,"_saving",void 0),A=(0,t.Cg)([(0,l.EM)("hui-dialog-save-config")],A),o()}catch(u){o(u)}})}}]);
//# sourceMappingURL=87980.83151ee226e3e858.js.map