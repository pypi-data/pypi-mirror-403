"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["11037"],{80785:function(e,t,a){function o(e){return!!e&&(e instanceof Date&&!isNaN(e.valueOf()))}a.d(t,{A:function(){return o}})},380:function(e,t,a){a.a(e,async function(e,o){try{a.d(t,{D:function(){return d},P:function(){return c}});a(74423);var n=a(74487),i=a(81e3),r=a(46927),l=a(96029),s=e([n]);n=(s.then?(await s)():s)[0];const c=e=>e.first_weekday===r.zt.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(e.language).weekInfo.firstDay%7:(0,i.S)(e.language)%7:l.Z.includes(e.first_weekday)?l.Z.indexOf(e.first_weekday):1,d=e=>{const t=c(e);return l.Z[t]};o()}catch(c){o(c)}})},72487:function(e,t,a){a.a(e,async function(e,o){try{a.d(t,{CA:function(){return x},Pm:function(){return _},Wq:function(){return b},Yq:function(){return c},fr:function(){return v},gu:function(){return $},kz:function(){return u},sl:function(){return f},zB:function(){return p}});a(18111),a(20116);var n=a(74487),i=a(22786),r=a(46927),l=a(8480),s=e([n,l]);[n,l]=s.then?(await s)():s;(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",month:"long",day:"numeric",timeZone:(0,l.w)(e.time_zone,t)}));const c=(e,t,a)=>d(t,a.time_zone).format(e),d=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",timeZone:(0,l.w)(e.time_zone,t)})),u=(e,t,a)=>h(t,a.time_zone).format(e),h=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"short",day:"numeric",timeZone:(0,l.w)(e.time_zone,t)})),p=(e,t,a)=>{var o,n,i,l;const s=m(t,a.time_zone);if(t.date_format===r.ow.language||t.date_format===r.ow.system)return s.format(e);const c=s.formatToParts(e),d=null===(o=c.find(e=>"literal"===e.type))||void 0===o?void 0:o.value,u=null===(n=c.find(e=>"day"===e.type))||void 0===n?void 0:n.value,h=null===(i=c.find(e=>"month"===e.type))||void 0===i?void 0:i.value,p=null===(l=c.find(e=>"year"===e.type))||void 0===l?void 0:l.value,f=c[c.length-1];let g="literal"===(null==f?void 0:f.type)?null==f?void 0:f.value:"";"bg"===t.language&&t.date_format===r.ow.YMD&&(g="");return{[r.ow.DMY]:`${u}${d}${h}${d}${p}${g}`,[r.ow.MDY]:`${h}${d}${u}${d}${p}${g}`,[r.ow.YMD]:`${p}${d}${h}${d}${u}${g}`}[t.date_format]},m=(0,i.A)((e,t)=>{const a=e.date_format===r.ow.system?void 0:e.language;return e.date_format===r.ow.language||(e.date_format,r.ow.system),new Intl.DateTimeFormat(a,{year:"numeric",month:"numeric",day:"numeric",timeZone:(0,l.w)(e.time_zone,t)})}),f=(e,t,a)=>g(t,a.time_zone).format(e),g=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{day:"numeric",month:"short",timeZone:(0,l.w)(e.time_zone,t)})),v=(e,t,a)=>y(t,a.time_zone).format(e),y=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{month:"long",year:"numeric",timeZone:(0,l.w)(e.time_zone,t)})),b=(e,t,a)=>w(t,a.time_zone).format(e),w=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{month:"long",timeZone:(0,l.w)(e.time_zone,t)})),_=(e,t,a)=>k(t,a.time_zone).format(e),k=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",timeZone:(0,l.w)(e.time_zone,t)})),x=(e,t,a)=>C(t,a.time_zone).format(e),C=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",timeZone:(0,l.w)(e.time_zone,t)})),$=(e,t,a)=>S(t,a.time_zone).format(e),S=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"short",timeZone:(0,l.w)(e.time_zone,t)}));o()}catch(c){o(c)}})},95747:function(e,t,a){a.a(e,async function(e,o){try{a.d(t,{CL:function(){return b},GH:function(){return k},Rl:function(){return p},ZS:function(){return v},aQ:function(){return f},r6:function(){return u},yg:function(){return w}});var n=a(74487),i=a(22786),r=a(72487),l=a(30162),s=a(8480),c=a(69543),d=e([n,s,r,l]);[n,s,r,l]=d.then?(await d)():d;const u=(e,t,a)=>h(t,a.time_zone).format(e),h=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",hour:(0,c.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,c.J)(e)?"h12":"h23",timeZone:(0,s.w)(e.time_zone,t)})),p=e=>m().format(e),m=(0,i.A)(()=>new Intl.DateTimeFormat(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})),f=(e,t,a)=>g(t,a.time_zone).format(e),g=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"short",day:"numeric",hour:(0,c.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,c.J)(e)?"h12":"h23",timeZone:(0,s.w)(e.time_zone,t)})),v=(e,t,a)=>y(t,a.time_zone).format(e),y=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{month:"short",day:"numeric",hour:(0,c.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,c.J)(e)?"h12":"h23",timeZone:(0,s.w)(e.time_zone,t)})),b=(e,t,a)=>(new Date).getFullYear()===e.getFullYear()?v(e,t,a):f(e,t,a),w=(e,t,a)=>_(t,a.time_zone).format(e),_=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",hour:(0,c.J)(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,c.J)(e)?"h12":"h23",timeZone:(0,s.w)(e.time_zone,t)})),k=(e,t,a)=>`${(0,r.zB)(e,t,a)}, ${(0,l.fU)(e,t,a)}`;o()}catch(u){o(u)}})},30162:function(e,t,a){a.a(e,async function(e,o){try{a.d(t,{LW:function(){return f},Xs:function(){return p},fU:function(){return c},ie:function(){return u}});var n=a(74487),i=a(22786),r=a(8480),l=a(69543),s=e([n,r]);[n,r]=s.then?(await s)():s;const c=(e,t,a)=>d(t,a.time_zone).format(e),d=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{hour:"numeric",minute:"2-digit",hourCycle:(0,l.J)(e)?"h12":"h23",timeZone:(0,r.w)(e.time_zone,t)})),u=(e,t,a)=>h(t,a.time_zone).format(e),h=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{hour:(0,l.J)(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,l.J)(e)?"h12":"h23",timeZone:(0,r.w)(e.time_zone,t)})),p=(e,t,a)=>m(t,a.time_zone).format(e),m=(0,i.A)((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",hour:(0,l.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,l.J)(e)?"h12":"h23",timeZone:(0,r.w)(e.time_zone,t)})),f=(e,t,a)=>g(t,a.time_zone).format(e),g=(0,i.A)((e,t)=>new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit",hour12:!1,timeZone:(0,r.w)(e.time_zone,t)}));o()}catch(c){o(c)}})},98975:function(e,t,a){a.a(e,async function(e,o){try{a.d(t,{K:function(){return c}});var n=a(74487),i=a(22786),r=a(63927),l=e([n,r]);[n,r]=l.then?(await l)():l;const s=(0,i.A)(e=>new Intl.RelativeTimeFormat(e.language,{numeric:"auto"})),c=(e,t,a,o=!0)=>{const n=(0,r.x)(e,a,t);return o?s(t).format(n.value,n.unit):Intl.NumberFormat(t.language,{style:"unit",unit:n.unit,unitDisplay:"long"}).format(Math.abs(n.value))};o()}catch(s){o(s)}})},8480:function(e,t,a){a.a(e,async function(e,o){try{a.d(t,{n:function(){return u},w:function(){return h}});var n,i,r,l=a(74487),s=a(46927),c=e([l]);l=(c.then?(await c)():c)[0];const d=null===(n=Intl.DateTimeFormat)||void 0===n||null===(i=(r=n.call(Intl)).resolvedOptions)||void 0===i?void 0:i.call(r).timeZone,u=null!=d?d:"UTC",h=(e,t)=>e===s.Wj.local&&d?u:t;o()}catch(d){o(d)}})},69543:function(e,t,a){a.d(t,{J:function(){return i}});a(74423);var o=a(22786),n=a(46927);const i=(0,o.A)(e=>{if(e.time_format===n.Hg.language||e.time_format===n.Hg.system){const t=e.time_format===n.Hg.language?e.language:void 0;return new Date("January 1, 2023 22:00:00").toLocaleString(t).includes("10")}return e.time_format===n.Hg.am_pm})},96029:function(e,t,a){a.d(t,{Tq:function(){return r},Z:function(){return n},ZV:function(){return o},sj:function(){return i}});const o=["sun","mon","tue","wed","thu","fri","sat"],n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],i={0:"sun",1:"mon",2:"tue",3:"wed",4:"thu",5:"fri",6:"sat"},r={sun:"sunday",mon:"monday",tue:"tuesday",wed:"wednesday",thu:"thursday",fri:"friday",sat:"saturday"}},63927:function(e,t,a){a.a(e,async function(e,o){try{a.d(t,{x:function(){return p}});var n=a(6946),i=a(52640),r=a(38684),l=a(380),s=e([l]);l=(s.then?(await s)():s)[0];const d=1e3,u=60,h=60*u;function p(e,t=Date.now(),a,o={}){const s=Object.assign(Object.assign({},m),o||{}),c=(+e-+t)/d;if(Math.abs(c)<s.second)return{value:Math.round(c),unit:"second"};const p=c/u;if(Math.abs(p)<s.minute)return{value:Math.round(p),unit:"minute"};const f=c/h;if(Math.abs(f)<s.hour)return{value:Math.round(f),unit:"hour"};const g=new Date(e),v=new Date(t);g.setHours(0,0,0,0),v.setHours(0,0,0,0);const y=(0,n.c)(g,v);if(0===y)return{value:Math.round(f),unit:"hour"};if(Math.abs(y)<s.day)return{value:y,unit:"day"};const b=(0,l.P)(a),w=(0,i.k)(g,{weekStartsOn:b}),_=(0,i.k)(v,{weekStartsOn:b}),k=(0,r.I)(w,_);if(0===k)return{value:y,unit:"day"};if(Math.abs(k)<s.week)return{value:k,unit:"week"};const x=g.getFullYear()-v.getFullYear(),C=12*x+g.getMonth()-v.getMonth();return 0===C?{value:k,unit:"week"}:Math.abs(C)<s.month||0===x?{value:C,unit:"month"}:{value:Math.round(x),unit:"year"}}const m={second:59,minute:59,hour:22,day:5,week:4,month:11};o()}catch(c){o(c)}})},93444:function(e,t,a){var o=a(40445),n=a(96196),i=a(77845);let r,l,s=e=>e;class c extends n.WF{render(){return(0,n.qy)(r||(r=s` <footer> <slot name="secondaryAction"></slot> <slot name="primaryAction"></slot> </footer> `))}static get styles(){return[(0,n.AH)(l||(l=s`footer{display:flex;gap:var(--ha-space-3);justify-content:flex-end;align-items:center;width:100%}`))]}}c=(0,o.Cg)([(0,i.EM)("ha-dialog-footer")],c)},76538:function(e,t,a){a(62953);var o=a(40445),n=a(96196),i=a(77845);let r,l,s,c,d,u,h=e=>e;class p extends n.WF{render(){const e=(0,n.qy)(r||(r=h`<div class="header-title"> <slot name="title"></slot> </div>`)),t=(0,n.qy)(l||(l=h`<div class="header-subtitle"> <slot name="subtitle"></slot> </div>`));return(0,n.qy)(s||(s=h` <header class="header"> <div class="header-bar"> <section class="header-navigation-icon"> <slot name="navigationIcon"></slot> </section> <section class="header-content"> ${0} </section> <section class="header-action-items"> <slot name="actionItems"></slot> </section> </div> <slot></slot> </header> `),"above"===this.subtitlePosition?(0,n.qy)(c||(c=h`${0}${0}`),t,e):(0,n.qy)(d||(d=h`${0}${0}`),e,t))}static get styles(){return[(0,n.AH)(u||(u=h`:host{display:block}:host([show-border]){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.header-bar{display:flex;flex-direction:row;align-items:center;padding:0 var(--ha-space-1);box-sizing:border-box}.header-content{flex:1;padding:10px var(--ha-space-1);display:flex;flex-direction:column;justify-content:center;min-height:var(--ha-space-12);min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.header-title{height:var(--ha-dialog-header-title-height,calc(var(--ha-font-size-xl) + var(--ha-space-1)));font-size:var(--ha-font-size-xl);line-height:var(--ha-line-height-condensed);font-weight:var(--ha-font-weight-medium);color:var(--ha-dialog-header-title-color,var(--primary-text-color))}.header-subtitle{font-size:var(--ha-font-size-m);line-height:var(--ha-line-height-normal);color:var(--ha-dialog-header-subtitle-color,var(--secondary-text-color))}@media all and (min-width:450px) and (min-height:500px){.header-bar{padding:0 var(--ha-space-2)}}.header-navigation-icon{flex:none;min-width:var(--ha-space-2);height:100%;display:flex;flex-direction:row}.header-action-items{flex:none;min-width:var(--ha-space-2);height:100%;display:flex;flex-direction:row}`))]}constructor(...e){super(...e),this.subtitlePosition="below",this.showBorder=!1}}(0,o.Cg)([(0,i.MZ)({type:String,attribute:"subtitle-position"})],p.prototype,"subtitlePosition",void 0),(0,o.Cg)([(0,i.MZ)({type:Boolean,reflect:!0,attribute:"show-border"})],p.prototype,"showBorder",void 0),p=(0,o.Cg)([(0,i.EM)("ha-dialog-header")],p)},2846:function(e,t,a){a.d(t,{G:function(){return h},J:function(){return u}});var o=a(40445),n=a(97154),i=a(82553),r=a(96196),l=a(77845);a(54276);let s,c,d=e=>e;const u=[i.R,(0,r.AH)(s||(s=d`:host{--ha-icon-display:block;--md-sys-color-primary:var(--primary-text-color);--md-sys-color-secondary:var(--secondary-text-color);--md-sys-color-surface:var(--card-background-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color)}md-item{overflow:var(--md-item-overflow,hidden);align-items:var(--md-item-align-items,center);gap:var(--ha-md-list-item-gap,16px)}`))];class h extends n.n{renderRipple(){return"text"===this.type?r.s6:(0,r.qy)(c||(c=d`<ha-ripple part="ripple" for="item" ?disabled="${0}"></ha-ripple>`),this.disabled&&"link"!==this.type)}}h.styles=u,h=(0,o.Cg)([(0,l.EM)("ha-md-list-item")],h)},17308:function(e,t,a){var o=a(40445),n=a(49838),i=a(11245),r=a(96196),l=a(77845);let s;class c extends n.B{}c.styles=[i.R,(0,r.AH)(s||(s=(e=>e)`:host{--md-sys-color-surface:var(--card-background-color)}`))],c=(0,o.Cg)([(0,l.EM)("ha-md-list")],c)},54276:function(e,t,a){a(62953);var o=a(40445),n=a(76482),i=a(91382),r=a(96245),l=a(96196),s=a(77845);let c;class d extends i.n{attach(e){super.attach(e),this.attachableTouchController.attach(e)}disconnectedCallback(){super.disconnectedCallback(),this.hovered=!1,this.pressed=!1}detach(){super.detach(),this.attachableTouchController.detach()}_onTouchControlChange(e,t){null==e||e.removeEventListener("touchend",this._handleTouchEnd),null==t||t.addEventListener("touchend",this._handleTouchEnd)}constructor(...e){super(...e),this.attachableTouchController=new n.i(this,this._onTouchControlChange.bind(this)),this._handleTouchEnd=()=>{this.disabled||super.endPressAnimation()}}}d.styles=[r.R,(0,l.AH)(c||(c=(e=>e)`:host{--md-ripple-hover-opacity:var(--ha-ripple-hover-opacity, 0.08);--md-ripple-pressed-opacity:var(--ha-ripple-pressed-opacity, 0.12);--md-ripple-hover-color:var(
          --ha-ripple-hover-color,
          var(--ha-ripple-color, var(--secondary-text-color))
        );--md-ripple-pressed-color:var(
          --ha-ripple-pressed-color,
          var(--ha-ripple-color, var(--secondary-text-color))
        )}`))],d=(0,o.Cg)([(0,s.EM)("ha-ripple")],d)},45331:function(e,t,a){a.a(e,async function(e,t){try{a(3362),a(62953);var o=a(40445),n=a(93900),i=a(96196),r=a(77845),l=a(32288),s=a(1087),c=a(59992),d=a(14503),u=(a(76538),a(26300),e([n,c]));[n,c]=u.then?(await u)():u;let h,p,m,f,g,v,y,b=e=>e;const w="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z";class _ extends((0,c.V)(i.WF)){get scrollableElement(){return this.bodyContainer}updated(e){super.updated(e),e.has("open")&&(this._open=this.open)}render(){var e,t;return(0,i.qy)(h||(h=b` <wa-dialog .open="${0}" .lightDismiss="${0}" without-header aria-labelledby="${0}" aria-describedby="${0}" @keydown="${0}" @wa-hide="${0}" @wa-show="${0}" @wa-after-show="${0}" @wa-after-hide="${0}"> ${0} <div class="content-wrapper"> <div class="body ha-scrollbar" @scroll="${0}"> <slot></slot> </div> ${0} </div> <slot name="footer" slot="footer"></slot> </wa-dialog> `),this._open,!this.preventScrimClose,(0,l.J)(this.ariaLabelledBy||(void 0!==this.headerTitle?"ha-wa-dialog-title":void 0)),(0,l.J)(this.ariaDescribedBy),this._handleKeyDown,this._handleHide,this._handleShow,this._handleAfterShow,this._handleAfterHide,this.withoutHeader?i.s6:(0,i.qy)(p||(p=b` <slot name="header"> <ha-dialog-header .subtitlePosition="${0}" .showBorder="${0}"> <slot name="headerNavigationIcon" slot="navigationIcon"> <ha-icon-button data-dialog="close" .label="${0}" .path="${0}"></ha-icon-button> </slot> ${0} ${0} <slot name="headerActionItems" slot="actionItems"></slot> </ha-dialog-header> </slot>`),this.headerSubtitlePosition,this._bodyScrolled,null!==(e=null===(t=this.hass)||void 0===t?void 0:t.localize("ui.common.close"))&&void 0!==e?e:"Close",w,void 0!==this.headerTitle?(0,i.qy)(m||(m=b`<span slot="title" class="title" id="ha-wa-dialog-title"> ${0} </span>`),this.headerTitle):(0,i.qy)(f||(f=b`<slot name="headerTitle" slot="title"></slot>`)),void 0!==this.headerSubtitle?(0,i.qy)(g||(g=b`<span slot="subtitle">${0}</span>`),this.headerSubtitle):(0,i.qy)(v||(v=b`<slot name="headerSubtitle" slot="subtitle"></slot>`))),this._handleBodyScroll,this.renderScrollableFades())}disconnectedCallback(){super.disconnectedCallback(),this._open=!1}_handleBodyScroll(e){this._bodyScrolled=e.target.scrollTop>0}_handleKeyDown(e){"Escape"===e.key&&(this._escapePressed=!0)}_handleHide(e){this.preventScrimClose&&this._escapePressed&&e.detail.source===e.target.dialog&&e.preventDefault(),this._escapePressed=!1}static get styles(){return[...super.styles,d.dp,(0,i.AH)(y||(y=b`
        wa-dialog {
          --full-width: var(
            --ha-dialog-width-full,
            min(95vw, var(--safe-width))
          );
          --width: min(var(--ha-dialog-width-md, 580px), var(--full-width));
          --spacing: var(--dialog-content-padding, var(--ha-space-6));
          --show-duration: var(--ha-dialog-show-duration, 200ms);
          --hide-duration: var(--ha-dialog-hide-duration, 200ms);
          --ha-dialog-surface-background: var(
            --card-background-color,
            var(--ha-color-surface-default)
          );
          --wa-color-surface-raised: var(
            --ha-dialog-surface-background,
            var(--card-background-color, var(--ha-color-surface-default))
          );
          --wa-panel-border-radius: var(
            --ha-dialog-border-radius,
            var(--ha-border-radius-3xl)
          );
          max-width: var(--ha-dialog-max-width, var(--safe-width));
        }
        @media (prefers-reduced-motion: reduce) {
          wa-dialog {
            --show-duration: 0ms;
            --hide-duration: 0ms;
          }
        }

        :host([width="small"]) wa-dialog {
          --width: min(var(--ha-dialog-width-sm, 320px), var(--full-width));
        }

        :host([width="large"]) wa-dialog {
          --width: min(var(--ha-dialog-width-lg, 1024px), var(--full-width));
        }

        :host([width="full"]) wa-dialog {
          --width: var(--full-width);
        }

        wa-dialog::part(dialog) {
          color: var(--primary-text-color);
          min-width: var(--width, var(--full-width));
          max-width: var(--width, var(--full-width));
          max-height: var(
            --ha-dialog-max-height,
            calc(var(--safe-height) - var(--ha-space-20))
          );
          min-height: var(--ha-dialog-min-height);
          margin-top: var(--dialog-surface-margin-top, auto);
          /* Used to offset the dialog from the safe areas when space is limited */
          transform: translate(
            calc(
              var(--safe-area-offset-left, 0px) - var(
                  --safe-area-offset-right,
                  0px
                )
            ),
            calc(
              var(--safe-area-offset-top, 0px) - var(
                  --safe-area-offset-bottom,
                  0px
                )
            )
          );
          display: flex;
          flex-direction: column;
          overflow: hidden;
        }

        @media all and (max-width: 450px), all and (max-height: 500px) {
          :host([type="standard"]) {
            --ha-dialog-border-radius: 0;

            wa-dialog {
              /* Make the container fill the whole screen width and not the safe width */
              --full-width: var(--ha-dialog-width-full, 100vw);
              --width: var(--full-width);
            }

            wa-dialog::part(dialog) {
              /* Make the dialog fill the whole screen height and not the safe height */
              min-height: var(--ha-dialog-min-height, 100vh);
              min-height: var(--ha-dialog-min-height, 100dvh);
              max-height: var(--ha-dialog-max-height, 100vh);
              max-height: var(--ha-dialog-max-height, 100dvh);
              margin-top: 0;
              margin-bottom: 0;
              /* Use safe area as padding instead of the container size */
              padding-top: var(--safe-area-inset-top);
              padding-bottom: var(--safe-area-inset-bottom);
              padding-left: var(--safe-area-inset-left);
              padding-right: var(--safe-area-inset-right);
              /* Reset the transform to center the dialog */
              transform: none;
            }
          }
        }

        .header-title-container {
          display: flex;
          align-items: center;
        }

        .header-title {
          margin: 0;
          margin-bottom: 0;
          color: var(--ha-dialog-header-title-color, var(--primary-text-color));
          font-size: var(
            --ha-dialog-header-title-font-size,
            var(--ha-font-size-2xl)
          );
          line-height: var(
            --ha-dialog-header-title-line-height,
            var(--ha-line-height-condensed)
          );
          font-weight: var(
            --ha-dialog-header-title-font-weight,
            var(--ha-font-weight-normal)
          );
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
          margin-right: var(--ha-space-3);
        }

        wa-dialog::part(body) {
          padding: 0;
          display: flex;
          flex-direction: column;
          max-width: 100%;
          overflow: hidden;
        }

        .content-wrapper {
          position: relative;
          flex: 1;
          display: flex;
          flex-direction: column;
          min-height: 0;
        }

        .body {
          position: var(--dialog-content-position, relative);
          padding: var(
            --dialog-content-padding,
            0 var(--ha-space-6) var(--ha-space-6) var(--ha-space-6)
          );
          overflow: auto;
          flex-grow: 1;
        }
        :host([flexcontent]) .body {
          max-width: 100%;
          flex: 1;
          display: flex;
          flex-direction: column;
        }

        wa-dialog::part(footer) {
          padding: 0;
        }

        ::slotted([slot="footer"]) {
          display: flex;
          padding: var(--ha-space-3) var(--ha-space-4) var(--ha-space-4)
            var(--ha-space-4);
          gap: var(--ha-space-3);
          justify-content: flex-end;
          align-items: center;
          width: 100%;
        }
      `))]}constructor(...e){super(...e),this.open=!1,this.type="standard",this.width="medium",this.preventScrimClose=!1,this.headerSubtitlePosition="below",this.flexContent=!1,this.withoutHeader=!1,this._open=!1,this._bodyScrolled=!1,this._escapePressed=!1,this._handleShow=async()=>{this._open=!0,(0,s.r)(this,"opened"),await this.updateComplete,requestAnimationFrame(()=>{var e;null===(e=this.querySelector("[autofocus]"))||void 0===e||e.focus()})},this._handleAfterShow=()=>{(0,s.r)(this,"after-show")},this._handleAfterHide=e=>{e.eventPhase===Event.AT_TARGET&&(this._open=!1,(0,s.r)(this,"closed"))}}}(0,o.Cg)([(0,r.MZ)({attribute:!1})],_.prototype,"hass",void 0),(0,o.Cg)([(0,r.MZ)({attribute:"aria-labelledby"})],_.prototype,"ariaLabelledBy",void 0),(0,o.Cg)([(0,r.MZ)({attribute:"aria-describedby"})],_.prototype,"ariaDescribedBy",void 0),(0,o.Cg)([(0,r.MZ)({type:Boolean,reflect:!0})],_.prototype,"open",void 0),(0,o.Cg)([(0,r.MZ)({reflect:!0})],_.prototype,"type",void 0),(0,o.Cg)([(0,r.MZ)({type:String,reflect:!0,attribute:"width"})],_.prototype,"width",void 0),(0,o.Cg)([(0,r.MZ)({type:Boolean,reflect:!0,attribute:"prevent-scrim-close"})],_.prototype,"preventScrimClose",void 0),(0,o.Cg)([(0,r.MZ)({attribute:"header-title"})],_.prototype,"headerTitle",void 0),(0,o.Cg)([(0,r.MZ)({attribute:"header-subtitle"})],_.prototype,"headerSubtitle",void 0),(0,o.Cg)([(0,r.MZ)({type:String,attribute:"header-subtitle-position"})],_.prototype,"headerSubtitlePosition",void 0),(0,o.Cg)([(0,r.MZ)({type:Boolean,reflect:!0,attribute:"flexcontent"})],_.prototype,"flexContent",void 0),(0,o.Cg)([(0,r.MZ)({type:Boolean,attribute:"without-header"})],_.prototype,"withoutHeader",void 0),(0,o.Cg)([(0,r.wk)()],_.prototype,"_open",void 0),(0,o.Cg)([(0,r.P)(".body")],_.prototype,"bodyContainer",void 0),(0,o.Cg)([(0,r.wk)()],_.prototype,"_bodyScrolled",void 0),(0,o.Cg)([(0,r.Ls)({passive:!0})],_.prototype,"_handleBodyScroll",null),_=(0,o.Cg)([(0,r.EM)("ha-wa-dialog")],_),t()}catch(h){t(h)}})},31420:function(e,t,a){a.a(e,async function(e,o){try{a.d(t,{Bi:function(){return B},Dt:function(){return K},EB:function(){return D},IW:function(){return z},P_:function(){return C},SG:function(){return S},Sx:function(){return j},T2:function(){return v},Xm:function(){return b},Ye:function(){return y},Zm:function(){return E},cq:function(){return J},dH:function(){return T},en:function(){return G},gb:function(){return w},gv:function(){return M},jU:function(){return I},kI:function(){return A},mF:function(){return F},mu:function(){return $},oJ:function(){return Z},pI:function(){return k},pL:function(){return Y},q5:function(){return P},q7:function(){return L},qk:function(){return g},sp:function(){return U},uM:function(){return N},v3:function(){return q},xN:function(){return V},yL:function(){return _},yj:function(){return O},zZ:function(){return x}});a(74423),a(26910),a(54743),a(11745),a(16573),a(78100),a(77936),a(18111),a(22489),a(20116),a(7588),a(61701),a(3362),a(27495),a(25440),a(21489),a(48140),a(75044),a(21903),a(91134),a(28845),a(373),a(37467),a(44732),a(79577),a(41549),a(49797),a(49631),a(35623),a(62953),a(48408),a(14603),a(47566),a(98721);var n=a(22711),i=a(97732),r=a(6226),l=a(22786),s=a(80785),c=a(95747),d=a(30162),u=a(36918),h=a(30039),p=a(39889),m=a(95350),f=e([n,c,d]);[n,c,d]=f.then?(await f)():f;var g=function(e){return e.NEVER="never",e.DAILY="daily",e.CUSTOM_DAYS="custom_days",e}({});const v=["mon","tue","wed","thu","fri","sat","sun"],y=e=>e.sort((e,t)=>v.indexOf(e)-v.indexOf(t)),b=e=>e.callWS({type:"backup/config/info"}),w=(e,t)=>e.callWS(Object.assign({type:"backup/config/update"},t)),_=(e,t,a)=>`/api/backup/download/${e}?agent_id=${t}${a?`&password=${a}`:""}`,k=e=>e.callWS({type:"backup/info"}),x=(e,t)=>e.callWS({type:"backup/details",backup_id:t}),C=e=>e.callWS({type:"backup/agents/info"}),$=(e,t)=>e.callWS({type:"backup/delete",backup_id:t}),S=(e,t)=>e.callWS(Object.assign({type:"backup/generate"},t)),z=e=>e.callWS({type:"backup/generate_with_automatic_settings"}),T=(e,t)=>e.callWS(Object.assign({type:"backup/restore"},t)),A=async(e,t,a)=>{const o=new FormData;o.append("file",t);const n=new URLSearchParams;return a.forEach(e=>{n.append("agent_id",e)}),(0,p.QE)(e.fetchWithAuth(`/api/backup/upload?${n.toString()}`,{method:"POST",body:o}))},D=e=>{const t=e.find(B);if(t)return t;const a=e.find(I);return a||e[0]},E=(e,t,a,o)=>e.callWS({type:"backup/can_decrypt_on_download",backup_id:t,agent_id:a,password:o}),M="backup.local",F="hassio.local",Z="cloud.cloud",B=e=>[M,F].includes(e),I=e=>{const[t,a]=e.split(".");return"hassio"===t&&"local"!==a},L=(e,t,a)=>{if(B(t))return e("ui.panel.config.backup.agents.local_agent");const o=a.find(e=>e.agent_id===t),n=t.split(".")[0],i=o?o.name:t.split(".")[1];if(I(t))return i;const r=(0,m.p$)(e,n);return a.filter(e=>e.agent_id.split(".")[0]===n).length>1?`${r}: ${i}`:r},q=e=>Math.max(...Object.values(e.agents).map(e=>e.size)),H=["automatic","app_update","manual"],P=(0,n.z)(e=>e?H:H.filter(e=>"app_update"!==e)),U=(e,t)=>{var a,o;return e.with_automatic_settings?"automatic":!t||null==(null===(a=e.extra_metadata)||void 0===a?void 0:a["supervisor.addon_update"])&&null==(null===(o=e.extra_metadata)||void 0===o?void 0:o["supervisor.app_update"])?"manual":"app_update"},O=(e,t)=>{const a=B(e),o=B(t),n=I(e),i=I(t),r=(e,t)=>e?1:t?2:3,l=r(a,n),s=r(o,i);return l!==s?l-s:e.localeCompare(t)},J=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx";let a="";const o=new Uint8Array(34);return crypto.getRandomValues(o),o.forEach((o,n)=>{a+="-"===t[n]?"-":e[o%36]}),a},W=(e,t)=>"data:text/plain;charset=utf-8,"+encodeURIComponent(`${e.localize("ui.panel.config.backup.emergency_kit_file.title")}\n\n${e.localize("ui.panel.config.backup.emergency_kit_file.description")}\n\n${e.localize("ui.panel.config.backup.emergency_kit_file.date")} ${(0,c.r6)(new Date,e.locale,e.config)}\n\n${e.localize("ui.panel.config.backup.emergency_kit_file.instance")}\n${e.config.location_name}\n\n${e.localize("ui.panel.config.backup.emergency_kit_file.url")}\n${e.auth.data.hassUrl}\n\n${e.localize("ui.panel.config.backup.emergency_kit_file.encryption_key")}\n${t}\n\n${e.localize("ui.panel.config.backup.emergency_kit_file.more_info",{link:(0,u.o)(e,"/more-info/backup-emergency-kit")})}`),R=(e,t)=>`home_assistant_backup_emergency_kit_${t?`${t}_`:""}${(0,c.GH)(new Date,e.locale,e.config).replace(",","").replace(" ","_")}.txt`,j=(e,t,a)=>(0,h.R)(W(e,t),R(e,a)),N=(0,i.g)((0,r.a)(new Date,4),45),Y=(0,i.g)((0,r.a)(new Date,5),45),G=(0,l.A)((e,t,a)=>{if((0,s.A)(a))return(0,d.fU)(a,e,t);if("string"==typeof a&&a){const o=a.split(":"),n=(0,i.g)((0,r.a)(new Date,parseInt(o[0])),parseInt(o[1]));return(0,d.fU)(n,e,t)}return`${(0,d.fU)(N,e,t)} - ${(0,d.fU)(Y,e,t)}`}),V="application/x-tar",K={file:void 0};o()}catch(v){o(v)}})},26581:function(e,t,a){a.d(t,{r:function(){return n},y:function(){return o}});a(3362);const o=async e=>e.callWS({type:"hassio/update/config/info"}),n=async(e,t)=>e.callWS(Object.assign({type:"hassio/update/config/update"},t))},59992:function(e,t,a){a.a(e,async function(e,o){try{a.d(t,{V:function(){return m}});a(62953);var n=a(40445),i=a(88696),r=a(96196),l=a(94333),s=a(77845),c=e([i]);i=(c.then?(await c)():c)[0];let d,u,h=e=>e;const p=e=>void 0===e?[]:Array.isArray(e)?e:[e],m=e=>{class t extends e{get scrollableElement(){return t.DEFAULT_SCROLLABLE_ELEMENT}firstUpdated(e){var t;null===(t=super.firstUpdated)||void 0===t||t.call(this,e),this.scrollableElement&&this._updateScrollableState(this.scrollableElement),this._attachScrollableElement()}updated(e){var t;null===(t=super.updated)||void 0===t||t.call(this,e),this._attachScrollableElement()}disconnectedCallback(){this._detachScrollableElement(),this._contentScrolled=!1,this._contentScrollable=!1,super.disconnectedCallback()}renderScrollableFades(e=!1){return(0,r.qy)(d||(d=h` <div class="${0}"></div> <div class="${0}"></div> `),(0,l.H)({"fade-top":!0,rounded:e,visible:this._contentScrolled}),(0,l.H)({"fade-bottom":!0,rounded:e,visible:this._contentScrollable}))}static get styles(){var e;const t=Object.getPrototypeOf(this);return[...p(null!==(e=null==t?void 0:t.styles)&&void 0!==e?e:[]),(0,r.AH)(u||(u=h`.fade-bottom,.fade-top{position:absolute;left:0;right:0;height:var(--ha-space-2);pointer-events:none;transition:opacity 180ms ease-in-out;border-radius:var(--ha-border-radius-square);opacity:0;background:linear-gradient(to bottom,var(--ha-color-shadow-scrollable-fade),transparent)}.fade-top{top:0}.fade-bottom{bottom:0;transform:rotate(180deg)}.fade-bottom.visible,.fade-top.visible{opacity:1}.fade-bottom.rounded,.fade-top.rounded{border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg));border-bottom-left-radius:var(--ha-border-radius-square);border-bottom-right-radius:var(--ha-border-radius-square)}.fade-top.rounded{border-top-left-radius:var(--ha-border-radius-square);border-top-right-radius:var(--ha-border-radius-square)}.fade-bottom.rounded{border-bottom-left-radius:var(--ha-border-radius-square);border-bottom-right-radius:var(--ha-border-radius-square)}`))]}_attachScrollableElement(){const e=this.scrollableElement;e!==this._scrollTarget&&(this._detachScrollableElement(),e&&(this._scrollTarget=e,e.addEventListener("scroll",this._onScroll,{passive:!0}),this._resize.observe(e),this._updateScrollableState(e)))}_detachScrollableElement(){var e,t;this._scrollTarget&&(this._scrollTarget.removeEventListener("scroll",this._onScroll),null===(e=(t=this._resize).unobserve)||void 0===e||e.call(t,this._scrollTarget),this._scrollTarget=void 0)}_updateScrollableState(e){const t=parseFloat(getComputedStyle(e).getPropertyValue("--safe-area-inset-bottom"))||0,{scrollHeight:a=0,clientHeight:o=0,scrollTop:n=0}=e;this._contentScrollable=a-o>n+t+this.scrollFadeSafeAreaPadding}constructor(...e){super(...e),this._contentScrolled=!1,this._contentScrollable=!1,this._onScroll=e=>{var t;const a=e.currentTarget;this._contentScrolled=(null!==(t=a.scrollTop)&&void 0!==t?t:0)>this.scrollFadeThreshold,this._updateScrollableState(a)},this._resize=new i.P(this,{target:null,callback:e=>{var t;const a=null===(t=e[0])||void 0===t?void 0:t.target;a&&this._updateScrollableState(a)}}),this.scrollFadeSafeAreaPadding=4,this.scrollFadeThreshold=4}}return t.DEFAULT_SCROLLABLE_ELEMENT=null,(0,n.Cg)([(0,s.wk)()],t.prototype,"_contentScrolled",void 0),(0,n.Cg)([(0,s.wk)()],t.prototype,"_contentScrollable",void 0),t};o()}catch(d){o(d)}})},56588:function(e,t,a){a.a(e,async function(e,o){try{a.r(t),a.d(t,{DialogLabsPreviewFeatureEnable:function(){return w}});a(89463),a(3362),a(62953);var n=a(40445),i=a(96196),r=a(77845),l=a(36312),s=a(98975),c=a(1087),d=a(18350),u=(a(93444),a(45331)),h=(a(17308),a(2846),a(59646),a(31420)),p=a(26581),m=e([d,u,h,s]);[d,u,h,s]=m.then?(await m)():m;let f,g,v,y,b=e=>e;class w extends i.WF{async showDialog(e){this._params=e,this._createBackup=!1,this._open=!0,this._fetchBackupConfig(),(0,l.x)(this.hass,"hassio")&&this._fetchUpdateBackupConfig()}closeDialog(){return this._open=!1,!0}_dialogClosed(){this._params=void 0,this._backupConfig=void 0,this._createBackup=!1,(0,c.r)(this,"dialog-closed",{dialog:this.localName})}async _fetchBackupConfig(){try{const{config:e}=await(0,h.Xm)(this.hass);this._backupConfig=e}catch(e){console.error(e)}}async _fetchUpdateBackupConfig(){try{const e=await(0,p.y)(this.hass);this._createBackup=e.core_backup_before_update}catch(e){console.error(e)}}_computeCreateBackupTexts(){if(!this._backupConfig||!this._backupConfig.automatic_backups_configured||!this._backupConfig.create_backup.password||0===this._backupConfig.create_backup.agent_ids.length)return{title:this.hass.localize("ui.panel.config.labs.create_backup.manual"),description:this.hass.localize("ui.panel.config.labs.create_backup.manual_description")};const e=this._backupConfig.last_completed_automatic_backup?new Date(this._backupConfig.last_completed_automatic_backup):null,t=new Date;return{title:this.hass.localize("ui.panel.config.labs.create_backup.automatic"),description:e?this.hass.localize("ui.panel.config.labs.create_backup.automatic_description_last",{relative_time:(0,s.K)(e,this.hass.locale,t,!0)}):this.hass.localize("ui.panel.config.labs.create_backup.automatic_description_none")}}_createBackupChanged(e){this._createBackup=e.target.checked}_handleCancel(){this.closeDialog()}_handleConfirm(){this._params&&this._params.onConfirm(this._createBackup),this.closeDialog()}render(){if(!this._params)return i.s6;const e=this._computeCreateBackupTexts();return(0,i.qy)(f||(f=b` <ha-wa-dialog .hass="${0}" .open="${0}" header-title="${0}" @closed="${0}"> <p> ${0} </p> ${0} <ha-dialog-footer slot="footer"> <ha-button slot="secondaryAction" appearance="plain" @click="${0}"> ${0} </ha-button> <ha-button slot="primaryAction" appearance="filled" variant="brand" @click="${0}"> ${0} </ha-button> </ha-dialog-footer> </ha-wa-dialog> `),this.hass,this._open,this.hass.localize("ui.panel.config.labs.enable_title"),this._dialogClosed,this.hass.localize(`component.${this._params.preview_feature.domain}.preview_features.${this._params.preview_feature.preview_feature}.enable_confirmation`)||this.hass.localize("ui.panel.config.labs.enable_confirmation"),e?(0,i.qy)(g||(g=b` <ha-md-list> <ha-md-list-item> <span slot="headline">${0}</span> ${0} <ha-switch slot="end" .checked="${0}" @change="${0}"></ha-switch> </ha-md-list-item> </ha-md-list> `),e.title,e.description?(0,i.qy)(v||(v=b` <span slot="supporting-text"> ${0} </span> `),e.description):i.s6,this._createBackup,this._createBackupChanged):i.s6,this._handleCancel,this.hass.localize("ui.common.cancel"),this._handleConfirm,this.hass.localize("ui.panel.config.labs.enable"))}constructor(...e){super(...e),this._createBackup=!1,this._open=!1}}w.styles=(0,i.AH)(y||(y=b`ha-wa-dialog{--dialog-content-padding:0}p{margin:0 var(--ha-space-6) var(--ha-space-6);color:var(--secondary-text-color)}ha-md-list{background:0 0;--md-list-item-leading-space:var(--ha-space-6);--md-list-item-trailing-space:var(--ha-space-6);margin:0;padding:0;border-top:var(--ha-border-width-sm) solid var(--divider-color)}`)),(0,n.Cg)([(0,r.MZ)({attribute:!1})],w.prototype,"hass",void 0),(0,n.Cg)([(0,r.wk)()],w.prototype,"_params",void 0),(0,n.Cg)([(0,r.wk)()],w.prototype,"_backupConfig",void 0),(0,n.Cg)([(0,r.wk)()],w.prototype,"_createBackup",void 0),(0,n.Cg)([(0,r.wk)()],w.prototype,"_open",void 0),w=(0,n.Cg)([(0,r.EM)("dialog-labs-preview-feature-enable")],w),o()}catch(f){o(f)}})},69235:function(e,t,a){a.a(e,async function(e,t){try{a(3362),a(62953);"function"!=typeof window.ResizeObserver&&(window.ResizeObserver=(await a.e("71055").then(a.bind(a,52370))).default),t()}catch(o){t(o)}},1)},26528:function(e,t,a){a.d(t,{v:function(){return o}});a(3362);const o=async(e,t,a={})=>(e.expired&&await e.refreshAccessToken(),a.credentials="same-origin",a.headers||(a.headers={}),a.headers||(a.headers={}),a.headers.authorization=`Bearer ${e.accessToken}`,fetch(t,a))},30039:function(e,t,a){a.d(t,{R:function(){return o}});const o=(e,t="")=>{const a=document.createElement("a");a.target="_blank",a.href=e,a.download=t,a.style.display="none",document.body.appendChild(a),a.dispatchEvent(new MouseEvent("click")),document.body.removeChild(a)}},39889:function(e,t,a){a.d(t,{Ay:function(){return i},QE:function(){return n},qB:function(){return r}});a(74423),a(33110),a(3362);var o=a(26528);const n=async e=>{let t;try{t=await e}catch(n){throw{error:"Request error",status_code:void 0,body:void 0}}let a=null;const o=t.headers.get("content-type");if(o&&o.includes("application/json"))try{a=await t.json()}catch(i){throw{error:"Unable to parse JSON response",status_code:i.status,body:null}}else a=await t.text();if(!t.ok)throw{error:`Response error: ${t.status}`,status_code:t.status,body:a};return a};async function i(e,t,a,i,r){const l=`${e.data.hassUrl}/api/${a}`,s={method:t,headers:r||{}};return i&&(s.headers["Content-Type"]="application/json;charset=UTF-8",s.body=JSON.stringify(i)),n((0,o.v)(e,l,s))}async function r(e,t,a,n,i,r){const l=`${e.data.hassUrl}/api/${a}`,s={method:t,headers:i||{},signal:r};return n&&(s.headers["Content-Type"]="application/json;charset=UTF-8",s.body=JSON.stringify(n)),(0,o.v)(e,l,s)}}}]);
//# sourceMappingURL=11037.1c9b43e7b5ab5696.js.map