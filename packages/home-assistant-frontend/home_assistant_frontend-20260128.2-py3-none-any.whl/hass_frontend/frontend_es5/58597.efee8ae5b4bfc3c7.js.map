{"version":3,"file":"58597.efee8ae5b4bfc3c7.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20260128.2/src/panels/lovelace/cards/energy/hui-energy-sankey-card.ts"],"names":["DEFAULT_CONFIG","group_by_floor","group_by_area","HuiEnergySankeyCard","SubscribeMixin","MobileAwareMixin","LitElement","setConfig","config","this","_config","Object","assign","hassSubscribe","_this$_config","getEnergyDataCollection","hass","key","collection_key","subscribe","data","_data","getCardSize","getGridOptions","columns","min_columns","rows","min_rows","shouldUpdate","changedProps","has","render","nothing","html","_t","_2","localize","prefs","types","energySourcesByType","summedData","compareSummedData","_","getSummedData","consumption","compareConsumption","__","computeConsumptionData","undefined","computedStyle","getComputedStyle","nodes","links","homeNode","id","label","value","Math","max","total","used_total","color","getPropertyValue","trim","index","push","battery","_summedData$total$fro","_summedData$total$to_","totalBatteryOut","from_battery","totalBatteryIn","to_battery","source","target","used_battery","grid_to_battery","solar_to_battery","grid","_summedData$total$fro2","totalFromGrid","from_grid","used_grid","solar","_summedData$total$sol","totalSolarProduction","used_solar","flow_to","_summedData$total$to_2","totalToGrid","to_grid","battery_to_grid","solar_to_grid","untrackedConsumption","deviceNodes","parentLinks","device_consumption","forEach","device","idx","stat_consumption","stats","calculateStatisticSumGrowth","node","name","getStatisticLabel","statsMetadata","getGraphColorByIndex","parent","included_in_stat","devicesWithoutParent","filter","areas","floors","_groupByFloorAndArea","keys","sort","a","b","_this$hass$floors$b$l","_this$hass$floors$b","_this$hass$floors$a$l","_this$hass$floors$a","level","Infinity","floorId","floorNodeId","areaId","targetNodeId","areaNodeId","devices","deviceNode","deviceSections","_getDeviceSections","section","length","hasData","some","vertical","layout","_isMobileSize","_t2","title","classMap","_t3","_valueFormatter","_t4","no_area","no_floor","entity","states","area","floor","getEntityContext","entities","area_id","floor_id","includes","unshift","parentSection","childSection","parentIds","values","remainingLinks","isChild","entries","child","args","hassSubscribeRequiredHostProps","formatNumber","locale","maximumFractionDigits","styles","css","_t5","attribute"],"mappings":"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"}