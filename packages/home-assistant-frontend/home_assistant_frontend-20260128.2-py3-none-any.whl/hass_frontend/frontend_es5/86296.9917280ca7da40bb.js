"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["86296"],{78870:function(e,t,n){n.d(t,{MP:function(){return o},dc:function(){return s},lt:function(){return i}});n(27495),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(62953);const i=new Set(["primary","accent","red","pink","purple","deep-purple","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","deep-orange","brown","light-grey","grey","dark-grey","blue-grey","black","white"]),r=new Set(["primary-text","secondary-text","disabled"]);function o(e){return i.has(e)||r.has(e)?`var(--${e}-color)`:e}function s(e){if(!e||"string"!=typeof e)return!1;if(i.has(e))return!0;if(/^#([0-9A-Fa-f]{3}){1,2}$/.test(e))return!0;try{const t=(new Option).style;return t.color=e,""!==t.color}catch(t){return!1}}},380:function(e,t,n){n.a(e,async function(e,i){try{n.d(t,{D:function(){return c},P:function(){return d}});n(74423);var r=n(74487),o=n(81e3),s=n(46927),a=n(96029),l=e([r]);r=(l.then?(await l)():l)[0];const d=e=>e.first_weekday===s.zt.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(e.language).weekInfo.firstDay%7:(0,o.S)(e.language)%7:a.Z.includes(e.first_weekday)?a.Z.indexOf(e.first_weekday):1,c=e=>{const t=d(e);return a.Z[t]};i()}catch(d){i(d)}})},98975:function(e,t,n){n.a(e,async function(e,i){try{n.d(t,{K:function(){return d}});var r=n(74487),o=n(22786),s=n(63927),a=e([r,s]);[r,s]=a.then?(await a)():a;const l=(0,o.A)(e=>new Intl.RelativeTimeFormat(e.language,{numeric:"auto"})),d=(e,t,n,i=!0)=>{const r=(0,s.x)(e,n,t);return i?l(t).format(r.value,r.unit):Intl.NumberFormat(t.language,{style:"unit",unit:r.unit,unitDisplay:"long"}).format(Math.abs(r.value))};i()}catch(l){i(l)}})},96029:function(e,t,n){n.d(t,{Tq:function(){return s},Z:function(){return r},ZV:function(){return i},sj:function(){return o}});const i=["sun","mon","tue","wed","thu","fri","sat"],r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],o={0:"sun",1:"mon",2:"tue",3:"wed",4:"thu",5:"fri",6:"sat"},s={sun:"sunday",mon:"monday",tue:"tuesday",wed:"wednesday",thu:"thursday",fri:"friday",sat:"saturday"}},68348:function(e,t,n){n.d(t,{u:function(){return i}});n(18111),n(13579);const i=e=>{var t;if(e.some(e=>"tagName"in e&&("HA-MENU"===e.tagName||"HA-CODE-EDITOR"===e.tagName)))return!1;const n=e[0];if("TEXTAREA"===n.tagName)return!1;if("HA-SELECT"===(null===(t=n.parentElement)||void 0===t?void 0:t.tagName))return!1;if("INPUT"!==n.tagName)return!0;switch(n.type){case"button":case"checkbox":case"hidden":case"radio":case"range":return!0;default:return!1}}},57237:function(e,t,n){n.d(t,{d:function(){return i}});const i=e=>e.stopPropagation()},17451:function(e,t,n){n.d(t,{j:function(){return i}});const i=(e,t,n)=>(void 0!==n&&(n=!!n),e.hasAttribute(t)?!!n||(e.removeAttribute(t),!1):!1!==n&&(e.setAttribute(t,""),!0))},78649:function(e,t,n){n.d(t,{n:function(){return r}});n(27495);const i=/^(\w+)\.(\w+)$/,r=e=>i.test(e)},19459:function(e,t,n){n.d(t,{b:function(){return i}});n(84864),n(57465),n(27495),n(69479),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(62953);const i=(e,t,n)=>{if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;let r,o;if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(r=o;0!==r--;)if(!i(e[r],t[r],n))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!i(r[1],t.get(r[0]),n))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(o=e.length,o!==t.length)return!1;for(r=o;0!==r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const s=Object.keys(e);if(o=s.length,o!==Object.keys(t).length)return!1;for(r=o;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=o;0!==r--;){const o=s[r];if(!i(e[o],t[o],n))return!1}if(null!=n&&n.compareSymbols){const r=Object.getOwnPropertySymbols(e),o=Object.getOwnPropertySymbols(t);if(r.length!==o.length)return!1;for(const s of r){if(!Object.prototype.hasOwnProperty.call(t,s))return!1;if(!i(e[s],t[s],n))return!1}}return!0}return e!=e&&t!=t}},63927:function(e,t,n){n.a(e,async function(e,i){try{n.d(t,{x:function(){return p}});var r=n(6946),o=n(52640),s=n(38684),a=n(380),l=e([a]);a=(l.then?(await l)():l)[0];const c=1e3,u=60,h=60*u;function p(e,t=Date.now(),n,i={}){const l=Object.assign(Object.assign({},g),i||{}),d=(+e-+t)/c;if(Math.abs(d)<l.second)return{value:Math.round(d),unit:"second"};const p=d/u;if(Math.abs(p)<l.minute)return{value:Math.round(p),unit:"minute"};const f=d/h;if(Math.abs(f)<l.hour)return{value:Math.round(f),unit:"hour"};const m=new Date(e),y=new Date(t);m.setHours(0,0,0,0),y.setHours(0,0,0,0);const b=(0,r.c)(m,y);if(0===b)return{value:Math.round(f),unit:"hour"};if(Math.abs(b)<l.day)return{value:b,unit:"day"};const _=(0,a.P)(n),w=(0,o.k)(m,{weekStartsOn:_}),v=(0,o.k)(y,{weekStartsOn:_}),x=(0,s.I)(w,v);if(0===x)return{value:b,unit:"day"};if(Math.abs(x)<l.week)return{value:x,unit:"week"};const C=m.getFullYear()-y.getFullYear(),k=12*C+m.getMonth()-y.getMonth();return 0===k?{value:x,unit:"week"}:Math.abs(k)<l.month||0===C?{value:k,unit:"month"}:{value:Math.round(C),unit:"year"}}const g={second:59,minute:59,hour:22,day:5,week:4,month:11};i()}catch(d){i(d)}})},5745:function(e,t,n){var i=n(40445),r=n(82339),o=n(77845);class s extends r.Y{}s=(0,i.Cg)([(0,o.EM)("ha-chip-set")],s)},70947:function(e,t,n){var i=n(40445),r=n(79265),o=(n(94100),n(96196)),s=n(77845);n(67094);let a,l,d=e=>e;class c extends r.A{renderCheckboxIcon(){return(0,o.qy)(a||(a=d` <ha-svg-icon id="check" part="checkmark" .path="${0}"></ha-svg-icon> `),this.checked?"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z":"M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z")}static get styles(){return[r.A.styles,(0,o.AH)(l||(l=d`:host{min-height:var(--ha-space-10)}#check{visibility:visible}#icon ::slotted(*){color:var(--ha-color-on-neutral-normal)}:host([variant=danger]) #icon ::slotted(*){color:var(--ha-color-on-danger-quiet)}`))]}}c=(0,i.Cg)([(0,s.EM)("ha-dropdown-item")],c)},29823:function(e,t,n){n.a(e,async function(e,t){try{n(62953);var i=n(40445),r=n(52254),o=n(96196),s=n(77845),a=e([r]);r=(a.then?(await a)():a)[0];let l,d=e=>e;class c extends r.A{static get styles(){return[r.A.styles,(0,o.AH)(l||(l=d`:host{font-size:var(--ha-dropdown-font-size, var(--ha-font-size-m));--wa-color-surface-raised:var(
            --card-background-color,
            var(--ha-dialog-surface-background, var(--mdc-theme-surface, #fff)),
          )}#menu{padding:var(--ha-space-1)}`))]}constructor(...e){super(...e),this.dropdownTag="ha-dropdown",this.dropdownItemTag="ha-dropdown-item"}}(0,i.Cg)([(0,s.MZ)({attribute:!1})],c.prototype,"dropdownTag",void 0),(0,i.Cg)([(0,s.MZ)({attribute:!1})],c.prototype,"dropdownItemTag",void 0),c=(0,i.Cg)([(0,s.EM)("ha-dropdown")],c),t()}catch(l){t(l)}})},11382:function(e,t,n){n(3362),n(62953);var i=n(40445),r=n(96196),o=n(77845),s=n(94333),a=n(1087),l=n(12587);n(67094);let d,c,u,h,p=e=>e;class g extends r.WF{render(){const e=this.noCollapse?r.s6:(0,r.qy)(d||(d=p` <ha-svg-icon .path="${0}" class="summary-icon ${0}"></ha-svg-icon> `),"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",(0,s.H)({expanded:this.expanded}));return(0,r.qy)(c||(c=p` <div class="top ${0}"> <div id="summary" class="${0}" @click="${0}" @keydown="${0}" @focus="${0}" @blur="${0}" role="button" tabindex="${0}" aria-expanded="${0}" aria-controls="sect1" part="summary"> ${0} <slot name="leading-icon"></slot> <slot name="header"> <div class="header"> ${0} <slot class="secondary" name="secondary">${0}</slot> </div> </slot> ${0} <slot name="icons"></slot> </div> </div> <div class="container ${0}" @transitionend="${0}" role="region" aria-labelledby="summary" aria-hidden="${0}" tabindex="-1"> ${0} </div> `),(0,s.H)({expanded:this.expanded}),(0,s.H)({noCollapse:this.noCollapse}),this._toggleContainer,this._toggleContainer,this._focusChanged,this._focusChanged,this.noCollapse?-1:0,this.expanded,this.leftChevron?e:r.s6,this.header,this.secondary,this.leftChevron?r.s6:e,(0,s.H)({expanded:this.expanded}),this._handleTransitionEnd,!this.expanded,this._showContent?(0,r.qy)(u||(u=p`<slot></slot>`)):"")}willUpdate(e){super.willUpdate(e),e.has("expanded")&&(this._showContent=this.expanded,setTimeout(()=>{this._container.style.overflow=this.expanded?"initial":"hidden"},300))}_handleTransitionEnd(){this._container.style.removeProperty("height"),this._container.style.overflow=this.expanded?"initial":"hidden",this._showContent=this.expanded}async _toggleContainer(e){if(e.defaultPrevented)return;if("keydown"===e.type&&"Enter"!==e.key&&" "!==e.key)return;if(e.preventDefault(),this.noCollapse)return;const t=!this.expanded;(0,a.r)(this,"expanded-will-change",{expanded:t}),this._container.style.overflow="hidden",t&&(this._showContent=!0,await(0,l.E)());const n=this._container.scrollHeight;this._container.style.height=`${n}px`,t||setTimeout(()=>{this._container.style.height="0px"},0),this.expanded=t,(0,a.r)(this,"expanded-changed",{expanded:this.expanded})}_focusChanged(e){this.noCollapse||this.shadowRoot.querySelector(".top").classList.toggle("focused","focus"===e.type)}constructor(...e){super(...e),this.expanded=!1,this.outlined=!1,this.leftChevron=!1,this.noCollapse=!1,this._showContent=this.expanded}}g.styles=(0,r.AH)(h||(h=p`:host{display:block}.top{display:flex;align-items:center;border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg))}.top.expanded{border-bottom-left-radius:0px;border-bottom-right-radius:0px}.top.focused{background:var(--input-fill-color)}:host([outlined]){box-shadow:none;border-width:1px;border-style:solid;border-color:var(--outline-color);border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg))}.summary-icon{transition:transform 150ms cubic-bezier(.4, 0, .2, 1);direction:var(--direction);margin-left:8px;margin-inline-start:8px;margin-inline-end:initial;border-radius:var(--ha-border-radius-circle)}#summary:focus-visible ha-svg-icon.summary-icon{background-color:var(--ha-color-fill-neutral-normal-active)}::slotted([slot=leading-icon]),:host([left-chevron]) .summary-icon{margin-left:0;margin-right:8px;margin-inline-start:0;margin-inline-end:8px}#summary{flex:1;display:flex;padding:var(--expansion-panel-summary-padding,0 8px);min-height:48px;align-items:center;cursor:pointer;overflow:hidden;font-weight:var(--ha-font-weight-medium);outline:0}#summary.noCollapse{cursor:default}.summary-icon.expanded{transform:rotate(180deg)}.header,::slotted([slot=header]){flex:1;overflow-wrap:anywhere;color:var(--primary-text-color)}.container{padding:var(--expansion-panel-content-padding,0 8px);overflow:hidden;transition:height .3s cubic-bezier(.4, 0, .2, 1);height:0px}.container.expanded{height:auto}.secondary{display:block;color:var(--secondary-text-color);font-size:var(--ha-font-size-s)}`)),(0,i.Cg)([(0,o.MZ)({type:Boolean,reflect:!0})],g.prototype,"expanded",void 0),(0,i.Cg)([(0,o.MZ)({type:Boolean,reflect:!0})],g.prototype,"outlined",void 0),(0,i.Cg)([(0,o.MZ)({attribute:"left-chevron",type:Boolean,reflect:!0})],g.prototype,"leftChevron",void 0),(0,i.Cg)([(0,o.MZ)({attribute:"no-collapse",type:Boolean,reflect:!0})],g.prototype,"noCollapse",void 0),(0,i.Cg)([(0,o.MZ)()],g.prototype,"header",void 0),(0,i.Cg)([(0,o.MZ)()],g.prototype,"secondary",void 0),(0,i.Cg)([(0,o.wk)()],g.prototype,"_showContent",void 0),(0,i.Cg)([(0,o.P)(".container")],g.prototype,"_container",void 0),g=(0,i.Cg)([(0,o.EM)("ha-expansion-panel")],g)},28732:function(e,t,n){var i=n(40445),r=n(27686),o=n(7731),s=n(96196),a=n(77845);let l,d,c,u=e=>e;class h extends r.J{renderRipple(){return this.noninteractive?"":super.renderRipple()}static get styles(){return[o.R,(0,s.AH)(l||(l=u`:host{padding-left:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-inline-start:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-right:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px));padding-inline-end:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px))}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:48px}span.material-icons:first-of-type{margin-inline-start:0px!important;margin-inline-end:var(--mdc-list-item-graphic-margin,16px)!important;direction:var(--direction)!important}span.material-icons:last-of-type{margin-inline-start:auto!important;margin-inline-end:0px!important;direction:var(--direction)!important}.mdc-deprecated-list-item__meta{display:var(--mdc-list-item-meta-display);align-items:center;flex-shrink:0}:host([graphic=icon]:not([twoline])) .mdc-deprecated-list-item__graphic{margin-inline-end:var(--mdc-list-item-graphic-margin,20px)!important}:host([multiline-secondary]){height:auto}:host([multiline-secondary]) .mdc-deprecated-list-item__text{padding:8px 0}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text{text-overflow:initial;white-space:normal;overflow:auto;display:inline-block;margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text{margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text::before{display:none}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text::before{display:none}:host([disabled]){color:var(--disabled-text-color)}:host([noninteractive]){pointer-events:unset}`)),"rtl"===document.dir?(0,s.AH)(d||(d=u`span.material-icons:first-of-type,span.material-icons:last-of-type{direction:rtl!important;--direction:rtl}`)):(0,s.AH)(c||(c=u``))]}}h=(0,i.Cg)([(0,a.EM)("ha-list-item")],h)},2054:function(e,t,n){n(16280),n(62953);var i=n(40445),r=n(96196),o=n(77845),s=n(1087),a=n(44249);n(26300);let l,d,c,u=e=>e;class h extends r.WF{connectedCallback(){super.connectedCallback(),this._attachNotifOnConnect&&(this._attachNotifOnConnect=!1,this._subscribeNotifications())}disconnectedCallback(){super.disconnectedCallback(),this._unsubNotifications&&(this._attachNotifOnConnect=!0,this._unsubNotifications(),this._unsubNotifications=void 0)}render(){if(!this._show)return r.s6;const e=this._hasNotifications&&(this.narrow||"always_hidden"===this.hass.dockedSidebar);return(0,r.qy)(l||(l=u` <ha-icon-button .label="${0}" .path="${0}" @click="${0}"></ha-icon-button> ${0} `),this.hass.localize("ui.sidebar.sidebar_toggle"),"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z",this._toggleMenu,e?(0,r.qy)(d||(d=u`<div class="dot"></div>`)):"")}willUpdate(e){if(super.willUpdate(e),!e.has("narrow")&&!e.has("hass"))return;const t=e.has("hass")?e.get("hass"):this.hass,n=e.has("narrow")?e.get("narrow"):this.narrow,i=!1===(null==t?void 0:t.kioskMode)&&(n||"always_hidden"===(null==t?void 0:t.dockedSidebar)),r=!1===this.hass.kioskMode&&(this.narrow||"always_hidden"===this.hass.dockedSidebar);this.hasUpdated&&i===r||(this._show=r||this._alwaysVisible,r?this._subscribeNotifications():this._unsubNotifications&&(this._unsubNotifications(),this._unsubNotifications=void 0))}_subscribeNotifications(){if(this._unsubNotifications)throw new Error("Already subscribed");this._unsubNotifications=(0,a.V)(this.hass.connection,e=>{this._hasNotifications=e.length>0})}_toggleMenu(){(0,s.r)(this,"hass-toggle-menu")}constructor(...e){super(...e),this.narrow=!1,this._hasNotifications=!1,this._show=!1,this._alwaysVisible=!1,this._attachNotifOnConnect=!1}}h.styles=(0,r.AH)(c||(c=u`:host{position:relative}.dot{pointer-events:none;position:absolute;background-color:var(--accent-color);width:12px;height:12px;top:9px;right:7px;inset-inline-end:7px;inset-inline-start:initial;border-radius:var(--ha-border-radius-circle);border:2px solid var(--app-header-background-color)}`)),(0,i.Cg)([(0,o.MZ)({type:Boolean})],h.prototype,"narrow",void 0),(0,i.Cg)([(0,o.MZ)({attribute:!1})],h.prototype,"hass",void 0),(0,i.Cg)([(0,o.wk)()],h.prototype,"_hasNotifications",void 0),(0,i.Cg)([(0,o.wk)()],h.prototype,"_show",void 0),h=(0,i.Cg)([(0,o.EM)("ha-menu-button")],h)},77423:function(e,t,n){n.d(t,{A:function(){return r},Cm:function(){return o},JW:function(){return y},Pd:function(){return l},TC:function(){return d},VN:function(){return c},Vx:function(){return u},XQ:function(){return f},eM:function(){return p},iH:function(){return h},k3:function(){return m},m4:function(){return s},qf:function(){return a},t0:function(){return i},yv:function(){return g}});n(44114),n(18111),n(22489),n(20116),n(7588),n(61701),n(62953);const i=(e,t)=>e.callWS({type:"config_entries/subentries/list",entry_id:t}),r=(e,t,n,i)=>e.callWS(Object.assign({type:"config_entries/subentries/update",entry_id:t,subentry_id:n},i)),o=(e,t,n)=>e.callWS({type:"config_entries/subentries/delete",entry_id:t,subentry_id:n}),s=["migration_error","setup_error","setup_retry"],a=["not_loaded","loaded","setup_error","setup_retry"],l=(e,t,n)=>{const i=new b;return d(e,e=>{t(i.processMessage(e))},n)},d=(e,t,n)=>{const i={type:"config_entries/subscribe"};return n&&n.type&&(i.type_filter=n.type),e.connection.subscribeMessage(e=>{t(e)},i)},c=(e,t)=>{const n={};return t&&(t.type&&(n.type_filter=t.type),t.domain&&(n.domain=t.domain)),e.callWS(Object.assign({type:"config_entries/get"},n))},u=(e,t)=>e.callWS({type:"config_entries/get_single",entry_id:t}),h=(e,t,n)=>e.callWS(Object.assign({type:"config_entries/update",entry_id:t},n)),p=(e,t)=>e.callApi("DELETE",`config/config_entries/entry/${t}`),g=(e,t)=>e.callApi("POST",`config/config_entries/entry/${t}/reload`),f=(e,t)=>e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:"user"}),m=(e,t)=>e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:null}),y=(e,t)=>{if(!t)return e;const n=e.find(e=>e.entry_id===t);if(!n)return e;return[n,...e.filter(e=>e.entry_id!==t)]};class b{processMessage(e){return e.forEach(e=>{if(null!==e.type&&"added"!==e.type)if("removed"!==e.type){if("updated"===e.type){const t=e.entry;this._entries=this._entries.map(e=>e.entry_id===t.entry_id?t:e)}}else this._entries=this._entries.filter(t=>t.entry_id!==e.entry.entry_id);else this._entries.push(e.entry)}),this._entries}constructor(){this._entries=[]}}},44249:function(e,t,n){n.d(t,{V:function(){return i}});n(62953);const i=(e,t)=>{const n=new r,i=e.subscribeMessage(e=>t(n.processMessage(e)),{type:"persistent_notification/subscribe"});return()=>{i.then(e=>null==e?void 0:e())}};class r{processMessage(e){if("removed"===e.type)for(const t of Object.keys(e.notifications))delete this.notifications[t];else this.notifications=Object.assign(Object.assign({},this.notifications),e.notifications);return Object.values(this.notifications)}constructor(){this.notifications={}}}},68893:function(e,t,n){n.d(t,{o:function(){return r}});n(3362),n(62953);var i=n(1087);const r=(e,t)=>new Promise(r=>{const o=t.closeDialog,s=t.logInHereAction;(0,i.r)(e,"show-dialog",{dialogTag:"dialog-cloud-already-connected",dialogImport:()=>n.e("88028").then(n.bind(n,59959)),dialogParams:{...t,closeDialog:()=>{null==o||o(),r(!1)},logInHereAction:()=>{null==s||s(),r(!0)}}})})},50587:function(e,t,n){n.a(e,async function(e,t){try{n(16280),n(3362),n(42762),n(58335),n(62953);var i=n(40445),r=n(96196),o=n(77845),s=n(1087),a=n(89300),l=(n(38962),n(76776),n(18350)),d=(n(71418),n(75709),n(14503)),c=n(71117),u=n(33963),h=n(69150),p=n(68893),g=n(79007),f=e([a,l,u]);[a,l,u]=f.then?(await f)():f;let m,y,b,_,w=e=>e;class v extends r.WF{render(){return this.cardLess?this._renderLoginForm():(0,r.qy)(m||(m=w` <ha-card outlined .header="${0}"> ${0} </ha-card> `),this.localize(`ui.panel.${this.translationKeyPanel}.login.sign_in`),this._renderLoginForm())}_renderLoginForm(){var e;return(0,r.qy)(y||(y=w` <div class="card-content login-form"> ${0} <ha-textfield .label="${0}" id="email" name="username" type="email" autocomplete="username" required .value="${0}" @keydown="${0}" .disabled="${0}" .validationMessage="${0}"></ha-textfield> <ha-password-field id="password" name="password" .label="${0}" autocomplete="current-password" required minlength="8" @keydown="${0}" .disabled="${0}" .validationMessage="${0}"></ha-password-field> </div> <div class="card-actions"> <ha-button appearance="plain" .disabled="${0}" @click="${0}"> ${0} </ha-button> <ha-progress-button @click="${0}" .progress="${0}">${0}</ha-progress-button> </div> `),this._error?(0,r.qy)(b||(b=w`<ha-alert alert-type="error">${0}</ha-alert>`),this._error):r.s6,this.localize(`ui.panel.${this.translationKeyPanel}.login.email`),null!==(e=this.email)&&void 0!==e?e:"",this._keyDown,this._inProgress,this.localize(`ui.panel.${this.translationKeyPanel}.login.email_error_msg`),this.localize(`ui.panel.${this.translationKeyPanel}.login.password`),this._keyDown,this._inProgress,this.localize(`ui.panel.${this.translationKeyPanel}.login.password_error_msg`),this._inProgress,this._handleForgotPassword,this.localize(`ui.panel.${this.translationKeyPanel}.login.forgot_password`),this._handleLogin,this._inProgress,this.localize(`ui.panel.${this.translationKeyPanel}.login.sign_in`))}_keyDown(e){"Enter"===e.key&&this._handleLogin()}async _handleLogin(){if(!this._inProgress){if(!this.emailField.reportValidity())return void this.emailField.focus();if(!this._passwordField.reportValidity())return void this._passwordField.focus();this._inProgress=!0,this._login(this.emailField.value,this._passwordField.value,this.checkConnection)}}_handleForgotPassword(){(0,s.r)(this,"cloud-forgot-password")}static get styles(){return[d.RF,(0,r.AH)(_||(_=w`ha-card{overflow:hidden}ha-card .card-header{margin-bottom:-8px}.card-actions{display:flex;justify-content:space-between;align-items:center}.login-form{display:flex;flex-direction:column}`))]}constructor(...e){super(...e),this.checkConnection=!1,this.translationKeyPanel="config.cloud",this.cardLess=!1,this._inProgress=!1,this._handleCloudLoginError=async(e,t,n,i)=>{const r=e&&e.body&&e.body.code;if("mfarequired"===r){const e=await(0,u.showPromptDialog)(this,{title:this.localize(`ui.panel.${this.translationKeyPanel}.login.totp_code_prompt_title`),inputLabel:this.localize(`ui.panel.${this.translationKeyPanel}.login.totp_code`),inputType:"text",defaultValue:"",confirmText:this.localize(`ui.panel.${this.translationKeyPanel}.login.submit`),dismissText:this.localize(`ui.panel.${this.translationKeyPanel}.login.cancel`)});if(null!==e&&""!==e)return this._login(t,n,i,e.trim()),"continue"}if("alreadyconnectederror"===r){const i=await(0,p.o)(this,{details:JSON.parse(e.body.message)});return i&&this._login(t,n,!1),i?"continue":"cancel"}if("PasswordChangeRequired"===r)return(0,u.showAlertDialog)(this,{title:this.localize(`ui.panel.${this.translationKeyPanel}.login.alert_password_change_required`)}),"password-change";if("usernotfound"!==r||t===t.toLowerCase())switch(r){case"UserNotConfirmed":return this.localize(`ui.panel.${this.translationKeyPanel}.login.alert_email_confirm_necessary`);case"mfarequired":return this.localize(`ui.panel.${this.translationKeyPanel}.login.alert_mfa_code_required`);case"mfaexpiredornotstarted":return this.localize(`ui.panel.${this.translationKeyPanel}.login.alert_mfa_expired_or_not_started`);case"invalidtotpcode":return this.localize(`ui.panel.${this.translationKeyPanel}.login.alert_totp_code_invalid`);default:return e&&e.body&&e.body.message?e.body.message:"Unknown error"}else this._login(t.toLowerCase(),n,i)},this._login=async(e,t,n,i)=>{if(!t&&!i)throw new Error("Password or code required");try{if(this.hass){const r=await(0,c.p7)(Object.assign(Object.assign({hass:this.hass,email:e},i?{code:i}:{password:t}),{},{check_connection:n}));r.cloud_pipeline&&await(0,u.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.cloud.login.cloud_pipeline_title"),text:this.hass.localize("ui.panel.config.cloud.login.cloud_pipeline_text"),confirmText:this.hass.localize("ui.common.yes"),dismissText:this.hass.localize("ui.common.no")})&&(0,h.NH)(this.hass,r.cloud_pipeline)}else await(0,g.AC)(Object.assign({email:e},i?{code:i}:{password:t}));this.email="",(0,s.r)(this,"ha-refresh-cloud-status")}catch(r){const i=await this._handleCloudLoginError(r,e,t,n);if("cancel"===i)return this._inProgress=!1,this.email="",void(this._passwordField.value="");if("password-change"===i)return void this._handleForgotPassword();"continue"!==i&&(this._inProgress=!1,this._error=i)}}}}(0,i.Cg)([(0,o.MZ)({attribute:!1})],v.prototype,"hass",void 0),(0,i.Cg)([(0,o.MZ)({type:Boolean,attribute:"check-connection"})],v.prototype,"checkConnection",void 0),(0,i.Cg)([(0,o.MZ)()],v.prototype,"email",void 0),(0,i.Cg)([(0,o.MZ)({attribute:!1})],v.prototype,"localize",void 0),(0,i.Cg)([(0,o.MZ)({attribute:"translation-key-panel"})],v.prototype,"translationKeyPanel",void 0),(0,i.Cg)([(0,o.MZ)({type:Boolean,attribute:"card-less"})],v.prototype,"cardLess",void 0),(0,i.Cg)([(0,o.P)("#email",!0)],v.prototype,"emailField",void 0),(0,i.Cg)([(0,o.P)("#password",!0)],v.prototype,"_passwordField",void 0),(0,i.Cg)([(0,o.wk)()],v.prototype,"_error",void 0),(0,i.Cg)([(0,o.wk)()],v.prototype,"_inProgress",void 0),v=(0,i.Cg)([(0,o.EM)("cloud-login")],v),t()}catch(m){t(m)}})},34128:function(e,t,n){n.d(t,{G9:function(){return s},Ni:function(){return o},Ue:function(){return c},Vd:function(){return u},gh:function(){return h}});n(16280),n(74423),n(3362),n(62953);var i=n(1087),r=n(45291);const o=e=>{const t=document.createElement("hui-error-card");return customElements.get("hui-error-card")?t.setConfig(e):(Promise.resolve().then(n.bind(n,4397)),customElements.whenDefined("hui-error-card").then(()=>{customElements.upgrade(t),t.setConfig(e)})),t},s=(e,t)=>({type:"error",error:e,origConfig:t}),a=(e,t)=>{const n=document.createElement(e);return n.setConfig(t),n},l=(e,t,i)=>"badge"===e?(e=>{const t=document.createElement("hui-error-badge");return customElements.get("hui-error-badge")?t.setConfig(e):(Promise.all([n.e("92769"),n.e("62453"),n.e("63577"),n.e("72130"),n.e("85010"),n.e("89385"),n.e("99788"),n.e("86909"),n.e("60521"),n.e("11082"),n.e("26233"),n.e("39005"),n.e("34310"),n.e("21519"),n.e("67862"),n.e("12009"),n.e("94860"),n.e("36332"),n.e("15862"),n.e("82529"),n.e("99143"),n.e("99023"),n.e("3025"),n.e("66990"),n.e("58382"),n.e("8835"),n.e("77369")]).then(n.bind(n,50655)),customElements.whenDefined("hui-error-badge").then(()=>{customElements.upgrade(t),t.setConfig(e)})),t})(s(t,i)):"heading-badge"===e?(e=>{const t=document.createElement("hui-error-heading-badge");return customElements.get("hui-error-heading-badge")?t.setConfig(e):(Promise.all([n.e("92769"),n.e("62453"),n.e("63577"),n.e("72130"),n.e("85010"),n.e("89385"),n.e("99788"),n.e("86909"),n.e("60521"),n.e("88701"),n.e("26233"),n.e("39005"),n.e("34310"),n.e("21519"),n.e("67862"),n.e("12009"),n.e("94860"),n.e("36332"),n.e("15862"),n.e("82529"),n.e("99143"),n.e("99023"),n.e("3025"),n.e("66990"),n.e("58382"),n.e("8835"),n.e("87559")]).then(n.bind(n,13469)),customElements.whenDefined("hui-error-heading-badge").then(()=>{customElements.upgrade(t),t.setConfig(e)})),t})(((e,t)=>({type:"error",error:e,origConfig:t}))(t,i)):o({type:"error",message:t}),d=e=>(0,r.c8)(e)?(0,r.Iu)(e):void 0,c=(e,t,n,i,r,o)=>{try{return u(e,t,n,i,r,o)}catch(s){return console.error(e,t.type,s),l(e,s.message,t)}},u=(e,t,n,r,o,s)=>{if(!t||"object"!=typeof t)throw new Error("Config is not an object");if(!(t.type||s||o&&"entity"in t))throw new Error("No card type configured");const c=t.type?d(t.type):void 0;if(c)return((e,t,n)=>{if(customElements.get(t))return a(t,n);const r=l(e,`Custom element doesn't exist: ${t}.`,n);if(!t.includes("-"))return r;r.style.display="None";const o=window.setTimeout(()=>{r.style.display=""},2e3);return customElements.whenDefined(t).then(()=>{clearTimeout(o),(0,i.r)(r,"ll-rebuild")}),r})(e,c,t);let u;if(o&&!t.type&&t.entity){u=`${o[t.entity.split(".",1)[0]]||o._domain_not_found}-entity`}else u=t.type||s;if(void 0===u)throw new Error("No type specified");const h=`hui-${u}-${e}`;if(r&&u in r)return r[u](),((e,t)=>{if(customElements.get(e))return a(e,t);const n=document.createElement(e);return customElements.whenDefined(e).then(()=>{try{customElements.upgrade(n),(0,i.r)(n,"ll-upgrade"),n.setConfig(t)}catch(e){(0,i.r)(n,"ll-rebuild")}}),n})(h,t);if(n&&n.has(u))return a(h,t);throw new Error(`Unknown type encountered: ${u}`)},h=async(e,t,n,i)=>{const r=d(e);if(r){const e=customElements.get(r);if(e)return e;if(!r.includes("-"))throw new Error(`Custom element not found: ${r}`);return new Promise((e,t)=>{setTimeout(()=>t(new Error(`Custom element not found: ${r}`)),2e3),customElements.whenDefined(r).then(()=>e(customElements.get(r)))})}const o=`hui-${e}-${t}`,s=customElements.get(o);if(n&&n.has(e))return s;if(i&&e in i)return s||i[e]().then(()=>customElements.get(o));throw new Error(`Unknown type: ${e}`)}},94225:function(e,t,n){n.a(e,async function(e,i){try{n.d(t,{T:function(){return _},t:function(){return w}});n(3362),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(62953);var r=n(99799),o=n(29003),s=n(92055),a=n(19396),l=n(74323),d=n(51199),c=n(43721),u=n(65509),h=n(21659),p=n(82525),g=n(34128),f=e([r,o,s,a,l,d,c,u,h,p]);[r,o,s,a,l,d,c,u,h,p]=f.then?(await f)():f;const m=new Set(["media-player-entity","scene-entity","script-entity","sensor-entity","simple-entity","toggle-entity","button","call-service"]),y={"button-entity":()=>n.e("26846").then(n.bind(n,21869)),"climate-entity":()=>n.e("56995").then(n.bind(n,2798)),"cover-entity":()=>n.e("41243").then(n.bind(n,79734)),"date-entity":()=>n.e("17418").then(n.bind(n,75473)),"datetime-entity":()=>Promise.all([n.e("63577"),n.e("80557"),n.e("81767")]).then(n.bind(n,69690)),"event-entity":()=>Promise.resolve().then(n.bind(n,99799)),"group-entity":()=>n.e("68827").then(n.bind(n,53110)),"input-button-entity":()=>n.e("19825").then(n.bind(n,46472)),"humidifier-entity":()=>n.e("378").then(n.bind(n,53537)),"input-datetime-entity":()=>Promise.all([n.e("63577"),n.e("71748")]).then(n.bind(n,1391)),"input-number-entity":()=>n.e("17600").then(n.bind(n,58723)),"input-select-entity":()=>Promise.all([n.e("63577"),n.e("44325")]).then(n.bind(n,54596)),"input-text-entity":()=>n.e("8086").then(n.bind(n,51765)),"lock-entity":()=>n.e("28245").then(n.bind(n,49748)),"number-entity":()=>n.e("71523").then(n.bind(n,57198)),"select-entity":()=>Promise.all([n.e("63577"),n.e("9374")]).then(n.bind(n,78157)),"text-entity":()=>n.e("67973").then(n.bind(n,58212)),"time-entity":()=>Promise.all([n.e("63577"),n.e("61331")]).then(n.bind(n,87550)),"timer-entity":()=>n.e("94097").then(n.bind(n,6344)),"update-entity":()=>n.e("80275").then(n.bind(n,38238)),"valve-entity":()=>n.e("96654").then(n.bind(n,46493)),conditional:()=>Promise.all([n.e("86909"),n.e("6166")]).then(n.bind(n,80725)),"weather-entity":()=>Promise.all([n.e("12009"),n.e("55166")]).then(n.bind(n,80395)),divider:()=>n.e("45249").then(n.bind(n,38584)),section:()=>n.e("51255").then(n.bind(n,39082)),weblink:()=>n.e("69148").then(n.bind(n,65751)),cast:()=>n.e("10405").then(n.bind(n,96612)),buttons:()=>n.e("50777").then(n.bind(n,65728)),attribute:()=>Promise.resolve().then(n.bind(n,65509)),text:()=>n.e("95421").then(n.bind(n,3980))},b={_domain_not_found:"simple",alert:"toggle",automation:"toggle",button:"button",climate:"climate",cover:"cover",date:"date",datetime:"datetime",event:"event",fan:"toggle",group:"group",humidifier:"humidifier",input_boolean:"toggle",input_button:"input-button",input_datetime:"input-datetime",input_number:"input-number",input_select:"input-select",input_text:"input-text",light:"toggle",lock:"lock",media_player:"media-player",number:"number",remote:"toggle",scene:"scene",script:"script",select:"select",sensor:"sensor",siren:"toggle",switch:"toggle",text:"text",time:"time",timer:"timer",update:"update",vacuum:"toggle",valve:"valve",water_heater:"climate",weather:"weather"},_=e=>(0,g.Ue)("row",e,m,y,b,void 0),w=e=>(0,g.gh)(e,"row",m,y);i()}catch(m){i(m)}})},44144:function(e,t,n){n.d(t,{MR:function(){return i},QR:function(){return r},a_:function(){return o},bg:function(){return s}});const i=e=>`https://brands.home-assistant.io/${e.brand?"brands/":""}_/${e.domain}/${e.darkOptimized?"dark_":""}${e.type}.png`,r=e=>`https://brands.home-assistant.io/hardware/${e.category}/${e.darkOptimized?"dark_":""}${e.manufacturer}${e.model?`_${e.model}`:""}.png`,o=e=>e.split("/")[4],s=e=>e.startsWith("https://brands.home-assistant.io/")}}]);
//# sourceMappingURL=86296.9917280ca7da40bb.js.map