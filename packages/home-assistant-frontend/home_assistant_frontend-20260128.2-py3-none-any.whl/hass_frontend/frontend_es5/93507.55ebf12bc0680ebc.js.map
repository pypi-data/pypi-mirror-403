{"version":3,"file":"93507.55ebf12bc0680ebc.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20260128.2/src/common/color/colors.ts","https://raw.githubusercontent.com/home-assistant/frontend/20260128.2/src/panels/lovelace/cards/energy/common/color.ts","https://raw.githubusercontent.com/home-assistant/frontend/20260128.2/src/panels/lovelace/cards/energy/common/hui-energy-graph-chip.ts","https://raw.githubusercontent.com/home-assistant/frontend/20260128.2/src/panels/lovelace/cards/energy/hui-energy-usage-graph-card.ts","/unknown/node_modules/date-fns/constructNow.js","/unknown/node_modules/date-fns/differenceInMinutes.js","/unknown/node_modules/date-fns/endOfToday.js","/unknown/node_modules/date-fns/isSameDay.js","/unknown/node_modules/date-fns/isToday.js","/unknown/node_modules/date-fns/startOfToday.js"],"names":["COLORS_COUNT","getColorByIndex","index","style","colorIndex","getPropertyValue","getGraphColorByIndex","themeColor","theme2hex","getAllGraphColors","memoizeOne","Array","from","length","_","newArgs","lastArgs","getEnergyColor","computedStyles","darkMode","background","compare","propertyName","idx","themeIdxColor","trim","hexColor","rgb2hex","lab2rgb","labBrighten","rgb2lab","hex2rgb","labDarken","HuiEnergyGraphChip","LitElement","render","id","Date","now","html","_t","this","tooltip","styles","css","_t2","type","String","colorPropertyMap","to_grid","to_battery","from_grid","used_grid","used_solar","used_battery","HuiEnergyUsageGraphCard","SubscribeMixin","hassSubscribe","_this$_config","getEnergyDataCollection","hass","key","_config","collection_key","subscribe","data","_getStatistics","getCardSize","setConfig","config","shouldUpdate","changedProps","hasConfigChanged","size","has","title","_total","_t3","_formatTotal","localize","num","formatNumber","locale","nothing","classMap","_chartData","_createOptions","_start","_end","_compareStart","_compareEnd","some","dataset","_t4","isToday","energyData","datasets","statIds","source","prefs","energy_sources","flowFrom","flow_from","push","stat_energy_from","flowTo","flow_to","stat_energy_to","from_battery","solar","getComputedStyle","colorIndices","Object","keys","forEach","values","labels","start","end","endOfToday","startCompare","endCompare","summedData","compareSummedData","getSummedData","consumption","compareConsumption","computeConsumptionData","statsCompare","_processDataSet","statsMetadata","stack","order","stats","sort","a","b","fillDataGapsAndRoundCaps","_processTotal","total","used_total","undefined","statistics","statisticsMetaData","consumptionData","statIdsByCat","combinedData","entries","includes","sets","set","stat","change","val","grid_to_battery","noOfSources","uniqueKeys","timestamps","compareTransform","getCompareTransform","sources","statId","_colorIndices$type","_colorIndices$type2","points","value","dataPoint","cursor","name","getStatisticLabel","barMaxWidth","itemStyle","borderColor","themes","color","args","startOfToday","hassSubscribeRequiredHostProps","compareStart","compareEnd","commonOptions","getCommonOptions","assign","formatter","params","_commonOptions$toolti","_commonOptions$toolti2","isArray","_a$value","_b$value","aValue","bValue","componentIndex","call","_t5","attribute","constructNow","date","constructFrom","differenceInMinutes","dateLeft","dateRight","options","diff","differenceInMilliseconds","millisecondsInMinute","getRoundingMethod","roundingMethod","endOfDay","isSameDay","laterDate","earlierDate","dateLeft_","dateRight_","normalizeDates","in","startOfDay"],"mappings":"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"}