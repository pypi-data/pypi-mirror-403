export const __rspack_esm_id="59671";export const __rspack_esm_ids=["59671"];export const __webpack_modules__={65522(t,e,i){i.d(e,{A:()=>s});const s=t=>t.name?.trim()},79(t,e,i){i.d(e,{Kh:()=>c,xn:()=>o,T:()=>n});i(18111),i(22489),i(61701);var s=i(22786);i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698);var a=i(28978);const o=t=>(t.name_by_user||t.name)?.trim(),n=(t,e,i)=>o(t)||i&&r(e,i)||e.localize("ui.panel.config.devices.unnamed_device",{type:e.localize(`ui.panel.config.devices.type.${t.entry_type||"device"}`)}),r=(t,e)=>{for(const i of e||[]){const e="string"==typeof i?i:i.entity_id,s=t.states[e];if(s)return(0,a.u)(s)}},c=(0,s.A)(t=>function(t){const e=new Set,i=new Set;for(const s of t)i.has(s)?e.add(s):i.add(s);return e}(Object.values(t).map(t=>o(t)).filter(t=>void 0!==t)))},81816(t,e,i){i.d(e,{aH:()=>n,cx:()=>r,es:()=>c});var s=i(79),a=i(28978),o=i(79461);const n=(t,e,i)=>{const s=e[t.entity_id];return s?r(s,i):(0,a.u)(t)},r=(t,e,i)=>{const n=t.name||("original_name"in t&&null!=t.original_name?String(t.original_name):void 0),r=t.device_id?e[t.device_id]:void 0;if(!r)return n||(i?(0,a.u)(i):void 0);const c=(0,s.xn)(r);return c!==n?c&&n&&(0,o.p)(n,c)||n:void 0},c=(t,e,i)=>!n(t,e,i)},74705(t,e,i){i.d(e,{Cf:()=>h,uU:()=>l});i(18111),i(81148),i(22489),i(61701),i(13579);if(66649!=i.j)var s=i(44537);var a=i(65522),o=i(79),n=i(81816),r=i(55931),c=i(28455);const d=66649!=i.j?[{type:"device"},{type:"entity"}]:null,l=(t,e,i,a,o,r,c)=>{let l=(0,s.e)(e||d);const p=c?.separator??" ";if(l.every(t=>"text"===t.type))return l.map(t=>t.text).join(p);if((0,n.es)(t,i,a)){l.some(t=>"device"===t.type)||(l=l.map(t=>"entity"===t.type?{type:"device"}:t))}const y=h(t,l,i,a,o,r);return 1===y.length?y[0]||"":y.filter(t=>t).join(p)},h=(t,e,i,s,d,l)=>{const{device:h,area:p,floor:y}=(0,c.l)(t,i,s,d,l);return e.map(e=>{switch(e.type){case"entity":return(0,n.aH)(t,i,s);case"device":return h?(0,o.xn)(h):void 0;case"area":return p?(0,a.A)(p):void 0;case"floor":return y?(0,r.X)(y):void 0;case"text":return e.text;default:return""}})}},55931(t,e,i){i.d(e,{X:()=>s});const s=t=>t.name?.trim()},79461(t,e,i){i.d(e,{p:()=>a});const s=[" ",": "," - "],a=(t,e)=>{const i=t.toLowerCase(),a=e.toLowerCase();for(const e of s){const s=`${a}${e}`;if(i.startsWith(s)){const e=t.substring(s.length);if(e.length)return o(e.substr(0,e.indexOf(" ")))?e:e[0].toUpperCase()+e.slice(1)}}},o=t=>t.toLowerCase()!==t},93725(t,e,i){i.a(t,async function(t,s){try{i.r(e);i(44114),i(18111),i(22489),i(61701);var a=i(62826),o=i(96196),n=i(44457),r=i(1087),c=i(71727),d=i(28978),l=i(82286),h=i(47351),p=i(53072),y=i(14503),g=(i(38962),i(18350)),u=(i(72554),i(76538),i(36192),t([g]));g=(u.then?(await u)():u)[0];const _="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z";class m extends o.WF{showDialog(t){this._entityId=t.entityId;const e=this.hass.states[t.entityId];this._groupMembers=e?.attributes.group_members?.filter(e=>e!==t.entityId)||[],this._selectedEntities=this._groupMembers}closeDialog(){this._entityId=void 0,this._selectedEntities=[],this._groupMembers=[],this._submitting=!1,this._error=void 0,(0,r.r)(this,"dialog-closed",{dialog:this.localName})}render(){if(!this._entityId)return o.s6;const t=this._entityId,e=this.hass.states[t],i=e&&(0,d.u)(e)||t;return o.qy` <ha-dialog open scrimClickAction escapeKeyAction flexContent .heading="${i}" @closed="${this.closeDialog}"> <ha-dialog-header show-border slot="heading"> <ha-icon-button .label="${this.hass.localize("ui.common.close")}" .path="${_}" dialogAction="close" slot="navigationIcon"></ha-icon-button> <span slot="title">${this.hass.localize("ui.card.media_player.media_players")}</span> <ha-button appearance="plain" slot="actionItems" @click="${this._selectAll}"> ${this.hass.localize("ui.card.media_player.select_all")} </ha-button> </ha-dialog-header> ${this._error?o.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:o.s6} <div class="content"> <ha-media-player-toggle .hass="${this.hass}" .entityId="${t}" checked="checked" disabled="disabled"></ha-media-player-toggle> ${this._mediaPlayerEntities(this.hass.entities).map(t=>o.qy`<ha-media-player-toggle .hass="${this.hass}" .entityId="${t.entity_id}" .checked="${this._selectedEntities.includes(t.entity_id)}" @change="${this._handleSelectedChange}"></ha-media-player-toggle>`)} </div> <ha-button appearance="plain" slot="secondaryAction" @click="${this.closeDialog}"> ${this.hass.localize("ui.common.cancel")} </ha-button> <ha-button .disabled="${!!this._submitting}" slot="primaryAction" @click="${this._submit}"> ${this.hass.localize("ui.common.apply")} </ha-button> </ha-dialog> `}_selectAll(){this._selectedEntities=this._mediaPlayerEntities(this.hass.entities).map(t=>t.entity_id)}_handleSelectedChange(t){const e=this._selectedEntities.filter(e=>e!==t.target.entityId);t.target.checked&&e.push(t.target.entityId),this._selectedEntities=e}async _submit(){if(this._entityId){this._error=void 0,this._submitting=!0;try{await(0,p.Im)(this.hass,this._entityId,this._selectedEntities),await Promise.all(this._groupMembers.filter(t=>!this._selectedEntities.includes(t)).map(t=>(0,p.fh)(this.hass,t))),this.closeDialog()}catch(t){this._error=(0,h.VR)(t)}this._submitting=!1}}static get styles(){return[y.nA,o.AH`.content{display:flex;flex-direction:column;row-gap:var(--ha-space-4)}ha-dialog-header ha-button{margin:6px;display:block}`]}constructor(...t){super(...t),this._mediaPlayerEntities=t=>{if(!this._entityId)return[];const e=this.hass.entities[this._entityId]?.platform;return e?Object.values(t).filter(t=>t.entity_id!==this._entityId&&("media_player"===(0,c.m)(t.entity_id)&&(this.hass.entities[t.entity_id]?.platform===e&&!(!this.hass.states[t.entity_id]||!(0,l.$)(this.hass.states[t.entity_id],p.vj.GROUPING))))):[]}}}(0,a.Cg)([(0,n.MZ)({attribute:!1})],m.prototype,"hass",void 0),(0,a.Cg)([(0,n.wk)()],m.prototype,"_entityId",void 0),(0,a.Cg)([(0,n.wk)()],m.prototype,"_groupMembers",void 0),(0,a.Cg)([(0,n.wk)()],m.prototype,"_selectedEntities",void 0),(0,a.Cg)([(0,n.wk)()],m.prototype,"_submitting",void 0),(0,a.Cg)([(0,n.wk)()],m.prototype,"_error",void 0),m=(0,a.Cg)([(0,n.EM)("dialog-join-media-players")],m),s()}catch(t){s(t)}})},36192(t,e,i){var s=i(62826),a=i(96196),o=i(44457),n=i(22786),r=i(74705),c=i(15638),d=i(1087);i(59646),i(67094);class l extends a.WF{render(){const t=this.hass.states[this.entityId];let e="M12,12A3,3 0 0,0 9,15A3,3 0 0,0 12,18A3,3 0 0,0 15,15A3,3 0 0,0 12,12M12,20A5,5 0 0,1 7,15A5,5 0 0,1 12,10A5,5 0 0,1 17,15A5,5 0 0,1 12,20M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8C10.89,8 10,7.1 10,6C10,4.89 10.89,4 12,4M17,2H7C5.89,2 5,2.89 5,4V20A2,2 0 0,0 7,22H17A2,2 0 0,0 19,20V4C19,2.89 18.1,2 17,2Z";"playing"===t.state?e="M16 15V21L21 18L16 15M12.28 19.81C11.87 19.92 11.45 20 11 20C8.24 20 6 17.76 6 15S8.24 10 11 10C12.89 10 14.5 11.06 15.37 12.61C16.16 12.23 17.06 12 18 12V4C18 2.89 17.1 2 16 2H6C4.89 2 4 2.89 4 4V20C4 21.11 4.89 22 6 22H13.54C13 21.37 12.54 20.63 12.28 19.81M11 4C12.11 4 13 4.89 13 6S12.11 8 11 8C9.89 8 9 7.1 9 6C9 4.89 9.89 4 11 4M13.74 13.78C12.7 14.82 12.06 16.24 12 17.81C11.69 17.93 11.36 18 11 18C9.34 18 8 16.66 8 15S9.34 12 11 12C12.22 12 13.27 12.73 13.74 13.78Z":"paused"===t.state&&(e="M12.28 19.81C11.87 19.92 11.45 20 11 20C8.24 20 6 17.76 6 15S8.24 10 11 10C12.89 10 14.5 11.06 15.37 12.61C16.16 12.23 17.06 12 18 12V4C18 2.89 17.1 2 16 2H6C4.89 2 4 2.89 4 4V20C4 21.11 4.89 22 6 22H13.54C13 21.37 12.54 20.63 12.28 19.81M11 4C12.11 4 13 4.89 13 6S12.11 8 11 8C9.89 8 9 7.1 9 6C9 4.89 9.89 4 11 4M13.74 13.78C12.7 14.82 12.06 16.24 12 17.81C11.69 17.93 11.36 18 11 18C9.34 18 8 16.66 8 15S9.34 12 11 12C12.22 12 13.27 12.73 13.74 13.78M19 15H21V21H19M15 15H17V21H15V15Z");const i=(0,c.qC)(this.hass),{primary:s,secondary:o}=this._computeDisplayData(this.entityId,this.hass.entities,this.hass.devices,this.hass.areas,this.hass.floors,i,t);return a.qy`<div class="list-item"> <ha-svg-icon .path="${e}"></ha-svg-icon> <div class="info"> <div class="main-text">${s}</div> <div class="secondary-text">${o}</div> </div> <ha-switch .disabled="${this.disabled}" .checked="${this.checked}" @change="${this._handleChange}"></ha-switch> </div>`}static get styles(){return[a.AH`.list-item{display:grid;grid-template-columns:auto 1fr auto;column-gap:var(--ha-space-4);align-items:center;width:100%}.info{min-width:0}.main-text{color:var(--primary-text-color)}.main-text[take-height]{line-height:40px}.secondary-text{color:var(--secondary-text-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}`]}_handleChange(t){t.stopPropagation(),this.checked=t.target.checked,(0,d.r)(this,"change")}constructor(...t){super(...t),this.checked=!1,this.disabled=!1,this._computeDisplayData=(0,n.A)((t,e,i,s,a,o,n)=>{const[c,d,l]=(0,r.Cf)(n,[{type:"entity"},{type:"device"},{type:"area"}],e,i,s,a);return{primary:c||d||t,secondary:[l,c?d:void 0].filter(Boolean).join(o?" ◂ ":" ▸ ")}})}}(0,s.Cg)([(0,o.MZ)({attribute:!1})],l.prototype,"hass",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],l.prototype,"entityId",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean})],l.prototype,"checked",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean})],l.prototype,"disabled",void 0),l=(0,s.Cg)([(0,o.EM)("ha-media-player-toggle")],l)},47351(t,e,i){i.d(e,{PS:()=>a,Tv:()=>r,VR:()=>o,lE:()=>c});i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698);var s=i(62384);const a=t=>t.data,o=t=>"object"==typeof t?"object"==typeof t.body?t.body.message||"Unknown error, see supervisor logs":t.body||t.message||"Unknown error, see supervisor logs":t,n=new Set([502,503,504]),r=t=>!!(t&&t.status_code&&n.has(t.status_code))||!(!t||!t.message||!t.message.includes("ERR_CONNECTION_CLOSED")&&!t.message.includes("ERR_CONNECTION_RESET")),c=async(t,e)=>(0,s.v)(t.config.version,2021,2,4)?t.callWS({type:"supervisor/api",endpoint:`/${e}/stats`,method:"get"}):a(await t.callApi("GET",`hassio/${e}/stats`))}};
//# sourceMappingURL=59671.fb94a6e91edac091.js.map