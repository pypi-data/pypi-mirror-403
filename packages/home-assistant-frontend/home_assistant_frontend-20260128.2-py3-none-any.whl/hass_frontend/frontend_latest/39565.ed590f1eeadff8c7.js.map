{"version":3,"file":"39565.ed590f1eeadff8c7.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20260128.2/src/common/color/colors.ts","https://raw.githubusercontent.com/home-assistant/frontend/20260128.2/src/panels/lovelace/cards/energy/common/color.ts","https://raw.githubusercontent.com/home-assistant/frontend/20260128.2/src/panels/lovelace/cards/energy/hui-energy-devices-detail-graph-card.ts","/unknown/node_modules/date-fns/differenceInMinutes.js","/unknown/node_modules/date-fns/endOfToday.js","/unknown/node_modules/date-fns/startOfToday.js"],"names":["getColorByIndex","index","style","colorIndex","getPropertyValue","getGraphColorByIndex","themeColor","theme2hex","getAllGraphColors","memoizeOne","Array","from","length","_","newArgs","lastArgs","getEnergyColor","computedStyles","darkMode","background","compare","propertyName","idx","themeIdxColor","trim","hexColor","rgb2hex","lab2rgb","labBrighten","rgb2lab","hex2rgb","labDarken","UNIT","HuiEnergyDevicesDetailGraphCard","SubscribeMixin","LitElement","hassSubscribe","getEnergyDataCollection","this","hass","key","_config","collection_key","subscribe","data","_data","getCardSize","setConfig","config","shouldUpdate","changedProps","hasConfigChanged","size","has","willUpdate","_processStatistics","render","html","title","classMap","_chartData","_createOptions","_start","_end","locale","_compareStart","_compareEnd","_datasetHidden","_datasetUnhidden","nothing","ev","_hiddenStats","_getStatIdFromId","detail","id","filter","stat","energyData","start","end","endOfToday","startCompare","endCompare","stats","compareData","statsCompare","computedStyle","getComputedStyle","devices","prefs","device_consumption","childMap","forEach","d","included_in_stat","push","stat_consumption","growthValues","device","value","calculateStatisticSumGrowth","growthValuesExChildren","reduce","acc","child","sorted_devices","map","sort","a","b","datasets","summedData","compareSummedData","getSummedData","showUntracked","consumption","consumptionData","compareConsumption","consumptionCompareData","computeConsumptionData","undefined","processedCompareData","_processDataSet","statsMetadata","untrackedCompareData","_processUntracked","type","stack","processedData","_legendData","secondaryIds","name","itemStyle","color","borderColor","untrackedData","fillDataGapsAndRoundCaps","totalDeviceConsumption","datapoint","compareTransform","getCompareTransform","untrackedConsumption","Object","keys","used_total","Number","time","ts","dataPoint","Date","getTime","order","now","cursor","localize","themes","barMaxWidth","statistics","statisticsMetaData","source","indexOf","max_devices","console","warn","prevStart","point","change","sumChildren","c","cStats","find","cStat","getStatisticLabel","Boolean","replace","args","startOfToday","hassSubscribeRequiredHostProps","_formatTotal","total","num","formatNumber","unit","compareStart","compareEnd","commonOptions","getCommonOptions","selected","includes","legend","show","grid","top","bottom","left","right","containLabel","styles","css","attribute","state","differenceInMinutes","dateLeft","dateRight","options","diff","differenceInMilliseconds","millisecondsInMinute","getRoundingMethod","roundingMethod","endOfDay","startOfDay"],"mappings":"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"}