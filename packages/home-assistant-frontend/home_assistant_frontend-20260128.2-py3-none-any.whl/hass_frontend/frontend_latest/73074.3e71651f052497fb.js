export const __rspack_esm_id="73074";export const __rspack_esm_ids=["73074"];export const __webpack_modules__={62384(e,t,i){i.d(t,{v:()=>a});const a=(e,t,i,a)=>{const[o,s,r]=e.split(".",3);return Number(o)>t||Number(o)===t&&(void 0===a?Number(s)>=i:Number(s)>i)||void 0!==a&&Number(o)===t&&Number(s)===i&&Number(r)>=a}},65522(e,t,i){i.d(t,{A:()=>a});const a=e=>e.name?.trim()},79(e,t,i){i.d(t,{Kh:()=>l,xn:()=>s,T:()=>r});i(18111),i(22489),i(61701);var a=i(22786);i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698);var o=i(28978);const s=e=>(e.name_by_user||e.name)?.trim(),r=(e,t,i)=>s(e)||i&&n(t,i)||t.localize("ui.panel.config.devices.unnamed_device",{type:t.localize(`ui.panel.config.devices.type.${e.entry_type||"device"}`)}),n=(e,t)=>{for(const i of t||[]){const t="string"==typeof i?i:i.entity_id,a=e.states[t];if(a)return(0,o.u)(a)}},l=(0,a.A)(e=>function(e){const t=new Set,i=new Set;for(const a of e)i.has(a)?t.add(a):i.add(a);return t}(Object.values(e).map(e=>s(e)).filter(e=>void 0!==e)))},81816(e,t,i){i.d(t,{aH:()=>r,cx:()=>n,es:()=>l});var a=i(79),o=i(28978),s=i(79461);const r=(e,t,i)=>{const a=t[e.entity_id];return a?n(a,i):(0,o.u)(e)},n=(e,t,i)=>{const r=e.name||("original_name"in e&&null!=e.original_name?String(e.original_name):void 0),n=e.device_id?t[e.device_id]:void 0;if(!n)return r||(i?(0,o.u)(i):void 0);const l=(0,a.xn)(n);return l!==r?l&&r&&(0,s.p)(r,l)||r:void 0},l=(e,t,i)=>!r(e,t,i)},74705(e,t,i){i.d(t,{Cf:()=>h,uU:()=>c});i(18111),i(81148),i(22489),i(61701),i(13579);if(66649!=i.j)var a=i(44537);var o=i(65522),s=i(79),r=i(81816),n=i(55931),l=i(28455);const d=66649!=i.j?[{type:"device"},{type:"entity"}]:null,c=(e,t,i,o,s,n,l)=>{let c=(0,a.e)(t||d);const p=l?.separator??" ";if(c.every(e=>"text"===e.type))return c.map(e=>e.text).join(p);if((0,r.es)(e,i,o)){c.some(e=>"device"===e.type)||(c=c.map(e=>"entity"===e.type?{type:"device"}:e))}const u=h(e,c,i,o,s,n);return 1===u.length?u[0]||"":u.filter(e=>e).join(p)},h=(e,t,i,a,d,c)=>{const{device:h,area:p,floor:u}=(0,l.l)(e,i,a,d,c);return t.map(t=>{switch(t.type){case"entity":return(0,r.aH)(e,i,a);case"device":return h?(0,s.xn)(h):void 0;case"area":return p?(0,o.A)(p):void 0;case"floor":return u?(0,n.X)(u):void 0;case"text":return t.text;default:return""}})}},55931(e,t,i){i.d(t,{X:()=>a});const a=e=>e.name?.trim()},78649(e,t,i){i.d(t,{n:()=>o});const a=/^(\w+)\.(\w+)$/,o=e=>a.test(e)},34470(e,t,i){i.d(t,{E:()=>a});const a=i(96196).AH`ha-state-icon[data-domain=alarm_control_panel][data-state=arming],ha-state-icon[data-domain=alarm_control_panel][data-state=pending],ha-state-icon[data-domain=alarm_control_panel][data-state=triggered],ha-state-icon[data-domain=lock][data-state=jammed]{animation:pulse 1s infinite}@keyframes pulse{0%{opacity:1}50%{opacity:0}100%{opacity:1}}ha-state-icon[data-state=unavailable]{color:var(--state-unavailable-color)}`},3931(e,t,i){i.d(t,{U:()=>a});const a=async(e,t,i,a,o,...s)=>{let r=a[e];r||(r=a[e]={});const n=r[o];if(n)return n;const l=i(a,o,...s);return r[o]=l,l.then(()=>setTimeout(()=>{r[o]=void 0},t),()=>{r[o]=void 0}),l}},5745(e,t,i){var a=i(62826),o=i(4720),s=i(44457);class r extends o.Y{}r=(0,a.Cg)([(0,s.EM)("ha-chip-set")],r)},77122(e,t,i){i.a(e,async function(e,t){try{i(18111),i(22489),i(61701);var a=i(62826),o=i(96196),s=i(44457),r=i(22786),n=i(1087),l=i(78649),d=(i(85938),i(82474)),c=e([d]);d=(c.then?(await c)():c)[0];const h="M21 11H3V9H21V11M21 13H3V15H21V13Z";class p extends o.WF{render(){if(!this.hass)return o.s6;const e=this._currentEntities;return o.qy` ${this.label?o.qy`<label>${this.label}</label>`:o.s6} <ha-sortable .disabled="${!this.reorder||this.disabled}" handle-selector=".entity-handle" @item-moved="${this._entityMoved}"> <div class="list"> ${e.map(e=>o.qy` <div class="entity"> <ha-entity-picker .curValue="${e}" .hass="${this.hass}" .includeDomains="${this.includeDomains}" .excludeDomains="${this.excludeDomains}" .includeEntities="${this.includeEntities}" .excludeEntities="${this.excludeEntities}" .includeDeviceClasses="${this.includeDeviceClasses}" .includeUnitOfMeasurement="${this.includeUnitOfMeasurement}" .entityFilter="${this.entityFilter}" .value="${e}" .disabled="${this.disabled}" .createDomains="${this.createDomains}" @value-changed="${this._entityChanged}"></ha-entity-picker> ${this.reorder?o.qy` <ha-svg-icon class="entity-handle" .path="${h}"></ha-svg-icon> `:o.s6} </div> `)} </div> </ha-sortable> <div> <ha-entity-picker .hass="${this.hass}" .includeDomains="${this.includeDomains}" .excludeDomains="${this.excludeDomains}" .includeEntities="${this.includeEntities}" .excludeEntities="${this._excludeEntities(this.value,this.excludeEntities)}" .includeDeviceClasses="${this.includeDeviceClasses}" .includeUnitOfMeasurement="${this.includeUnitOfMeasurement}" .entityFilter="${this.entityFilter}" .placeholder="${this.placeholder}" .helper="${this.helper}" .disabled="${this.disabled}" .createDomains="${this.createDomains}" .required="${this.required&&!e.length}" @value-changed="${this._addEntity}" .addButton="${e.length>0}"></ha-entity-picker> </div> `}_entityMoved(e){e.stopPropagation();const{oldIndex:t,newIndex:i}=e.detail,a=this._currentEntities,o=a[t],s=[...a];s.splice(t,1),s.splice(i,0,o),this._updateEntities(s)}get _currentEntities(){return this.value||[]}async _updateEntities(e){this.value=e,(0,n.r)(this,"value-changed",{value:e})}_entityChanged(e){e.stopPropagation();const t=e.currentTarget.curValue,i=e.detail.value;if(i===t||void 0!==i&&!(0,l.n)(i))return;const a=this._currentEntities;i&&!a.includes(i)?this._updateEntities(a.map(e=>e===t?i:e)):this._updateEntities(a.filter(e=>e!==t))}async _addEntity(e){e.stopPropagation();const t=e.detail.value;if(!t)return;if(e.currentTarget.value="",!t)return;const i=this._currentEntities;i.includes(t)||this._updateEntities([...i,t])}constructor(...e){super(...e),this.disabled=!1,this.required=!1,this.reorder=!1,this._excludeEntities=(0,r.A)((e,t)=>void 0===e?t:[...t||[],...e])}}p.styles=o.AH`div{margin-top:8px}label{display:block;margin:0 0 8px}.entity{display:flex;flex-direction:row;align-items:center}.entity ha-entity-picker{flex:1}.entity-handle{padding:8px;cursor:move;cursor:grab}`,(0,a.Cg)([(0,s.MZ)({attribute:!1})],p.prototype,"hass",void 0),(0,a.Cg)([(0,s.MZ)({type:Array})],p.prototype,"value",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean})],p.prototype,"disabled",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean})],p.prototype,"required",void 0),(0,a.Cg)([(0,s.MZ)()],p.prototype,"label",void 0),(0,a.Cg)([(0,s.MZ)()],p.prototype,"placeholder",void 0),(0,a.Cg)([(0,s.MZ)()],p.prototype,"helper",void 0),(0,a.Cg)([(0,s.MZ)({type:Array,attribute:"include-domains"})],p.prototype,"includeDomains",void 0),(0,a.Cg)([(0,s.MZ)({type:Array,attribute:"exclude-domains"})],p.prototype,"excludeDomains",void 0),(0,a.Cg)([(0,s.MZ)({type:Array,attribute:"include-device-classes"})],p.prototype,"includeDeviceClasses",void 0),(0,a.Cg)([(0,s.MZ)({type:Array,attribute:"include-unit-of-measurement"})],p.prototype,"includeUnitOfMeasurement",void 0),(0,a.Cg)([(0,s.MZ)({type:Array,attribute:"include-entities"})],p.prototype,"includeEntities",void 0),(0,a.Cg)([(0,s.MZ)({type:Array,attribute:"exclude-entities"})],p.prototype,"excludeEntities",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],p.prototype,"entityFilter",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1,type:Array})],p.prototype,"createDomains",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean})],p.prototype,"reorder",void 0),p=(0,a.Cg)([(0,s.EM)("ha-entities-picker")],p),t()}catch(e){t(e)}})},82474(e,t,i){i.a(e,async function(e,t){try{i(18111),i(61701);var a=i(62826),o=i(96196),s=i(44457),r=i(22786),n=i(1087),l=i(74705),d=i(78649),c=i(15638),h=i(53756),p=i(95350),u=i(24367),m=i(19711),b=(i(75064),i(38508)),y=(i(67094),i(74281)),g=e([b,y]);[b,y]=g.then?(await g)():g;const v="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",_="M11,13.5V21.5H3V13.5H11M12,2L17.5,11H6.5L12,2M17.5,13C20,13 22,15 22,17.5C22,20 20,22 17.5,22C15,22 13,20 13,17.5C13,15 15,13 17.5,13Z",f="___create-new-entity___";class $ extends o.WF{firstUpdated(e){super.firstUpdated(e),this.hass.loadBackendTranslation("title")}get _showEntityId(){return this.showEntityId||this.hass.userData?.showEntityIdPicker}render(){const e=this.placeholder??this.hass.localize("ui.components.entity.entity-picker.placeholder");return o.qy` <ha-generic-picker .hass="${this.hass}" .disabled="${this.disabled}" .autofocus="${this.autofocus}" .allowCustomValue="${this.allowCustomEntity}" .required="${this.required}" .label="${this.label}" .placeholder="${e}" .helper="${this.helper}" .value="${this.addButton?void 0:this.value}" .searchLabel="${this.searchLabel}" .notFoundLabel="${this._notFoundLabel}" .rowRenderer="${this._rowRenderer}" .getItems="${this._getItems}" .getAdditionalItems="${this._getAdditionalItems}" .hideClearIcon="${this.hideClearIcon}" .searchFn="${this._searchFn}" .valueRenderer="${this._valueRenderer}" .searchKeys="${h.t}" use-top-label .addButtonLabel="${this.addButton?this.hass.localize("ui.components.entity.entity-picker.add"):void 0}" .unknownItemText="${this.hass.localize("ui.components.entity.entity-picker.unknown")}" @value-changed="${this._valueChanged}"> </ha-generic-picker> `}async open(){await this.updateComplete,await(this._picker?.open())}_valueChanged(e){e.stopPropagation();const t=e.detail.value;if(t){if(t.startsWith(f)){const e=t.substring(f.length);return void(0,m.$)(this,{domain:e,dialogClosedCallback:e=>{e.entityId&&this._setValue(e.entityId)}})}(0,d.n)(t)&&this._setValue(t)}else this._setValue(void 0)}_setValue(e){this.value=e,(0,n.r)(this,"value-changed",{value:e}),(0,n.r)(this,"change")}constructor(...e){super(...e),this.autofocus=!1,this.disabled=!1,this.required=!1,this.showEntityId=!1,this.hideClearIcon=!1,this.addButton=!1,this._valueRenderer=e=>{const t=e||"",i=this.hass.states[t];if(!i)return o.qy` <ha-svg-icon slot="start" .path="${_}" style="margin:0 4px"></ha-svg-icon> <span slot="headline">${t}</span> `;const[a,s,r]=(0,l.Cf)(i,[{type:"entity"},{type:"device"},{type:"area"}],this.hass.entities,this.hass.devices,this.hass.areas,this.hass.floors),n=(0,c.qC)(this.hass),d=a||s||t,h=[r,a?s:void 0].filter(Boolean).join(n?" ◂ ":" ▸ ");return o.qy` <state-badge .hass="${this.hass}" .stateObj="${i}" slot="start"></state-badge> <span slot="headline">${d}</span> <span slot="supporting-text">${h}</span> `},this._rowRenderer=(e,t)=>{const i=this._showEntityId;return o.qy` <ha-combo-box-item type="button" compact="compact" .borderTop="${0!==t}"> ${e.icon_path?o.qy` <ha-svg-icon slot="start" style="margin:0 4px" .path="${e.icon_path}"></ha-svg-icon> `:o.qy` <state-badge slot="start" .stateObj="${e.stateObj}" .hass="${this.hass}"></state-badge> `} <span slot="headline">${e.primary}</span> ${e.secondary?o.qy`<span slot="supporting-text">${e.secondary}</span>`:o.s6} ${e.stateObj&&i?o.qy` <span slot="supporting-text" class="code"> ${e.stateObj.entity_id} </span> `:o.s6} ${e.domain_name&&!i?o.qy` <div slot="trailing-supporting-text" class="domain"> ${e.domain_name} </div> `:o.s6} </ha-combo-box-item> `},this._getAdditionalItems=()=>this._getCreateItems(this.hass.localize,this.createDomains),this._getCreateItems=(0,r.A)((e,t)=>t?.length?(this.hass.loadFragmentTranslation("config"),t.map(t=>{const i=e("ui.components.entity.entity-picker.create_helper",{domain:(0,u.z)(t)?e(`ui.panel.config.helpers.types.${t}`)||t:(0,p.p$)(e,t)});return{id:f+t,primary:i,secondary:e("ui.components.entity.entity-picker.new_entity"),icon_path:v}})):[]),this._getEntitiesMemoized=(0,r.A)(h.w),this._getItems=()=>this._getEntitiesMemoized(this.hass,this.includeDomains,this.excludeDomains,this.entityFilter,this.includeDeviceClasses,this.includeUnitOfMeasurement,this.includeEntities,this.excludeEntities,this.value),this._searchFn=(e,t)=>{const i=t.findIndex(t=>t.stateObj?.entity_id===e);if(-1===i)return t;const[a]=t.splice(i,1);return t.unshift(a),t},this._notFoundLabel=e=>this.hass.localize("ui.components.entity.entity-picker.no_match",{term:o.qy`<b>‘${e}’</b>`})}}(0,a.Cg)([(0,s.MZ)({attribute:!1})],$.prototype,"hass",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean})],$.prototype,"autofocus",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean})],$.prototype,"disabled",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean})],$.prototype,"required",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean,attribute:"allow-custom-entity"})],$.prototype,"allowCustomEntity",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean,attribute:"show-entity-id"})],$.prototype,"showEntityId",void 0),(0,a.Cg)([(0,s.MZ)()],$.prototype,"label",void 0),(0,a.Cg)([(0,s.MZ)()],$.prototype,"value",void 0),(0,a.Cg)([(0,s.MZ)()],$.prototype,"helper",void 0),(0,a.Cg)([(0,s.MZ)()],$.prototype,"placeholder",void 0),(0,a.Cg)([(0,s.MZ)({type:String,attribute:"search-label"})],$.prototype,"searchLabel",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1,type:Array})],$.prototype,"createDomains",void 0),(0,a.Cg)([(0,s.MZ)({type:Array,attribute:"include-domains"})],$.prototype,"includeDomains",void 0),(0,a.Cg)([(0,s.MZ)({type:Array,attribute:"exclude-domains"})],$.prototype,"excludeDomains",void 0),(0,a.Cg)([(0,s.MZ)({type:Array,attribute:"include-device-classes"})],$.prototype,"includeDeviceClasses",void 0),(0,a.Cg)([(0,s.MZ)({type:Array,attribute:"include-unit-of-measurement"})],$.prototype,"includeUnitOfMeasurement",void 0),(0,a.Cg)([(0,s.MZ)({type:Array,attribute:"include-entities"})],$.prototype,"includeEntities",void 0),(0,a.Cg)([(0,s.MZ)({type:Array,attribute:"exclude-entities"})],$.prototype,"excludeEntities",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],$.prototype,"entityFilter",void 0),(0,a.Cg)([(0,s.MZ)({attribute:"hide-clear-icon",type:Boolean})],$.prototype,"hideClearIcon",void 0),(0,a.Cg)([(0,s.MZ)({attribute:"add-button",type:Boolean})],$.prototype,"addButton",void 0),(0,a.Cg)([(0,s.P)("ha-generic-picker")],$.prototype,"_picker",void 0),$=(0,a.Cg)([(0,s.EM)("ha-entity-picker")],$),t()}catch(e){t(e)}})},74281(e,t,i){i.a(e,async function(e,t){try{i(18111),i(7588);var a=i(62826),o=i(96196),s=i(44457),r=i(32288),n=i(6415),l=i(71727),d=i(69093),c=i(27120),h=i(34470),p=i(10897),u=i(38279),m=i(93367),b=e([m]);m=(b.then?(await b)():b)[0];const y="M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z";class g extends o.WF{connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0===this.overrideImage&&(this.stateObj?.attributes.entity_picture||this.stateObj?.attributes.entity_picture_local)&&this.requestUpdate("stateObj")}disconnectedCallback(){super.disconnectedCallback(),void 0===this.overrideImage&&(this.stateObj?.attributes.entity_picture||this.stateObj?.attributes.entity_picture_local)&&(this.style.backgroundImage="")}get _stateColor(){const e=this.stateObj?(0,d.t)(this.stateObj):void 0;return this.stateColor??"light"===e}render(){const e=this.stateObj;if(!e&&!this.overrideIcon&&!this.overrideImage)return o.qy`<div class="missing"> <ha-svg-icon .path="${y}"></ha-svg-icon> </div>`;const t=this.getClass();if(t&&t.forEach((e,t)=>{e?this.classList.add(t):this.classList.remove(t)}),!this.icon)return o.s6;const i=e?(0,d.t)(e):void 0;return o.qy`<ha-state-icon .hass="${this.hass}" style="${(0,n.W)(this._iconStyle)}" data-domain="${(0,r.J)(i)}" data-state="${(0,r.J)(e?.state)}" .icon="${this.overrideIcon}" .stateObj="${e}"></ha-state-icon>`}willUpdate(e){if(super.willUpdate(e),!(e.has("stateObj")||e.has("overrideImage")||e.has("overrideIcon")||e.has("stateColor")||e.has("color")))return;const t=this.stateObj,i={};let a="";if(this.icon=!0,t){const e=(0,l.m)(t.entity_id);if(void 0===this.overrideImage)if(!t.attributes.entity_picture_local&&!t.attributes.entity_picture||this.overrideIcon){if(this.color)i.color=this.color;else if(this._stateColor){const e=(0,c.Se)(t);if(e&&(i.color=e),t.attributes.rgb_color&&(i.color=`rgb(${t.attributes.rgb_color.join(",")})`),t.attributes.brightness){const e=t.attributes.brightness;if("number"!=typeof e){const i=`Type error: state-badge expected number, but type of ${t.entity_id}.attributes.brightness is ${typeof e} (${e})`;console.warn(i)}i.filter=(0,c.mT)(t)}if(t.attributes.hvac_action){const e=t.attributes.hvac_action;e in u.sx?i.color=(0,c.Se)(t,u.sx[e]):delete i.color}}}else{let i=t.attributes.entity_picture_local||t.attributes.entity_picture;this.hass&&(i=this.hass.hassUrl(i)),"camera"===e&&(i=(0,p.su)(i,80,80)),a=`url(${i})`,this.icon=!1}else if(this.overrideImage){let e=this.overrideImage;this.hass&&(e=this.hass.hassUrl(e)),a=`url(${e})`,this.icon=!1}}this._iconStyle=i,this.style.backgroundImage=a}getClass(){const e=new Map(["has-no-radius","has-media-image","has-image"].map(e=>[e,!1]));if(this.stateObj){const t=(0,l.m)(this.stateObj.entity_id);"update"===t?e.set("has-no-radius",!0):"media_player"===t||"camera"===t?e.set("has-media-image",!0):""!==this.style.backgroundImage&&e.set("has-image",!0)}return e}static get styles(){return[h.E,o.AH`:host{position:relative;display:inline-flex;width:40px;color:var(--state-icon-color);border-radius:var(--state-badge-border-radius,50%);height:40px;background-size:cover;box-sizing:border-box;--state-inactive-color:initial;align-items:center;justify-content:center}:host(.has-image){border-radius:var(--state-badge-with-image-border-radius,50%)}:host(.has-media-image){border-radius:var(--state-badge-with-media-image-border-radius,8%)}:host(.has-no-radius){border-radius:var(--ha-border-radius-square)}:host(:focus){outline:0}:host(:not([icon]):focus){border:2px solid var(--divider-color)}:host([icon]:focus){background:var(--divider-color)}ha-state-icon{transition:color .3s ease-in-out,filter .3s ease-in-out}.missing{color:#fce588}`]}constructor(...e){super(...e),this.icon=!0,this._iconStyle={}}}(0,a.Cg)([(0,s.MZ)({attribute:!1})],g.prototype,"stateObj",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],g.prototype,"overrideIcon",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],g.prototype,"overrideImage",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],g.prototype,"stateColor",void 0),(0,a.Cg)([(0,s.MZ)()],g.prototype,"color",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean,reflect:!0})],g.prototype,"icon",void 0),(0,a.Cg)([(0,s.wk)()],g.prototype,"_iconStyle",void 0),g=(0,a.Cg)([(0,s.EM)("state-badge")],g),t()}catch(e){t(e)}})},38508(e,t,i){i.a(e,async function(e,t){try{i(18111),i(13579);var a=i(62826),o=i(61366),s=i(96196),r=i(44457),n=i(32288),l=i(57947),d=i(1087),c=i(77796),h=i(17894),p=i(22348),u=i(99611),m=i(18350),b=(i(75064),i(3449),i(49639),i(88285),i(67094),e([o,u,m]));[o,u,m]=b.then?(await b)():b;const y="M3 16H10V14H3M18 14V10H16V14H12V16H16V20H18V16H22V14M14 6H3V8H14M14 10H3V12H14V10Z";class g extends((0,h.c)(s.WF)){willUpdate(e){e.has("value")?this._setUnknownValue():e.has("hass")&&this._throttleUnknownValue()}setFieldValue(e){this._comboBox?this._comboBox.setFieldValue(e):this._initialFieldValue=e}render(){const e=this.useTopLabel&&this.value?void 0:this.label;return s.qy`<div class="container"> ${this.useTopLabel&&this.label?s.qy`<label ?disabled="${this.disabled}">${this.label}</label>`:s.s6} <div id="picker"> <slot name="field"> ${this.addButtonLabel&&!this.value?s.qy`<ha-button size="small" appearance="filled" @click="${this.open}" .disabled="${this.disabled}"> <ha-svg-icon .path="${y}" slot="start"></ha-svg-icon> ${this.addButtonLabel} </ha-button>`:s.qy`<ha-picker-field type="button" class="${this._opened?"opened":""}" compact="compact" .unknown="${this._unknownValue}" .unknownItemText="${this.unknownItemText}" aria-label="${(0,n.J)(this.label)}" @click="${this.open}" @clear="${this._clear}" .icon="${this.icon}" .image="${this.image}" .label="${e}" .placeholder="${this.placeholder}" .helper="${this.helper}" .value="${this.value}" .valueRenderer="${this.valueRenderer}" .required="${this.required}" .disabled="${this.disabled}" .invalid="${this.invalid}" .hideClearIcon="${this.hideClearIcon}"> <slot name="start"></slot> </ha-picker-field>`} </slot> </div> ${this._pickerWrapperOpen||this._opened?this._openedNarrow?s.qy` <ha-bottom-sheet flexcontent .open="${this._pickerWrapperOpen}" @wa-after-show="${this._dialogOpened}" @closed="${this._hidePicker}" role="dialog" aria-modal="true" aria-label="${this.label||"Select option"}"> ${this._renderComboBox(!0)} </ha-bottom-sheet> `:s.qy` <wa-popover .open="${this._pickerWrapperOpen}" style="--body-width:${this._popoverWidth}px" without-arrow distance="-4" .placement="${this.popoverPlacement}" for="picker" auto-size="vertical" auto-size-padding="16" @wa-after-show="${this._dialogOpened}" @wa-after-hide="${this._hidePicker}" trap-focus role="dialog" aria-modal="true" aria-label="${this.label||"Select option"}"> ${this._renderComboBox()} </wa-popover> `:s.s6} </div> ${this._renderHelper()}`}_renderComboBox(e=!1){return this._opened?s.qy` <ha-picker-combo-box id="combo-box" .hass="${this.hass}" .allowCustomValue="${this.allowCustomValue}" .label="${this.searchLabel}" .value="${this.value}" @value-changed="${this._valueChanged}" .rowRenderer="${this.rowRenderer}" .notFoundLabel="${this.notFoundLabel}" .emptyLabel="${this.emptyLabel}" .getItems="${this.getItems}" .getAdditionalItems="${this.getAdditionalItems}" .searchFn="${this.searchFn}" .mode="${e?"dialog":"popover"}" .sections="${this.sections}" .sectionTitleFunction="${this.sectionTitleFunction}" .selectedSection="${this.selectedSection}" .searchKeys="${this.searchKeys}" .customValueLabel="${this.customValueLabel}"></ha-picker-combo-box> `:s.s6}_renderHelper(){const e=this.invalid&&this.errorMessage,t=!e&&this.helper;return e||t?s.qy`<ha-input-helper-text .disabled="${this.disabled}"> ${e?this.errorMessage:this.helper} </ha-input-helper-text>`:s.s6}_hidePicker(e){e.stopPropagation(),this._newValue&&((0,d.r)(this,"value-changed",{value:this._newValue}),this._newValue=void 0),this._opened=!1,this._pickerWrapperOpen=!1,this._unsubscribeTinyKeys?.()}_valueChanged(e){e.stopPropagation();const t=e.detail.value;t&&(this._pickerWrapperOpen=!1,this._newValue=t)}_clear(e){e.stopPropagation(),this._setValue(void 0)}_setValue(e){this.value=e,(0,d.r)(this,"value-changed",{value:e})}async open(e){e?.stopPropagation(),this.disabled||(this._openedNarrow=this._narrow,this._popoverWidth=this._containerElement?.offsetWidth||250,this._pickerWrapperOpen=!0,this._unsubscribeTinyKeys=(0,l.Tc)(this,{Escape:this._handleEscClose}))}connectedCallback(){super.connectedCallback(),this._handleResize(),window.addEventListener("resize",this._handleResize)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this._handleResize),this._unsubscribeTinyKeys?.()}static get styles(){return[s.AH`.container{position:relative;display:block;max-width:100%}label[disabled]{color:var(--mdc-text-field-disabled-ink-color,rgba(0,0,0,.6))}label{display:block;margin:0 0 8px}ha-input-helper-text{display:block;margin:var(--ha-space-2) 0 0}:host([invalid]) ha-input-helper-text{color:var(--mdc-theme-error,var(--error-color,#b00020))}wa-popover{--wa-space-l:0}wa-popover::part(body){width:max(var(--body-width),250px);max-width:var(--ha-generic-picker-max-width,max(var(--body-width),250px));max-height:500px;height:70vh;overflow:hidden}@media (max-height:1000px){wa-popover::part(body){max-height:400px}}ha-bottom-sheet{--ha-bottom-sheet-height:90vh;--ha-bottom-sheet-height:calc(100dvh - var(--ha-space-12));--ha-bottom-sheet-max-height:var(--ha-bottom-sheet-height);--ha-bottom-sheet-max-width:600px;--ha-bottom-sheet-padding:0;--ha-bottom-sheet-surface-background:var(--card-background-color);--ha-bottom-sheet-border-radius:var(--ha-border-radius-2xl)}ha-picker-field.opened{--mdc-text-field-idle-line-color:var(--primary-color)}`]}constructor(...e){super(...e),this.popoverPlacement="bottom-start",this.useTopLabel=!1,this._opened=!1,this._pickerWrapperOpen=!1,this._popoverWidth=0,this._openedNarrow=!1,this._unknownValue=!1,this._narrow=!1,this.invalid=!1,this._setUnknownValue=()=>{const e=this.getItems();!this.allowCustomValue&&void 0!==this.value&&null!==this.value&&""!==this.value&&e?this._unknownValue=!e.some(e=>"string"!=typeof e&&e.id===this.value):this._unknownValue=!1},this._throttleUnknownValue=(0,c.n)(this._setUnknownValue,1e3,!0,!1),this._dialogOpened=()=>{this._opened=!0,requestAnimationFrame(()=>{this._initialFieldValue&&(this._comboBox?.setFieldValue(this._initialFieldValue),this._initialFieldValue=void 0),this.hass&&(0,p.V)(this.hass)?this.hass.auth.external.fireMessage({type:"focus_element",payload:{element_id:"combo-box"}}):this._comboBox?.focus()})},this._handleResize=()=>{this._narrow=window.matchMedia("(max-width: 870px)").matches||window.matchMedia("(max-height: 500px)").matches,!this._openedNarrow&&this._pickerWrapperOpen&&(this._popoverWidth=this._containerElement?.offsetWidth||250)},this._handleEscClose=e=>{e.stopPropagation()}}}g.shadowRootOptions={...s.WF.shadowRootOptions,delegatesFocus:!0},(0,a.Cg)([(0,r.MZ)({attribute:!1})],g.prototype,"hass",void 0),(0,a.Cg)([(0,r.MZ)({type:Boolean,attribute:"allow-custom-value"})],g.prototype,"allowCustomValue",void 0),(0,a.Cg)([(0,r.MZ)({type:String,attribute:"search-label"})],g.prototype,"searchLabel",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1})],g.prototype,"getItems",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1,type:Array})],g.prototype,"getAdditionalItems",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1})],g.prototype,"rowRenderer",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1})],g.prototype,"searchFn",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1})],g.prototype,"searchKeys",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1})],g.prototype,"notFoundLabel",void 0),(0,a.Cg)([(0,r.MZ)({attribute:"empty-label"})],g.prototype,"emptyLabel",void 0),(0,a.Cg)([(0,r.MZ)({attribute:"popover-placement"})],g.prototype,"popoverPlacement",void 0),(0,a.Cg)([(0,r.MZ)({attribute:"add-button-label"})],g.prototype,"addButtonLabel",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1})],g.prototype,"sections",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1})],g.prototype,"sectionTitleFunction",void 0),(0,a.Cg)([(0,r.MZ)({attribute:"selected-section"})],g.prototype,"selectedSection",void 0),(0,a.Cg)([(0,r.MZ)({type:Boolean,attribute:"use-top-label"})],g.prototype,"useTopLabel",void 0),(0,a.Cg)([(0,r.MZ)({attribute:"custom-value-label"})],g.prototype,"customValueLabel",void 0),(0,a.Cg)([(0,r.P)(".container")],g.prototype,"_containerElement",void 0),(0,a.Cg)([(0,r.P)("ha-picker-combo-box")],g.prototype,"_comboBox",void 0),(0,a.Cg)([(0,r.wk)()],g.prototype,"_opened",void 0),(0,a.Cg)([(0,r.wk)()],g.prototype,"_pickerWrapperOpen",void 0),(0,a.Cg)([(0,r.wk)()],g.prototype,"_popoverWidth",void 0),(0,a.Cg)([(0,r.wk)()],g.prototype,"_openedNarrow",void 0),(0,a.Cg)([(0,r.wk)()],g.prototype,"_unknownValue",void 0),(0,a.Cg)([(0,r.MZ)({attribute:"error-message"})],g.prototype,"errorMessage",void 0),(0,a.Cg)([(0,r.MZ)({type:Boolean,reflect:!0})],g.prototype,"invalid",void 0),g=(0,a.Cg)([(0,r.EM)("ha-generic-picker")],g),t()}catch(e){t(e)}})},3449(e,t,i){var a=i(62826),o=i(96196),s=i(44457);class r extends o.WF{render(){return o.qy`<slot></slot>`}constructor(...e){super(...e),this.disabled=!1}}r.styles=o.AH`:host{display:block;color:var(--mdc-text-field-label-ink-color,rgba(0,0,0,.6));font-size:.75rem;padding-left:16px;padding-right:16px;padding-inline-start:16px;padding-inline-end:16px;letter-spacing:var(
        --mdc-typography-caption-letter-spacing,
        .0333333333em
      );line-height:normal}:host([disabled]){color:var(--mdc-text-field-disabled-ink-color,rgba(0,0,0,.6))}`,(0,a.Cg)([(0,s.MZ)({type:Boolean,reflect:!0})],r.prototype,"disabled",void 0),r=(0,a.Cg)([(0,s.EM)("ha-input-helper-text")],r)},2846(e,t,i){i.d(t,{G:()=>d,J:()=>l});var a=i(62826),o=i(97154),s=i(82553),r=i(96196),n=i(44457);i(54276);const l=[s.R,r.AH`:host{--ha-icon-display:block;--md-sys-color-primary:var(--primary-text-color);--md-sys-color-secondary:var(--secondary-text-color);--md-sys-color-surface:var(--card-background-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color)}md-item{overflow:var(--md-item-overflow,hidden);align-items:var(--md-item-align-items,center);gap:var(--ha-md-list-item-gap,16px)}`];class d extends o.n{renderRipple(){return"text"===this.type?r.s6:r.qy`<ha-ripple part="ripple" for="item" ?disabled="${this.disabled&&"link"!==this.type}"></ha-ripple>`}}d.styles=l,d=(0,a.Cg)([(0,n.EM)("ha-md-list-item")],d)},88285(e,t,i){var a=i(62826),o=i(16527),s=i(96196),r=i(44457),n=i(32288),l=i(1087),d=i(38911),c=i(17894);i(75064),i(88945),i(26300);class h extends((0,c.c)(s.WF)){async focus(){await this.updateComplete,await(this.item?.focus())}render(){const e=!!this.value,t=!(!this.value||this.required||this.disabled||this.hideClearIcon),i=this.placeholder??this.label,a=this.label&&e?s.qy`<span slot="overline">${this.label}${this.required?" *":""}</span>`:s.s6,o=e?this.valueRenderer?this.valueRenderer(this.value??""):s.qy`<span slot="headline">${this.value}</span>`:i?s.qy`<span slot="headline" class="placeholder"> ${i}${this.required?" *":""} </span>`:s.s6;return s.qy` <ha-combo-box-item aria-label="${(0,n.J)(this.label||this.placeholder)}" .disabled="${this.disabled}" type="button" compact="compact"> ${this.image?s.qy`<img alt="${this.label??""}" slot="start" .src="${this.image}" crossorigin="anonymous" referrerpolicy="no-referrer">`:this.icon?s.qy`<ha-icon slot="start" .icon="${this.icon}"></ha-icon>`:s.qy`<slot name="start"></slot>`} ${a}${o} ${this.unknown?s.qy`<div slot="supporting-text" class="unknown"> ${this.unknownItemText||this.localize("ui.components.combo-box.unknown_item")} </div>`:s.s6} ${t?s.qy` <ha-icon-button class="clear" slot="end" @click="${this._clear}" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}"></ha-icon-button> `:s.s6} <ha-svg-icon class="arrow" slot="end" .path="${"M7,10L12,15L17,10H7Z"}"></ha-svg-icon> </ha-combo-box-item> `}_clear(e){e.stopPropagation(),(0,l.r)(this,"clear")}static get styles(){return[s.AH`ha-combo-box-item[disabled]{background-color:var(--mdc-text-field-disabled-fill-color,#f5f5f5)}ha-combo-box-item{background-color:var(--mdc-text-field-fill-color,#f5f5f5);border-radius:var(--ha-border-radius-sm);border-end-end-radius:0;border-end-start-radius:0;--md-list-item-one-line-container-height:56px;--md-list-item-two-line-container-height:56px;--md-list-item-top-space:0px;--md-list-item-bottom-space:0px;--md-list-item-leading-space:var(--ha-space-4);--md-list-item-trailing-space:var(--ha-space-2);--ha-md-list-item-gap:var(--ha-space-2);--md-focus-ring-width:0px;--md-focus-ring-duration:0s}ha-combo-box-item[disabled]:after{background-color:var(--mdc-text-field-disabled-line-color,rgba(0,0,0,.42))}ha-combo-box-item:after{display:block;content:"";position:absolute;pointer-events:none;bottom:0;left:0;right:0;height:1px;width:100%;background-color:var(--mdc-text-field-idle-line-color,rgba(0,0,0,.42));transform:height 180ms ease-in-out,background-color 180ms ease-in-out}ha-combo-box-item:focus:after{height:2px;background-color:var(--mdc-theme-primary)}:host([unknown]) ha-combo-box-item{background-color:var(--ha-color-fill-warning-quiet-resting)}:host([invalid]) ha-combo-box-item:after{height:2px;background-color:var(--mdc-theme-error,var(--error-color,#b00020))}.clear{margin:0 -8px;--mdc-icon-button-size:32px;--mdc-icon-size:20px}.arrow{--mdc-icon-size:20px;width:32px}.placeholder{color:var(--secondary-text-color)}:host([invalid]) .placeholder{color:var(--mdc-theme-error,var(--error-color,#b00020))}.unknown{color:var(--ha-color-on-warning-normal)}`]}constructor(...e){super(...e),this.invalid=!1}}(0,a.Cg)([(0,r.MZ)({type:Boolean,reflect:!0})],h.prototype,"invalid",void 0),(0,a.Cg)([(0,r.P)("ha-combo-box-item",!0)],h.prototype,"item",void 0),(0,a.Cg)([(0,r.wk)(),(0,o.Fg)({context:d.$F,subscribe:!0})],h.prototype,"localize",void 0),h=(0,a.Cg)([(0,r.EM)("ha-picker-field")],h)},85938(e,t,i){i(18111),i(22489),i(46058);var a=i(62826),o=i(96196),s=i(44457),r=i(1087);class n extends o.WF{updated(e){e.has("disabled")&&(this.disabled?this._destroySortable():this._createSortable())}disconnectedCallback(){super.disconnectedCallback(),this._shouldBeDestroy=!0,setTimeout(()=>{this._shouldBeDestroy&&(this._destroySortable(),this._shouldBeDestroy=!1)},1)}connectedCallback(){super.connectedCallback(),this._shouldBeDestroy=!1,this.hasUpdated&&!this.disabled&&this._createSortable()}createRenderRoot(){return this}render(){return this.noStyle?o.s6:o.qy` <style>.sortable-fallback{display:none!important}.sortable-ghost{box-shadow:0 0 0 2px var(--primary-color);background:rgba(var(--rgb-primary-color),.25);border-radius:var(--ha-border-radius-sm);opacity:.4}.sortable-drag{border-radius:var(--ha-border-radius-sm);opacity:1;background:var(--card-background-color);box-shadow:0px 4px 8px 3px #00000026;cursor:grabbing}</style> `}async _createSortable(){if(this._sortable)return;const e=this.children[0];if(!e)return;const t=(await Promise.all([i.e("85283"),i.e("70322")]).then(i.bind(i,80745))).default,a={scroll:!0,forceAutoScrollFallback:!0,scrollSpeed:20,animation:150,...this.options,onChoose:this._handleChoose,onStart:this._handleStart,onEnd:this._handleEnd,onUpdate:this._handleUpdate,onAdd:this._handleAdd,onRemove:this._handleRemove};this.draggableSelector&&(a.draggable=this.draggableSelector),this.handleSelector&&(a.handle=this.handleSelector),void 0!==this.invertSwap&&(a.invertSwap=this.invertSwap),this.group&&(a.group=this.group),this.filter&&(a.filter=this.filter),this._sortable=new t(e,a)}_destroySortable(){this._sortable&&(this._sortable.destroy(),this._sortable=void 0)}constructor(...e){super(...e),this.disabled=!1,this.noStyle=!1,this.invertSwap=!1,this.rollback=!0,this._shouldBeDestroy=!1,this._handleUpdate=e=>{(0,r.r)(this,"item-moved",{newIndex:e.newIndex,oldIndex:e.oldIndex})},this._handleAdd=e=>{(0,r.r)(this,"item-added",{index:e.newIndex,data:e.item.sortableData,item:e.item})},this._handleRemove=e=>{(0,r.r)(this,"item-removed",{index:e.oldIndex})},this._handleEnd=async e=>{(0,r.r)(this,"drag-end"),this.rollback&&e.item.placeholder&&(e.item.placeholder.replaceWith(e.item),delete e.item.placeholder)},this._handleStart=()=>{(0,r.r)(this,"drag-start")},this._handleChoose=e=>{this.rollback&&(e.item.placeholder=document.createComment("sort-placeholder"),e.item.after(e.item.placeholder))}}}(0,a.Cg)([(0,s.MZ)({type:Boolean})],n.prototype,"disabled",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean,attribute:"no-style"})],n.prototype,"noStyle",void 0),(0,a.Cg)([(0,s.MZ)({type:String,attribute:"draggable-selector"})],n.prototype,"draggableSelector",void 0),(0,a.Cg)([(0,s.MZ)({type:String,attribute:"handle-selector"})],n.prototype,"handleSelector",void 0),(0,a.Cg)([(0,s.MZ)({type:String,attribute:"filter"})],n.prototype,"filter",void 0),(0,a.Cg)([(0,s.MZ)({type:String})],n.prototype,"group",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean,attribute:"invert-swap"})],n.prototype,"invertSwap",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],n.prototype,"options",void 0),(0,a.Cg)([(0,s.MZ)({type:Boolean})],n.prototype,"rollback",void 0),n=(0,a.Cg)([(0,s.EM)("ha-sortable")],n)},93367(e,t,i){i.a(e,async function(e,t){try{var a=i(62826),o=i(96196),s=i(44457),r=i(3890),n=i(69093),l=i(85694),d=(i(88945),i(67094),e([l]));l=(d.then?(await d)():d)[0];class c extends o.WF{render(){const e=this.icon||this.stateObj&&this.hass?.entities[this.stateObj.entity_id]?.icon||this.stateObj?.attributes.icon;if(e)return o.qy`<ha-icon .icon="${e}"></ha-icon>`;if(!this.stateObj)return o.s6;if(!this.hass)return this._renderFallback();const t=(0,l.fq)(this.hass,this.stateObj,this.stateValue).then(e=>e?o.qy`<ha-icon .icon="${e}"></ha-icon>`:this._renderFallback());return o.qy`${(0,r.T)(t)}`}_renderFallback(){const e=(0,n.t)(this.stateObj);return o.qy` <ha-svg-icon .path="${l.l[e]||l.lW}"></ha-svg-icon> `}}(0,a.Cg)([(0,s.MZ)({attribute:!1})],c.prototype,"hass",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],c.prototype,"stateObj",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],c.prototype,"stateValue",void 0),(0,a.Cg)([(0,s.MZ)()],c.prototype,"icon",void 0),c=(0,a.Cg)([(0,s.EM)("ha-state-icon")],c),t()}catch(e){t(e)}})},82e3(e,t,i){i.d(t,{D5:()=>a,Fy:()=>h,Gk:()=>m,Hg:()=>o,TJ:()=>r,UQ:()=>c,Y_:()=>b,ds:()=>u,e0:()=>s,ec:()=>p,go:()=>l,n2:()=>d,sq:()=>n});i(18111),i(61701),i(33110);const a=14881==i.j?`${location.protocol}//${location.host}`:null,o=e=>e.map(e=>{if("string"!==e.type)return e;switch(e.name){case"username":return{...e,autocomplete:"username",autofocus:!0};case"password":return{...e,autocomplete:"current-password"};case"code":return{...e,autocomplete:"one-time-code",autofocus:!0};default:return e}}),s=(e,t)=>e.callWS({type:"auth/sign_path",path:t}),r=()=>fetch("/auth/providers",{credentials:"same-origin"}),n=(e,t,i)=>fetch("/auth/login_flow",{method:"POST",credentials:"same-origin",body:JSON.stringify({client_id:e,handler:i,redirect_uri:t})}),l=(e,t)=>fetch(`/auth/login_flow/${e}`,{method:"POST",credentials:"same-origin",body:JSON.stringify(t)}),d=e=>fetch(`/auth/login_flow/${e}`,{method:"DELETE",credentials:"same-origin"}),c=(e,t,i,a)=>{e.includes("?")?e.endsWith("&")||(e+="&"):e+="?",e+=`code=${encodeURIComponent(t)}`,i&&(e+=`&state=${encodeURIComponent(i)}`),a&&(e+="&storeToken=true"),document.location.assign(e)},h=async(e,t,i,a)=>e.callWS({type:"config/auth_provider/homeassistant/create",user_id:t,username:i,password:a}),p=(e,t,i)=>e.callWS({type:"config/auth_provider/homeassistant/change_password",current_password:t,new_password:i}),u=(e,t,i)=>e.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:t,password:i}),m=(e,t,i)=>e.callWS({type:"config/auth_provider/homeassistant/admin_change_username",user_id:t,username:i}),b=(e,t,i)=>e.callWS({type:"auth/delete_all_refresh_tokens",token_type:t,delete_current_token:i})},10897(e,t,i){i.d(t,{C4:()=>h,CK:()=>c,FX:()=>g,JT:()=>r,UC:()=>b,Ub:()=>n,_Z:()=>$,bT:()=>C,j4:()=>_,sd:()=>s,su:()=>d,vc:()=>f,w8:()=>m,wv:()=>u,y3:()=>y,zS:()=>l});var a=i(3931),o=i(82e3);const s=66649!=i.j?[1,2,3,4,6,8]:null,r=2,n="hls",l="web_rtc",d=(e,t,i)=>`${e}&width=${t}&height=${i}`,c=e=>`/api/camera_proxy_stream/${e.entity_id}?token=${e.attributes.access_token}`,h=async(e,t,i,o)=>{const s=await(0,a.U)("_cameraTmbUrl",9e3,p,e,t);return d(s,i,o)},p=async(e,t)=>{const i=await(0,o.e0)(e,`/api/camera_proxy/${t}`);return e.hassUrl(i.path)},u=async(e,t,i)=>{const a={type:"camera/stream",entity_id:t};i&&(a.format=i);const o=await e.callWS(a);return o.url=e.hassUrl(o.url),o},m=(e,t,i,a)=>e.connection.subscribeMessage(a,{type:"camera/webrtc/offer",entity_id:t,offer:i}),b=(e,t,i,a)=>e.callWS({type:"camera/webrtc/candidate",entity_id:t,session_id:i,candidate:a}),y=(e,t)=>e.callWS({type:"camera/get_prefs",entity_id:t}),g=(e,t,i)=>e.callWS({type:"camera/update_prefs",entity_id:t,...i}),v="media-source://camera/",_=e=>e.startsWith(v),f=e=>e.substring(22),$=async(e,t)=>e.callWS({type:"camera/capabilities",entity_id:t}),C=async(e,t)=>e.callWS({type:"camera/webrtc/get_client_config",entity_id:t})},53756(e,t,i){i.d(t,{t:()=>l,w:()=>d});i(18111),i(22489),i(61701);var a=i(71727),o=i(74705),s=i(28978),r=i(15638),n=i(95350);const l=[{name:"search_labels.entityName",weight:10},{name:"search_labels.friendlyName",weight:8},{name:"search_labels.deviceName",weight:7},{name:"search_labels.areaName",weight:6},{name:"search_labels.domainName",weight:6},{name:"search_labels.entityId",weight:3}],d=(e,t,i,l,d,c,h,p,u,m="")=>{let b=[],y=Object.keys(e.states);return h&&(y=y.filter(e=>h.includes(e))),p&&(y=y.filter(e=>!p.includes(e))),t&&(y=y.filter(e=>t.includes((0,a.m)(e)))),i&&(y=y.filter(e=>!i.includes((0,a.m)(e)))),b=y.map(t=>{const i=e.states[t],l=(0,s.u)(i),[d,c,h]=(0,o.Cf)(i,[{type:"entity"},{type:"device"},{type:"area"}],e.entities,e.devices,e.areas,e.floors),p=(0,n.p$)(e.localize,(0,a.m)(t)),u=(0,r.qC)(e),b=d||c||t,y=[h,d?c:void 0].filter(Boolean).join(u?" ◂ ":" ▸ ");return{id:`${m}${t}`,primary:b,secondary:y,domain_name:p,sorting_label:[b,y].filter(Boolean).join("_"),search_labels:{entityName:d||null,deviceName:c||null,areaName:h||null,domainName:p||null,friendlyName:l||null,entityId:t},stateObj:i}}),d&&(b=b.filter(e=>e.id===u||e.stateObj?.attributes.device_class&&d.includes(e.stateObj.attributes.device_class))),c&&(b=b.filter(e=>e.id===u||e.stateObj?.attributes.unit_of_measurement&&c.includes(e.stateObj.attributes.unit_of_measurement))),l&&(b=b.filter(e=>e.id===u||e.stateObj&&l(e.stateObj))),b}},95350(e,t,i){i.d(t,{$h:()=>h,FP:()=>b,Og:()=>s,QC:()=>c,QQ:()=>n,S1:()=>r,Ud:()=>y,fK:()=>d,nQ:()=>u,p$:()=>l});var a=i(35518),o=i(9899);const s={bluetooth:"config/bluetooth",dhcp:"config/dhcp",matter:"config/matter",mqtt:"config/mqtt",ssdp:"config/ssdp",thread:"config/thread",zeroconf:"config/zeroconf",zha:"config/zha/dashboard",zwave_js:"config/zwave_js/dashboard"};var r=function(e){return e[e.CRITICAL=50]="CRITICAL",e[e.ERROR=40]="ERROR",e[e.WARNING=30]="WARNING",e[e.INFO=20]="INFO",e[e.DEBUG=10]="DEBUG",e[e.NOTSET=0]="NOTSET",e}({});const n=(e,t)=>t.issue_tracker||`https://github.com/home-assistant/core/issues?q=is%3Aissue+is%3Aopen+label%3A%22integration%3A+${e}%22`,l=(e,t,i)=>e(`component.${t}.title`)||i?.name||t,d=(e,t)=>{const i={type:"manifest/list"};return t&&(i.integrations=t),e.callWS(i)},c=(e,t)=>e.callWS({type:"manifest/get",integration:t}),h=e=>e.callWS({type:"integration/setup_info"}),p=e=>e.sendMessagePromise({type:"logger/log_info"}),u=(e,t,i,a)=>e.callWS({type:"logger/integration_log_level",integration:t,level:i,persistence:a}),m=(e,t)=>e.subscribeEvents((0,o.s)(()=>p(e).then(e=>t.setState(e,!0)),200,!0),"logging_changed"),b=(e,t)=>(0,a.N)("_integration_log_info",p,m,e,t),y=(e,t)=>e.callWS({type:"integration/wait",domain:t})},17894(e,t,i){i.d(t,{c:()=>s});var a=i(62826),o=i(44457);const s=e=>{class t extends e{constructor(...e){super(...e),this.disabled=!1,this.required=!1,this.unknown=!1,this.hideClearIcon=!1}}return(0,a.Cg)([(0,o.MZ)({type:Boolean})],t.prototype,"disabled",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],t.prototype,"required",void 0),(0,a.Cg)([(0,o.MZ)()],t.prototype,"icon",void 0),(0,a.Cg)([(0,o.MZ)()],t.prototype,"image",void 0),(0,a.Cg)([(0,o.MZ)()],t.prototype,"label",void 0),(0,a.Cg)([(0,o.MZ)()],t.prototype,"placeholder",void 0),(0,a.Cg)([(0,o.MZ)()],t.prototype,"helper",void 0),(0,a.Cg)([(0,o.MZ)()],t.prototype,"value",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean,reflect:!0})],t.prototype,"unknown",void 0),(0,a.Cg)([(0,o.MZ)({attribute:"unknown-item-text"})],t.prototype,"unknownItemText",void 0),(0,a.Cg)([(0,o.MZ)({attribute:"hide-clear-icon",type:Boolean})],t.prototype,"hideClearIcon",void 0),(0,a.Cg)([(0,o.MZ)({attribute:!1})],t.prototype,"valueRenderer",void 0),t}},24367(e,t,i){i.d(t,{L:()=>o,z:()=>s});var a=i(23832);const o=["input_boolean","input_button","input_text","input_number","input_datetime","input_select","counter","timer","schedule"],s=(0,a.g)(o)},19711(e,t,i){i.d(t,{$:()=>s});var a=i(1087);const o=()=>Promise.all([i.e("26767"),i.e("93785"),i.e("12036"),i.e("18738"),i.e("81046")]).then(i.bind(i,79029)),s=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-helper-detail",dialogImport:o,dialogParams:t})}},75796(e,t,i){i.a(e,async function(e,a){try{i.r(t),i.d(t,{HuiHomeDashboardStrategyEditor:()=>c});var o=i(62826),s=i(96196),r=i(44457),n=i(1087),l=i(77122),d=e([l]);l=(d.then?(await d)():d)[0];class c extends s.WF{setConfig(e){this._config=e}render(){return this.hass&&this._config?s.qy` <ha-entities-picker .hass="${this.hass}" .value="${this._config.favorite_entities||[]}" label="${this.hass.localize("ui.panel.lovelace.editor.strategy.home.favorite_entities")}" placeholder="${this.hass.localize("ui.panel.lovelace.editor.strategy.home.add_favorite_entity")}" reorder @value-changed="${this._valueChanged}"> </ha-entities-picker> `:s.s6}_valueChanged(e){if(e.stopPropagation(),!this._config||!this.hass)return;const t=e.detail.value,i={...this._config,favorite_entities:t};0===i.favorite_entities?.length&&delete i.favorite_entities,(0,n.r)(this,"config-changed",{config:i})}}(0,o.Cg)([(0,r.MZ)({attribute:!1})],c.prototype,"hass",void 0),(0,o.Cg)([(0,r.wk)()],c.prototype,"_config",void 0),c=(0,o.Cg)([(0,r.EM)("hui-home-dashboard-strategy-editor")],c),a()}catch(e){a(e)}})},53580(e,t,i){i.r(t),i.d(t,{mdiHomeAssistant:()=>a});const a="m12.151 1.5882c-.3262 0-.6523.1291-.8996.3867l-8.3848 8.7354c-.0619.0644-.1223.1368-.1807.2154-.0588.0789-.1151.1638-.1688.2534-.2593.4325-.4552.9749-.5232 1.4555-.0026.018-.0076.0369-.0094.0548-.0121.0987-.0184.1944-.0184.2857v8.0124a1.2731 1.2731 0 001.2731 1.2731h7.8313l-3.4484-3.593a1.7399 1.7399 0 111.0803-1.125l2.6847 2.7972v-10.248a1.7399 1.7399 0 111.5276-0v7.187l2.6702-2.782a1.7399 1.7399 0 111.0566 1.1505l-3.7269 3.8831v2.7299h8.174a1.2471 1.2471 0 001.2471-1.2471v-8.0375c0-.0912-.0059-.1868-.0184-.2855-.0603-.4935-.2636-1.0617-.5326-1.5105-.0537-.0896-.1101-.1745-.1684-.253-.0588-.079-.1191-.1513-.181-.2158l-8.3848-8.7363c-.2473-.2577-.5735-.3866-.8995-.3864"}};
//# sourceMappingURL=73074.3e71651f052497fb.js.map