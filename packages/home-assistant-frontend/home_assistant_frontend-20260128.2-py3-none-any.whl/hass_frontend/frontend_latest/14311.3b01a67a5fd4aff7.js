export const __rspack_esm_id="14311";export const __rspack_esm_ids=["14311"];export const __webpack_modules__={26218(t,e,i){i.d(e,{a:()=>s});const a=(0,i(77796).n)(t=>{history.replaceState({scrollPosition:t},"")},300);function s(t){return(e,i)=>{if("object"==typeof i)throw new Error("This decorator does not support this compilation type.");const s=e.connectedCallback;e.connectedCallback=function(){s.call(this);const e=this[i];e&&this.updateComplete.then(()=>{const i=this.renderRoot.querySelector(t);i&&setTimeout(()=>{i.scrollTop=e},0)})};const o=Object.getOwnPropertyDescriptor(e,i);let n;if(void 0===o)n={get(){return this[`__${String(i)}`]||history.state?.scrollPosition},set(t){a(t),this[`__${String(i)}`]=t},configurable:!0,enumerable:!0};else{const t=o.set;n={...o,set(e){a(e),this[`__${String(i)}`]=e,t?.call(this,e)}}}Object.defineProperty(e,i,n)}}},93905(t,e,i){i.d(e,{I:()=>o});i(44114),i(18111),i(7588),i(33110),i(58335);class a{addFromStorage(t){if(!this._storage[t]){const e=this.storage.getItem(t);e&&(this._storage[t]=JSON.parse(e))}}subscribeChanges(t,e){return this._listeners[t]?this._listeners[t].push(e):this._listeners[t]=[e],()=>{this.unsubscribeChanges(t,e)}}unsubscribeChanges(t,e){if(!(t in this._listeners))return;const i=this._listeners[t].indexOf(e);-1!==i&&this._listeners[t].splice(i,1)}hasKey(t){return t in this._storage}getValue(t){return this._storage[t]}setValue(t,e){const i=this._storage[t];this._storage[t]=e;try{void 0===e?this.storage.removeItem(t):this.storage.setItem(t,JSON.stringify(e))}catch(t){}finally{this._listeners[t]&&this._listeners[t].forEach(t=>t(i,e))}}constructor(t=window.localStorage){this._storage={},this._listeners={},this.storage=t,this.storage===window.localStorage&&window.addEventListener("storage",t=>{t.key&&this.hasKey(t.key)&&(this._storage[t.key]=t.newValue?JSON.parse(t.newValue):t.newValue,this._listeners[t.key]&&this._listeners[t.key].forEach(e=>e(t.oldValue?JSON.parse(t.oldValue):t.oldValue,this._storage[t.key])))})}}const s={};function o(t){return(e,i)=>{if("object"==typeof i)throw new Error("This decorator does not support this compilation type.");const o=t.storage||"localStorage";let n;o&&o in s?n=s[o]:(n=new a(window[o]),s[o]=n);const r=t.key||String(i);n.addFromStorage(r);const l=!1!==t.subscribe?t=>n.subscribeChanges(r,(e,a)=>{t.requestUpdate(i,e)}):void 0,c=()=>n.hasKey(r)?t.deserializer?t.deserializer(n.getValue(r)):n.getValue(r):void 0,d=(e,a)=>{let s;t.state&&(s=c()),n.setValue(r,t.serializer?t.serializer(a):a),t.state&&e.requestUpdate(i,s)},h=e.performUpdate;if(e.performUpdate=function(){this.__initialized=!0,h.call(this)},t.subscribe){const t=e.connectedCallback,i=e.disconnectedCallback;e.connectedCallback=function(){t.call(this);const e=this;e.__unbsubLocalStorage||(e.__unbsubLocalStorage=l?.(this))},e.disconnectedCallback=function(){i.call(this);this.__unbsubLocalStorage?.(),this.__unbsubLocalStorage=void 0}}const p=Object.getOwnPropertyDescriptor(e,i);let g;if(void 0===p)g={get:()=>c(),set(t){(this.__initialized||void 0===c())&&d(this,t)},configurable:!0,enumerable:!0};else{const t=p.set;g={...p,get:()=>c(),set(e){(this.__initialized||void 0===c())&&d(this,e),t?.call(this,e)}}}Object.defineProperty(e,i,g)}}},68348(t,e,i){i.d(e,{u:()=>a});i(18111),i(13579);const a=t=>{if(t.some(t=>"tagName"in t&&("HA-MENU"===t.tagName||"HA-CODE-EDITOR"===t.tagName)))return!1;const e=t[0];if("TEXTAREA"===e.tagName)return!1;if("HA-SELECT"===e.parentElement?.tagName)return!1;if("INPUT"!==e.tagName)return!0;switch(e.type){case"button":case"checkbox":case"hidden":case"radio":case"range":return!0;default:return!1}}},84446(t,e,i){i.d(e,{p:()=>o,z:()=>s});i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698);var a=i(71727);const s=t=>t.include_domains.length+t.include_entities.length+t.exclude_domains.length+t.exclude_entities.length===0,o=(t,e,i,s)=>{const o=new Set(t),n=new Set(e),r=new Set(i),l=new Set(s),c=o.size>0||n.size>0,d=r.size>0||l.size>0;return c||d?c&&!d?t=>n.has(t)||o.has((0,a.m)(t)):!c&&d?t=>!l.has(t)&&!r.has((0,a.m)(t)):o.size?t=>o.has((0,a.m)(t))?!l.has(t):n.has(t):r.size?t=>r.has((0,a.m)(t))?n.has(t):!l.has(t):t=>n.has(t):()=>!0}},77796(t,e,i){i.d(e,{n:()=>a});const a=(t,e,i=!0,a=!0)=>{let s,o=0;const n=(...n)=>{const r=()=>{o=!1===i?0:Date.now(),s=void 0,t(...n)},l=Date.now();o||!1!==i||(o=l);const c=e-(l-o);c<=0||c>e?(s&&(clearTimeout(s),s=void 0),o=l,t(...n)):s||!1===a||(s=window.setTimeout(r,c))};return n.cancel=()=>{clearTimeout(s),s=void 0,o=0},n}},34296(t,e,i){var a=i(62826),s=i(96229),o=i(26069),n=i(91735),r=i(42034),l=i(96196),c=i(44457);class d extends s.k{renderOutline(){return this.filled?l.qy`<span class="filled"></span>`:super.renderOutline()}getContainerClasses(){return{...super.getContainerClasses(),active:this.active}}renderPrimaryContent(){return l.qy` <span class="leading icon" aria-hidden="true"> ${this.renderLeadingIcon()} </span> <span class="label">${this.label}</span> <span class="touch"></span> <span class="trailing leading icon" aria-hidden="true"> ${this.renderTrailingIcon()} </span> `}renderTrailingIcon(){return l.qy`<slot name="trailing-icon"></slot>`}constructor(...t){super(...t),this.filled=!1,this.active=!1}}d.styles=[n.R,r.R,o.R,l.AH`:host{--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-surface:var(--primary-text-color);--md-assist-chip-container-shape:var(
          --ha-assist-chip-container-shape,
          16px
        );--md-assist-chip-outline-color:var(--outline-color);--md-assist-chip-label-text-weight:400}.filled{display:flex;pointer-events:none;border-radius:inherit;inset:0;position:absolute;background-color:var(--ha-assist-chip-filled-container-color)}::slotted([slot=icon]),::slotted([slot=trailing-icon]){display:flex;--mdc-icon-size:var(--md-input-chip-icon-size, 18px);font-size:var(--_label-text-size)!important}.trailing.icon ::slotted(*),.trailing.icon svg{margin-inline-end:unset;margin-inline-start:var(--_icon-label-space)}::before{background:var(--ha-assist-chip-container-color,transparent);opacity:var(--ha-assist-chip-container-opacity, 1)}:where(.active)::before{background:var(--ha-assist-chip-active-container-color);opacity:var(--ha-assist-chip-active-container-opacity)}.label{font-family:var(--ha-font-family-body)}`],(0,a.Cg)([(0,c.MZ)({type:Boolean,reflect:!0})],d.prototype,"filled",void 0),(0,a.Cg)([(0,c.MZ)({type:Boolean})],d.prototype,"active",void 0),d=(0,a.Cg)([(0,c.EM)("ha-assist-chip")],d)},9503(t,e,i){var a=i(62826),s=i(69162),o=i(47191),n=i(96196),r=i(44457);class l extends s.L{}l.styles=[o.R,n.AH`:host{--mdc-theme-secondary:var(--primary-color)}`],l=(0,a.Cg)([(0,r.EM)("ha-checkbox")],l)},70947(t,e,i){var a=i(62826),s=i(79265),o=(i(94100),i(96196)),n=i(44457);i(67094);class r extends s.A{renderCheckboxIcon(){return o.qy` <ha-svg-icon id="check" part="checkmark" .path="${this.checked?"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z":"M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z"}"></ha-svg-icon> `}static get styles(){return[s.A.styles,o.AH`:host{min-height:var(--ha-space-10)}#check{visibility:visible}#icon ::slotted(*){color:var(--ha-color-on-neutral-normal)}:host([variant=danger]) #icon ::slotted(*){color:var(--ha-color-on-danger-quiet)}`]}}r=(0,a.Cg)([(0,n.EM)("ha-dropdown-item")],r)},29823(t,e,i){i.a(t,async function(t,e){try{var a=i(62826),s=i(52254),o=i(96196),n=i(44457),r=t([s]);s=(r.then?(await r)():r)[0];class l extends s.A{static get styles(){return[s.A.styles,o.AH`:host{font-size:var(--ha-dropdown-font-size, var(--ha-font-size-m));--wa-color-surface-raised:var(
            --card-background-color,
            var(--ha-dialog-surface-background, var(--mdc-theme-surface, #fff)),
          )}#menu{padding:var(--ha-space-1)}`]}constructor(...t){super(...t),this.dropdownTag="ha-dropdown",this.dropdownItemTag="ha-dropdown-item"}}(0,a.Cg)([(0,n.MZ)({attribute:!1})],l.prototype,"dropdownTag",void 0),(0,a.Cg)([(0,n.MZ)({attribute:!1})],l.prototype,"dropdownItemTag",void 0),l=(0,a.Cg)([(0,n.EM)("ha-dropdown")],l),e()}catch(t){e(t)}})},27661(t,e,i){var a=i(62826),s=i(51978),o=i(94743),n=i(44457),r=i(96196),l=i(63091);class c extends s.n{firstUpdated(t){super.firstUpdated(t),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}}c.styles=[o.R,r.AH`:host{--mdc-typography-button-text-transform:none;--mdc-typography-button-font-size:var(--ha-font-size-l);--mdc-typography-button-font-family:var(--ha-font-family-body);--mdc-typography-button-font-weight:var(--ha-font-weight-medium)}:host .mdc-fab--extended{border-radius:var(--ha-button-border-radius,var(--ha-border-radius-pill))}:host .mdc-fab.mdc-fab--extended .ripple{border-radius:var(--ha-button-border-radius,var(--ha-border-radius-pill))}:host .mdc-fab--extended .mdc-fab__icon{margin-inline-start:-8px;margin-inline-end:12px;direction:var(--direction)}:disabled{--mdc-theme-secondary:var(--disabled-text-color);pointer-events:none}`,"rtl"===l.G.document.dir?r.AH`:host .mdc-fab--extended .mdc-fab__icon{direction:rtl}`:r.AH``],c=(0,a.Cg)([(0,n.EM)("ha-fab")],c)},90248(t,e,i){i.r(e),i.d(e,{HaIconButtonArrowPrev:()=>r});var a=i(62826),s=i(96196),o=i(44457),n=i(63091);i(26300);class r extends s.WF{render(){return s.qy` <ha-icon-button .disabled="${this.disabled}" .label="${this.label||this.hass?.localize("ui.common.back")||"Back"}" .path="${this._icon}"></ha-icon-button> `}constructor(...t){super(...t),this.disabled=!1,this._icon="rtl"===n.G.document.dir?"M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z":"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"}}(0,a.Cg)([(0,o.MZ)({attribute:!1})],r.prototype,"hass",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],r.prototype,"disabled",void 0),(0,a.Cg)([(0,o.MZ)()],r.prototype,"label",void 0),(0,a.Cg)([(0,o.wk)()],r.prototype,"_icon",void 0),r=(0,a.Cg)([(0,o.EM)("ha-icon-button-arrow-prev")],r)},26300(t,e,i){i.r(e),i.d(e,{HaIconButton:()=>r});var a=i(62826),s=(i(11677),i(96196)),o=i(44457),n=i(32288);i(67094);class r extends s.WF{focus(){this._button?.focus()}render(){return s.qy` <mwc-icon-button aria-label="${(0,n.J)(this.label)}" title="${(0,n.J)(this.hideTitle?void 0:this.label)}" aria-haspopup="${(0,n.J)(this.ariaHasPopup)}" .disabled="${this.disabled}"> ${this.path?s.qy`<ha-svg-icon .path="${this.path}"></ha-svg-icon>`:s.qy`<slot></slot>`} </mwc-icon-button> `}constructor(...t){super(...t),this.disabled=!1,this.hideTitle=!1}}r.shadowRootOptions={mode:"open",delegatesFocus:!0},r.styles=s.AH`:host{display:inline-block;outline:0}:host([disabled]){pointer-events:none}mwc-icon-button{--mdc-theme-on-primary:currentColor;--mdc-theme-text-disabled-on-light:var(--disabled-text-color)}`,(0,a.Cg)([(0,o.MZ)({type:Boolean,reflect:!0})],r.prototype,"disabled",void 0),(0,a.Cg)([(0,o.MZ)({type:String})],r.prototype,"path",void 0),(0,a.Cg)([(0,o.MZ)({type:String})],r.prototype,"label",void 0),(0,a.Cg)([(0,o.MZ)({type:String,attribute:"aria-haspopup"})],r.prototype,"ariaHasPopup",void 0),(0,a.Cg)([(0,o.MZ)({attribute:"hide-title",type:Boolean})],r.prototype,"hideTitle",void 0),(0,a.Cg)([(0,o.P)("mwc-icon-button",!0)],r.prototype,"_button",void 0),r=(0,a.Cg)([(0,o.EM)("ha-icon-button")],r)},2054(t,e,i){var a=i(62826),s=i(96196),o=i(44457),n=i(1087),r=i(44249);i(26300);class l extends s.WF{connectedCallback(){super.connectedCallback(),this._attachNotifOnConnect&&(this._attachNotifOnConnect=!1,this._subscribeNotifications())}disconnectedCallback(){super.disconnectedCallback(),this._unsubNotifications&&(this._attachNotifOnConnect=!0,this._unsubNotifications(),this._unsubNotifications=void 0)}render(){if(!this._show)return s.s6;const t=this._hasNotifications&&(this.narrow||"always_hidden"===this.hass.dockedSidebar);return s.qy` <ha-icon-button .label="${this.hass.localize("ui.sidebar.sidebar_toggle")}" .path="${"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"}" @click="${this._toggleMenu}"></ha-icon-button> ${t?s.qy`<div class="dot"></div>`:""} `}willUpdate(t){if(super.willUpdate(t),!t.has("narrow")&&!t.has("hass"))return;const e=t.has("hass")?t.get("hass"):this.hass,i=t.has("narrow")?t.get("narrow"):this.narrow,a=!1===e?.kioskMode&&(i||"always_hidden"===e?.dockedSidebar),s=!1===this.hass.kioskMode&&(this.narrow||"always_hidden"===this.hass.dockedSidebar);this.hasUpdated&&a===s||(this._show=s||this._alwaysVisible,s?this._subscribeNotifications():this._unsubNotifications&&(this._unsubNotifications(),this._unsubNotifications=void 0))}_subscribeNotifications(){if(this._unsubNotifications)throw new Error("Already subscribed");this._unsubNotifications=(0,r.V)(this.hass.connection,t=>{this._hasNotifications=t.length>0})}_toggleMenu(){(0,n.r)(this,"hass-toggle-menu")}constructor(...t){super(...t),this.narrow=!1,this._hasNotifications=!1,this._show=!1,this._alwaysVisible=!1,this._attachNotifOnConnect=!1}}l.styles=s.AH`:host{position:relative}.dot{pointer-events:none;position:absolute;background-color:var(--accent-color);width:12px;height:12px;top:9px;right:7px;inset-inline-end:7px;inset-inline-start:initial;border-radius:var(--ha-border-radius-circle);border:2px solid var(--app-header-background-color)}`,(0,a.Cg)([(0,o.MZ)({type:Boolean})],l.prototype,"narrow",void 0),(0,a.Cg)([(0,o.MZ)({attribute:!1})],l.prototype,"hass",void 0),(0,a.Cg)([(0,o.wk)()],l.prototype,"_hasNotifications",void 0),(0,a.Cg)([(0,o.wk)()],l.prototype,"_show",void 0),l=(0,a.Cg)([(0,o.EM)("ha-menu-button")],l)},54276(t,e,i){var a=i(62826),s=i(76482),o=i(91382),n=i(96245),r=i(96196),l=i(44457);class c extends o.n{attach(t){super.attach(t),this.attachableTouchController.attach(t)}disconnectedCallback(){super.disconnectedCallback(),this.hovered=!1,this.pressed=!1}detach(){super.detach(),this.attachableTouchController.detach()}_onTouchControlChange(t,e){t?.removeEventListener("touchend",this._handleTouchEnd),e?.addEventListener("touchend",this._handleTouchEnd)}constructor(...t){super(...t),this.attachableTouchController=new s.i(this,this._onTouchControlChange.bind(this)),this._handleTouchEnd=()=>{this.disabled||super.endPressAnimation()}}}c.styles=[n.R,r.AH`:host{--md-ripple-hover-opacity:var(--ha-ripple-hover-opacity, 0.08);--md-ripple-pressed-opacity:var(--ha-ripple-pressed-opacity, 0.12);--md-ripple-hover-color:var(
          --ha-ripple-hover-color,
          var(--ha-ripple-color, var(--secondary-text-color))
        );--md-ripple-pressed-color:var(
          --ha-ripple-pressed-color,
          var(--ha-ripple-color, var(--secondary-text-color))
        )}`],c=(0,a.Cg)([(0,l.EM)("ha-ripple")],c)},65829(t,e,i){i.a(t,async function(t,a){try{i.r(e),i.d(e,{HaSpinner:()=>c});var s=i(62826),o=i(55262),n=i(96196),r=i(44457),l=t([o]);o=(l.then?(await l)():l)[0];class c extends o.A{updated(t){if(super.updated(t),t.has("size"))switch(this.size){case"tiny":this.style.setProperty("--ha-spinner-size","16px");break;case"small":this.style.setProperty("--ha-spinner-size","28px");break;case"medium":this.style.setProperty("--ha-spinner-size","48px");break;case"large":this.style.setProperty("--ha-spinner-size","68px");break;case void 0:this.style.removeProperty("--ha-progress-ring-size")}}static get styles(){return[o.A.styles,n.AH`:host{--indicator-color:var(
            --ha-spinner-indicator-color,
            var(--primary-color)
          );--track-color:var(--ha-spinner-divider-color, var(--divider-color));--track-width:4px;--speed:3.5s;font-size:var(--ha-spinner-size, 48px)}`]}}(0,s.Cg)([(0,r.MZ)()],c.prototype,"size",void 0),c=(0,s.Cg)([(0,r.EM)("ha-spinner")],c),a()}catch(t){a(t)}})},67094(t,e,i){i.r(e),i.d(e,{HaSvgIcon:()=>n});var a=i(62826),s=i(96196),o=i(44457);class n extends s.WF{render(){return s.JW` <svg viewBox="${this.viewBox||"0 0 24 24"}" preserveAspectRatio="xMidYMid meet" focusable="false" role="img" aria-hidden="true"> <g> ${this.path?s.JW`<path class="primary-path" d="${this.path}"></path>`:s.s6} ${this.secondaryPath?s.JW`<path class="secondary-path" d="${this.secondaryPath}"></path>`:s.s6} </g> </svg>`}}n.styles=s.AH`:host{display:var(--ha-icon-display,inline-flex);align-items:center;justify-content:center;position:relative;vertical-align:middle;fill:var(--icon-primary-color,currentcolor);width:var(--mdc-icon-size,24px);height:var(--mdc-icon-size,24px)}svg{width:100%;height:100%;pointer-events:none;display:block}path.primary-path{opacity:var(--icon-primary-opactity, 1)}path.secondary-path{fill:var(--icon-secondary-color,currentcolor);opacity:var(--icon-secondary-opactity, .5)}`,(0,a.Cg)([(0,o.MZ)()],n.prototype,"path",void 0),(0,a.Cg)([(0,o.MZ)({attribute:!1})],n.prototype,"secondaryPath",void 0),(0,a.Cg)([(0,o.MZ)({attribute:!1})],n.prototype,"viewBox",void 0),n=(0,a.Cg)([(0,o.EM)("ha-svg-icon")],n)},75709(t,e,i){i.d(e,{h:()=>c});var a=i(62826),s=i(68846),o=i(92347),n=i(96196),r=i(44457),l=i(63091);class c extends s.J{updated(t){super.updated(t),(t.has("invalid")||t.has("errorMessage"))&&(this.setCustomValidity(this.invalid?this.errorMessage||this.validationMessage||"Invalid":""),(this.invalid||this.validateOnInitialRender||t.has("invalid")&&void 0!==t.get("invalid"))&&this.reportValidity()),t.has("autocomplete")&&(this.autocomplete?this.formElement.setAttribute("autocomplete",this.autocomplete):this.formElement.removeAttribute("autocomplete")),t.has("autocorrect")&&(!1===this.autocorrect?this.formElement.setAttribute("autocorrect","off"):this.formElement.removeAttribute("autocorrect")),t.has("inputSpellcheck")&&(this.inputSpellcheck?this.formElement.setAttribute("spellcheck",this.inputSpellcheck):this.formElement.removeAttribute("spellcheck"))}renderIcon(t,e=!1){const i=e?"trailing":"leading";return n.qy` <span class="mdc-text-field__icon mdc-text-field__icon--${i}" tabindex="${e?1:-1}"> <slot name="${i}Icon"></slot> </span> `}constructor(...t){super(...t),this.icon=!1,this.iconTrailing=!1,this.autocorrect=!0}}c.styles=[o.R,n.AH`.mdc-text-field__input{width:var(--ha-textfield-input-width,100%)}.mdc-text-field:not(.mdc-text-field--with-leading-icon){padding:var(--text-field-padding,0px 16px)}.mdc-text-field__affix--suffix{padding-left:var(--text-field-suffix-padding-left,12px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,12px);padding-inline-end:var(--text-field-suffix-padding-right,0px);direction:ltr}.mdc-text-field--with-leading-icon{padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,16px);direction:var(--direction)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:var(--text-field-suffix-padding-left,0px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,0px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:var(--secondary-text-color)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field__icon--leading{margin-inline-start:16px;margin-inline-end:8px;direction:var(--direction)}.mdc-text-field__icon--trailing{padding:var(--textfield-icon-trailing-padding,12px)}.mdc-floating-label:not(.mdc-floating-label--float-above){max-width:calc(100% - 16px)}.mdc-floating-label--float-above{max-width:calc((100% - 16px)/ .75);transition:none}input{text-align:var(--text-field-text-align,start)}input[type=color]{height:20px}::-ms-reveal{display:none}:host([no-spinner]) input::-webkit-inner-spin-button,:host([no-spinner]) input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=color]::-webkit-color-swatch-wrapper{padding:0}:host([no-spinner]) input[type=number]{-moz-appearance:textfield}.mdc-text-field__ripple{overflow:hidden}.mdc-text-field{overflow:var(--text-field-overflow)}.mdc-floating-label{padding-inline-end:16px;padding-inline-start:initial;inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start);direction:var(--direction);text-align:var(--float-start);box-sizing:border-box;text-overflow:ellipsis}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px - var(--text-field-suffix-padding-left,0px));inset-inline-start:calc(48px + var(--text-field-suffix-padding-left,0px))!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__input[type=number]{direction:var(--direction)}.mdc-text-field__affix--prefix{padding-right:var(--text-field-prefix-padding-right,2px);padding-inline-end:var(--text-field-prefix-padding-right,2px);padding-inline-start:initial}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:var(--mdc-text-field-label-ink-color)}#helper-text ha-markdown{display:inline-block}`,"rtl"===l.G.document.dir?n.AH`.mdc-floating-label,.mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field__icon--leading,.mdc-text-field__input[type=number]{direction:rtl;--direction:rtl}`:n.AH``],(0,a.Cg)([(0,r.MZ)({type:Boolean})],c.prototype,"invalid",void 0),(0,a.Cg)([(0,r.MZ)({attribute:"error-message"})],c.prototype,"errorMessage",void 0),(0,a.Cg)([(0,r.MZ)({type:Boolean})],c.prototype,"icon",void 0),(0,a.Cg)([(0,r.MZ)({type:Boolean})],c.prototype,"iconTrailing",void 0),(0,a.Cg)([(0,r.MZ)()],c.prototype,"autocomplete",void 0),(0,a.Cg)([(0,r.MZ)({type:Boolean})],c.prototype,"autocorrect",void 0),(0,a.Cg)([(0,r.MZ)({attribute:"input-spellcheck"})],c.prototype,"inputSpellcheck",void 0),(0,a.Cg)([(0,r.P)("input")],c.prototype,"formElement",void 0),c=(0,a.Cg)([(0,r.EM)("ha-textfield")],c)},34127(t,e,i){i.a(t,async function(t,e){try{var a=i(62826),s=i(52630),o=i(96196),n=i(44457),r=t([s]);s=(r.then?(await r)():r)[0];class l extends s.A{static get styles(){return[s.A.styles,o.AH`:host{--wa-tooltip-background-color:var(--secondary-background-color);--wa-tooltip-content-color:var(--primary-text-color);--wa-tooltip-font-family:var(
            --ha-tooltip-font-family,
            var(--ha-font-family-body)
          );--wa-tooltip-font-size:var(
            --ha-tooltip-font-size,
            var(--ha-font-size-s)
          );--wa-tooltip-font-weight:var(
            --ha-tooltip-font-weight,
            var(--ha-font-weight-normal)
          );--wa-tooltip-line-height:var(
            --ha-tooltip-line-height,
            var(--ha-line-height-condensed)
          );--wa-tooltip-padding:8px;--wa-tooltip-border-radius:var(
            --ha-tooltip-border-radius,
            var(--ha-border-radius-sm)
          );--wa-tooltip-arrow-size:var(--ha-tooltip-arrow-size, 8px);--wa-z-index-tooltip:var(--ha-tooltip-z-index, 1000)}`]}constructor(...t){super(...t),this.showDelay=150,this.hideDelay=150}}(0,a.Cg)([(0,n.MZ)({attribute:"show-delay",type:Number})],l.prototype,"showDelay",void 0),(0,a.Cg)([(0,n.MZ)({attribute:"hide-delay",type:Number})],l.prototype,"hideDelay",void 0),l=(0,a.Cg)([(0,n.EM)("ha-tooltip")],l),e()}catch(t){e(t)}})},61037(t,e,i){var a=i(62826),s=i(44457),o=i(96196),n=i(14503),r=i(14782),l=i(44144);class c extends o.WF{render(){return o.qy` <img class="logo" alt="${r.aK[this.voiceAssistantId].name}" src="${(0,l.MR)({domain:r.aK[this.voiceAssistantId].domain,type:"icon",darkOptimized:this.hass.themes?.darkMode})}" crossorigin="anonymous" referrerpolicy="no-referrer"> `}static get styles(){return[n.RF,o.AH`.logo{position:relative;height:24px;margin-right:16px;margin-inline-end:16px;margin-inline-start:initial}`]}}(0,a.Cg)([(0,s.MZ)({attribute:!1})],c.prototype,"hass",void 0),(0,a.Cg)([(0,s.MZ)({attribute:!1})],c.prototype,"voiceAssistantId",void 0),c=(0,a.Cg)([(0,s.EM)("voice-assistant-brand-icon")],c)},53211(t,e,i){i.d(e,{Gk:()=>s,Gq:()=>a});const a=t=>t.callWS({type:"cloud/alexa/entities"}),s=(t,e)=>t.callWS({type:"cloud/alexa/entities/get",entity_id:e})},56982(t,e,i){i.d(e,{ig:()=>a,kz:()=>s});const a=t=>t.callWS({type:"cloud/google_assistant/entities"}),s=(t,e)=>t.callWS({type:"cloud/google_assistant/entities/get",entity_id:e})},44249(t,e,i){i.d(e,{V:()=>a});const a=(t,e)=>{const i=new s,a=t.subscribeMessage(t=>e(i.processMessage(t)),{type:"persistent_notification/subscribe"});return()=>{a.then(t=>t?.())}};class s{processMessage(t){if("removed"===t.type)for(const e of Object.keys(t.notifications))delete this.notifications[e];else this.notifications={...this.notifications,...t.notifications};return Object.values(this.notifications)}constructor(){this.notifications={}}}},23296(t,e,i){i.a(t,async function(t,a){try{i.r(e);var s=i(62826),o=i(96196),n=i(44457),r=i(91926),l=i(65829),c=(i(90248),i(2054),i(14503)),d=t([l]);l=(d.then?(await d)():d)[0];class h extends o.WF{render(){return o.qy` ${this.noToolbar?"":o.qy`<div class="toolbar"> ${this.rootnav||history.state?.root?o.qy` <ha-menu-button .hass="${this.hass}" .narrow="${this.narrow}"></ha-menu-button> `:o.qy` <ha-icon-button-arrow-prev .hass="${this.hass}" @click="${this._handleBack}"></ha-icon-button-arrow-prev> `} </div>`} <div class="content"> <ha-spinner></ha-spinner> ${this.message?o.qy`<div id="loading-text">${this.message}</div>`:o.s6} </div> `}_handleBack(){(0,r.O)()}static get styles(){return[c.RF,o.AH`:host{display:block;height:100%;background-color:var(--primary-background-color)}.toolbar{display:flex;align-items:center;font-size:var(--ha-font-size-xl);height:var(--header-height);padding:8px 12px;pointer-events:none;background-color:var(--app-header-background-color);font-weight:var(--ha-font-weight-normal);color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}ha-icon-button-arrow-prev,ha-menu-button{pointer-events:auto}.content{height:calc(100% - var(--header-height));display:flex;flex-direction:column;align-items:center;justify-content:center}#loading-text{max-width:350px;margin-top:16px}`]}constructor(...t){super(...t),this.noToolbar=!1,this.rootnav=!1,this.narrow=!1}}(0,s.Cg)([(0,n.MZ)({attribute:!1})],h.prototype,"hass",void 0),(0,s.Cg)([(0,n.MZ)({type:Boolean,attribute:"no-toolbar"})],h.prototype,"noToolbar",void 0),(0,s.Cg)([(0,n.MZ)({type:Boolean})],h.prototype,"rootnav",void 0),(0,s.Cg)([(0,n.MZ)({type:Boolean})],h.prototype,"narrow",void 0),(0,s.Cg)([(0,n.MZ)()],h.prototype,"message",void 0),h=(0,s.Cg)([(0,n.EM)("hass-loading-screen")],h),a()}catch(t){a(t)}})},94017(t,e,i){i.a(t,async function(t,a){try{i.d(e,{HX:()=>c,MD:()=>r});i(18111),i(61701),i(13579);var s=i(96196),o=i(75197),n=t([o]);function r(t,e,i,a,o,n){return{title:t("ui.panel.config.voice_assistants.expose.headers.assistants"),type:"flex",defaultHidden:!n,sortable:!0,showNarrow:!0,minWidth:"160px",maxWidth:"160px",valueColumn:"assistants_sortable_key",template:t=>s.qy`${0!==t.assistants.length?i.map(i=>{const s=!o?.[i]||o[i].includes(t.entity_id),n=t.manAssistants?.includes(i);return l(t.assistants.includes(i),i,e,a,n,!s)}):s.s6}`}}o=(n.then?(await n)():n)[0];const l=(t,e,i,a,o,n)=>{const r=a?.some(t=>t.assistants.includes(e));return t?s.qy`<voice-assistants-expose-assistant-icon .assistant="${e}" .hass="${i}" .manual="${o??!1}" .unsupported="${n??!1}"></voice-assistants-expose-assistant-icon>`:r?s.qy`<div style="width:40px"></div>`:s.s6},c=t=>{let e=0;if(!t.length)return;return["conversation","cloud.alexa","cloud.google_assistant"].forEach((i,a)=>{t.includes(i)&&(e+=2**a)}),3===e?e=4:4===e&&(e=3),`${e}`};a()}catch(d){a(d)}})},19661(t,e,i){i.d(e,{V:()=>o});i(44114);var a=i(22786),s=i(36312);const o=(0,a.A)((t,e)=>{const i=[];return(0,s.x)(e,"conversation")&&i.push("conversation"),t?.logged_in&&(t.prefs.alexa_enabled&&i.push("cloud.alexa"),t.prefs.google_enabled&&i.push("cloud.google_assistant")),i})},75197(t,e,i){i.a(t,async function(t,e){try{var a=i(62826),s=i(96196),o=i(44457),n=i(6415),r=i(14782),l=(i(67094),i(34127)),c=(i(61037),t([l]));l=(c.then?(await c)():c)[0];const d="M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z";class h extends s.WF{render(){return this.assistant&&r.aK[this.assistant]?s.qy` <div class="container" id="container"> <voice-assistant-brand-icon style="${(0,n.W)({filter:this.manual?"grayscale(100%)":void 0})}" .voiceAssistantId="${this.assistant}" .hass="${this.hass}"> </voice-assistant-brand-icon> ${this.unsupported?s.qy` <ha-svg-icon .path="${d}" class="unsupported"></ha-svg-icon> `:s.s6} </div> <ha-tooltip for="container" placement="left" .disabled="${!this.unsupported&&!this.manual}"> ${this.unsupported?this.hass.localize("ui.panel.config.voice_assistants.expose.not_supported"):""} ${this.unsupported&&this.manual?s.qy`<br>`:s.s6} ${this.manual?this.hass.localize("ui.panel.config.voice_assistants.expose.manually_configured"):s.s6} </ha-tooltip> `:s.s6}constructor(...t){super(...t),this.unsupported=!1,this.manual=!1}}h.styles=s.AH`.container{position:relative}.logo{position:relative;height:24px;margin-right:16px;margin-inline-end:16px;margin-inline-start:initial}.unsupported{color:var(--error-color);position:absolute;--mdc-icon-size:16px;right:10px;top:-7px;inset-inline-end:10px;inset-inline-start:initial}`,(0,a.Cg)([(0,o.MZ)({attribute:!1})],h.prototype,"hass",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],h.prototype,"unsupported",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean})],h.prototype,"manual",void 0),(0,a.Cg)([(0,o.MZ)()],h.prototype,"assistant",void 0),h=(0,a.Cg)([(0,o.EM)("voice-assistants-expose-assistant-icon")],h),e()}catch(t){e(t)}})},43601(t,e,i){i.a(t,async function(t,a){try{i.r(e),i.d(e,{VoiceAssistantsExpose:()=>N});i(44114),i(18111),i(22489),i(7588),i(61701),i(13579),i(14603),i(47566),i(98721);var s=i(62826),o=i(16527),n=i(96196),r=i(44457),l=i(32288),c=i(22786),d=i(93905),h=i(1087),p=i(71727),g=i(28978),u=i(84446),v=i(91926),m=i(18350),f=(i(27661),i(34127)),b=i(53211),x=i(38911),y=i(59241),_=i(14782),w=i(56982),C=i(95350),k=i(65063),$=i(23296),z=i(72553),M=i(14503),E=i(75197),H=i(94017),A=i(72440),S=i(60702),L=i(99436),V=i(19661),Z=t([m,f,$,z,E,H]);[m,f,$,z,E,H]=Z.then?(await Z)():Z;const P="M4 20H18V22H4C2.9 22 2 21.11 2 20V6H4V20M20.22 2H7.78C6.8 2 6 2.8 6 3.78V16.22C6 17.2 6.8 18 7.78 18H20.22C21.2 18 22 17.2 22 16.22V3.78C22 2.8 21.2 2 20.22 2M19 13.6L17.6 15L14 11.4L10.4 15L9 13.6L12.6 10L9 6.4L10.4 5L14 8.6L17.6 5L19 6.4L15.4 10L19 13.6Z",T="M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z",O="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",q="M19,11H15V15H13V11H9V9H13V5H15V9H19M20,2H8A2,2 0 0,0 6,4V16A2,2 0 0,0 8,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2M4,6H2V20A2,2 0 0,0 4,22H18V20H4V6Z";class N extends n.WF{get _availableAssistants(){return(0,V.V)(this.cloudStatus,this.hass)}connectedCallback(){super.connectedCallback(),window.addEventListener("location-changed",this._locationChanged),window.addEventListener("popstate",this._popState)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("location-changed",this._locationChanged),window.removeEventListener("popstate",this._popState)}async _fetchEntities(){this._extEntities=await(0,y.G3)(this.hass,Object.keys(this._entities)),this._fetchSupportedEntities()}async _fetchSupportedEntities(){let t,e;this.cloudStatus?.logged_in&&this.cloudStatus.prefs.alexa_enabled&&(t=(0,b.Gq)(this.hass)),this.cloudStatus?.logged_in&&this.cloudStatus.prefs.google_enabled&&(e=(0,w.ig)(this.hass));const[i,a]=await Promise.all([t,e]);this._supportedEntities={"cloud.alexa":i?.map(t=>t.entity_id),"cloud.google_assistant":a?.map(t=>t.entity_id),conversation:void 0}}willUpdate(t){t.has("_entities")?this._fetchEntities():t.has("hass")&&"RUNNING"===this.hass.config.state&&t.get("hass")?.config.state!==this.hass.config.state&&this._fetchSupportedEntities()}render(){if(!this.hass||!this.exposedEntities||!this._extEntities)return n.qy`<hass-loading-screen></hass-loading-screen>`;const t=this._filteredEntities(this.hass.localize,this._extEntities,this.exposedEntities,this.hass.devices,this.hass.areas,this.cloudStatus,this._searchParms);return n.qy` <hass-tabs-subpage-data-table .hass="${this.hass}" .narrow="${this.narrow}" .backPath="${this._searchParms.has("historyBack")?void 0:"/config"}" .route="${this.route}" .tabs="${A.voiceAssistantTabs}" .columns="${this._columns(this.narrow,this._availableAssistants,this._supportedEntities,this.hass.language,this.hass.localize,t)}" .data="${t}" .searchLabel="${this.hass.localize("ui.panel.config.entities.picker.search",{number:t.length})}" .filter="${this._filter}" selectable .selected="${this._selectedEntities.length}" clickable .initialSorting="${this._activeSorting}" .initialGroupColumn="${this._activeGrouping}" .initialCollapsedGroups="${this._activeCollapsed}" .columnOrder="${this._activeColumnOrder}" .hiddenColumns="${this._activeHiddenColumns}" @columns-changed="${this._handleColumnsChanged}" @sorting-changed="${this._handleSortingChanged}" @selection-changed="${this._handleSelectionChanged}" @grouping-changed="${this._handleGroupingChanged}" @collapsed-changed="${this._handleCollapseChanged}" @clear-filter="${this._clearFilter}" @search-changed="${this._handleSearchChange}" @row-click="${this._openEditEntry}" id="entity_id" has-fab> ${this._selectedEntities.length?n.qy` <div class="header-btns" slot="selection-bar"> ${this.narrow?n.qy` <ha-icon-button id="expose-button" @click="${this._exposeSelected}" .path="${q}" .label="${this.hass.localize("ui.panel.config.voice_assistants.expose.expose")}"></ha-icon-button> <ha-tooltip for="expose-button" placement="left"> ${this.hass.localize("ui.panel.config.voice_assistants.expose.expose")} </ha-tooltip> <ha-tooltip for="unexpose-button" placement="left"> ${this.hass.localize("ui.panel.config.voice_assistants.expose.unexpose")} </ha-tooltip> <ha-icon-button id="unexpose-button" @click="${this._unexposeSelected}" .path="${P}" .label="${this.hass.localize("ui.panel.config.voice_assistants.expose.unexpose")}"></ha-icon-button> `:n.qy` <ha-button appearance="plain" size="small" @click="${this._exposeSelected}">${this.hass.localize("ui.panel.config.voice_assistants.expose.expose")}</ha-button> <ha-button appearance="plain" size="small" @click="${this._unexposeSelected}">${this.hass.localize("ui.panel.config.voice_assistants.expose.unexpose")}</ha-button> `} </div> `:""} <ha-fab slot="fab" .label="${this.hass.localize("ui.panel.config.voice_assistants.expose.add")}" extended @click="${this._addEntry}"> <ha-svg-icon slot="icon" .path="${O}"></ha-svg-icon> </ha-fab> </hass-tabs-subpage-data-table> `}_addEntry(){const t=this._searchParms.has("assistants")?this._searchParms.get("assistants").split(","):this._availableAssistants;(0,S.$)(this,{filterAssistants:t,exposedEntities:this.exposedEntities,exposeEntities:e=>{(0,_.ij)(this.hass,t,e,!0).then(()=>(0,h.r)(this,"exposed-entities-changed"))}})}_handleSearchChange(t){this._filter=t.detail.value}_handleSelectionChanged(t){this._selectedEntities=t.detail.value}_unexposeSelected(){const t=this._searchParms.has("assistants")?this._searchParms.get("assistants").split(","):this._availableAssistants;(0,k.dk)(this,{title:this.hass.localize("ui.panel.config.voice_assistants.expose.unexpose_confirm_title"),text:this.hass.localize("ui.panel.config.voice_assistants.expose.unexpose_confirm_text",{assistants:t.map(t=>_.aK[t].name).join(", "),entities:this._selectedEntities.length}),confirmText:this.hass.localize("ui.panel.config.voice_assistants.expose.unexpose"),dismissText:this.hass.localize("ui.common.cancel"),confirm:()=>{(0,_.ij)(this.hass,t,this._selectedEntities,!1).then(()=>(0,h.r)(this,"exposed-entities-changed")),this._clearSelection()}})}_exposeSelected(){const t=this._searchParms.has("assistants")?this._searchParms.get("assistants").split(","):this._availableAssistants;(0,k.dk)(this,{title:this.hass.localize("ui.panel.config.voice_assistants.expose.expose_confirm_title"),text:this.hass.localize("ui.panel.config.voice_assistants.expose.expose_confirm_text",{assistants:t.map(t=>_.aK[t].name).join(", "),entities:this._selectedEntities.length}),confirmText:this.hass.localize("ui.panel.config.voice_assistants.expose.expose"),dismissText:this.hass.localize("ui.common.cancel"),confirm:()=>{(0,_.ij)(this.hass,t,this._selectedEntities,!0).then(()=>(0,h.r)(this,"exposed-entities-changed")),this._clearSelection()}})}_clearSelection(){this._dataTable.clearSelection()}_openEditEntry(t){const e=t.detail.id;(0,L.X)(this,{entityId:e,exposed:this.exposedEntities[e],extEntityReg:this._extEntities?.[e],exposedEntitiesChanged:()=>{(0,h.r)(this,"exposed-entities-changed")}})}_clearFilter(){(0,v.o)(window.location.pathname,{replace:!0})}_handleSortingChanged(t){this._activeSorting=t.detail}_handleGroupingChanged(t){this._activeGrouping=t.detail.value}_handleCollapseChanged(t){this._activeCollapsed=t.detail.value}_handleColumnsChanged(t){this._activeColumnOrder=t.detail.columnOrder,this._activeHiddenColumns=t.detail.hiddenColumns}static get styles(){return[M.RF,n.AH`hass-loading-screen{--app-header-background-color:var(--sidebar-background-color);--app-header-text-color:var(--sidebar-text-color)}.table-header{display:flex;justify-content:space-between;align-items:center;height:56px;background-color:var(--mdc-text-field-fill-color,#f5f5f5);border-bottom:1px solid var(--mdc-text-field-idle-line-color,rgba(0,0,0,.42));box-sizing:border-box}.header-toolbar{display:flex;justify-content:space-between;align-items:center;color:var(--secondary-text-color);position:relative;top:-4px}.selected-txt{font-weight:var(--ha-font-weight-bold);padding-left:var(--ha-space-4);padding-inline-start:var(--ha-space-4);direction:var(--direction)}.table-header .selected-txt{margin-top:20px}.header-toolbar .selected-txt{font-size:var(--ha-font-size-l)}.header-toolbar .header-btns{margin-right:calc(var(--ha-space-3) * -1);margin-inline-end:calc(var(--ha-space-3) * -1);direction:var(--direction)}.header-btns{display:flex}.header-btns>ha-button,.header-btns>ha-icon-button{margin:var(--ha-space-2)}.clear{color:var(--primary-color);padding-left:var(--ha-space-2);padding-inline-start:var(--ha-space-2);text-transform:uppercase;direction:var(--direction)}`]}constructor(...t){super(...t),this.isWide=!1,this.narrow=!1,this._filter="",this._searchParms=new URLSearchParams(window.location.search),this._selectedEntities=[],this._columns=(0,c.A)((t,e,i,a,s,o)=>({icon:{title:"",label:s("ui.panel.config.voice_assistants.expose.headers.icon"),type:"icon",moveable:!1,hidden:t,template:t=>n.qy` <ha-state-icon title="${(0,l.J)(t.entity?.state)}" .stateObj="${t.entity}" .hass="${this.hass}"></ha-state-icon> `},name:{main:!0,title:s("ui.panel.config.voice_assistants.expose.headers.name"),sortable:!0,filterable:!0,direction:"asc",flex:2},area:{title:s("ui.panel.config.voice_assistants.expose.headers.area"),sortable:!0,groupable:!0,filterable:!0,template:t=>t.area||"â€”"},entity_id:{title:s("ui.panel.config.voice_assistants.expose.headers.entity_id"),sortable:!0,filterable:!0,defaultHidden:!0},domain:{title:s("ui.panel.config.voice_assistants.expose.headers.domain"),sortable:!1,hidden:!0,filterable:!0,groupable:!0},assistants:(0,H.MD)(s,this.hass,e,o,i,!0),aliases:{title:s("ui.panel.config.voice_assistants.expose.headers.aliases"),sortable:!0,filterable:!0,template:t=>0===t.aliases.length?"-":1===t.aliases.length?t.aliases[0]:this.hass.localize("ui.panel.config.voice_assistants.expose.aliases",{count:t.aliases.length})},remove:{title:"",label:s("ui.panel.config.voice_assistants.expose.headers.remove"),type:"icon-button",hidden:t,template:()=>n.qy`<ha-icon-button @click="${this._removeEntity}" .path="${T}"></ha-icon-button>`}})),this._getEntityFilterFuncs=(0,c.A)((t,e)=>({google:(0,u.p)(t.include_domains,t.include_entities,t.exclude_domains,t.exclude_entities),amazon:(0,u.p)(e.include_domains,e.include_entities,e.exclude_domains,e.exclude_entities)})),this._filteredEntities=(0,c.A)((t,e,i,a,s,o,n)=>{const r=!0===o?.logged_in&&!0===o.prefs.google_enabled,l=!0===o?.logged_in&&!0===o.prefs.alexa_enabled,c=[...this._availableAssistants],d=l&&!(0,u.z)(this.cloudStatus.alexa_entities),h=r&&!(0,u.z)(this.cloudStatus.google_entities);h&&c.splice(c.indexOf("cloud.google_assistant"),1),d&&c.splice(c.indexOf("cloud.alexa"),1);const v={};let m,f=Object.values(this.hass.states);f=f.filter(t=>c.some(e=>i?.[t.entity_id]?.[e])),n.forEach((t,e)=>{"assistants"===e&&(m=t.split(","),f=f.filter(t=>m.some(e=>!("cloud.alexa"===e&&d)&&!("cloud.google_assistant"===e&&h)&&i?.[t.entity_id]?.[e])))});for(const o of f){const n=e[o.entity_id],r=n?.area_id??(n?.device_id?a[n.device_id]?.area_id:void 0),l=r?s[r]:void 0,d=Object.keys(i?.[o.entity_id]).filter(t=>c.includes(t)&&i?.[o.entity_id]?.[t]);v[o.entity_id]={entity_id:o.entity_id,entity:o,name:(0,g.u)(o)||this.hass.localize("ui.panel.config.entities.picker.unnamed_entity"),domain:(0,C.p$)(t,(0,p.m)(o.entity_id)),area:l?l.name:void 0,assistants:d,assistants_sortable_key:(0,H.HX)(d),aliases:n?.aliases||[]}}if(d||h){const t=this._getEntityFilterFuncs(this.cloudStatus.google_entities,this.cloudStatus.alexa_entities);Object.keys(this.hass.states).forEach(o=>{const n=[];if(d&&t.amazon(o)&&n.push("cloud.alexa"),h&&t.google(o)&&n.push("cloud.google_assistant"),n.length){if(o in v)v[o].assistants.push(...n),v[o].manAssistants=n;else if(!m||m.some(t=>n.includes(t))){const t=this.hass.states[o],r=e[o],l=r?.area_id??(r?.device_id?a[r.device_id]?.area_id:void 0),d=l?s[l]:void 0;v[o]={entity_id:t.entity_id,entity:t,name:(0,g.u)(t),area:d?d.name:void 0,assistants:[...i?Object.keys(i?.[t.entity_id]).filter(e=>c.includes(e)&&i?.[t.entity_id]?.[e]):[],...n],manAssistants:n,aliases:r?.aliases||[]}}v[o].assistants_sortable_key=(0,H.HX)(v[o].assistants)}})}return Object.values(v)}),this._locationChanged=()=>{window.location.search.substring(1)!==this._searchParms.toString()&&(this._searchParms=new URLSearchParams(window.location.search))},this._popState=()=>{window.location.search.substring(1)!==this._searchParms.toString()&&(this._searchParms=new URLSearchParams(window.location.search))},this._removeEntity=t=>{t.stopPropagation();const e=t.currentTarget.closest(".mdc-data-table__row").rowId,i=this._searchParms.has("assistants")?this._searchParms.get("assistants").split(","):this._availableAssistants;(0,_.ij)(this.hass,i,[e],!1).then(()=>(0,h.r)(this,"exposed-entities-changed"))}}}(0,s.Cg)([(0,r.MZ)({attribute:!1})],N.prototype,"hass",void 0),(0,s.Cg)([(0,r.MZ)({attribute:!1})],N.prototype,"cloudStatus",void 0),(0,s.Cg)([(0,r.MZ)({attribute:"is-wide",type:Boolean})],N.prototype,"isWide",void 0),(0,s.Cg)([(0,r.MZ)({type:Boolean})],N.prototype,"narrow",void 0),(0,s.Cg)([(0,r.MZ)({attribute:!1})],N.prototype,"route",void 0),(0,s.Cg)([(0,r.MZ)({attribute:!1})],N.prototype,"exposedEntities",void 0),(0,s.Cg)([(0,r.wk)(),(0,o.Fg)({context:x.X1,subscribe:!0})],N.prototype,"_entities",void 0),(0,s.Cg)([(0,r.wk)()],N.prototype,"_extEntities",void 0),(0,s.Cg)([(0,r.wk)(),(0,d.I)({storage:"sessionStorage",key:"voice-expose-table-search",state:!0,subscribe:!1})],N.prototype,"_filter",void 0),(0,s.Cg)([(0,r.wk)()],N.prototype,"_searchParms",void 0),(0,s.Cg)([(0,r.wk)()],N.prototype,"_selectedEntities",void 0),(0,s.Cg)([(0,r.wk)()],N.prototype,"_supportedEntities",void 0),(0,s.Cg)([(0,d.I)({key:"voice-expose-table-sort",state:!1,subscribe:!1})],N.prototype,"_activeSorting",void 0),(0,s.Cg)([(0,d.I)({key:"voice-expose-table-grouping",state:!1,subscribe:!1})],N.prototype,"_activeGrouping",void 0),(0,s.Cg)([(0,d.I)({key:"voice-expose-table-collapsed",state:!1,subscribe:!1})],N.prototype,"_activeCollapsed",void 0),(0,s.Cg)([(0,d.I)({key:"voice-expose-table-column-order",state:!1,subscribe:!1})],N.prototype,"_activeColumnOrder",void 0),(0,s.Cg)([(0,d.I)({key:"voice-expose-table-hidden-columns",state:!1,subscribe:!1})],N.prototype,"_activeHiddenColumns",void 0),(0,s.Cg)([(0,r.P)("hass-tabs-subpage-data-table",!0)],N.prototype,"_dataTable",void 0),N=(0,s.Cg)([(0,r.EM)("ha-config-voice-assistants-expose")],N),a()}catch(t){a(t)}})},60702(t,e,i){i.d(e,{$:()=>o});var a=i(1087);const s=()=>Promise.all([i.e("26767"),i.e("22564"),i.e("21694"),i.e("8851"),i.e("9194")]).then(i.bind(i,17338)),o=(t,e)=>{(0,a.r)(t,"show-dialog",{dialogTag:"dialog-expose-entity",dialogImport:s,dialogParams:e})}},99436(t,e,i){i.d(e,{X:()=>o});var a=i(1087);const s=()=>Promise.all([i.e("80355"),i.e("60001")]).then(i.bind(i,50008)),o=(t,e)=>{(0,a.r)(t,"show-dialog",{dialogTag:"dialog-voice-settings",dialogImport:s,dialogParams:e})}},14503(t,e,i){i.d(e,{RF:()=>o,dp:()=>l,kO:()=>r,nA:()=>n,og:()=>s});var a=i(96196);const s=a.AH`button.link{background:0 0;color:inherit;border:none;padding:0;font:inherit;text-align:left;text-decoration:underline;cursor:pointer;outline:0}`,o=a.AH`:host{font-family:var(--ha-font-family-body);-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-size:var(--ha-font-size-m);font-weight:var(--ha-font-weight-normal);line-height:var(--ha-line-height-normal)}app-header div[sticky]{height:48px}app-toolbar [main-title]{margin-left:20px;margin-inline-start:20px;margin-inline-end:initial}h1{font-family:var(--ha-font-family-heading);-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-size:var(--ha-font-size-2xl);font-weight:var(--ha-font-weight-normal);line-height:var(--ha-line-height-condensed)}h2{font-family:var(--ha-font-family-body);-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:var(--ha-font-size-xl);font-weight:var(--ha-font-weight-medium);line-height:var(--ha-line-height-normal)}h3{font-family:var(--ha-font-family-body);-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-size:var(--ha-font-size-l);font-weight:var(--ha-font-weight-normal);line-height:var(--ha-line-height-normal)}a{color:var(--primary-color)}.secondary{color:var(--secondary-text-color)}.error{color:var(--error-color)}.warning{color:var(--error-color)}${s} .card-actions a{text-decoration:none}.card-actions .warning{--mdc-theme-primary:var(--error-color)}.layout.horizontal,.layout.vertical{display:flex}.layout.inline{display:inline-flex}.layout.horizontal{flex-direction:row}.layout.vertical{flex-direction:column}.layout.wrap{flex-wrap:wrap}.layout.no-wrap{flex-wrap:nowrap}.layout.center,.layout.center-center{align-items:center}.layout.bottom{align-items:flex-end}.layout.center-center,.layout.center-justified{justify-content:center}.flex{flex:1;flex-basis:0.000000001px}.flex-auto{flex:1 1 auto}.flex-none{flex:none}.layout.justified{justify-content:space-between}`,n=a.AH`ha-dialog{--mdc-dialog-min-width:400px;--mdc-dialog-max-width:600px;--mdc-dialog-max-width:min(600px, 95vw);--justify-action-buttons:space-between;--dialog-container-padding:var(--safe-area-inset-top, 0) var(--safe-area-inset-right, 0) var(--safe-area-inset-bottom, 0) var(--safe-area-inset-left, 0);--dialog-surface-padding:0px}ha-dialog .form{color:var(--primary-text-color)}a{color:var(--primary-color)}@media all and (max-width:450px),all and (max-height:500px){ha-dialog{--mdc-dialog-min-width:100vw;--mdc-dialog-max-width:100vw;--mdc-dialog-min-height:100vh;--mdc-dialog-min-height:100svh;--mdc-dialog-max-height:100vh;--mdc-dialog-max-height:100svh;--dialog-container-padding:0px;--dialog-surface-padding:var(--safe-area-inset-top, 0) var(--safe-area-inset-right, 0) var(--safe-area-inset-bottom, 0) var(--safe-area-inset-left, 0);--vertical-align-dialog:flex-end;--ha-dialog-border-radius:var(--ha-border-radius-square)}}.error{color:var(--error-color)}`,r=a.AH`ha-dialog{--vertical-align-dialog:flex-start;--dialog-surface-margin-top:var(--ha-space-10);--mdc-dialog-max-height:calc(
      100vh - var(--dialog-surface-margin-top) - var(--ha-space-2) - var(
          --safe-area-inset-y,
          0px
        )
    );--mdc-dialog-max-height:calc(
      100svh - var(--dialog-surface-margin-top) - var(--ha-space-2) - var(
          --safe-area-inset-y,
          0px
        )
    )}@media all and (max-width:450px),all and (max-height:500px){ha-dialog{--dialog-surface-margin-top:0px;--mdc-dialog-min-height:100vh;--mdc-dialog-min-height:100svh;--mdc-dialog-max-height:100vh;--mdc-dialog-max-height:100svh}}`,l=a.AH`.ha-scrollbar::-webkit-scrollbar{width:.4rem;height:.4rem}.ha-scrollbar::-webkit-scrollbar-thumb{border-radius:var(--ha-border-radius-sm);background:var(--scrollbar-thumb-color)}.ha-scrollbar{overflow-y:auto;scrollbar-color:var(--scrollbar-thumb-color) transparent;scrollbar-width:thin}`;a.AH`body{background-color:var(--primary-background-color);color:var(--primary-text-color);height:calc(100vh - 32px);width:100vw}`},85614(t,e,i){i.d(e,{i:()=>a});const a=async()=>{await Promise.all([i.e("22564"),i.e("22309")]).then(i.bind(i,42735))}},44144(t,e,i){i.d(e,{MR:()=>a,QR:()=>s,a_:()=>o,bg:()=>n});const a=t=>`https://brands.home-assistant.io/${t.brand?"brands/":""}_/${t.domain}/${t.darkOptimized?"dark_":""}${t.type}.png`,s=t=>`https://brands.home-assistant.io/hardware/${t.category}/${t.darkOptimized?"dark_":""}${t.manufacturer}${t.model?`_${t.model}`:""}.png`,o=t=>t.split("/")[4],n=t=>t.startsWith("https://brands.home-assistant.io/")}};
//# sourceMappingURL=14311.3b01a67a5fd4aff7.js.map