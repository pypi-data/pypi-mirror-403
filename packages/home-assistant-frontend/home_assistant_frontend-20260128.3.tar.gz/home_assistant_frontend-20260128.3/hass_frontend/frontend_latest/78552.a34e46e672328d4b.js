export const __rspack_esm_id="78552";export const __rspack_esm_ids=["78552"];export const __webpack_modules__={63708(t,a,e){e.d(a,{fW:()=>o});e(18111),e(13579);var s=e(44537),i=e(36312);const o=(t,a)=>(d(a)||r(t,a))&&!l(t,a)&&n(t,a),r=(t,a)=>!a.component||(0,s.e)(a.component).some(a=>(0,i.x)(t,a)),n=(t,a)=>!a.not_component||!(0,s.e)(a.not_component).some(a=>(0,i.x)(t,a)),d=t=>t.core,l=(t,a)=>(t=>t.advancedOnly)(a)&&!(t=>t.userData?.showAdvanced)(t)},57237(t,a,e){e.d(a,{d:()=>s});const s=t=>t.stopPropagation()},52943(t,a,e){e.d(a,{Z:()=>s});const s=t=>t.charAt(0).toUpperCase()+t.slice(1)},63130(t,a,e){e.d(a,{l:()=>s});const s=async(t,a)=>{if(navigator.clipboard)try{return void await navigator.clipboard.writeText(t)}catch{}const e=a??document.body,s=document.createElement("textarea");s.value=t,e.appendChild(s),s.select(),document.execCommand("copy"),e.removeChild(s)}},89300(t,a,e){e.a(t,async function(t,a){try{var s=e(62826),i=e(96196),o=e(44457),r=e(94333),n=e(18350),d=e(65829),l=(e(67094),t([n,d]));[n,d]=l.then?(await l)():l;const c="M2.2,16.06L3.88,12L2.2,7.94L6.26,6.26L7.94,2.2L12,3.88L16.06,2.2L17.74,6.26L21.8,7.94L20.12,12L21.8,16.06L17.74,17.74L16.06,21.8L12,20.12L7.94,21.8L6.26,17.74L2.2,16.06M13,17V15H11V17H13M13,13V7H11V13H13Z",h="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z";class p extends i.WF{render(){const t=this.progress||this._result?"accent":this.appearance;return i.qy` <ha-button .appearance="${t}" .disabled="${this.disabled}" .loading="${this.progress}" .variant="${"success"===this._result?"success":"error"===this._result?"danger":this.variant}" class="${(0,r.H)({result:!!this._result,success:"success"===this._result,error:"error"===this._result})}"> ${this.iconPath?i.qy`<ha-svg-icon .path="${this.iconPath}" slot="start"></ha-svg-icon>`:i.s6} <slot>${this.label}</slot> </ha-button> ${this._result?i.qy` <div class="progress"> ${"success"===this._result?i.qy`<ha-svg-icon .path="${h}"></ha-svg-icon>`:"error"===this._result?i.qy`<ha-svg-icon .path="${c}"></ha-svg-icon>`:i.s6} </div> `:i.s6} `}actionSuccess(){this._setResult("success")}actionError(){this._setResult("error")}_setResult(t){this._result=t,setTimeout(()=>{this._result=void 0},2e3)}constructor(...t){super(...t),this.disabled=!1,this.progress=!1,this.appearance="accent",this.variant="brand"}}p.styles=i.AH`:host{outline:0;display:inline-block;position:relative}:host([progress]){pointer-events:none}.progress{bottom:0;display:flex;justify-content:center;align-items:center;position:absolute;top:0;width:100%}ha-button{width:100%}ha-button.result::part(caret),ha-button.result::part(end),ha-button.result::part(label),ha-button.result::part(spinner),ha-button.result::part(start){visibility:hidden}ha-svg-icon{color:var(--white-color)}`,(0,s.Cg)([(0,o.MZ)()],p.prototype,"label",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean})],p.prototype,"disabled",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean,reflect:!0})],p.prototype,"progress",void 0),(0,s.Cg)([(0,o.MZ)()],p.prototype,"appearance",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],p.prototype,"iconPath",void 0),(0,s.Cg)([(0,o.MZ)()],p.prototype,"variant",void 0),(0,s.Cg)([(0,o.wk)()],p.prototype,"_result",void 0),p=(0,s.Cg)([(0,o.EM)("ha-progress-button")],p),a()}catch(t){a(t)}})},34296(t,a,e){var s=e(62826),i=e(96229),o=e(26069),r=e(91735),n=e(42034),d=e(96196),l=e(44457);class c extends i.k{renderOutline(){return this.filled?d.qy`<span class="filled"></span>`:super.renderOutline()}getContainerClasses(){return{...super.getContainerClasses(),active:this.active}}renderPrimaryContent(){return d.qy` <span class="leading icon" aria-hidden="true"> ${this.renderLeadingIcon()} </span> <span class="label">${this.label}</span> <span class="touch"></span> <span class="trailing leading icon" aria-hidden="true"> ${this.renderTrailingIcon()} </span> `}renderTrailingIcon(){return d.qy`<slot name="trailing-icon"></slot>`}constructor(...t){super(...t),this.filled=!1,this.active=!1}}c.styles=[r.R,n.R,o.R,d.AH`:host{--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-surface:var(--primary-text-color);--md-assist-chip-container-shape:var(
          --ha-assist-chip-container-shape,
          16px
        );--md-assist-chip-outline-color:var(--outline-color);--md-assist-chip-label-text-weight:400}.filled{display:flex;pointer-events:none;border-radius:inherit;inset:0;position:absolute;background-color:var(--ha-assist-chip-filled-container-color)}::slotted([slot=icon]),::slotted([slot=trailing-icon]){display:flex;--mdc-icon-size:var(--md-input-chip-icon-size, 18px);font-size:var(--_label-text-size)!important}.trailing.icon ::slotted(*),.trailing.icon svg{margin-inline-end:unset;margin-inline-start:var(--_icon-label-space)}::before{background:var(--ha-assist-chip-container-color,transparent);opacity:var(--ha-assist-chip-container-opacity, 1)}:where(.active)::before{background:var(--ha-assist-chip-active-container-color);opacity:var(--ha-assist-chip-active-container-opacity)}.label{font-family:var(--ha-font-family-body)}`],(0,s.Cg)([(0,l.MZ)({type:Boolean,reflect:!0})],c.prototype,"filled",void 0),(0,s.Cg)([(0,l.MZ)({type:Boolean})],c.prototype,"active",void 0),c=(0,s.Cg)([(0,l.EM)("ha-assist-chip")],c)},5745(t,a,e){var s=e(62826),i=e(4720),o=e(44457);class r extends i.Y{}r=(0,s.Cg)([(0,o.EM)("ha-chip-set")],r)},13513(t,a,e){var s=e(62826),i=e(96196),o=e(44457),r=e(36240);class n extends i.WF{render(){const t=(0,r.gN)((0,r.NN)((0,r.S8)(this.value,this.min,this.max),this.min,this.max));return i.JW` <svg> <g> <rect/> <rect width="${t}%"/> </g> </svg> `}constructor(...t){super(...t),this.min=0,this.max=100}}n.styles=i.AH`rect{height:100%}rect:first-child{width:100%;fill:var(--ha-bar-background-color,var(--secondary-background-color))}rect:last-child{fill:var(--ha-bar-primary-color,var(--primary-color))}svg{border-radius:var(--ha-bar-border-radius,var(--ha-border-radius-sm));height:12px;width:100%}`,(0,s.Cg)([(0,o.MZ)({type:Number})],n.prototype,"min",void 0),(0,s.Cg)([(0,o.MZ)({type:Number})],n.prototype,"max",void 0),(0,s.Cg)([(0,o.MZ)({type:Number})],n.prototype,"value",void 0),n=(0,s.Cg)([(0,o.EM)("ha-bar")],n)},48078(t,a,e){e(18111),e(18237);var s=e(62826),i=e(96196),o=e(44457),r=e(94333);class n extends i.WF{render(){return i.qy` <div class="container ${(0,r.H)({faded:!this._contentShown})}" style="${this._contentShown?"":`max-height: ${this.fadedHeight}px`}" @click="${this._showContent}"> <slot @content-resize="${this._setShowContent}"></slot> </div> `}get _slottedHeight(){return(this.shadowRoot.querySelector(".container")?.firstElementChild).assignedElements().reduce((t,a)=>t+a.offsetHeight,0)||0}_setShowContent(){const t=this._slottedHeight;this._contentShown=0!==t&&t<=this.fadedHeight+50}firstUpdated(t){super.firstUpdated(t),this._setShowContent()}_showContent(){this._contentShown=!0}constructor(...t){super(...t),this.fadedHeight=102,this._contentShown=!1}}n.styles=i.AH`.container{display:block;height:auto;cursor:default}.faded{cursor:pointer;-webkit-mask-image:linear-gradient(to bottom,black 25%,transparent 100%);mask-image:linear-gradient(to bottom,black 25%,transparent 100%);overflow-y:hidden}`,(0,s.Cg)([(0,o.MZ)({type:Number,attribute:"faded-height"})],n.prototype,"fadedHeight",void 0),(0,s.Cg)([(0,o.wk)()],n.prototype,"_contentShown",void 0),n=(0,s.Cg)([(0,o.EM)("ha-faded")],n)},6(t,a,e){var s=e(62826),i=e(35949),o=e(38627),r=e(96196),n=e(44457),d=e(94333),l=e(1087);class c extends i.M{render(){const t={"mdc-form-field--align-end":this.alignEnd,"mdc-form-field--space-between":this.spaceBetween,"mdc-form-field--nowrap":this.nowrap};return r.qy` <div class="mdc-form-field ${(0,d.H)(t)}"> <slot></slot> <label class="mdc-label" @click="${this._labelClick}"> <slot name="label">${this.label}</slot> </label> </div>`}_labelClick(){const t=this.input;if(t&&(t.focus(),!t.disabled))switch(t.tagName){case"HA-CHECKBOX":t.checked=!t.checked,(0,l.r)(t,"change");break;case"HA-RADIO":t.checked=!0,(0,l.r)(t,"change");break;default:t.click()}}constructor(...t){super(...t),this.disabled=!1}}c.styles=[o.R,r.AH`:host(:not([alignEnd])) ::slotted(ha-switch){margin-right:10px;margin-inline-end:10px;margin-inline-start:inline}.mdc-form-field{align-items:var(--ha-formfield-align-items,center);gap:var(--ha-space-1)}.mdc-form-field>label{direction:var(--direction);margin-inline-start:0;margin-inline-end:auto;padding:0}:host([disabled]) label{color:var(--disabled-text-color)}`],(0,s.Cg)([(0,n.MZ)({type:Boolean,reflect:!0})],c.prototype,"disabled",void 0),c=(0,s.Cg)([(0,n.EM)("ha-formfield")],c)},88945(t,a,e){e.r(a),e.d(a,{HaIcon:()=>_});var s=e(62826),i=e(96196),o=e(44457),r=e(1087),n=e(9899),d=e(57769),l=(e(44114),e(18111),e(7588),e(95192)),c=e(22786),h=e(7553);const p=JSON.parse('{"version":"7.4.47","parts":[{"file":"7a7139d465f1f41cb26ab851a17caa21a9331234"},{"start":"account-supervisor-circle-","file":"9561286c4c1021d46b9006596812178190a7cc1c"},{"start":"alpha-r-c","file":"eb466b7087fb2b4d23376ea9bc86693c45c500fa"},{"start":"arrow-decision-o","file":"4b3c01b7e0723b702940c5ac46fb9e555646972b"},{"start":"baby-f","file":"2611401d85450b95ab448ad1d02c1a432b409ed2"},{"start":"battery-hi","file":"89bcd31855b34cd9d31ac693fb073277e74f1f6a"},{"start":"blur-r","file":"373709cd5d7e688c2addc9a6c5d26c2d57c02c48"},{"start":"briefcase-account-","file":"a75956cf812ee90ee4f656274426aafac81e1053"},{"start":"calendar-question-","file":"3253f2529b5ebdd110b411917bacfacb5b7063e6"},{"start":"car-lig","file":"74566af3501ad6ae58ad13a8b6921b3cc2ef879d"},{"start":"cellphone-co","file":"7677f1cfb2dd4f5562a2aa6d3ae43a2e6997b21a"},{"start":"circle-slice-2","file":"70d08c50ec4522dd75d11338db57846588263ee2"},{"start":"cloud-co","file":"141d2bfa55ca4c83f4bae2812a5da59a84fec4ff"},{"start":"cog-s","file":"5a640365f8e47c609005d5e098e0e8104286d120"},{"start":"cookie-l","file":"dd85b8eb8581b176d3acf75d1bd82e61ca1ba2fc"},{"start":"currency-eur-","file":"15362279f4ebfc3620ae55f79d2830ad86d5213e"},{"start":"delete-o","file":"239434ab8df61237277d7599ebe066c55806c274"},{"start":"draw-","file":"5605918a592070803ba2ad05a5aba06263da0d70"},{"start":"emoticon-po","file":"a838cfcec34323946237a9f18e66945f55260f78"},{"start":"fan","file":"effd56103b37a8c7f332e22de8e4d67a69b70db7"},{"start":"file-question-","file":"b2424b50bd465ae192593f1c3d086c5eec893af8"},{"start":"flask-off-","file":"3b76295cde006a18f0301dd98eed8c57e1d5a425"},{"start":"food-s","file":"1c6941474cbeb1755faaaf5771440577f4f1f9c6"},{"start":"gamepad-u","file":"c6efe18db6bc9654ae3540c7dee83218a5450263"},{"start":"google-f","file":"df341afe6ad4437457cf188499cb8d2df8ac7b9e"},{"start":"head-c","file":"282121c9e45ed67f033edcc1eafd279334c00f46"},{"start":"home-pl","file":"27e8e38fc7adcacf2a210802f27d841b49c8c508"},{"start":"inbox-","file":"0f0316ec7b1b7f7ce3eaabce26c9ef619b5a1694"},{"start":"key-v","file":"ea33462be7b953ff1eafc5dac2d166b210685a60"},{"start":"leaf-circle-","file":"33db9bbd66ce48a2db3e987fdbd37fb0482145a4"},{"start":"lock-p","file":"b89e27ed39e9d10c44259362a4b57f3c579d3ec8"},{"start":"message-s","file":"7b5ab5a5cadbe06e3113ec148f044aa701eac53a"},{"start":"moti","file":"01024d78c248d36805b565e343dd98033cc3bcaf"},{"start":"newspaper-variant-o","file":"22a6ec4a4fdd0a7c0acaf805f6127b38723c9189"},{"start":"on","file":"c73d55b412f394e64632e2011a59aa05e5a1f50d"},{"start":"paw-ou","file":"3f669bf26d16752dc4a9ea349492df93a13dcfbf"},{"start":"pigg","file":"0c24edb27eb1c90b6e33fc05f34ef3118fa94256"},{"start":"printer-pos-sy","file":"41a55cda866f90b99a64395c3bb18c14983dcf0a"},{"start":"read","file":"c7ed91552a3a64c9be88c85e807404cf705b7edf"},{"start":"robot-vacuum-variant-o","file":"917d2a35d7268c0ea9ad9ecab2778060e19d90e0"},{"start":"sees","file":"6e82d9861d8fac30102bafa212021b819f303bdb"},{"start":"shoe-f","file":"e2fe7ce02b5472301418cc90a0e631f187b9f238"},{"start":"snowflake-m","file":"a28ba9f5309090c8b49a27ca20ff582a944f6e71"},{"start":"st","file":"7e92d03f095ec27e137b708b879dfd273bd735ab"},{"start":"su","file":"61c74913720f9de59a379bdca37f1d2f0dc1f9db"},{"start":"tag-plus-","file":"8f3184156a4f38549cf4c4fffba73a6a941166ae"},{"start":"timer-a","file":"baab470d11cfb3a3cd3b063ee6503a77d12a80d0"},{"start":"transit-d","file":"8561c0d9b1ac03fab360fd8fe9729c96e8693239"},{"start":"vector-arrange-b","file":"c9a3439257d4bab33d3355f1f2e11842e8171141"},{"start":"water-ou","file":"02dbccfb8ca35f39b99f5a085b095fc1275005a0"},{"start":"webc","file":"57bafd4b97341f4f2ac20a609d023719f23a619c"},{"start":"zip","file":"65ae094e8263236fa50486584a08c03497a38d93"}]}'),u=(0,c.A)(async()=>{const t=(0,l.y$)("hass-icon-db","mdi-icon-store"),a=await(0,l.Jt)("_version",t);return a?a!==p.version&&(await(0,l.IU)(t),(0,l.hZ)("_version",p.version,t)):(0,l.hZ)("_version",p.version,t),t}),g=["mdi","hass","hassio","hademo"];let m=[];e(67094);const b={},v={},f=(0,n.s)(()=>(async t=>{const a=Object.keys(t),e=await Promise.allSettled(Object.values(t));(await u())("readwrite",s=>{e.forEach((e,i)=>{"fulfilled"===e.status&&Object.entries(e.value).forEach(([t,a])=>{s.put(a,t)}),delete t[a[i]]})})})(v),2e3),y={};class _ extends i.WF{willUpdate(t){super.willUpdate(t),t.has("icon")&&(this._path=void 0,this._secondaryPath=void 0,this._viewBox=void 0,this._loadIcon())}render(){return this.icon?this._legacy?i.qy` <iron-icon .icon="${this.icon}"></iron-icon>`:i.qy`<ha-svg-icon .path="${this._path}" .secondaryPath="${this._secondaryPath}" .viewBox="${this._viewBox}"></ha-svg-icon>`:i.s6}async _loadIcon(){if(!this.icon)return;const t=this.icon,[a,s]=this.icon.split(":",2);let i,o=s;if(!a||!o)return;if(!g.includes(a)){const e=d.y[a];return e?void(e&&"function"==typeof e.getIcon&&this._setCustomPath(e.getIcon(o),t)):void(this._legacy=!0)}if(this._legacy=!1,o in b){const t=b[o];let e;t.newName?(e=`Icon ${a}:${o} was renamed to ${a}:${t.newName}, please change your config, it will be removed in version ${t.removeIn}.`,o=t.newName):e=`Icon ${a}:${o} was removed from MDI, please replace this icon with an other icon in your config, it will be removed in version ${t.removeIn}.`,console.warn(e),(0,r.r)(this,"write_log",{level:"warning",message:e})}if(o in y)return void(this._path=y[o]);if("home-assistant"===o){const a=(await e.e("58781").then(e.bind(e,53580))).mdiHomeAssistant;return this.icon===t&&(this._path=a),void(y[o]=a)}try{i=await(t=>new Promise((a,e)=>{if(m.push([t,a,e]),m.length>1)return;const s=u();(0,h.h)(1e3,(async()=>{(await s)("readonly",t=>{for(const[a,e,s]of m)(0,l.Yd)(t.get(a)).then(t=>e(t)).catch(t=>s(t));m=[]})})()).catch(t=>{for(const[,,a]of m)a(t);m=[]})}))(o)}catch(t){i=void 0}if(i)return this.icon===t&&(this._path=i),void(y[o]=i);const n=(t=>{let a;for(const e of p.parts){if(void 0!==e.start&&t<e.start)break;a=e}return a.file})(o);if(n in v)return void this._setPath(v[n],o,t);const c=fetch(`/static/mdi/${n}.json`).then(t=>t.json());v[n]=c,this._setPath(c,o,t),c.catch(()=>{delete v[n]}),f()}async _setCustomPath(t,a){const e=await t;this.icon===a&&(this._path=e.path,this._secondaryPath=e.secondaryPath,this._viewBox=e.viewBox)}async _setPath(t,a,e){try{const s=await t;this.icon===e&&(this._path=s[a]),y[a]=s[a]}catch(t){}}constructor(...t){super(...t),this._legacy=!1}}_.styles=i.AH`:host{fill:currentcolor}`,(0,s.Cg)([(0,o.MZ)()],_.prototype,"icon",void 0),(0,s.Cg)([(0,o.wk)()],_.prototype,"_path",void 0),(0,s.Cg)([(0,o.wk)()],_.prototype,"_secondaryPath",void 0),(0,s.Cg)([(0,o.wk)()],_.prototype,"_viewBox",void 0),(0,s.Cg)([(0,o.wk)()],_.prototype,"_legacy",void 0),_=(0,s.Cg)([(0,o.EM)("ha-icon")],_)},28732(t,a,e){var s=e(62826),i=e(27686),o=e(7731),r=e(96196),n=e(44457);class d extends i.J{renderRipple(){return this.noninteractive?"":super.renderRipple()}static get styles(){return[o.R,r.AH`:host{padding-left:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-inline-start:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-right:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px));padding-inline-end:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px))}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:48px}span.material-icons:first-of-type{margin-inline-start:0px!important;margin-inline-end:var(--mdc-list-item-graphic-margin,16px)!important;direction:var(--direction)!important}span.material-icons:last-of-type{margin-inline-start:auto!important;margin-inline-end:0px!important;direction:var(--direction)!important}.mdc-deprecated-list-item__meta{display:var(--mdc-list-item-meta-display);align-items:center;flex-shrink:0}:host([graphic=icon]:not([twoline])) .mdc-deprecated-list-item__graphic{margin-inline-end:var(--mdc-list-item-graphic-margin,20px)!important}:host([multiline-secondary]){height:auto}:host([multiline-secondary]) .mdc-deprecated-list-item__text{padding:8px 0}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text{text-overflow:initial;white-space:normal;overflow:auto;display:inline-block;margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text{margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text::before{display:none}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text::before{display:none}:host([disabled]){color:var(--disabled-text-color)}:host([noninteractive]){pointer-events:unset}`,"rtl"===document.dir?r.AH`span.material-icons:first-of-type,span.material-icons:last-of-type{direction:rtl!important;--direction:rtl}`:r.AH``]}}d=(0,s.Cg)([(0,n.EM)("ha-list-item")],d)},8630(t,a,e){var s=e(62826),i=e(70402),o=e(11081),r=e(44457);class n extends i.iY{}n.styles=o.R,n=(0,s.Cg)([(0,r.EM)("ha-list")],n)},69709(t,a,e){e(18111),e(22489),e(61701),e(18237);var s=e(62826),i=e(96196),o=e(44457),r=e(1420),n=e(30015),d=e.n(n),l=e(1087),c=(e(14603),e(47566),e(98721),e(2209));let h;var p=e(996);const u=t=>i.qy`${t}`,g=new p.G(1e3),m={reType:/(?<input>(\[!(?<type>caution|important|note|tip|warning)\])(?:\s|\\n)?)/i,typeToHaAlert:{caution:"error",important:"info",note:"info",tip:"success",warning:"warning"}};class b extends i.mN{disconnectedCallback(){if(super.disconnectedCallback(),this.cache){const t=this._computeCacheKey();g.set(t,this.innerHTML)}}createRenderRoot(){return this}update(t){super.update(t),void 0!==this.content&&(this._renderPromise=this._render())}async getUpdateComplete(){return await super.getUpdateComplete(),await this._renderPromise,!0}willUpdate(t){if(!this.innerHTML&&this.cache){const t=this._computeCacheKey();g.has(t)&&((0,i.XX)(u((0,r._)(g.get(t))),this.renderRoot),this._resize())}}_computeCacheKey(){return d()({content:this.content,allowSvg:this.allowSvg,allowDataUrl:this.allowDataUrl,breaks:this.breaks})}async _render(){const t=await(async(t,a,s)=>(h||(h=(0,c.LV)(new Worker(new URL(e.p+e.u("55640"),e.b)))),h.renderMarkdown(t,a,s)))(String(this.content),{breaks:this.breaks,gfm:!0},{allowSvg:this.allowSvg,allowDataUrl:this.allowDataUrl});(0,i.XX)(u((0,r._)(t.join(""))),this.renderRoot),this._resize();const a=document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,null);for(;a.nextNode();){const t=a.currentNode;if(t instanceof HTMLAnchorElement&&t.host!==document.location.host)t.target="_blank",t.rel="noreferrer noopener";else if(t instanceof HTMLImageElement)this.lazyImages&&(t.loading="lazy"),t.addEventListener("load",this._resize);else if(t instanceof HTMLQuoteElement){const e=t.firstElementChild?.firstChild?.textContent&&m.reType.exec(t.firstElementChild.firstChild.textContent);if(e){const{type:s}=e.groups,i=document.createElement("ha-alert");i.alertType=m.typeToHaAlert[s.toLowerCase()],i.append(...Array.from(t.childNodes).map(t=>{const a=Array.from(t.childNodes);if(!this.breaks&&a.length){const t=a[0];t.nodeType===Node.TEXT_NODE&&t.textContent===e.input&&t.textContent?.includes("\n")&&(t.textContent=t.textContent.split("\n").slice(1).join("\n"))}return a}).reduce((t,a)=>t.concat(a),[]).filter(t=>t.textContent&&t.textContent!==e.input)),a.parentNode().replaceChild(i,t)}}else t instanceof HTMLElement&&["ha-alert","ha-qr-code","ha-icon","ha-svg-icon"].includes(t.localName)&&e(96175)(`./${t.localName}`)}}constructor(...t){super(...t),this.allowSvg=!1,this.allowDataUrl=!1,this.breaks=!1,this.lazyImages=!1,this.cache=!1,this._renderPromise=Promise.resolve(),this._resize=()=>(0,l.r)(this,"content-resize")}}(0,s.Cg)([(0,o.MZ)()],b.prototype,"content",void 0),(0,s.Cg)([(0,o.MZ)({attribute:"allow-svg",type:Boolean})],b.prototype,"allowSvg",void 0),(0,s.Cg)([(0,o.MZ)({attribute:"allow-data-url",type:Boolean})],b.prototype,"allowDataUrl",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean})],b.prototype,"breaks",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean,attribute:"lazy-images"})],b.prototype,"lazyImages",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean})],b.prototype,"cache",void 0),b=(0,s.Cg)([(0,o.EM)("ha-markdown-element")],b)},3587(t,a,e){var s=e(62826),i=e(96196),o=e(44457);e(69709);class r extends i.WF{async getUpdateComplete(){const t=await super.getUpdateComplete();return await(this._markdownElement?.updateComplete),t}render(){return this.content?i.qy`<ha-markdown-element .content="${this.content}" .allowSvg="${this.allowSvg}" .allowDataUrl="${this.allowDataUrl}" .breaks="${this.breaks}" .lazyImages="${this.lazyImages}" .cache="${this.cache}"></ha-markdown-element>`:i.s6}constructor(...t){super(...t),this.allowSvg=!1,this.allowDataUrl=!1,this.breaks=!1,this.lazyImages=!1,this.cache=!1}}r.styles=i.AH`
    :host {
      display: block;
    }
    ha-markdown-element {
      -ms-user-select: text;
      -webkit-user-select: text;
      -moz-user-select: text;
    }
    ha-markdown-element > *:first-child {
      margin-top: 0;
    }
    ha-markdown-element > *:last-child {
      margin-bottom: 0;
    }
    ha-alert {
      display: block;
      margin: var(--ha-space-1) 0;
    }
    a {
      color: var(--markdown-link-color, var(--primary-color));
    }
    img {
      background-color: var(--markdown-image-background-color);
      border-radius: var(--markdown-image-border-radius);
      max-width: 100%;
    }
    p:first-child > img:first-child {
      vertical-align: top;
    }
    p:first-child > img:last-child {
      vertical-align: top;
    }
    ha-markdown-element > :is(ol, ul) {
      padding-inline-start: var(--markdown-list-indent, revert);
    }
    li {
      &:has(input[type="checkbox"]) {
        list-style: none;
        & > input[type="checkbox"] {
          margin-left: 0;
        }
      }
    }
    svg {
      background-color: var(--markdown-svg-background-color, none);
      color: var(--markdown-svg-color, none);
    }
    code,
    pre {
      background-color: var(--markdown-code-background-color, none);
      border-radius: var(--ha-border-radius-sm);
      color: var(--markdown-code-text-color, inherit);
    }
    code {
      font-size: var(--ha-font-size-s);
      padding: 0.2em 0.4em;
    }
    pre code {
      padding: 0;
    }
    pre {
      padding: var(--ha-space-4);
      overflow: auto;
      line-height: var(--ha-line-height-condensed);
      font-family: var(--ha-font-family-code);
    }
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      line-height: initial;
    }
    h2 {
      font-size: var(--ha-font-size-xl);
      font-weight: var(--ha-font-weight-bold);
    }
    hr {
      border-color: var(--divider-color);
      border-bottom: none;
      margin: var(--ha-space-4) 0;
    }
    table[role="presentation"] {
      --markdown-table-border-collapse: separate;
      --markdown-table-border-width: attr(border, 0);
      --markdown-table-padding-inline: 0;
      --markdown-table-padding-block: 0;
      th {
        vertical-align: attr(valign, middle);
      }
      td {
        vertical-align: attr(valign, middle);
      }
    }
    table {
      border-collapse: var(--markdown-table-border-collapse, collapse);
    }
    div:has(> table) {
      overflow: auto;
    }
    th {
      text-align: var(--markdown-table-text-align, start);
    }
    td,
    th {
      border-width: var(--markdown-table-border-width, 1px);
      border-style: var(--markdown-table-border-style, solid);
      border-color: var(--markdown-table-border-color, var(--divider-color));
      padding-inline: var(--markdown-table-padding-inline, 0.5em);
      padding-block: var(--markdown-table-padding-block, 0.25em);
    }
    blockquote {
      border-left: 4px solid var(--divider-color);
      margin-inline: 0;
      padding-inline: 1em;
    }
  `,(0,s.Cg)([(0,o.MZ)()],r.prototype,"content",void 0),(0,s.Cg)([(0,o.MZ)({attribute:"allow-svg",type:Boolean})],r.prototype,"allowSvg",void 0),(0,s.Cg)([(0,o.MZ)({attribute:"allow-data-url",type:Boolean})],r.prototype,"allowDataUrl",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean})],r.prototype,"breaks",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean,attribute:"lazy-images"})],r.prototype,"lazyImages",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean})],r.prototype,"cache",void 0),(0,s.Cg)([(0,o.P)("ha-markdown-element")],r.prototype,"_markdownElement",void 0),r=(0,s.Cg)([(0,o.EM)("ha-markdown")],r)},58491(t,a,e){var s=e(62826),i=e(10414),o=e(18989),r=e(96196),n=e(44457);class d extends i.c{}d.styles=[o.R,r.AH`:host{--md-divider-color:var(--divider-color)}`],d=(0,s.Cg)([(0,n.EM)("ha-md-divider")],d)},79817(t,a,e){var s=e(62826),i=e(67738),o=e(703),r=e(96196),n=e(44457),d=e(94333);e(8630);class l extends i.ZR{get listElement(){return this.listElement_||(this.listElement_=this.renderRoot.querySelector("ha-list")),this.listElement_}renderList(){const t="menu"===this.innerRole?"menuitem":"option",a=this.renderListClasses();return r.qy`<ha-list rootTabbable .innerAriaLabel="${this.innerAriaLabel}" .innerRole="${this.innerRole}" .multi="${this.multi}" class="${(0,d.H)(a)}" .itemRoles="${t}" .wrapFocus="${this.wrapFocus}" .activatable="${this.activatable}" @action="${this.onAction}"> <slot></slot> </ha-list>`}}l.styles=o.R,l=(0,s.Cg)([(0,n.EM)("ha-menu")],l)},606(t,a,e){var s=e(62826),i=e(14540),o=e(63125),r=e(96196),n=e(44457),d=e(94333),l=e(9899),c=e(12587);e(26300),e(79817);class h extends i.o{render(){return r.qy` ${super.render()} ${this.clearable&&!this.required&&!this.disabled&&this.value?r.qy`<ha-icon-button label="clear" @click="${this._clearValue}" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}"></ha-icon-button>`:r.s6} `}renderMenu(){const t=this.getMenuClasses();return r.qy`<ha-menu innerRole="listbox" wrapFocus class="${(0,d.H)(t)}" activatable .fullwidth="${!this.fixedMenuPosition&&!this.naturalMenuWidth}" .open="${this.menuOpen}" .anchor="${this.anchorElement}" .fixed="${this.fixedMenuPosition}" @selected="${this.onSelected}" @opened="${this.onOpened}" @closed="${this.onClosed}" @items-updated="${this.onItemsUpdated}" @keydown="${this.handleTypeahead}"> ${this.renderMenuContent()} </ha-menu>`}renderLeadingIcon(){return this.icon?r.qy`<span class="mdc-select__icon"><slot name="icon"></slot></span>`:r.s6}connectedCallback(){super.connectedCallback(),window.addEventListener("translations-updated",this._translationsUpdated)}async firstUpdated(){super.firstUpdated(),this.inlineArrow&&this.shadowRoot?.querySelector(".mdc-select__selected-text-container")?.classList.add("inline-arrow")}updated(t){if(super.updated(t),t.has("inlineArrow")){const t=this.shadowRoot?.querySelector(".mdc-select__selected-text-container");this.inlineArrow?t?.classList.add("inline-arrow"):t?.classList.remove("inline-arrow")}t.get("options")&&(this.layoutOptions(),this.selectByValue(this.value))}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("translations-updated",this._translationsUpdated)}_clearValue(){!this.disabled&&this.value&&(this.valueSetDirectly=!0,this.select(-1),this.mdcFoundation.handleChange())}constructor(...t){super(...t),this.icon=!1,this.clearable=!1,this.inlineArrow=!1,this._translationsUpdated=(0,l.s)(async()=>{await(0,c.E)(),this.layoutOptions()},500)}}h.styles=[o.R,r.AH`:host([clearable]){position:relative}.mdc-select:not(.mdc-select--disabled) .mdc-select__icon{color:var(--secondary-text-color)}.mdc-select__anchor{width:var(--ha-select-min-width,200px)}.mdc-select--filled .mdc-select__anchor{height:var(--ha-select-height,56px)}.mdc-select--filled .mdc-floating-label{inset-inline-start:var(--ha-space-4);inset-inline-end:initial;direction:var(--direction)}.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label{inset-inline-start:48px;inset-inline-end:initial;direction:var(--direction)}.mdc-select .mdc-select__anchor{padding-inline-start:var(--ha-space-4);padding-inline-end:0px;direction:var(--direction)}.mdc-select__anchor .mdc-floating-label--float-above{transform-origin:var(--float-start)}.mdc-select__selected-text-container{padding-inline-end:var(--select-selected-text-padding-end,0px)}:host([clearable]) .mdc-select__selected-text-container{padding-inline-end:var(--select-selected-text-padding-end,var(--ha-space-4))}ha-icon-button{position:absolute;top:10px;right:28px;--mdc-icon-button-size:36px;--mdc-icon-size:20px;color:var(--secondary-text-color);inset-inline-start:initial;inset-inline-end:28px;direction:var(--direction)}.inline-arrow{flex-grow:0}`],(0,s.Cg)([(0,n.MZ)({type:Boolean})],h.prototype,"icon",void 0),(0,s.Cg)([(0,n.MZ)({type:Boolean,reflect:!0})],h.prototype,"clearable",void 0),(0,s.Cg)([(0,n.MZ)({attribute:"inline-arrow",type:Boolean})],h.prototype,"inlineArrow",void 0),(0,s.Cg)([(0,n.MZ)()],h.prototype,"options",void 0),h=(0,s.Cg)([(0,n.EM)("ha-select")],h)},59646(t,a,e){var s=e(62826),i=e(4845),o=e(49065),r=e(96196),n=e(44457),d=e(88360);class l extends i.U{firstUpdated(){super.firstUpdated(),this.addEventListener("change",()=>{this.haptic&&(0,d.j)(this,"light")})}constructor(...t){super(...t),this.haptic=!1}}l.styles=[o.R,r.AH`:host{--mdc-theme-secondary:var(--switch-checked-color)}.mdc-switch.mdc-switch--checked .mdc-switch__thumb{background-color:var(--switch-checked-button-color);border-color:var(--switch-checked-button-color)}.mdc-switch.mdc-switch--checked .mdc-switch__track{background-color:var(--switch-checked-track-color);border-color:var(--switch-checked-track-color)}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb{background-color:var(--switch-unchecked-button-color);border-color:var(--switch-unchecked-button-color)}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__track{background-color:var(--switch-unchecked-track-color);border-color:var(--switch-unchecked-track-color)}`],(0,s.Cg)([(0,n.MZ)({type:Boolean})],l.prototype,"haptic",void 0),l=(0,s.Cg)([(0,n.EM)("ha-switch")],l)},10763(t,a,e){e.a(t,async function(t,a){try{var s=e(62826),i=e(53289),o=e(96196),r=e(44457),n=e(1087),d=e(63130),l=e(14503),c=e(81619),h=(e(38962),e(18350)),p=e(15717),u=t([h,p]);[h,p]=u.then?(await u)():u;const g=t=>{if("object"!=typeof t||null===t)return!1;for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a))return!1;return!0};class m extends o.WF{setValue(t){try{this._yaml=g(t)?"":(0,i.dump)(t,{schema:this.yamlSchema,quotingType:'"',noRefs:!0})}catch(a){console.error(a,t),alert(`There was an error converting to YAML: ${a}`)}}firstUpdated(){void 0!==this.defaultValue&&this.setValue(this.defaultValue)}willUpdate(t){super.willUpdate(t),this.autoUpdate&&t.has("value")&&this.setValue(this.value)}focus(){this._codeEditor?.codemirror&&this._codeEditor?.codemirror.focus()}render(){return void 0===this._yaml?o.s6:o.qy` ${this.label?o.qy`<p>${this.label}${this.required?" *":""}</p>`:o.s6} <ha-code-editor .hass="${this.hass}" .value="${this._yaml}" .readOnly="${this.readOnly}" .disableFullscreen="${this.disableFullscreen}" mode="yaml" autocomplete-entities autocomplete-icons .error="${!1===this.isValid}" @value-changed="${this._onChange}" @blur="${this._onBlur}" dir="ltr"></ha-code-editor> ${this._showingError?o.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:o.s6} ${this.copyClipboard||this.hasExtraActions?o.qy` <div class="card-actions"> ${this.copyClipboard?o.qy` <ha-button appearance="plain" @click="${this._copyYaml}"> ${this.hass.localize("ui.components.yaml-editor.copy_to_clipboard")} </ha-button> `:o.s6} <slot name="extra-actions"></slot> </div> `:o.s6} `}_onChange(t){let a;t.stopPropagation(),this._yaml=t.detail.value;let e,s=!0;if(this._yaml)try{a=(0,i.Hh)(this._yaml,{schema:this.yamlSchema})}catch(t){s=!1,e=`${this.hass.localize("ui.components.yaml-editor.error",{reason:t.reason})}${t.mark?` (${this.hass.localize("ui.components.yaml-editor.error_location",{line:t.mark.line+1,column:t.mark.column+1})})`:""}`}else a={};this._error=e??"",s&&(this._showingError=!1),this.value=a,this.isValid=s,(0,n.r)(this,"value-changed",{value:a,isValid:s,errorMsg:e})}_onBlur(){this.showErrors&&this._error&&(this._showingError=!0)}get yaml(){return this._yaml}async _copyYaml(){this.yaml&&(await(0,d.l)(this.yaml),(0,c.P)(this,{message:this.hass.localize("ui.common.copied_clipboard")}))}static get styles(){return[l.RF,o.AH`.card-actions{border-radius:var(--actions-border-radius,var(--ha-border-radius-square) var(--ha-border-radius-square) var(--ha-card-border-radius,var(--ha-border-radius-lg)) var(--ha-card-border-radius,var(--ha-border-radius-lg)));border:1px solid var(--divider-color);padding:5px 16px}ha-code-editor{flex-grow:1;min-height:0}`]}constructor(...t){super(...t),this.yamlSchema=i.my,this.isValid=!0,this.autoUpdate=!1,this.readOnly=!1,this.disableFullscreen=!1,this.required=!1,this.copyClipboard=!1,this.hasExtraActions=!1,this.showErrors=!0,this._yaml="",this._error="",this._showingError=!1}}(0,s.Cg)([(0,r.MZ)({attribute:!1})],m.prototype,"hass",void 0),(0,s.Cg)([(0,r.MZ)()],m.prototype,"value",void 0),(0,s.Cg)([(0,r.MZ)({attribute:!1})],m.prototype,"yamlSchema",void 0),(0,s.Cg)([(0,r.MZ)({attribute:!1})],m.prototype,"defaultValue",void 0),(0,s.Cg)([(0,r.MZ)({attribute:"is-valid",type:Boolean})],m.prototype,"isValid",void 0),(0,s.Cg)([(0,r.MZ)()],m.prototype,"label",void 0),(0,s.Cg)([(0,r.MZ)({attribute:"auto-update",type:Boolean})],m.prototype,"autoUpdate",void 0),(0,s.Cg)([(0,r.MZ)({attribute:"read-only",type:Boolean})],m.prototype,"readOnly",void 0),(0,s.Cg)([(0,r.MZ)({type:Boolean,attribute:"disable-fullscreen"})],m.prototype,"disableFullscreen",void 0),(0,s.Cg)([(0,r.MZ)({type:Boolean})],m.prototype,"required",void 0),(0,s.Cg)([(0,r.MZ)({attribute:"copy-clipboard",type:Boolean})],m.prototype,"copyClipboard",void 0),(0,s.Cg)([(0,r.MZ)({attribute:"has-extra-actions",type:Boolean})],m.prototype,"hasExtraActions",void 0),(0,s.Cg)([(0,r.MZ)({attribute:"show-errors",type:Boolean})],m.prototype,"showErrors",void 0),(0,s.Cg)([(0,r.wk)()],m.prototype,"_yaml",void 0),(0,s.Cg)([(0,r.wk)()],m.prototype,"_error",void 0),(0,s.Cg)([(0,r.wk)()],m.prototype,"_showingError",void 0),(0,s.Cg)([(0,r.P)("ha-code-editor")],m.prototype,"_codeEditor",void 0),m=(0,s.Cg)([(0,r.EM)("ha-yaml-editor")],m),a()}catch(t){a(t)}})},82e3(t,a,e){e.d(a,{D5:()=>s,Fy:()=>h,Gk:()=>g,Hg:()=>i,TJ:()=>r,UQ:()=>c,Y_:()=>m,ds:()=>u,e0:()=>o,ec:()=>p,go:()=>d,n2:()=>l,sq:()=>n});e(18111),e(61701),e(33110);const s=14881==e.j?`${location.protocol}//${location.host}`:null,i=t=>t.map(t=>{if("string"!==t.type)return t;switch(t.name){case"username":return{...t,autocomplete:"username",autofocus:!0};case"password":return{...t,autocomplete:"current-password"};case"code":return{...t,autocomplete:"one-time-code",autofocus:!0};default:return t}}),o=(t,a)=>t.callWS({type:"auth/sign_path",path:a}),r=()=>fetch("/auth/providers",{credentials:"same-origin"}),n=(t,a,e)=>fetch("/auth/login_flow",{method:"POST",credentials:"same-origin",body:JSON.stringify({client_id:t,handler:e,redirect_uri:a})}),d=(t,a)=>fetch(`/auth/login_flow/${t}`,{method:"POST",credentials:"same-origin",body:JSON.stringify(a)}),l=t=>fetch(`/auth/login_flow/${t}`,{method:"DELETE",credentials:"same-origin"}),c=(t,a,e,s)=>{t.includes("?")?t.endsWith("&")||(t+="&"):t+="?",t+=`code=${encodeURIComponent(a)}`,e&&(t+=`&state=${encodeURIComponent(e)}`),s&&(t+="&storeToken=true"),document.location.assign(t)},h=async(t,a,e,s)=>t.callWS({type:"config/auth_provider/homeassistant/create",user_id:a,username:e,password:s}),p=(t,a,e)=>t.callWS({type:"config/auth_provider/homeassistant/change_password",current_password:a,new_password:e}),u=(t,a,e)=>t.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:a,password:e}),g=(t,a,e)=>t.callWS({type:"config/auth_provider/homeassistant/admin_change_username",user_id:a,username:e}),m=(t,a,e)=>t.callWS({type:"auth/delete_all_refresh_tokens",token_type:a,delete_current_token:e})},57769(t,a,e){e.d(a,{y:()=>r});const s=window;"customIconsets"in s||(s.customIconsets={});const i=s.customIconsets,o=window;"customIcons"in o||(o.customIcons={});const r=new Proxy(o.customIcons,{get:(t,a)=>t[a]??(i[a]?{getIcon:i[a]}:void 0)})},92158(t,a,e){e.d(a,{G:()=>o,m:()=>r});var s=e(62384),i=e(47351);const o=async t=>(0,s.v)(t.config.version,2021,2,4)?t.callWS({type:"supervisor/api",endpoint:"/hardware/audio",method:"get"}):(0,i.PS)(await t.callApi("GET","hassio/hardware/audio")),r=async t=>(0,s.v)(t.config.version,2021,2,4)?t.callWS({type:"supervisor/api",endpoint:"/hardware/info",method:"get"}):(0,i.PS)(await t.callApi("GET","hassio/hardware/info"))},31168(t,a,e){e(18111),e(22489),e(20116),e(61701);var s=e(62826),i=e(96196),o=e(44457),r=e(94333),n=e(22786),d=e(63708),l=e(91926),c=e(26218),h=(e(90248),e(2054),e(67094),e(32288));e(54276);class p extends i.WF{render(){return i.qy` <div tabindex="0" role="tab" aria-selected="${this.active}" aria-label="${(0,h.J)(this.name)}" @keydown="${this._handleKeyDown}"> <slot name="icon"></slot> <span class="name">${this.name}</span> <ha-ripple></ha-ripple> </div> `}_handleKeyDown(t){"Enter"===t.key&&t.target.click()}constructor(...t){super(...t),this.active=!1,this.narrow=!1}}p.styles=i.AH`div{padding:0 32px;display:flex;flex-direction:column;text-align:center;box-sizing:border-box;align-items:center;justify-content:center;width:100%;height:var(--header-height);cursor:pointer;position:relative;outline:0}:host(:not([narrow])) div{flex-direction:row;gap:var(--ha-space-2)}.name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}:host([active]){color:var(--primary-color)}:host(:not([narrow])[active]) div{border-bottom:2px solid var(--primary-color)}:host([narrow]){min-width:0;display:flex;justify-content:center;overflow:hidden}:host([narrow]) div{padding:0 4px}::slotted([slot=icon]){margin-bottom:var(--ha-space-1)}:host(:not([narrow])) ::slotted([slot=icon]){margin-bottom:0}div:focus-visible:before{position:absolute;display:block;content:"";inset:0;background-color:var(--secondary-text-color);opacity:.08}`,(0,s.Cg)([(0,o.MZ)({type:Boolean,reflect:!0})],p.prototype,"active",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean,reflect:!0})],p.prototype,"narrow",void 0),(0,s.Cg)([(0,o.MZ)()],p.prototype,"name",void 0),p=(0,s.Cg)([(0,o.EM)("ha-tab")],p);var u=e(14503);class g extends i.WF{willUpdate(t){t.has("route")&&(this._activeTab=this.tabs.find(t=>`${this.route.prefix}${this.route.path}`.includes(t.path))),super.willUpdate(t)}render(){const t=this._getTabs(this.tabs,this._activeTab,this.hass.config.components,this.hass.language,this.hass.userData,this.narrow,this.localizeFunc||this.hass.localize),a=t.length>1;return i.qy` <div class="toolbar ${(0,r.H)({narrow:this.narrow})}"> <slot name="toolbar"> <div class="toolbar-content"> ${this.mainPage||!this.backPath&&history.state?.root?i.qy` <ha-menu-button .hass="${this.hass}" .narrow="${this.narrow}"></ha-menu-button> `:this.backPath?i.qy` <a href="${this.backPath}"> <ha-icon-button-arrow-prev .hass="${this.hass}"></ha-icon-button-arrow-prev> </a> `:i.qy` <ha-icon-button-arrow-prev .hass="${this.hass}" @click="${this._backTapped}"></ha-icon-button-arrow-prev> `} ${this.narrow||!a?i.qy`<div class="main-title"> <slot name="header">${a?"":t[0]}</slot> </div>`:""} ${a&&!this.narrow?i.qy`<div id="tabbar">${t}</div>`:""} <div id="toolbar-icon"> <slot name="toolbar-icon"></slot> </div> </div> </slot> ${a&&this.narrow?i.qy`<div id="tabbar" class="bottom-bar">${t}</div>`:""} </div> <div class="${(0,r.H)({container:!0,tabs:a&&this.narrow})}"> ${this.pane?i.qy`<div class="pane"> <div class="shadow-container"></div> <div class="ha-scrollbar"> <slot name="pane"></slot> </div> </div>`:i.s6} <div class="content ha-scrollbar ${(0,r.H)({tabs:a})}" @scroll="${this._saveScrollPos}"> <slot></slot> ${this.hasFab?i.qy`<div class="fab-bottom-space"></div>`:i.s6} </div> </div> <div id="fab" class="${(0,r.H)({tabs:a})}"> <slot name="fab"></slot> </div> `}_saveScrollPos(t){this._savedScrollPos=t.target.scrollTop}_backTapped(){this.backCallback?this.backCallback():(0,l.O)()}static get styles(){return[u.dp,i.AH`:host{display:block;height:100%;background-color:var(--primary-background-color)}:host([narrow]){width:100%;position:fixed}.container{display:flex;height:calc(100% - var(--header-height,0px) - var(--safe-area-inset-top,0px))}ha-menu-button{margin-right:24px;margin-inline-end:24px;margin-inline-start:initial}.toolbar{font-size:var(--ha-font-size-xl);height:calc(var(--header-height,0px) + var(--safe-area-inset-top,0px));padding-top:var(--safe-area-inset-top);padding-right:var(--safe-area-inset-right);background-color:var(--sidebar-background-color);font-weight:var(--ha-font-weight-normal);border-bottom:1px solid var(--divider-color);box-sizing:border-box}:host([narrow]) .toolbar{padding-left:var(--safe-area-inset-left)}.toolbar-content{padding:8px 12px;display:flex;align-items:center;height:100%;box-sizing:border-box}:host([narrow]) .toolbar-content{padding:4px}.toolbar a{color:var(--sidebar-text-color);text-decoration:none}.bottom-bar a{width:25%}#tabbar{display:flex;font-size:var(--ha-font-size-m);overflow:hidden}#tabbar>a{overflow:hidden;max-width:45%}#tabbar.bottom-bar{position:absolute;bottom:0;left:0;padding:0 16px;box-sizing:border-box;background-color:var(--sidebar-background-color);border-top:1px solid var(--divider-color);justify-content:space-around;z-index:2;font-size:var(--ha-font-size-s);width:100%;padding-bottom:var(--safe-area-inset-bottom)}#tabbar:not(.bottom-bar){flex:1;justify-content:center}:host(:not([narrow])) #toolbar-icon{min-width:40px}::slotted([slot=toolbar-icon]),ha-icon-button-arrow-prev,ha-menu-button{display:flex;flex-shrink:0;pointer-events:auto;color:var(--sidebar-icon-color)}.main-title{flex:1;max-height:var(--header-height);line-height:var(--ha-line-height-normal);color:var(--sidebar-text-color);margin-inline-start:var(--main-title-margin,var(--ha-space-6))}.narrow .main-title{margin-inline-start:var(--main-title-margin,var(--ha-space-2))}.content{position:relative;width:100%;margin-right:var(--safe-area-inset-right);margin-inline-end:var(--safe-area-inset-right);margin-bottom:var(--safe-area-inset-bottom);overflow:auto;-webkit-overflow-scrolling:touch}:host([narrow]) .content{margin-left:var(--safe-area-inset-left);margin-inline-start:var(--safe-area-inset-left)}:host([narrow]) .content.tabs{margin-bottom:calc(var(--header-height,0px) + var(--safe-area-inset-bottom,0px))}.content .fab-bottom-space{height:calc(64px + var(--safe-area-inset-bottom,0px))}:host([narrow]) .content.tabs .fab-bottom-space{height:calc(80px + var(--safe-area-inset-bottom,0px))}#fab{position:fixed;right:calc(16px + var(--safe-area-inset-right,0px));inset-inline-end:calc(16px + var(--safe-area-inset-right));inset-inline-start:initial;bottom:calc(16px + var(--safe-area-inset-bottom,0px));z-index:1;display:flex;flex-wrap:wrap;justify-content:flex-end;gap:var(--ha-space-2)}:host([narrow]) #fab.tabs{bottom:calc(84px + var(--safe-area-inset-bottom,0px))}#fab[is-wide]{bottom:24px;right:24px;inset-inline-end:24px;inset-inline-start:initial}.pane{border-right:1px solid var(--divider-color);border-inline-end:1px solid var(--divider-color);border-inline-start:initial;box-sizing:border-box;display:flex;flex:0 0 var(--sidepane-width,250px);width:var(--sidepane-width,250px);flex-direction:column;position:relative}.pane .ha-scrollbar{flex:1}`]}constructor(...t){super(...t),this.mainPage=!1,this.narrow=!1,this.isWide=!1,this.pane=!1,this.hasFab=!1,this._getTabs=(0,n.A)((t,a,e,s,o,r,n)=>{const l=t.filter(t=>(0,d.fW)(this.hass,t));if(l.length<2){if(1===l.length){const t=l[0];return[t.translationKey?n(t.translationKey):t.name]}return[""]}return l.map(t=>i.qy` <a href="${t.path}"> <ha-tab .hass="${this.hass}" .active="${t.path===a?.path}" .narrow="${this.narrow}" .name="${t.translationKey?n(t.translationKey):t.name}"> ${t.iconPath?i.qy`<ha-svg-icon slot="icon" .path="${t.iconPath}"></ha-svg-icon>`:""} </ha-tab> </a> `)})}}(0,s.Cg)([(0,o.MZ)({attribute:!1})],g.prototype,"hass",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],g.prototype,"localizeFunc",void 0),(0,s.Cg)([(0,o.MZ)({type:String,attribute:"back-path"})],g.prototype,"backPath",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],g.prototype,"backCallback",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean,attribute:"main-page"})],g.prototype,"mainPage",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],g.prototype,"route",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],g.prototype,"tabs",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean,reflect:!0})],g.prototype,"narrow",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean,reflect:!0,attribute:"is-wide"})],g.prototype,"isWide",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean})],g.prototype,"pane",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean,attribute:"has-fab"})],g.prototype,"hasFab",void 0),(0,s.Cg)([(0,o.wk)()],g.prototype,"_activeTab",void 0),(0,s.Cg)([(0,c.a)(".content")],g.prototype,"_savedScrollPos",void 0),(0,s.Cg)([(0,o.Ls)({passive:!0})],g.prototype,"_saveScrollPos",null),g=(0,s.Cg)([(0,o.EM)("hass-tabs-subpage")],g)},49987(t,a,e){var s=e(62826),i=e(96196),o=e(44457),r=e(94333),n=(e(13513),e(8034),e(36240));class d extends i.WF{render(){const t=(0,n.gN)(this.value);return i.qy`<ha-settings-row> <span slot="heading"> ${this.description} </span> <div slot="description" .title="${this.tooltip??""}"> <span class="value"> ${t} % </span> <ha-bar class="${(0,r.H)({"target-warning":t>50,"target-critical":t>85})}" .value="${this.value}"></ha-bar> </div> </ha-settings-row>`}}d.styles=i.AH`ha-settings-row{padding:0;height:54px;width:100%}ha-settings-row>div[slot=description]{white-space:normal;color:var(--secondary-text-color);display:flex;justify-content:space-between}ha-bar{--ha-bar-primary-color:var(--hassio-bar-ok-color, var(--success-color))}.target-warning{--ha-bar-primary-color:var(
        --hassio-bar-warning-color,
        var(--warning-color)
      )}.target-critical{--ha-bar-primary-color:var(
        --hassio-bar-critical-color,
        var(--error-color)
      )}.value{width:48px;padding-right:4px;padding-inline-start:initial;padding-inline-end:4px;flex-shrink:0}`,(0,s.Cg)([(0,o.MZ)({type:Number})],d.prototype,"value",void 0),(0,s.Cg)([(0,o.MZ)({type:String})],d.prototype,"description",void 0),(0,s.Cg)([(0,o.MZ)({type:String})],d.prototype,"tooltip",void 0),d=(0,s.Cg)([(0,o.EM)("supervisor-app-metric")],d)},96847(t,a,e){e.a(t,async function(t,a){try{var s=e(62826),i=e(96196),o=e(44457),r=e(62384),n=e(1087),d=e(89300),l=(e(38962),e(18350)),c=(e(76776),e(65829)),h=(e(48078),e(3587),e(17308),e(2846),e(59646),e(22130)),p=e(47351),u=e(14503),g=e(97198),m=t([d,l,c]);[d,l,c]=m.then?(await m)():m;class b extends i.WF{render(){if(!this.addon)return i.s6;const t=this._computeCreateBackupTexts();return i.qy` <ha-card outlined .header="${this.hass.localize("ui.panel.config.apps.dashboard.update_available.update_name",{name:this.addon.name})}"> <div class="card-content"> ${this._error?i.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:""} ${this.addon.version===this.addon.version_latest?i.qy`<p> ${this.hass.localize("ui.panel.config.apps.dashboard.update_available.no_update",{name:this.addon.name})} </p>`:this._updating?i.qy`<ha-spinner aria-label="Updating" size="large"></ha-spinner> <p class="progress-text"> ${this.hass.localize("ui.panel.config.apps.dashboard.update_available.updating",{name:this.addon.name,version:this.addon.version_latest})} </p>`:i.qy` ${this._changelogContent?i.qy` <ha-faded> <ha-markdown .content="${this._changelogContent}"> </ha-markdown> </ha-faded> `:i.s6} <div class="versions"> <p> ${this.hass.localize("ui.panel.config.apps.dashboard.update_available.description",{name:this.addon.name,version:this.addon.version,newest_version:this.addon.version_latest})} </p> </div> ${t?i.qy` <hr> <ha-md-list> <ha-md-list-item> <span slot="headline"> ${t.title} </span> ${t.description?i.qy` <span slot="supporting-text"> ${t.description} </span> `:i.s6} <ha-switch slot="end" id="create-backup"></ha-switch> </ha-md-list-item> </ha-md-list> `:i.s6} `} </div> ${this.addon.version===this.addon.version_latest||this._updating?i.s6:i.qy` <div class="card-actions"> <span></span> <ha-progress-button @click="${this._update}"> ${this.hass.localize("ui.common.update")} </ha-progress-button> </div> `} </ha-card> `}firstUpdated(t){super.firstUpdated(t),this._loadAddonData()}_computeCreateBackupTexts(){if((0,r.v)(this.hass.config.version,2025,2,0)){const t=this.addon.version;return{title:this.hass.localize("ui.panel.config.apps.dashboard.update_available.create_backup.app"),description:this.hass.localize("ui.panel.config.apps.dashboard.update_available.create_backup.app_description",{version:t})}}return{title:this.hass.localize("ui.panel.config.apps.dashboard.update_available.create_backup.generic")}}get _shouldCreateBackup(){const t=this.shadowRoot?.getElementById("create-backup");return!t||t.checked}async _loadAddonData(){if(this.addon.changelog)try{const t=await(0,h.qH)(this.hass,this.addon.slug);this._changelogContent=(0,g.C)(this.addon,t)}catch(t){this._error=(0,p.VR)(t)}}async _update(){this._error=void 0,this._updating=!0;try{await(0,h.$9)(this.hass,this.addon.slug,this._shouldCreateBackup)}catch(t){if(this.hass.connection.connected&&!(0,p.Tv)(t))return this._error=(0,p.VR)(t),void(this._updating=!1)}(0,n.r)(this,"update-complete"),this._updating=!1}static get styles(){return[u.RF,i.AH`:host{display:block}ha-card{margin:auto}a{text-decoration:none;color:var(--primary-text-color)}.card-actions{display:flex;justify-content:space-between}ha-spinner{display:block;margin:32px;text-align:center}.progress-text{text-align:center}ha-markdown{padding-bottom:var(--ha-space-2)}hr{border-color:var(--divider-color);border-bottom:none;margin:var(--ha-space-4) 0 0 0}ha-md-list{padding:0;margin-bottom:calc(-1 * var(--ha-space-4))}ha-md-list-item{--md-list-item-leading-space:0;--md-list-item-trailing-space:0;--md-item-overflow:visible}`]}constructor(...t){super(...t),this.narrow=!1,this._updating=!1}}(0,s.Cg)([(0,o.MZ)({attribute:!1})],b.prototype,"hass",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean})],b.prototype,"narrow",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],b.prototype,"addon",void 0),(0,s.Cg)([(0,o.wk)()],b.prototype,"_changelogContent",void 0),(0,s.Cg)([(0,o.wk)()],b.prototype,"_updating",void 0),(0,s.Cg)([(0,o.wk)()],b.prototype,"_error",void 0),b=(0,s.Cg)([(0,o.EM)("supervisor-app-update-available-card")],b),a()}catch(t){a(t)}})},98179(t,a,e){e.a(t,async function(t,a){try{e(18111),e(61701);var s=e(62826),i=e(96196),o=e(44457),r=e(57237),n=e(89300),d=(e(38962),e(76776),e(28732),e(606),e(22130)),l=e(92158),c=e(14503),h=e(2495),p=e(93560),u=t([n]);n=(u.then?(await u)():u)[0];class g extends i.WF{render(){return i.qy` <ha-card outlined .header="${this.hass.localize("ui.panel.config.apps.configuration.audio.header")}"> <div class="card-content"> ${this._error?i.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:i.s6} ${this._inputDevices&&i.qy`<ha-select .label="${this.hass.localize("ui.panel.config.apps.configuration.audio.input")}" @selected="${this._setInputDevice}" @closed="${r.d}" fixedMenuPosition naturalMenuWidth .value="${this._selectedInput}" .disabled="${this.disabled}"> ${this._inputDevices.map(t=>i.qy` <ha-list-item .value="${t.device||""}"> ${t.name} </ha-list-item> `)} </ha-select>`} ${this._outputDevices&&i.qy`<ha-select .label="${this.hass.localize("ui.panel.config.apps.configuration.audio.output")}" @selected="${this._setOutputDevice}" @closed="${r.d}" fixedMenuPosition naturalMenuWidth .value="${this._selectedOutput}" .disabled="${this.disabled}"> ${this._outputDevices.map(t=>i.qy` <ha-list-item .value="${t.device||""}">${t.name}</ha-list-item> `)} </ha-select>`} </div> <div class="card-actions"> <ha-progress-button .disabled="${this.disabled}" @click="${this._saveSettings}"> ${this.hass.localize("ui.common.save")} </ha-progress-button> </div> </ha-card> `}static get styles(){return[c.RF,p.g,i.AH`:host,ha-card{display:block}.card-actions{text-align:right}ha-select{width:100%}ha-select:last-child{margin-top:var(--ha-space-2)}`]}willUpdate(t){super.willUpdate(t),t.has("addon")&&this._addonChanged()}_setInputDevice(t){const a=t.target.value;this._selectedInput=a}_setOutputDevice(t){const a=t.target.value;this._selectedOutput=a}async _addonChanged(){if(this._selectedInput=null===this.addon.audio_input?"default":this.addon.audio_input,this._selectedOutput=null===this.addon.audio_output?"default":this.addon.audio_output,this._outputDevices)return;const t={device:"default",name:this.hass.localize("ui.panel.config.apps.configuration.audio.default")};try{const{audio:a}=await(0,l.G)(this.hass),e=Object.keys(a.input).map(t=>({device:t,name:a.input[t]})),s=Object.keys(a.output).map(t=>({device:t,name:a.output[t]}));this._inputDevices=[t,...e],this._outputDevices=[t,...s]}catch{this._error=this.hass.localize("ui.panel.config.apps.configuration.audio.failed_to_load_hardware"),this._inputDevices=[t],this._outputDevices=[t]}}async _saveSettings(t){if(this.disabled)return;const a=t.currentTarget;a.progress=!0,this._error=void 0;const e={audio_input:"default"===this._selectedInput?null:this._selectedInput,audio_output:"default"===this._selectedOutput?null:this._selectedOutput};try{await(0,d.zh)(this.hass,this.addon.slug,e),"started"===this.addon?.state&&await(0,h.z)(this,this.hass,this.addon)}catch{this._error=this.hass.localize("ui.panel.config.apps.configuration.audio.failed_to_save")}a.progress=!1}constructor(...t){super(...t),this.disabled=!1}}(0,s.Cg)([(0,o.MZ)({attribute:!1})],g.prototype,"hass",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],g.prototype,"addon",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean})],g.prototype,"disabled",void 0),(0,s.Cg)([(0,o.wk)()],g.prototype,"_error",void 0),(0,s.Cg)([(0,o.wk)()],g.prototype,"_inputDevices",void 0),(0,s.Cg)([(0,o.wk)()],g.prototype,"_outputDevices",void 0),(0,s.Cg)([(0,o.wk)()],g.prototype,"_selectedInput",void 0),(0,s.Cg)([(0,o.wk)()],g.prototype,"_selectedOutput",void 0),g=(0,s.Cg)([(0,o.EM)("supervisor-app-audio")],g),a()}catch(t){a(t)}})},87057(t,a,e){e.a(t,async function(t,a){try{var s=e(62826),i=e(96196),o=e(44457),r=e(65829),n=e(14503),d=e(93560),l=e(36382),c=e(98179),h=e(17063),p=e(14127),u=t([r,l,c,h,p]);[r,l,c,h,p]=u.then?(await u)():u;class g extends i.WF{render(){if(!this.addon)return i.qy`<ha-spinner></ha-spinner>`;const t=this.addon.options&&Object.keys(this.addon.options).length||this.addon.schema&&Object.keys(this.addon.schema).length;return i.qy` <div class="content"> ${this.addon.system_managed&&(t||this.addon.network||this.addon.audio)?i.qy` <supervisor-app-system-managed .hass="${this.hass}" .narrow="${this.narrow}" .hideButton="${this.controlEnabled}"></supervisor-app-system-managed> `:i.s6} ${t||this.addon.network||this.addon.audio?i.qy` ${t?i.qy` <supervisor-app-config .hass="${this.hass}" .addon="${this.addon}" .disabled="${this.addon.system_managed&&!this.controlEnabled}"></supervisor-app-config> `:i.s6} ${this.addon.network?i.qy` <supervisor-app-network .hass="${this.hass}" .addon="${this.addon}" .disabled="${this.addon.system_managed&&!this.controlEnabled}"></supervisor-app-network> `:i.s6} ${this.addon.audio?i.qy` <supervisor-app-audio .hass="${this.hass}" .addon="${this.addon}" .disabled="${this.addon.system_managed&&!this.controlEnabled}"></supervisor-app-audio> `:i.s6} `:this.hass.localize("ui.panel.config.apps.configuration.no_configuration")} </div> `}static get styles(){return[n.RF,d.g,i.AH`.content{margin:auto;padding:var(--ha-space-2);max-width:1024px}supervisor-app-audio,supervisor-app-config,supervisor-app-network{margin-bottom:var(--ha-space-6)}`]}constructor(...t){super(...t),this.narrow=!1,this.controlEnabled=!1}}(0,s.Cg)([(0,o.MZ)({attribute:!1})],g.prototype,"hass",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],g.prototype,"addon",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean})],g.prototype,"narrow",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean,attribute:"control-enabled"})],g.prototype,"controlEnabled",void 0),g=(0,s.Cg)([(0,o.EM)("supervisor-app-config-tab")],g),a()}catch(t){a(t)}})},17063(t,a,e){e.a(t,async function(t,a){try{e(18111),e(22489),e(20116),e(61701),e(33110);var s=e(62826),i=e(53289),o=e(96196),r=e(44457),n=e(22786),d=e(1087),l=e(89300),c=(e(38962),e(76776),e(29823)),h=(e(70947),e(52763),e(6),e(26300),e(59646),e(10763)),p=e(22130),u=e(47351),g=e(65063),m=e(14503),b=e(93560),v=e(2495),f=t([l,c,h]);[l,c,h]=f.then?(await f)():f;const y="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",_=["string","select","boolean","integer","float","schema"],w=i.my.extend([new i.ZU("!secret",{kind:"scalar",construct:t=>`!secret ${t}`})]),$=["password","secret","token"];class C extends o.WF{_getTranslationEntry(t,a,e){let s=this.addon.translations[t]?.configuration;if(s){if(e?.path)for(const t of e.path)if(s=s[t]?.fields,!s)return;return s[a.name]}}_convertSchemaElements(t){return t.map(t=>this._convertSchemaElement(t))}_convertSchemaElement(t){if("schema"===t.type&&!t.multiple)return{name:t.name,type:"expandable",required:t.required,schema:this._convertSchemaElements(t.schema)};const a=this._convertSchemaElementToSelector(t,!1);return a?{name:t.name,required:t.required,selector:a}:t}_convertSchemaElementToSelector(t,a){if("select"===t.type)return{select:{options:t.options}};if("string"===t.type)return t.multiple?{select:{options:[],multiple:!0,custom_value:!0}}:{text:{type:t.format?t.format:$.includes(t.name)?"password":"text"}};if("boolean"===t.type)return{boolean:{}};if("schema"===t.type){const a={};for(const e of t.schema)a[e.name]={required:e.required,selector:this._convertSchemaElementToSelector(e,!0)};return{object:{multiple:t.multiple,fields:a}}}return"float"===t.type||"integer"===t.type?{number:{mode:"box",step:"float"===t.type?"any":void 0}}:a?{object:{}}:null}render(){const t=!this._yamlMode&&this._canShowSchema&&this.addon.schema,a=t&&JSON.stringify(this.addon.schema)!==JSON.stringify(this._filteredSchema(this.addon.options,this.addon.schema));return o.qy` <h1>${this.addon.name}</h1> <ha-card outlined> <div class="header"> <h2> ${this.hass.localize("ui.panel.config.apps.configuration.options.header")} </h2> <div class="card-menu"> <ha-dropdown @wa-select="${this._handleAction}"> <ha-icon-button .label="${this.hass.localize("ui.common.menu")}" .path="${y}" slot="trigger"></ha-icon-button> <ha-dropdown-item value="toggle_yaml" .disabled="${!this._canShowSchema||this.disabled}"> ${this._yamlMode?this.hass.localize("ui.panel.config.apps.configuration.options.edit_in_ui"):this.hass.localize("ui.panel.config.apps.configuration.options.edit_in_yaml")} </ha-dropdown-item> <ha-dropdown-item value="reset" .variant="${this.disabled?"default":"danger"}" .disabled="${this.disabled}"> ${this.hass.localize("ui.panel.config.apps.configuration.reset_defaults")} </ha-dropdown-item> </ha-dropdown> </div> </div> <div class="card-content"> ${t?o.qy`<ha-form .hass="${this.hass}" .disabled="${this.disabled}" .data="${this._options}" @value-changed="${this._configChanged}" .computeLabel="${this.computeLabel}" .computeHelper="${this.computeHelper}" .schema="${this._convertSchema(this._showOptional?this.addon.schema:this._filteredSchema(this.addon.options,this.addon.schema))}"></ha-form>`:o.qy`<ha-yaml-editor @value-changed="${this._configChanged}" .yamlSchema="${w}"></ha-yaml-editor>`} ${this._error?o.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:""} ${!this._yamlMode||this._canShowSchema&&this.addon.schema||this._valid?"":o.qy` <ha-alert alert-type="error"> ${this.hass.localize("ui.panel.config.apps.configuration.options.invalid_yaml")} </ha-alert> `} </div> ${a?o.qy`<ha-formfield class="show-additional" .label="${this.hass.localize("ui.panel.config.apps.configuration.options.show_unused_optional")}"> <ha-switch @change="${this._toggleOptional}" .checked="${this._showOptional}"> </ha-switch> </ha-formfield>`:""} <div class="card-actions right"> <ha-progress-button @click="${this._saveTapped}" .disabled="${this.disabled||!this._configHasChanged||!this._valid}"> ${this.hass.localize("ui.common.save")} </ha-progress-button> </div> </ha-card> `}firstUpdated(t){super.firstUpdated(t),this._canShowSchema=null!==this.addon.schema&&!this.addon.schema.find(t=>!_.includes(t.type)),this._yamlMode=!this._canShowSchema}updated(t){if(t.has("addon")&&(this._options={...this.addon.options}),super.updated(t),(t.has("_yamlMode")||t.has("_options"))&&this._yamlMode){const t=this._editor;t&&t.setValue(this._options)}}_handleAction(t){const a=t.detail.item.value;if(a)switch(a){case"toggle_yaml":return void(this._yamlMode=!this._yamlMode);case"reset":this._resetTapped(t)}}_toggleOptional(){this._showOptional=!this._showOptional}_configChanged(t){this.addon.schema&&this._canShowSchema&&!this._yamlMode?(this._valid=!0,this._configHasChanged=!0,this._options=t.detail.value):(this._configHasChanged=!0,this._valid=t.detail.isValid)}async _resetTapped(t){const a=t.currentTarget;a.progress=!0;if(!await(0,g.dk)(this,{title:this.hass.localize("ui.panel.config.apps.configuration.confirm.reset_options.title"),text:this.hass.localize("ui.panel.config.apps.configuration.confirm.reset_options.text"),confirmText:this.hass.localize("ui.common.reset_options"),dismissText:this.hass.localize("ui.common.cancel"),destructive:!0}))return void(a.progress=!1);this._error=void 0;const e={options:null};try{await(0,p.zh)(this.hass,this.addon.slug,e),this._configHasChanged=!1;const t={success:!0,response:void 0,path:"options"};(0,d.r)(this,"hass-api-called",t)}catch(t){this._error=this.hass.localize("ui.panel.config.apps.dashboard.failed_to_reset",{error:(0,u.VR)(t)})}a.progress=!1}async _saveTapped(t){if(this.disabled||!this._configHasChanged||!this._valid)return;const a=t.currentTarget,e=this._yamlMode?this._editor?.value:this._options,s={success:!0,response:void 0,path:"options"};a.progress=!0,this._error=void 0;try{const t=await(0,p.hg)(this.hass,this.addon.slug,e);if(!t.valid)throw Error(t.message);await(0,p.zh)(this.hass,this.addon.slug,{options:e}),this._configHasChanged=!1,"started"===this.addon?.state&&await(0,v.z)(this,this.hass,this.addon)}catch(t){this._error=this.hass.localize("ui.panel.config.apps.dashboard.failed_to_save",{error:(0,u.VR)(t)}),s.success=!1}a.progress=!1,(0,d.r)(this,"hass-api-called",s)}static get styles(){return[m.RF,b.g,o.AH`:host{display:block}ha-card{display:block}.card-actions{display:flex;justify-content:space-between}.card-menu{float:right;z-index:3;--mdc-theme-text-primary-on-background:var(--primary-text-color)}ha-dropdown-item[disabled]{--mdc-theme-text-primary-on-background:var(--disabled-text-color)}.header{display:flex;justify-content:space-between}.header h2{color:var(--ha-card-header-color,var(--primary-text-color));font-family:var(--ha-card-header-font-family, inherit);font-size:var(--ha-card-header-font-size, var(--ha-font-size-2xl));letter-spacing:-.012em;line-height:var(--ha-line-height-expanded);padding:12px 16px 16px;display:block;margin-block:0px;font-weight:var(--ha-font-weight-normal)}.card-actions.right{justify-content:flex-end}.show-additional{padding:16px}`]}constructor(...t){super(...t),this.disabled=!1,this._configHasChanged=!1,this._valid=!0,this._canShowSchema=!1,this._showOptional=!1,this._yamlMode=!1,this.computeLabel=(t,a,e)=>this._getTranslationEntry(this.hass.language,t,e)?.name||this._getTranslationEntry("en",t,e)?.name||t.name,this.computeHelper=(t,a)=>this._getTranslationEntry(this.hass.language,t,a)?.description||this._getTranslationEntry("en",t,a)?.description||"",this._convertSchema=(0,n.A)(t=>this._convertSchemaElements(t)),this._filteredSchema=(0,n.A)((t,a)=>a.filter(a=>a.name in t||a.required))}}(0,s.Cg)([(0,r.MZ)({attribute:!1})],C.prototype,"addon",void 0),(0,s.Cg)([(0,r.MZ)({attribute:!1})],C.prototype,"hass",void 0),(0,s.Cg)([(0,r.MZ)({type:Boolean})],C.prototype,"disabled",void 0),(0,s.Cg)([(0,r.wk)()],C.prototype,"_configHasChanged",void 0),(0,s.Cg)([(0,r.wk)()],C.prototype,"_valid",void 0),(0,s.Cg)([(0,r.wk)()],C.prototype,"_canShowSchema",void 0),(0,s.Cg)([(0,r.wk)()],C.prototype,"_showOptional",void 0),(0,s.Cg)([(0,r.wk)()],C.prototype,"_error",void 0),(0,s.Cg)([(0,r.wk)()],C.prototype,"_options",void 0),(0,s.Cg)([(0,r.wk)()],C.prototype,"_yamlMode",void 0),(0,s.Cg)([(0,r.P)("ha-yaml-editor")],C.prototype,"_editor",void 0),C=(0,s.Cg)([(0,r.EM)("supervisor-app-config")],C),a()}catch(t){a(t)}})},14127(t,a,e){e.a(t,async function(t,a){try{e(18111),e(22489),e(20116),e(7588),e(61701);var s=e(62826),i=e(96196),o=e(44457),r=e(22786),n=e(1087),d=e(89300),l=(e(38962),e(76776),e(6),e(52763),e(22130)),c=e(47351),h=e(14503),p=e(2495),u=e(93560),g=t([d]);d=(g.then?(await g)():g)[0];class m extends i.WF{render(){if(!this._config)return i.s6;const t=Object.keys(this._config).find(t=>null===this._config[t]);return i.qy` <ha-card outlined .header="${this.hass.localize("ui.panel.config.apps.configuration.network.header")}"> <div class="card-content"> <p> ${this.hass.localize("ui.panel.config.apps.configuration.network.introduction")} </p> ${this._error?i.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:i.s6} <ha-form .disabled="${this.disabled}" .data="${this._config}" @value-changed="${this._configChanged}" .computeLabel="${this._computeLabel}" .computeHelper="${this._computeHelper}" .schema="${this._createSchema(this._config,this._showOptional,this.hass.userData?.showAdvanced||!1)}"></ha-form> </div> ${t?i.qy`<ha-formfield class="show-optional" .label="${this.hass.localize("ui.panel.config.apps.configuration.network.show_disabled")}"> <ha-switch @change="${this._toggleOptional}" .checked="${this._showOptional}"> </ha-switch> </ha-formfield>`:i.s6} <div class="card-actions"> <ha-progress-button variant="danger" appearance="plain" .disabled="${this.disabled}" @click="${this._resetTapped}"> ${this.hass.localize("ui.panel.config.apps.configuration.network.reset_defaults")} </ha-progress-button> <ha-progress-button @click="${this._saveTapped}" .disabled="${!this._configHasChanged||this.disabled}"> ${this.hass.localize("ui.common.save")} </ha-progress-button> </div> </ha-card> `}willUpdate(t){super.willUpdate(t),t.has("addon")&&this._setNetworkConfig()}_setNetworkConfig(){this._config=this.addon.network||{}}async _configChanged(t){this._configHasChanged=!0,this._config=t.detail.value}async _resetTapped(t){if(this.disabled)return;const a=t.currentTarget,e={network:null};try{await(0,l.zh)(this.hass,this.addon.slug,e),this._configHasChanged=!1;const t={success:!0,response:void 0,path:"option"};a.actionSuccess(),(0,n.r)(this,"hass-api-called",t),"started"===this.addon?.state&&await(0,p.z)(this,this.hass,this.addon)}catch(t){this._error=this.hass.localize("ui.panel.config.apps.dashboard.failed_to_reset",{error:(0,c.VR)(t)}),a.actionError()}}_toggleOptional(){this._showOptional=!this._showOptional}async _saveTapped(t){if(!this._configHasChanged||this.disabled)return;const a=t.currentTarget;this._error=void 0;const e={};Object.entries(this._config).forEach(([t,a])=>{e[t]=a??null});const s={network:e};try{await(0,l.zh)(this.hass,this.addon.slug,s),this._configHasChanged=!1;const t={success:!0,response:void 0,path:"option"};a.actionSuccess(),(0,n.r)(this,"hass-api-called",t),"started"===this.addon?.state&&await(0,p.z)(this,this.hass,this.addon)}catch(t){this._error=this.hass.localize("ui.panel.config.apps.dashboard.failed_to_save",{error:(0,c.VR)(t)}),a.actionError()}}static get styles(){return[h.RF,u.g,i.AH`:host{display:block}ha-card{display:block}.card-actions{display:flex;justify-content:space-between}.show-optional{padding:16px}`]}constructor(...t){super(...t),this.disabled=!1,this._showOptional=!1,this._configHasChanged=!1,this._createSchema=(0,r.A)((t,a,e)=>(a?Object.keys(t):Object.keys(t).filter(a=>null!==t[a])).map(t=>({name:t,selector:{number:{mode:"box",min:0,max:65535,unit_of_measurement:e?t:void 0}}}))),this._computeLabel=t=>"",this._computeHelper=t=>this.addon.translations[this.hass.language]?.network?.[t.name]||this.addon.translations.en?.network?.[t.name]||this.addon.network_description?.[t.name]||t.name}}(0,s.Cg)([(0,o.MZ)({attribute:!1})],m.prototype,"hass",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],m.prototype,"addon",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean})],m.prototype,"disabled",void 0),(0,s.Cg)([(0,o.wk)()],m.prototype,"_showOptional",void 0),(0,s.Cg)([(0,o.wk)()],m.prototype,"_configHasChanged",void 0),(0,s.Cg)([(0,o.wk)()],m.prototype,"_error",void 0),(0,s.Cg)([(0,o.wk)()],m.prototype,"_config",void 0),m=(0,s.Cg)([(0,o.EM)("supervisor-app-network")],m),a()}catch(t){a(t)}})},2495(t,a,e){e.d(a,{z:()=>r});var s=e(22130),i=e(47351),o=e(65063);const r=async(t,a,e)=>{if(await(0,o.dk)(t,{title:a.localize("ui.panel.config.apps.dashboard.restart_dialog.title",{name:e.name}),text:a.localize("ui.panel.config.apps.dashboard.restart_dialog.text"),confirmText:a.localize("ui.panel.config.apps.dashboard.restart_dialog.restart"),dismissText:a.localize("ui.common.cancel")}))try{await(0,s.FQ)(a,e.slug)}catch(s){(0,o.showAlertDialog)(t,{title:a.localize("ui.panel.config.apps.dashboard.failed_to_restart",{name:e.name}),text:(0,i.VR)(s)})}}},83173(t,a,e){e.a(t,async function(t,a){try{var s=e(62826),i=(e(76776),e(96196)),o=(e(38962),e(65829)),r=(e(3587),e(44457)),n=e(22130),d=e(47351),l=e(23296),c=e(14503),h=e(93560),p=t([o,l]);[o,l]=p.then?(await p)():p;class u extends i.WF{async connectedCallback(){super.connectedCallback(),await this._loadData()}render(){return this.addon?i.qy` <div class="content"> <ha-card outlined> ${this._error?i.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:""} <div class="card-content"> ${this._content?i.qy`<ha-markdown .content="${this._content}" lazy-images></ha-markdown>`:i.qy`<hass-loading-screen no-toolbar></hass-loading-screen>`} </div> </ha-card> </div> `:i.qy`<ha-spinner></ha-spinner>`}static get styles(){return[c.RF,h.g,i.AH`ha-card{display:block}.content{margin:auto;padding:var(--ha-space-2);max-width:1024px}ha-markdown{padding:var(--ha-space-4)}`]}async _loadData(){this._error=void 0;try{this._content=await(0,n._p)(this.hass,this.addon.slug)}catch(t){this._error=this.hass.localize("ui.panel.config.apps.documentation.get_documentation",{error:(0,d.VR)(t)})}}}(0,s.Cg)([(0,r.MZ)({attribute:!1})],u.prototype,"hass",void 0),(0,s.Cg)([(0,r.MZ)({attribute:!1})],u.prototype,"addon",void 0),(0,s.Cg)([(0,r.wk)()],u.prototype,"_error",void 0),(0,s.Cg)([(0,r.wk)()],u.prototype,"_content",void 0),u=(0,s.Cg)([(0,r.EM)("supervisor-app-documentation-tab")],u),a()}catch(t){a(t)}})},42997(t,a,e){e.a(t,async function(t,a){try{var s=e(62826),i=e(96196),o=e(44457),r=e(65829),n=e(14503),d=e(93560),l=e(23019),c=t([r,l]);[r,l]=c.then?(await c)():c;class h extends i.WF{render(){return this.addon?i.qy` <div class="content"> <supervisor-app-info .narrow="${this.narrow}" .route="${this.route}" .hass="${this.hass}" .addon="${this.addon}" .controlEnabled="${this.controlEnabled}"></supervisor-app-info> </div> `:i.qy`<ha-spinner></ha-spinner>`}static get styles(){return[n.RF,d.g,i.AH`.content{margin:auto;padding:var(--ha-space-2);max-width:1024px}`]}constructor(...t){super(...t),this.narrow=!1,this.controlEnabled=!1}}(0,s.Cg)([(0,o.MZ)({type:Boolean})],h.prototype,"narrow",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],h.prototype,"route",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],h.prototype,"hass",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],h.prototype,"addon",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean,attribute:"control-enabled"})],h.prototype,"controlEnabled",void 0),h=(0,s.Cg)([(0,o.EM)("supervisor-app-info-tab")],h),a()}catch(t){a(t)}})},23019(t,a,e){e.a(t,async function(t,a){try{var s=e(62826),i=e(96196),o=e(44457),r=e(94333),n=e(32288),d=e(22786),l=e(62384),c=e(1087),h=e(91926),p=e(52943),u=e(89300),g=(e(34296),e(5745),e(38962),e(18350)),m=(e(76776),e(6),e(3587),e(8034),e(67094),e(59646),e(22130)),b=e(47351),v=e(65063),f=e(53580),y=e(14503),_=e(46187),w=(e(80888),e(49987),e(97198)),$=e(36382),C=e(96847),k=t([u,g,$,C]);[u,g,$,C]=k.then?(await k)():k;const x="M6,4H18V5H21V7H18V9H21V11H18V13H21V15H18V17H21V19H18V20H6V19H3V17H6V15H3V13H6V11H3V9H6V7H3V5H6V4M11,15V18H12V15H11M13,15V18H14V15H13M15,15V18H16V15H15Z",M="M22.11 21.46L2.39 1.73L1.11 3L4.06 5.95C2.78 7.63 2 9.72 2 12C2 17.5 6.5 22 12 22C14.28 22 16.37 21.23 18.05 19.94L20.84 22.73L22.11 21.46M12 20C7.58 20 4 16.42 4 12C4 10.27 4.56 8.68 5.5 7.38L16.62 18.5C15.32 19.45 13.73 20 12 20M8.17 4.97L6.72 3.5C8.25 2.56 10.06 2 12 2C17.5 2 22 6.5 22 12C22 13.94 21.44 15.75 20.5 17.28L19.03 15.83C19.65 14.69 20 13.39 20 12C20 7.58 16.42 4 12 4C10.61 4 9.31 4.35 8.17 4.97Z",H="M11.5,11L17.88,16.37L17,16.55L16.36,16.67C15.73,16.8 15.37,17.5 15.65,18.07L15.92,18.65L17.28,21.59L15.86,22.25L14.5,19.32L14.24,18.74C13.97,18.15 13.22,17.97 12.72,18.38L12.21,18.78L11.5,19.35V11M10.76,8.69A0.76,0.76 0 0,0 10,9.45V20.9C10,21.32 10.34,21.66 10.76,21.66C10.95,21.66 11.11,21.6 11.24,21.5L13.15,19.95L14.81,23.57C14.94,23.84 15.21,24 15.5,24C15.61,24 15.72,24 15.83,23.92L18.59,22.64C18.97,22.46 19.15,22 18.95,21.63L17.28,18L19.69,17.55C19.85,17.5 20,17.43 20.12,17.29C20.39,16.97 20.35,16.5 20,16.21L11.26,8.86L11.25,8.87C11.12,8.76 10.95,8.69 10.76,8.69M15,10V8H20V10H15M13.83,4.76L16.66,1.93L18.07,3.34L15.24,6.17L13.83,4.76M10,0H12V5H10V0M3.93,14.66L6.76,11.83L8.17,13.24L5.34,16.07L3.93,14.66M3.93,3.34L5.34,1.93L8.17,4.76L6.76,6.17L3.93,3.34M7,10H2V8H7V10",L="M21.81 10.25C21.75 10.21 21.25 9.82 20.17 9.82C19.89 9.82 19.61 9.85 19.33 9.9C19.12 8.5 17.95 7.79 17.9 7.76L17.61 7.59L17.43 7.86C17.19 8.22 17 8.63 16.92 9.05C16.72 9.85 16.84 10.61 17.25 11.26C16.76 11.54 15.96 11.61 15.79 11.61H2.62C2.28 11.61 2 11.89 2 12.24C2 13.39 2.18 14.54 2.58 15.62C3.03 16.81 3.71 17.69 4.58 18.23C5.56 18.83 7.17 19.17 9 19.17C9.79 19.17 10.61 19.1 11.42 18.95C12.54 18.75 13.62 18.36 14.61 17.79C15.43 17.32 16.16 16.72 16.78 16C17.83 14.83 18.45 13.5 18.9 12.35H19.09C20.23 12.35 20.94 11.89 21.33 11.5C21.59 11.26 21.78 10.97 21.92 10.63L22 10.39L21.81 10.25M3.85 11.24H5.61C5.69 11.24 5.77 11.17 5.77 11.08V9.5C5.77 9.42 5.7 9.34 5.61 9.34H3.85C3.76 9.34 3.69 9.41 3.69 9.5V11.08C3.7 11.17 3.76 11.24 3.85 11.24M6.28 11.24H8.04C8.12 11.24 8.2 11.17 8.2 11.08V9.5C8.2 9.42 8.13 9.34 8.04 9.34H6.28C6.19 9.34 6.12 9.41 6.12 9.5V11.08C6.13 11.17 6.19 11.24 6.28 11.24M8.75 11.24H10.5C10.6 11.24 10.67 11.17 10.67 11.08V9.5C10.67 9.42 10.61 9.34 10.5 9.34H8.75C8.67 9.34 8.6 9.41 8.6 9.5V11.08C8.6 11.17 8.66 11.24 8.75 11.24M11.19 11.24H12.96C13.04 11.24 13.11 11.17 13.11 11.08V9.5C13.11 9.42 13.05 9.34 12.96 9.34H11.19C11.11 9.34 11.04 9.41 11.04 9.5V11.08C11.04 11.17 11.11 11.24 11.19 11.24M6.28 9H8.04C8.12 9 8.2 8.91 8.2 8.82V7.25C8.2 7.16 8.13 7.09 8.04 7.09H6.28C6.19 7.09 6.12 7.15 6.12 7.25V8.82C6.13 8.91 6.19 9 6.28 9M8.75 9H10.5C10.6 9 10.67 8.91 10.67 8.82V7.25C10.67 7.16 10.61 7.09 10.5 7.09H8.75C8.67 7.09 8.6 7.15 8.6 7.25V8.82C8.6 8.91 8.66 9 8.75 9M11.19 9H12.96C13.04 9 13.11 8.91 13.11 8.82V7.25C13.11 7.16 13.04 7.09 12.96 7.09H11.19C11.11 7.09 11.04 7.15 11.04 7.25V8.82C11.04 8.91 11.11 9 11.19 9M11.19 6.72H12.96C13.04 6.72 13.11 6.65 13.11 6.56V5C13.11 4.9 13.04 4.83 12.96 4.83H11.19C11.11 4.83 11.04 4.89 11.04 5V6.56C11.04 6.64 11.11 6.72 11.19 6.72M13.65 11.24H15.41C15.5 11.24 15.57 11.17 15.57 11.08V9.5C15.57 9.42 15.5 9.34 15.41 9.34H13.65C13.57 9.34 13.5 9.41 13.5 9.5V11.08C13.5 11.17 13.57 11.24 13.65 11.24",z="M7 14C5.9 14 5 13.1 5 12S5.9 10 7 10 9 10.9 9 12 8.1 14 7 14M12.6 10C11.8 7.7 9.6 6 7 6C3.7 6 1 8.7 1 12S3.7 18 7 18C9.6 18 11.8 16.3 12.6 14H16V18H20V14H23V10H12.6Z",V="M23 16V15.5A2.5 2.5 0 0 0 18 15.5V16A1 1 0 0 0 17 17V21A1 1 0 0 0 18 22H23A1 1 0 0 0 24 21V17A1 1 0 0 0 23 16M22 16H19V15.5A1.5 1.5 0 0 1 22 15.5M7 8.9H11V7H7A5 5 0 0 0 7 17H11V15.1H7A3.1 3.1 0 0 1 7 8.9M8 11V13H16V11M13 15.1V17H15V15.1M17 7H13V8.9H17A3.09 3.09 0 0 1 19.94 11A5.12 5.12 0 0 1 20.5 11H21.9A5 5 0 0 0 17 7Z",A="M17,3A2,2 0 0,1 19,5V15A2,2 0 0,1 17,17H13V19H14A1,1 0 0,1 15,20H22V22H15A1,1 0 0,1 14,23H10A1,1 0 0,1 9,22H2V20H9A1,1 0 0,1 10,19H11V17H7C5.89,17 5,16.1 5,15V5A2,2 0 0,1 7,3H17Z",q="M10,16.5V7.5L16,12M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",E="M5.41,21L6.12,17H2.12L2.47,15H6.47L7.53,9H3.53L3.88,7H7.88L8.59,3H10.59L9.88,7H15.88L16.59,3H18.59L17.88,7H21.88L21.53,9H17.53L16.47,15H20.47L20.12,17H16.12L15.41,21H13.41L14.12,17H8.12L7.41,21H5.41M9.53,9L8.47,15H14.47L15.53,9H9.53Z",Z="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1Z",S={stable:"M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z",experimental:"M6,22A3,3 0 0,1 3,19C3,18.4 3.18,17.84 3.5,17.37L9,7.81V6A1,1 0 0,1 8,5V4A2,2 0 0,1 10,2H14A2,2 0 0,1 16,4V5A1,1 0 0,1 15,6V7.81L20.5,17.37C20.82,17.84 21,18.4 21,19A3,3 0 0,1 18,22H6M5,19A1,1 0 0,0 6,20H18A1,1 0 0,0 19,19C19,18.79 18.93,18.59 18.82,18.43L16.53,14.47L14,17L8.93,11.93L5.18,18.43C5.07,18.59 5,18.79 5,19M13,10A1,1 0 0,0 12,11A1,1 0 0,0 13,12A1,1 0 0,0 14,11A1,1 0 0,0 13,10Z",deprecated:"M10 3H14V14H10V3M10 21V17H14V21H10Z"},T={1:"M10,7V9H12V17H14V7H10Z",2:"M9,7V9H13V11H11A2,2 0 0,0 9,13V17H11L15,17V15H11V13H13A2,2 0 0,0 15,11V9A2,2 0 0,0 13,7H9Z",3:"M15,15V13.5A1.5,1.5 0 0,0 13.5,12A1.5,1.5 0 0,0 15,10.5V9C15,7.89 14.1,7 13,7H9V9H13V11H11V13H13V15H9V17H13A2,2 0 0,0 15,15",4:"M9,7V13H13V17H15V7H13V11H11V7H9Z",5:"M9,7V13H13V15H9V17H13A2,2 0 0,0 15,15V13A2,2 0 0,0 13,11H11V9H15V7H9Z",6:"M11,7A2,2 0 0,0 9,9V15A2,2 0 0,0 11,17H13A2,2 0 0,0 15,15V13A2,2 0 0,0 13,11H11V9H15V7H11M11,13H13V15H11V13Z",7:"M11,17L15,9V7H9V9H13L9,17",8:"M11,13H13V15H11M11,9H13V11H11M11,17H13A2,2 0 0,0 15,15V13.5A1.5,1.5 0 0,0 13.5,12A1.5,1.5 0 0,0 15,10.5V9C15,7.89 14.1,7 13,7H11A2,2 0 0,0 9,9V10.5A1.5,1.5 0 0,0 10.5,12A1.5,1.5 0 0,0 9,13.5V15C9,16.11 9.9,17 11,17"};class B extends i.WF{disconnectedCallback(){super.disconnectedCallback(),this._fetchDataTimeout&&(clearTimeout(this._fetchDataTimeout),this._fetchDataTimeout=void 0)}render(){const t=[{description:this.hass.localize("ui.panel.config.apps.dashboard.cpu_usage"),value:this._metrics?.cpu_percent},{description:this.hass.localize("ui.panel.config.apps.dashboard.ram_usage"),value:this._metrics?.memory_percent,tooltip:`${(0,_.A)(this._metrics?.memory_usage)}/${(0,_.A)(this._metrics?.memory_limit)}`}],a=this._isSystemManaged(this.addon);return i.qy` ${this.addon.update_available?i.qy` <supervisor-app-update-available-card .hass="${this.hass}" .narrow="${this.narrow}" .addon="${this.addon}" @update-complete="${this._updateComplete}"></supervisor-app-update-available-card> `:i.s6} ${"protected"in this.addon&&!this.addon.protected?i.qy` <ha-alert alert-type="error" .title="${this.hass.localize("ui.panel.config.apps.dashboard.protection_mode.title")}"> ${this.hass.localize("ui.panel.config.apps.dashboard.protection_mode.content")} <ha-button variant="danger" slot="action" @click="${this._protectionToggled}"> ${this.hass.localize("ui.panel.config.apps.dashboard.protection_mode.enable")} </ha-button> </ha-alert> `:i.s6} ${a?i.qy` <supervisor-app-system-managed .hass="${this.hass}" .narrow="${this.narrow}" .hideButton="${this.controlEnabled}"></supervisor-app-system-managed> `:i.s6} <ha-card outlined> <div class="card-content"> <div class="addon-header"> ${this.narrow?i.s6:this.addon.name} <div class="addon-version light-color"> ${this.addon.version?i.qy` ${this._computeIsRunning?i.qy` <ha-svg-icon .title="${this.hass.localize("ui.panel.config.apps.dashboard.app_running")}" class="running" .path="${q}"></ha-svg-icon> `:i.qy` <ha-svg-icon .title="${this.hass.localize("ui.panel.config.apps.dashboard.app_stopped")}" class="stopped" .path="${M}"></ha-svg-icon> `} `:i.qy` ${this.addon.version_latest} `} </div> </div> <div class="description light-color"> ${this.addon.version?i.qy` ${this.hass.localize("ui.panel.config.apps.dashboard.current_version",{version:this.addon.version})} <div class="changelog" @click="${this._openChangelog}"> (<span class="changelog-link">${this.hass.localize("ui.panel.config.apps.dashboard.changelog")}</span>) </div> `:i.qy`<span class="changelog-link" @click="${this._openChangelog}">${this.hass.localize("ui.panel.config.apps.dashboard.changelog")}</span>`} </div> <ha-chip-set class="capabilities"> ${"stable"!==this.addon.stage?i.qy` <ha-assist-chip filled class="${(0,r.H)({yellow:"experimental"===this.addon.stage,red:"deprecated"===this.addon.stage})}" @click="${this._showMoreInfo}" id="stage" .label="${(0,p.Z)(this.hass.localize(`ui.panel.config.apps.dashboard.capability.stages.${this.addon.stage}`))}"> <ha-svg-icon slot="icon" .path="${S[this.addon.stage]}"> </ha-svg-icon> </ha-assist-chip> `:i.s6} <ha-assist-chip filled class="${(0,r.H)({green:Number(this.addon.rating)>=6,yellow:[3,4,5].includes(Number(this.addon.rating)),red:Number(this.addon.rating)<=2})}" @click="${this._showMoreInfo}" id="rating" .label="${(0,p.Z)(this.hass.localize("ui.panel.config.apps.dashboard.capability.label.rating"))}"> <ha-svg-icon slot="icon" .path="${T[this.addon.rating]}"> </ha-svg-icon> </ha-assist-chip> ${this.addon.host_network?i.qy` <ha-assist-chip filled @click="${this._showMoreInfo}" id="host_network" .label="${(0,p.Z)(this.hass.localize("ui.panel.config.apps.dashboard.capability.label.host"))}"> <ha-svg-icon slot="icon" .path="${A}"> </ha-svg-icon> </ha-assist-chip> `:i.s6} ${this.addon.full_access?i.qy` <ha-assist-chip filled @click="${this._showMoreInfo}" id="full_access" .label="${(0,p.Z)(this.hass.localize("ui.panel.config.apps.dashboard.capability.label.hardware"))}"> <ha-svg-icon slot="icon" .path="${x}"></ha-svg-icon> </ha-assist-chip> `:i.s6} ${this.addon.homeassistant_api?i.qy` <ha-assist-chip filled @click="${this._showMoreInfo}" id="homeassistant_api" .label="${(0,p.Z)(this.hass.localize("ui.panel.config.apps.dashboard.capability.label.core"))}"> <ha-svg-icon slot="icon" .path="${f.mdiHomeAssistant}"></ha-svg-icon> </ha-assist-chip> `:i.s6} ${this._computeHassioApi?i.qy` <ha-assist-chip filled @click="${this._showMoreInfo}" id="hassio_api" .label="${(0,p.Z)(this.hass.localize(`ui.panel.config.apps.dashboard.capability.role.${this.addon.hassio_role}`)||this.addon.hassio_role)}"> <ha-svg-icon slot="icon" .path="${f.mdiHomeAssistant}"></ha-svg-icon> </ha-assist-chip> `:i.s6} ${this.addon.docker_api?i.qy` <ha-assist-chip filled @click="${this._showMoreInfo}" id="docker_api" .label="${(0,p.Z)(this.hass.localize("ui.panel.config.apps.dashboard.capability.label.docker"))}"> <ha-svg-icon slot="icon" .path="${L}"></ha-svg-icon> </ha-assist-chip> `:i.s6} ${this.addon.host_pid?i.qy` <ha-assist-chip filled @click="${this._showMoreInfo}" id="host_pid" .label="${(0,p.Z)(this.hass.localize("ui.panel.config.apps.dashboard.capability.label.host_pid"))}"> <ha-svg-icon slot="icon" .path="${E}"></ha-svg-icon> </ha-assist-chip> `:i.s6} ${"default"!==this.addon.apparmor?i.qy` <ha-assist-chip filled @click="${this._showMoreInfo}" class="${this._computeApparmorClassName}" id="apparmor" .label="${(0,p.Z)(this.hass.localize("ui.panel.config.apps.dashboard.capability.label.apparmor"))}"> <ha-svg-icon slot="icon" .path="${Z}"></ha-svg-icon> </ha-assist-chip> `:i.s6} ${this.addon.auth_api?i.qy` <ha-assist-chip filled @click="${this._showMoreInfo}" id="auth_api" .label="${(0,p.Z)(this.hass.localize("ui.panel.config.apps.dashboard.capability.label.auth"))}"> <ha-svg-icon slot="icon" .path="${z}"></ha-svg-icon> </ha-assist-chip> `:i.s6} ${this.addon.ingress?i.qy` <ha-assist-chip filled @click="${this._showMoreInfo}" id="ingress" .label="${(0,p.Z)(this.hass.localize("ui.panel.config.apps.dashboard.capability.label.ingress"))}"> <ha-svg-icon slot="icon" .path="${H}"></ha-svg-icon> </ha-assist-chip> `:i.s6} ${this.addon.signed?i.qy` <ha-assist-chip filled @click="${this._showMoreInfo}" id="signed" .label="${(0,p.Z)(this.hass.localize("ui.panel.config.apps.dashboard.capability.label.signed"))}"> <ha-svg-icon slot="icon" .path="${V}"></ha-svg-icon> </ha-assist-chip> `:i.s6} ${a?i.qy` <ha-assist-chip filled @click="${this._showSystemManagedInfo}" id="system_managed" .label="${(0,p.Z)(this.hass.localize("ui.panel.config.apps.dashboard.system_managed.badge"))}"> <ha-svg-icon slot="icon" .path="${f.mdiHomeAssistant}"></ha-svg-icon> </ha-assist-chip> `:i.s6} </ha-chip-set> <div class="description light-color"> ${this.addon.description}.<br> ${this.hass.localize("ui.panel.config.apps.dashboard.visit_app_page",{name:i.qy`<a href="${this.addon.url}" target="_blank" rel="noreferrer">${this.addon.name}</a>`})} </div> <div class="addon-container"> <div> ${this.addon.logo?i.qy` <img class="logo" alt="" src="/api/hassio/addons/${this.addon.slug}/logo"> `:i.s6} ${this.addon.version?i.qy` <div class="${(0,r.H)({"addon-options":!0,started:"started"===this.addon.state})}"> <ha-settings-row ?three-line="${this.narrow}"> <span slot="heading"> ${this.hass.localize("ui.panel.config.apps.dashboard.option.boot.title")} </span> <span slot="description"> ${this.hass.localize("ui.panel.config.apps.dashboard.option.boot.description")} </span> <ha-switch .disabled="${a&&!this.controlEnabled}" @change="${this._startOnBootToggled}" .checked="${"auto"===this.addon.boot}" haptic></ha-switch> </ha-settings-row> ${"once"!==this.addon.startup?i.qy` <ha-settings-row ?three-line="${this.narrow}"> <span slot="heading"> ${this.hass.localize("ui.panel.config.apps.dashboard.option.watchdog.title")} </span> <span slot="description"> ${this.hass.localize("ui.panel.config.apps.dashboard.option.watchdog.description")} </span> <ha-switch .disabled="${a&&!this.controlEnabled}" @change="${this._watchdogToggled}" .checked="${this.addon.watchdog||!1}" haptic></ha-switch> </ha-settings-row> `:i.s6} ${this.addon.auto_update||this.hass.userData?.showAdvanced?i.qy` <ha-settings-row ?three-line="${this.narrow}"> <span slot="heading"> ${this.hass.localize("ui.panel.config.apps.dashboard.option.auto_update.title")} </span> <span slot="description"> ${this.hass.localize("ui.panel.config.apps.dashboard.option.auto_update.description")} </span> <ha-switch .disabled="${a&&!this.controlEnabled}" @change="${this._autoUpdateToggled}" .checked="${this.addon.auto_update}" haptic></ha-switch> </ha-settings-row> `:i.s6} ${!this._computeCannotIngressSidebar&&this.addon.ingress?i.qy` <ha-settings-row ?three-line="${this.narrow}"> <span slot="heading"> ${this.hass.localize("ui.panel.config.apps.dashboard.option.ingress_panel.title")} </span> <span slot="description"> ${this.hass.localize("ui.panel.config.apps.dashboard.option.ingress_panel.description")} </span> <ha-switch .disabled="${a&&!this.controlEnabled}" @change="${this._panelToggled}" .checked="${this.addon.ingress_panel}" haptic></ha-switch> </ha-settings-row> `:i.s6} ${this._computeUsesProtectedOptions?i.qy` <ha-settings-row ?three-line="${this.narrow}"> <span slot="heading"> ${this.hass.localize("ui.panel.config.apps.dashboard.option.protected.title")} </span> <span slot="description"> ${this.hass.localize("ui.panel.config.apps.dashboard.option.protected.description")} </span> <ha-switch .disabled="${a&&!this.controlEnabled}" @change="${this._protectionToggled}" .checked="${this.addon.protected}" haptic></ha-switch> </ha-settings-row> `:i.s6} </div> `:i.s6} </div> <div> ${this.addon.version&&"started"===this.addon.state?i.qy`<ha-settings-row ?three-line="${this.narrow}"> <span slot="heading"> ${this.hass.localize("ui.panel.config.apps.dashboard.hostname")} </span> <code slot="description"> ${this.addon.hostname} </code> </ha-settings-row> ${t.map(t=>i.qy` <supervisor-app-metric .description="${t.description}" .value="${t.value??0}" .tooltip="${t.tooltip}"></supervisor-app-metric> `)}`:i.s6} </div> </div> ${this._error?i.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:i.s6} </div> <div class="card-actions"> <div> ${this.addon.version?this._computeIsRunning?i.qy` <ha-progress-button variant="danger" appearance="plain" @click="${this._stopClicked}" .disabled="${a&&!this.controlEnabled}"> ${this.hass.localize("ui.panel.config.apps.dashboard.stop")} </ha-progress-button> <ha-progress-button variant="danger" appearance="plain" @click="${this._restartClicked}" .disabled="${a&&!this.controlEnabled}"> ${this.hass.localize("ui.panel.config.apps.dashboard.restart")} </ha-progress-button> `:i.qy` <ha-progress-button @click="${this._startClicked}" .progress="${"startup"===this.addon.state}" appearance="plain"> ${this.hass.localize("ui.panel.config.apps.dashboard.start")} </ha-progress-button> `:i.s6} </div> <div> ${this.addon.version?i.qy` <ha-progress-button variant="danger" appearance="plain" @click="${this._uninstallClicked}" .disabled="${a&&!this.controlEnabled}"> ${this.hass.localize("ui.panel.config.apps.dashboard.uninstall")} </ha-progress-button> ${this.addon.build?i.qy` <ha-progress-button variant="danger" appearance="plain" @click="${this._rebuildClicked}"> ${this.hass.localize("ui.panel.config.apps.dashboard.rebuild")} </ha-progress-button> `:i.s6} ${this._computeShowWebUI||this._computeShowIngressUI?i.qy` <ha-button href="${(0,n.J)(this._computeShowIngressUI?i.s6:this._pathWebui)}" target="${(0,n.J)(this._computeShowIngressUI?i.s6:"_blank")}" rel="${(0,n.J)(this._computeShowIngressUI?i.s6:"noopener")}" @click="${this._computeShowWebUI?void 0:this._openIngress}"> ${this.hass.localize("ui.panel.config.apps.dashboard.open_web_ui")} </ha-button> `:i.s6} `:i.qy` <ha-progress-button .disabled="${!this.addon.available}" @click="${this._installClicked}"> ${this.hass.localize("ui.panel.config.apps.dashboard.install")} </ha-progress-button> `} </div> </div> </ha-card> ${this.addon.long_description?i.qy` <ha-card class="long-description" outlined> <div class="card-content"> <ha-markdown .content="${this.addon.long_description}" lazy-images></ha-markdown> </div> </ha-card> `:i.s6} `}updated(t){super.updated(t),t.has("addon")&&(this._loadData(),!this._fetchDataTimeout&&this.addon&&"state"in this.addon&&"startup"===this.addon.state&&this._scheduleDataUpdate())}_scheduleDataUpdate(){this._fetchDataTimeout=window.setTimeout(async()=>{const t=await(0,m.wj)(this.hass,this.addon.slug);if("startup"!==t.state){this._fetchDataTimeout=void 0,this.addon=t;const a={success:!0,response:void 0,path:"start"};(0,c.r)(this,"hass-api-called",a)}else this._scheduleDataUpdate()},500)}async _loadData(){"state"in this.addon&&"started"===this.addon.state&&(this._metrics=await(0,b.lE)(this.hass,`addons/${this.addon.slug}`))}get _computeHassioApi(){return this.addon.hassio_api&&("manager"===this.addon.hassio_role||"admin"===this.addon.hassio_role)}get _computeApparmorClassName(){return"profile"===this.addon.apparmor?"green":"disable"===this.addon.apparmor?"red":""}_showMoreInfo(t){const a=t.currentTarget.id;(0,v.showAlertDialog)(this,{title:this.hass.localize(`ui.panel.config.apps.dashboard.capability.${a}.title`),text:this.hass.localize(`ui.panel.config.apps.dashboard.capability.${a}.description`)})}_showSystemManagedInfo(){(0,v.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.apps.dashboard.system_managed.title"),text:this.hass.localize("ui.panel.config.apps.dashboard.system_managed.description")})}get _computeIsRunning(){return"started"===this.addon?.state}get _pathWebui(){return this.addon.webui.replace("[HOST]",document.location.hostname)}get _computeShowWebUI(){return!this.addon.ingress&&this.addon.webui&&this._computeIsRunning}_openIngress(){(0,h.o)(`/app/${this.addon.slug}`)}get _computeShowIngressUI(){return this.addon.ingress&&this._computeIsRunning}get _computeCannotIngressSidebar(){return!this.addon.ingress||!(0,l.v)(this.hass.config.version,0,92)}get _computeUsesProtectedOptions(){return this.addon.docker_api||this.addon.full_access||this.addon.host_pid}async _startOnBootToggled(){this._error=void 0;const t={boot:"auto"===this.addon.boot?"manual":"auto"};try{await(0,m.zh)(this.hass,this.addon.slug,t);const a={success:!0,response:void 0,path:"option"};(0,c.r)(this,"hass-api-called",a)}catch(t){this._error=this.hass.localize("ui.panel.config.apps.dashboard.failed_to_save",{error:(0,b.VR)(t)})}}async _watchdogToggled(){this._error=void 0;const t={watchdog:!this.addon.watchdog};try{await(0,m.zh)(this.hass,this.addon.slug,t);const a={success:!0,response:void 0,path:"option"};(0,c.r)(this,"hass-api-called",a)}catch(t){this._error=this.hass.localize("ui.panel.config.apps.dashboard.failed_to_save",{error:(0,b.VR)(t)})}}async _autoUpdateToggled(){this._error=void 0;const t={auto_update:!this.addon.auto_update};try{await(0,m.zh)(this.hass,this.addon.slug,t);const a={success:!0,response:void 0,path:"option"};(0,c.r)(this,"hass-api-called",a)}catch(t){this._error=this.hass.localize("ui.panel.config.apps.dashboard.failed_to_save",{error:(0,b.VR)(t)})}}async _protectionToggled(){this._error=void 0;const t={protected:!this.addon.protected};try{await(0,m.JV)(this.hass,this.addon.slug,t);const a={success:!0,response:void 0,path:"security"};(0,c.r)(this,"hass-api-called",a)}catch(t){this._error=this.hass.localize("ui.panel.config.apps.dashboard.failed_to_save",{error:(0,b.VR)(t)})}}async _panelToggled(){this._error=void 0;const t={ingress_panel:!this.addon.ingress_panel};try{await(0,m.zh)(this.hass,this.addon.slug,t);const a={success:!0,response:void 0,path:"option"};(0,c.r)(this,"hass-api-called",a)}catch(t){this._error=this.hass.localize("ui.panel.config.apps.dashboard.failed_to_save",{error:(0,b.VR)(t)})}}async _openChangelog(){try{const t=await(0,m.qH)(this.hass,this.addon.slug);(0,v.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.apps.dashboard.changelog"),text:i.qy`<ha-markdown .content="${(0,w.C)(this.addon,t)}"></ha-markdown>`})}catch(t){(0,v.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.apps.dashboard.action_error.get_changelog"),text:(0,b.VR)(t)})}}_updateComplete(){const t={success:!0,response:void 0,path:"install"};(0,c.r)(this,"hass-api-called",t)}async _installClicked(t){const a=t.currentTarget;a.progress=!0;try{await(0,m.xG)(this.hass,this.addon.slug);const t={success:!0,response:void 0,path:"install"};(0,c.r)(this,"hass-api-called",t)}catch(t){(0,v.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.apps.dashboard.action_error.install"),text:(0,b.VR)(t)})}a.progress=!1}async _stopClicked(t){if(this._isSystemManaged(this.addon)&&!this.controlEnabled)return;const a=t.currentTarget;a.progress=!0;try{await(0,m.Kl)(this.hass,this.addon.slug);const t={success:!0,response:void 0,path:"stop"};(0,c.r)(this,"hass-api-called",t)}catch(t){(0,v.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.apps.dashboard.action_error.stop"),text:(0,b.VR)(t)})}a.progress=!1}async _restartClicked(t){if(this._isSystemManaged(this.addon)&&!this.controlEnabled)return;const a=t.currentTarget;a.progress=!0;try{await(0,m.FQ)(this.hass,this.addon.slug);const t={success:!0,response:void 0,path:"restart"};(0,c.r)(this,"hass-api-called",t)}catch(t){(0,v.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.apps.dashboard.action_error.restart"),text:(0,b.VR)(t)})}a.progress=!1}async _rebuildClicked(t){const a=t.currentTarget;a.progress=!0;try{await(0,m.tl)(this.hass,this.addon.slug)}catch(t){(0,v.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.apps.dashboard.action_error.rebuild"),text:(0,b.VR)(t)})}a.progress=!1}async _startClicked(t){const a=t.currentTarget;a.progress=!0;try{const t=await(0,m.hg)(this.hass,this.addon.slug);if(!t.valid)return await(0,v.dk)(this,{title:this.hass.localize("ui.panel.config.apps.dashboard.action_error.start_invalid_config"),text:t.message.split(" Got ")[0],confirm:()=>this._openConfiguration(),confirmText:this.hass.localize("ui.panel.config.apps.dashboard.action_error.go_to_config"),dismissText:this.hass.localize("ui.common.cancel")}),a.actionError(),void(a.progress=!1)}catch(t){return a.actionError(),a.progress=!1,void(0,v.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.apps.dashboard.action_error.validate_config"),text:(0,b.VR)(t)})}try{await(0,m.eK)(this.hass,this.addon.slug),this.addon=await(0,m.wj)(this.hass,this.addon.slug);const t={success:!0,response:void 0,path:"start"};(0,c.r)(this,"hass-api-called",t)}catch(t){return a.actionError(),a.progress=!1,void(0,v.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.apps.dashboard.action_error.start"),text:(0,b.VR)(t)})}a.actionSuccess(),a.progress=!1}_openConfiguration(){(0,h.o)(`/config/app/${this.addon.slug}/config`)}async _uninstallClicked(t){if(this._isSystemManaged(this.addon)&&!this.controlEnabled)return;const a=t.currentTarget;a.progress=!0;let e=!1;if(await(0,v.dk)(this,{title:this.hass.localize("ui.panel.config.apps.dashboard.uninstall_dialog.title",{name:this.addon.name}),text:i.qy` <ha-formfield .label="${i.qy`<p> ${this.hass.localize("ui.panel.config.apps.dashboard.uninstall_dialog.remove_data")} </p>`}"> <ha-switch @change="${t=>{e=t.target.checked}}" .checked="${e}" haptic></ha-switch> </ha-formfield> `,confirmText:this.hass.localize("ui.panel.config.apps.dashboard.uninstall_dialog.uninstall"),dismissText:this.hass.localize("ui.common.cancel"),destructive:!0})){this._error=void 0;try{await(0,m.Kn)(this.hass,this.addon.slug,e);const t={success:!0,response:void 0,path:"uninstall"};(0,c.r)(this,"hass-api-called",t),a.actionSuccess()}catch(t){(0,v.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.apps.dashboard.action_error.uninstall"),text:(0,b.VR)(t)}),a.actionError()}a.progress=!1}else a.progress=!1}static get styles(){return[y.RF,i.AH`:host{display:block}ha-card{display:block;margin-bottom:16px}ha-card.warning{background-color:var(--error-color);color:#fff}ha-card.warning .card-header{color:#fff}ha-card.warning .card-content{color:#fff}ha-card.warning ha-button{--mdc-theme-primary:white!important}.warning{color:var(--error-color);--mdc-theme-primary:var(--error-color)}.light-color{color:var(--secondary-text-color)}.addon-header{padding-left:var(--ha-space-2);padding-inline-start:var(--ha-space-2);padding-inline-end:initial;font-size:var(--ha-font-size-2xl);color:var(--ha-card-header-color,var(--primary-text-color))}.addon-version{float:var(--float-end);font-size:var(--ha-font-size-l);vertical-align:middle}.errors{color:var(--error-color);margin-bottom:16px}.description{margin-bottom:16px}img.logo{max-width:100%;max-height:60px;margin:16px 0;display:block}ha-switch{display:flex}ha-svg-icon.running{color:var(--success-color)}ha-svg-icon.stopped{color:var(--error-color)}protection-enable ha-button{--mdc-theme-primary:white}.description a{color:var(--primary-color)}.long-description{direction:ltr}ha-assist-chip{--md-sys-color-primary:var(--text-primary-color);--md-sys-color-on-surface:var(--text-primary-color);--ha-assist-chip-filled-container-color:var(--primary-color)}.red{--ha-assist-chip-filled-container-color:var(
            --label-badge-red,
            #df4c1e
          )}.blue{--ha-assist-chip-filled-container-color:var(
            --label-badge-blue,
            #039be5
          )}.green{--ha-assist-chip-filled-container-color:var(
            --label-badge-green,
            #0da035
          )}.yellow{--ha-assist-chip-filled-container-color:var(
            --label-badge-yellow,
            #f4b400
          )}.capabilities{margin-bottom:16px}.card-actions{justify-content:space-between;display:flex;direction:var(--direction)}.changelog{display:contents}.changelog-link{color:var(--primary-color);text-decoration:underline;cursor:pointer}ha-markdown{padding:16px;--markdown-image-background-color:transparent;--markdown-image-border-radius:0;--markdown-image-min-height:auto;--markdown-image-text-indent:0;--markdown-image-transition:none}ha-settings-row{padding:0;height:54px;width:100%}ha-settings-row>span[slot=description]{white-space:normal;color:var(--secondary-text-color)}ha-settings-row[three-line]{height:74px}.addon-options{max-width:90%}.addon-container{display:grid;grid-auto-flow:column;grid-template-columns:60% 40%}.addon-container>div:last-of-type{align-self:end}ha-alert ha-button{--mdc-theme-primary:var(--primary-text-color)}:host>ha-alert{display:block;margin-bottom:16px}a{text-decoration:none}supervisor-app-update-available-card{padding-bottom:16px}@media (max-width:720px){.addon-options{max-width:100%}.addon-container{display:block}}`]}constructor(...t){super(...t),this.narrow=!1,this.controlEnabled=!1,this._isSystemManaged=(0,d.A)(t=>"system_managed"in t&&t.system_managed)}}(0,s.Cg)([(0,o.MZ)({type:Boolean})],B.prototype,"narrow",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],B.prototype,"route",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],B.prototype,"hass",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],B.prototype,"addon",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean,attribute:"control-enabled"})],B.prototype,"controlEnabled",void 0),(0,s.Cg)([(0,o.wk)()],B.prototype,"_metrics",void 0),(0,s.Cg)([(0,o.wk)()],B.prototype,"_error",void 0),B=(0,s.Cg)([(0,o.EM)("supervisor-app-info")],B),a()}catch(t){a(t)}})},36382(t,a,e){e.a(t,async function(t,a){try{var s=e(62826),i=e(96196),o=e(44457),r=e(1087),n=(e(38962),e(18350)),d=t([n]);n=(d.then?(await d)():d)[0];class l extends i.WF{render(){return i.qy` <ha-alert alert-type="warning" .title="${this.hass.localize("ui.panel.config.apps.dashboard.system_managed.title")}" .narrow="${this.narrow}"> ${this.hass.localize("ui.panel.config.apps.dashboard.system_managed.description")} ${this.hideButton?i.s6:i.qy` <ha-button slot="action" @click="${this._takeControl}"> ${this.hass.localize("ui.panel.config.apps.dashboard.system_managed.take_control")} </ha-button> `} </ha-alert> `}_takeControl(){(0,r.r)(this,"system-managed-take-control")}constructor(...t){super(...t),this.narrow=!1,this.hideButton=!1}}l.styles=i.AH`ha-alert{display:block;margin-bottom:16px}ha-button{white-space:nowrap}`,(0,s.Cg)([(0,o.MZ)({type:Boolean})],l.prototype,"narrow",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],l.prototype,"hass",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean,attribute:"hide-button"})],l.prototype,"hideButton",void 0),l=(0,s.Cg)([(0,o.EM)("supervisor-app-system-managed")],l),a()}catch(t){a(t)}})},45993(t,a,e){e.a(t,async function(t,a){try{var s=e(62826),i=e(96196),o=e(44457),r=e(65829),n=e(14503),d=e(93560),l=e(22828),c=(e(3103),e(6030)),h=t([r,l]);[r,l]=h.then?(await h)():h;class p extends i.WF{render(){return this.addon?i.qy` <div class="search"> <search-input @value-changed="${this._filterChanged}" .hass="${this.hass}" .filter="${this._filter}" .label="${this.hass.localize("ui.panel.config.logs.search")}"></search-input> </div> <div class="content"> <error-log-card .hass="${this.hass}" .header="${this.addon.name}" .provider="${this.addon.slug}" .filter="${this._filter}"> </error-log-card> </div> `:i.qy` <ha-spinner></ha-spinner> `}async _filterChanged(t){this._filter=t.detail.value}static get styles(){return[n.RF,d.g,i.AH`.content{margin:auto;padding:var(--ha-space-2)}.search{position:sticky;top:0;z-index:2}search-input{display:block;--mdc-text-field-fill-color:var(--sidebar-background-color);--mdc-text-field-idle-line-color:var(--divider-color)}@media all and (max-width:870px){:host{--error-log-card-height:calc(100vh - 304px)}}`]}constructor(...t){super(...t),this._filter=(0,c.p9)("filter")||""}}(0,s.Cg)([(0,o.MZ)({attribute:!1})],p.prototype,"hass",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],p.prototype,"addon",void 0),(0,s.Cg)([(0,o.wk)()],p.prototype,"_filter",void 0),p=(0,s.Cg)([(0,o.EM)("supervisor-app-log-tab")],p),a()}catch(t){a(t)}})},45285(t,a,e){e.a(t,async function(t,a){try{var s=e(62826),i=e(44457),o=e(324),r=e(87057),n=e(83173),d=e(42997),l=e(45993),c=t([r,n,d,l]);[r,n,d,l]=c.then?(await c)():c;class h extends o.a{updatePageEl(t){t.route=this.routeTail,t.hass=this.hass,t.addon=this.addon,t.narrow=this.narrow,t.controlEnabled=this.controlEnabled}constructor(...t){super(...t),this.narrow=!1,this.controlEnabled=!1,this.routerOptions={defaultPage:"info",showLoading:!0,routes:{info:{tag:"supervisor-app-info-tab"},documentation:{tag:"supervisor-app-documentation-tab"},config:{tag:"supervisor-app-config-tab"},logs:{tag:"supervisor-app-log-tab"}}}}}(0,s.Cg)([(0,i.MZ)({type:Boolean})],h.prototype,"narrow",void 0),(0,s.Cg)([(0,i.MZ)({attribute:!1})],h.prototype,"hass",void 0),(0,s.Cg)([(0,i.MZ)({attribute:!1})],h.prototype,"addon",void 0),(0,s.Cg)([(0,i.MZ)({type:Boolean,attribute:"control-enabled"})],h.prototype,"controlEnabled",void 0),h=(0,s.Cg)([(0,i.EM)("supervisor-app-router")],h),a()}catch(t){a(t)}})},97198(t,a,e){e.d(a,{C:()=>s});e(18111),e(13579);(0,e(22786).A)((t,a)=>a.some(a=>t.includes(a)));const s=(t,a)=>{if(a.startsWith("# Changelog")&&(a=a.substring(12)),a.includes(`# ${t.version}`)&&a.includes(`# ${t.version_latest}`)){const e=a.split(`# ${t.version}`)[0];e.includes(`# ${t.version_latest}`)&&(a=e)}return a}},31200(t,a,e){e.a(t,async function(t,s){try{e.r(a);e(44114),e(18111),e(22489);var i=e(62826),o=e(96196),r=e(44457),n=e(22786),d=e(1087),l=e(6030),c=e(22130),h=e(47351),p=e(28794),u=e(23296),g=(e(31168),e(14503)),m=e(45285),b=t([p,u,m]);[p,u,m]=b.then?(await b)():b;const v="M15.9,18.45C17.25,18.45 18.35,17.35 18.35,16C18.35,14.65 17.25,13.55 15.9,13.55C14.54,13.55 13.45,14.65 13.45,16C13.45,17.35 14.54,18.45 15.9,18.45M21.1,16.68L22.58,17.84C22.71,17.95 22.75,18.13 22.66,18.29L21.26,20.71C21.17,20.86 21,20.92 20.83,20.86L19.09,20.16C18.73,20.44 18.33,20.67 17.91,20.85L17.64,22.7C17.62,22.87 17.47,23 17.3,23H14.5C14.32,23 14.18,22.87 14.15,22.7L13.89,20.85C13.46,20.67 13.07,20.44 12.71,20.16L10.96,20.86C10.81,20.92 10.62,20.86 10.54,20.71L9.14,18.29C9.05,18.13 9.09,17.95 9.22,17.84L10.7,16.68L10.65,16L10.7,15.31L9.22,14.16C9.09,14.05 9.05,13.86 9.14,13.71L10.54,11.29C10.62,11.13 10.81,11.07 10.96,11.13L12.71,11.84C13.07,11.56 13.46,11.32 13.89,11.15L14.15,9.29C14.18,9.13 14.32,9 14.5,9H17.3C17.47,9 17.62,9.13 17.64,9.29L17.91,11.15C18.33,11.32 18.73,11.56 19.09,11.84L20.83,11.13C21,11.07 21.17,11.13 21.26,11.29L22.66,13.71C22.75,13.86 22.71,14.05 22.58,14.16L21.1,15.31L21.15,16L21.1,16.68M6.69,8.07C7.56,8.07 8.26,7.37 8.26,6.5C8.26,5.63 7.56,4.92 6.69,4.92A1.58,1.58 0 0,0 5.11,6.5C5.11,7.37 5.82,8.07 6.69,8.07M10.03,6.94L11,7.68C11.07,7.75 11.09,7.87 11.03,7.97L10.13,9.53C10.08,9.63 9.96,9.67 9.86,9.63L8.74,9.18L8,9.62L7.81,10.81C7.79,10.92 7.7,11 7.59,11H5.79C5.67,11 5.58,10.92 5.56,10.81L5.4,9.62L4.64,9.18L3.5,9.63C3.41,9.67 3.3,9.63 3.24,9.53L2.34,7.97C2.28,7.87 2.31,7.75 2.39,7.68L3.34,6.94L3.31,6.5L3.34,6.06L2.39,5.32C2.31,5.25 2.28,5.13 2.34,5.03L3.24,3.47C3.3,3.37 3.41,3.33 3.5,3.37L4.63,3.82L5.4,3.38L5.56,2.19C5.58,2.08 5.67,2 5.79,2H7.59C7.7,2 7.79,2.08 7.81,2.19L8,3.38L8.74,3.82L9.86,3.37C9.96,3.33 10.08,3.37 10.13,3.47L11.03,5.03C11.09,5.13 11.07,5.25 11,5.32L10.03,6.06L10.06,6.5L10.03,6.94Z",f="M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M15,18V16H6V18H15M18,14V12H6V14H18Z",y="M13.5,4A1.5,1.5 0 0,0 12,5.5A1.5,1.5 0 0,0 13.5,7A1.5,1.5 0 0,0 15,5.5A1.5,1.5 0 0,0 13.5,4M13.14,8.77C11.95,8.87 8.7,11.46 8.7,11.46C8.5,11.61 8.56,11.6 8.72,11.88C8.88,12.15 8.86,12.17 9.05,12.04C9.25,11.91 9.58,11.7 10.13,11.36C12.25,10 10.47,13.14 9.56,18.43C9.2,21.05 11.56,19.7 12.17,19.3C12.77,18.91 14.38,17.8 14.54,17.69C14.76,17.54 14.6,17.42 14.43,17.17C14.31,17 14.19,17.12 14.19,17.12C13.54,17.55 12.35,18.45 12.19,17.88C12,17.31 13.22,13.4 13.89,10.71C14,10.07 14.3,8.67 13.14,8.77Z",_="M5,3C3.89,3 3,3.89 3,5V19C3,20.11 3.89,21 5,21H19C20.11,21 21,20.11 21,19V5C21,3.89 20.11,3 19,3H5M5,5H19V19H5V5M7,7V9H17V7H7M7,11V13H17V11H7M7,15V17H14V15H7Z";class w extends o.WF{async firstUpdated(){this._fromStore="true"===(0,l.p9)("store"),await this._loadAddon(),this.addEventListener("hass-api-called",t=>this._apiCalled(t))}updated(t){if(t.has("route")&&this.route){const a=t.get("route"),e=a?.path.split("/")[1],s=this.route.path.split("/")[1];e!==s&&s&&this._loadAddon()}}render(){if(this._error)return o.qy`<hass-error-screen .hass="${this.hass}" .error="${this._error}"></hass-error-screen>`;if(!this._addon)return o.qy`<hass-loading-screen .hass="${this.hass}" .narrow="${this.narrow}"></hass-loading-screen>`;const t=[{translationKey:"ui.panel.config.apps.panel.info",path:`/config/app/${this._addon.slug}/info`,iconPath:y}];this._addon.documentation&&t.push({translationKey:"ui.panel.config.apps.panel.documentation",path:`/config/app/${this._addon.slug}/documentation`,iconPath:f}),this._addon.version&&t.push({translationKey:"ui.panel.config.apps.panel.configuration",path:`/config/app/${this._addon.slug}/config`,iconPath:v},{translationKey:"ui.panel.config.apps.panel.log",path:`/config/app/${this._addon.slug}/logs`,iconPath:_});const a=this._computeTail(this.route);return o.qy` <hass-tabs-subpage .hass="${this.hass}" .narrow="${this.narrow}" .route="${a}" .tabs="${t}" back-path="${this._fromStore?"/config/apps/available":"/config/apps"}"> <span slot="header">${this._addon.name}</span> <supervisor-app-router .route="${a}" .narrow="${this.narrow}" .hass="${this.hass}" .addon="${this._addon}" .controlEnabled="${this._controlEnabled}" @system-managed-take-control="${this._enableControl}"></supervisor-app-router> </hass-tabs-subpage> `}async _loadAddon(){const t=this.route.path.split("/")[1];if(t)try{this._addon=await(0,c.wj)(this.hass,t)}catch(t){this._error=`Error loading addon: ${(0,h.VR)(t)}`}else this._error="No addon specified"}async _apiCalled(t){if(!t.detail.success)return;const a=t.detail.path?.split("/");if(!a||0===a.length)return;const e=a[a.length-1];["uninstall","install","update","start","stop"].includes(e)&&(0,d.r)(this,"apps-collection-refresh",{collection:"addon"}),"uninstall"===e?window.history.back():await this._loadAddon()}_enableControl(){this._controlEnabled=!0}static get styles(){return[g.RF,o.AH`:host{color:var(--primary-text-color)}.content{padding:var(--ha-space-6) 0 var(--ha-space-8);display:flex;flex-direction:column;align-items:center}`]}constructor(...t){super(...t),this.narrow=!1,this._controlEnabled=!1,this._fromStore=!1,this._computeTail=(0,n.A)(t=>{const a=t.path.split("/").filter(Boolean),e=a[0]||"",s=a.slice(1).join("/");return{prefix:t.prefix+"/"+e,path:s?"/"+s:""}})}}(0,i.Cg)([(0,r.MZ)({attribute:!1})],w.prototype,"hass",void 0),(0,i.Cg)([(0,r.MZ)({attribute:!1})],w.prototype,"route",void 0),(0,i.Cg)([(0,r.MZ)({type:Boolean})],w.prototype,"narrow",void 0),(0,i.Cg)([(0,r.wk)()],w.prototype,"_addon",void 0),(0,i.Cg)([(0,r.wk)()],w.prototype,"_error",void 0),(0,i.Cg)([(0,r.wk)()],w.prototype,"_controlEnabled",void 0),(0,i.Cg)([(0,r.wk)()],w.prototype,"_fromStore",void 0),w=(0,i.Cg)([(0,r.EM)("ha-config-app-dashboard")],w),s()}catch(t){s(t)}})},53580(t,a,e){e.r(a),e.d(a,{mdiHomeAssistant:()=>s});const s="m12.151 1.5882c-.3262 0-.6523.1291-.8996.3867l-8.3848 8.7354c-.0619.0644-.1223.1368-.1807.2154-.0588.0789-.1151.1638-.1688.2534-.2593.4325-.4552.9749-.5232 1.4555-.0026.018-.0076.0369-.0094.0548-.0121.0987-.0184.1944-.0184.2857v8.0124a1.2731 1.2731 0 001.2731 1.2731h7.8313l-3.4484-3.593a1.7399 1.7399 0 111.0803-1.125l2.6847 2.7972v-10.248a1.7399 1.7399 0 111.5276-0v7.187l2.6702-2.782a1.7399 1.7399 0 111.0566 1.1505l-3.7269 3.8831v2.7299h8.174a1.2471 1.2471 0 001.2471-1.2471v-8.0375c0-.0912-.0059-.1868-.0184-.2855-.0603-.4935-.2636-1.0617-.5326-1.5105-.0537-.0896-.1101-.1745-.1684-.253-.0588-.079-.1191-.1513-.181-.2158l-8.3848-8.7363c-.2473-.2577-.5735-.3866-.8995-.3864"},46187(t,a,e){e.d(a,{A:()=>s});const s=(t=0,a=2)=>{if(0===t)return"0 Bytes";a=a<0?0:a;const e=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/1024**e).toFixed(a))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][e]}`}},996(t,a,e){e.d(a,{G:()=>s});class s{get(t){return this._cache.get(t)}set(t,a){this._cache.set(t,a),this._expiration&&window.setTimeout(()=>this._cache.delete(t),this._expiration)}has(t){return this._cache.has(t)}constructor(t){this._cache=new Map,this._expiration=t}}},36240(t,a,e){e.d(a,{NN:()=>i,S8:()=>s,gN:()=>o});const s=(t,a,e)=>isNaN(t)||isNaN(a)||isNaN(e)?0:t>e?e:t<a?a:t,i=(t,a,e)=>100*(t-a)/(e-a),o=t=>Math.round(10*t)/10},96175(t,a,e){var s={"./ha-icon-prev":["89133","61982"],"./ha-icon-button-toolbar":["9882","52074","76775"],"./ha-alert":["38962","19695"],"./ha-icon-button-toggle":["62501","77254"],"./ha-svg-icon.ts":["67094"],"./ha-alert.ts":["38962","19695"],"./ha-icon":["88945","51146"],"./ha-icon-next.ts":["43661","63902"],"./ha-qr-code.ts":["60543","51343","62740"],"./ha-icon-overflow-menu.ts":["75248","52074","34995","85545"],"./ha-icon-button-toggle.ts":["62501","77254"],"./ha-icon-button-group":["39826","13647"],"./ha-svg-icon":["67094"],"./ha-icon-button-prev":["45100","99197"],"./ha-icon-button.ts":["26300"],"./ha-icon-overflow-menu":["75248","52074","34995","85545"],"./ha-icon-button-arrow-next":["99028","54101"],"./ha-icon-button-prev.ts":["45100","99197"],"./ha-icon-picker":["64138","73126","44533","46095","52074","92769","62453","26233","9027"],"./ha-icon-button-toolbar.ts":["9882","52074","76775"],"./ha-icon-button-arrow-prev.ts":["90248","17041"],"./ha-icon-button-next":["25440","81049"],"./ha-icon-next":["43661","63902"],"./ha-icon-picker.ts":["64138","73126","44533","46095","52074","92769","62453","26233","9027"],"./ha-icon-prev.ts":["89133","61982"],"./ha-icon-button-arrow-prev":["90248","17041"],"./ha-icon-button-next.ts":["25440","81049"],"./ha-icon.ts":["88945","51146"],"./ha-qr-code":["60543","51343","62740"],"./ha-icon-button":["26300"],"./ha-icon-button-group.ts":["39826","13647"],"./ha-icon-button-arrow-next.ts":["99028","54101"]};function i(t){if(!e.o(s,t))return Promise.resolve().then(function(){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a});var a=s[t],i=a[0];return Promise.all(a.slice(1).map(e.e)).then(function(){return e(i)})}i.keys=()=>Object.keys(s),i.id=96175,t.exports=i}};
//# sourceMappingURL=78552.a34e46e672328d4b.js.map