/*! For license information please see 20360.f786eb3b5d4e00bf.js.LICENSE.txt */
export const __rspack_esm_id="20360";export const __rspack_esm_ids=["20360"];export const __webpack_modules__={29781(e,t,i){i.d(t,{$:()=>m});var a=i(62826),s=i(96592),r=i(44457),o=i(12451),n=i(12130),l=i(84730),h=i(96196),d=i(94333);const c=n.QQ?{passive:!0}:void 0;class p extends o.O{get scrollTarget(){return this._scrollTarget||window}set scrollTarget(e){this.unregisterScrollListener();const t=this.scrollTarget;this._scrollTarget=e,this.updateRootPosition(),this.requestUpdate("scrollTarget",t),this.registerScrollListener()}updateRootPosition(){if(this.mdcRoot){const e=this.scrollTarget===window;this.mdcRoot.style.position=e?"":"absolute"}}render(){let e=h.qy`<span class="mdc-top-app-bar__title"><slot name="title"></slot></span>`;return this.centerTitle&&(e=h.qy`<section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-center">${e}</section>`),h.qy` <header class="mdc-top-app-bar ${(0,d.H)(this.barClasses())}"> <div class="mdc-top-app-bar__row"> <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start" id="navigation"> <slot name="navigationIcon" @click="${this.handleNavigationClick}"></slot> ${this.centerTitle?null:e} </section> ${this.centerTitle?e:null} <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" id="actions" role="toolbar"> <slot name="actionItems"></slot> </section> </div> </header> <div class="${(0,d.H)(this.contentClasses())}"> <slot></slot> </div> `}createAdapter(){return Object.assign(Object.assign({},(0,o.i)(this.mdcRoot)),{setStyle:(e,t)=>this.mdcRoot.style.setProperty(e,t),getTopAppBarHeight:()=>this.mdcRoot.clientHeight,notifyNavigationIconClicked:()=>{this.dispatchEvent(new Event(l.P$.NAVIGATION_EVENT,{bubbles:!0,cancelable:!0}))},getViewportScrollY:()=>this.scrollTarget instanceof Window?this.scrollTarget.pageYOffset:this.scrollTarget.scrollTop,getTotalActionItems:()=>this._actionItemsSlot.assignedNodes({flatten:!0}).length})}registerListeners(){this.registerScrollListener()}unregisterListeners(){this.unregisterScrollListener()}registerScrollListener(){this.scrollTarget.addEventListener("scroll",this.handleTargetScroll,c)}unregisterScrollListener(){this.scrollTarget.removeEventListener("scroll",this.handleTargetScroll)}firstUpdated(){super.firstUpdated(),this.updateRootPosition(),this.registerListeners()}disconnectedCallback(){super.disconnectedCallback(),this.unregisterListeners()}constructor(){super(...arguments),this.centerTitle=!1,this.handleTargetScroll=()=>{this.mdcFoundation.handleTargetScroll()},this.handleNavigationClick=()=>{this.mdcFoundation.handleNavigationClick()}}}(0,a.Cg)([(0,r.P)(".mdc-top-app-bar")],p.prototype,"mdcRoot",void 0),(0,a.Cg)([(0,r.P)('slot[name="actionItems"]')],p.prototype,"_actionItemsSlot",void 0),(0,a.Cg)([(0,r.MZ)({type:Boolean})],p.prototype,"centerTitle",void 0),(0,a.Cg)([(0,r.MZ)({type:Object})],p.prototype,"scrollTarget",null);class u extends p{barClasses(){return{"mdc-top-app-bar--dense":this.dense,"mdc-top-app-bar--prominent":this.prominent,"center-title":this.centerTitle}}contentClasses(){return{"mdc-top-app-bar--fixed-adjust":!this.dense&&!this.prominent,"mdc-top-app-bar--dense-fixed-adjust":this.dense&&!this.prominent,"mdc-top-app-bar--prominent-fixed-adjust":!this.dense&&this.prominent,"mdc-top-app-bar--dense-prominent-fixed-adjust":this.dense&&this.prominent}}registerListeners(){super.registerListeners(),window.addEventListener("resize",this.handleResize,c)}unregisterListeners(){super.unregisterListeners(),window.removeEventListener("resize",this.handleResize)}constructor(){super(...arguments),this.mdcFoundationClass=s.A,this.prominent=!1,this.dense=!1,this.handleResize=()=>{this.mdcFoundation.handleWindowResize()}}}(0,a.Cg)([(0,r.MZ)({type:Boolean,reflect:!0})],u.prototype,"prominent",void 0),(0,a.Cg)([(0,r.MZ)({type:Boolean,reflect:!0})],u.prototype,"dense",void 0);var g=i(23665);class m extends u{barClasses(){return Object.assign(Object.assign({},super.barClasses()),{"mdc-top-app-bar--fixed":!0})}registerListeners(){this.scrollTarget.addEventListener("scroll",this.handleTargetScroll,c)}unregisterListeners(){this.scrollTarget.removeEventListener("scroll",this.handleTargetScroll)}constructor(){super(...arguments),this.mdcFoundationClass=g.A}}},69093(e,t,i){i.d(t,{t:()=>s});var a=i(71727);const s=e=>(0,a.m)(e.entity_id)},47129(e,t,i){i.d(t,{a:()=>r});var a=i(22675),s=i(71727);function r(e,t){const i=(0,s.m)(e.entity_id),r=void 0!==t?t:e?.state;if(["button","event","input_button","scene"].includes(i))return r!==a.Hh;if((0,a.g0)(r))return!1;if(r===a.KF&&"alert"!==i)return!1;switch(i){case"alarm_control_panel":return"disarmed"!==r;case"alert":return"idle"!==r;case"cover":case"valve":return"closed"!==r;case"device_tracker":case"person":return"not_home"!==r;case"lawn_mower":return["mowing","error"].includes(r);case"lock":return"locked"!==r;case"media_player":return"standby"!==r;case"vacuum":return!["idle","docked","paused"].includes(r);case"plant":return"problem"===r;case"group":return["on","home","open","locked","problem"].includes(r);case"timer":return"active"===r;case"camera":return"streaming"===r}return!0}},82286(e,t,i){i.d(t,{$:()=>a});const a=(e,t)=>s(e.attributes,t),s=(e,t)=>0!==(e.supported_features&t)},81836(e,t,i){i.d(t,{d:()=>a,p:()=>s});const a=(e,t,i=1e3)=>e||window.setInterval(t,i),s=e=>{e&&clearInterval(e)}},58274(e,t,i){i.d(t,{m:()=>a});class a{get isInteracting(){return this._touchDragging||this._dragging}setStep(e){this._options.step=e}_getVolumeFromTouch(e){const t=this._options.getSlider();if(!t)return 0;const i=t.getBoundingClientRect(),a=Math.min(Math.max(e-i.left,0),i.width)/i.width*100;return this._roundVolumeValue(a)}_roundVolumeValue(e){return Math.min(Math.max(Math.round(e/this._options.step)*this._options.step,0),100)}_getSliderValue(){const e=this._options.getSlider();return e?Number(e.value):this._lastValue}_updateValue(e){this._lastValue=e,this._options.onValueUpdated?.(e);const t=this._options.getSlider();t&&(t.value=e)}_showTooltip(){const e=this._options.getSlider();e?.showTooltip?.()}_hideTooltip(){const e=this._options.getSlider();e?.hideTooltip?.()}constructor(e){this._touchStartX=0,this._touchStartY=0,this._touchStartValue=0,this._touchDragging=!1,this._touchScrolling=!1,this._dragging=!1,this._lastValue=0,this.handleInput=e=>{e.stopPropagation();const t=Number(e.target.value);this._dragging=!0,this._updateValue(t),this._options.onSetVolumeDebounced?.(t)},this.handleChange=e=>{e.stopPropagation();const t=Number(e.target.value);this._dragging=!1,this._updateValue(t),this._options.onSetVolume(t)},this.handleTouchStart=e=>{e.stopPropagation();const t=e.touches[0];this._touchStartX=t.clientX,this._touchStartY=t.clientY,this._touchStartValue=this._getSliderValue(),this._touchDragging=!1,this._touchScrolling=!1,this._showTooltip()},this.handleTouchMove=e=>{if(this._touchScrolling)return;const t=e.touches[0],i=t.clientX-this._touchStartX,a=t.clientY-this._touchStartY,s=Math.abs(i),r=Math.abs(a);if(!this._touchDragging){if(r>10&&r>2*s)return void(this._touchScrolling=!0);s>8&&(this._touchDragging=!0)}if(this._touchDragging){e.preventDefault();const i=this._getVolumeFromTouch(t.clientX);this._updateValue(i)}},this.handleTouchEnd=e=>{if(this._touchScrolling)return this._touchScrolling=!1,void this._hideTooltip();const t=e.changedTouches[0];if(this._touchDragging){const e=this._getVolumeFromTouch(t.clientX);this._updateValue(e),this._options.onSetVolume(e)}else{const e=this._getVolumeFromTouch(t.clientX)>this._touchStartValue?this._options.step:-this._options.step,i=this._roundVolumeValue(this._touchStartValue+e);this._updateValue(i),this._options.onSetVolume(i)}this._touchDragging=!1,this._dragging=!1,this._hideTooltip()},this.handleTouchCancel=()=>{this._touchDragging=!1,this._touchScrolling=!1,this._dragging=!1,this._updateValue(this._touchStartValue),this._hideTooltip()},this.handleWheel=e=>{e.preventDefault(),e.stopPropagation();const t=e.deltaY>0?-1:1,i=this._getSliderValue(),a=this._roundVolumeValue(i+t*this._options.step);this._updateValue(a),this._options.onSetVolume(a)},this._options=e}}},59174(e,t,i){i.a(e,async function(e,t){try{var a=i(62826),s=i(96196),r=i(44457),o=i(3890),n=i(85694),l=i(44144),h=(i(88945),e([n]));n=(h.then?(await h)():h)[0];class d extends s.WF{render(){if(this.icon)return s.qy`<ha-icon .icon="${this.icon}"></ha-icon>`;if(!this.domain)return s.s6;if(!this.hass)return this._renderFallback();const e=(0,n._4)(this.hass,this.domain,this.deviceClass,this.state).then(e=>e?s.qy`<ha-icon .icon="${e}"></ha-icon>`:this._renderFallback());return s.qy`${(0,o.T)(e)}`}_renderFallback(){if(this.domain&&this.domain in n.l)return s.qy` <ha-svg-icon .path="${n.l[this.domain]}"></ha-svg-icon> `;if(this.brandFallback){const e=(0,l.MR)({domain:this.domain,type:"icon",darkOptimized:this.hass.themes?.darkMode});return s.qy` <img alt="" src="${e}" crossorigin="anonymous" referrerpolicy="no-referrer"> `}return s.qy`<ha-svg-icon .path="${n.lW}"></ha-svg-icon>`}}d.styles=s.AH`img{width:var(--mdc-icon-size,24px)}`,(0,a.Cg)([(0,r.MZ)({attribute:!1})],d.prototype,"hass",void 0),(0,a.Cg)([(0,r.MZ)()],d.prototype,"domain",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1})],d.prototype,"deviceClass",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1})],d.prototype,"state",void 0),(0,a.Cg)([(0,r.MZ)()],d.prototype,"icon",void 0),(0,a.Cg)([(0,r.MZ)({attribute:"brand-fallback",type:Boolean})],d.prototype,"brandFallback",void 0),d=(0,a.Cg)([(0,r.EM)("ha-domain-icon")],d),t()}catch(e){t(e)}})},52763(e,t,i){i(18111),i(7588),i(61701);var a=i(62826),s=i(96196),r=i(44457),o=i(69558),n=i(1087);i(38962),i(11399);const l={boolean:()=>Promise.all([i.e("8477"),i.e("81347")]).then(i.bind(i,46990)),constant:()=>i.e("65733").then(i.bind(i,90820)),float:()=>Promise.all([i.e("73126"),i.e("44533"),i.e("17477")]).then(i.bind(i,20676)),grid:()=>i.e("60761").then(i.bind(i,70208)),expandable:()=>i.e("45001").then(i.bind(i,40003)),integer:()=>Promise.all([i.e("73126"),i.e("96261"),i.e("44533"),i.e("52074"),i.e("8477"),i.e("21543"),i.e("98351"),i.e("36485")]).then(i.bind(i,20036)),multi_select:()=>Promise.all([i.e("96261"),i.e("46095"),i.e("52074"),i.e("34995"),i.e("8477"),i.e("83645"),i.e("39771")]).then(i.bind(i,36182)),positive_time_period_dict:()=>Promise.all([i.e("73126"),i.e("44533"),i.e("26767"),i.e("63577"),i.e("56208"),i.e("88995")]).then(i.bind(i,89422)),select:()=>Promise.all([i.e("73126"),i.e("96261"),i.e("44533"),i.e("46095"),i.e("52074"),i.e("92769"),i.e("62453"),i.e("26767"),i.e("63577"),i.e("8477"),i.e("4939"),i.e("49902"),i.e("26233"),i.e("81911")]).then(i.bind(i,63804)),string:()=>Promise.all([i.e("73126"),i.e("44533"),i.e("31802")]).then(i.bind(i,54753)),optional_actions:()=>Promise.all([i.e("96261"),i.e("52074"),i.e("34995"),i.e("61877")]).then(i.bind(i,8456))},h=(e,t)=>e?!t.name||t.flatten?e:e[t.name]:null;class d extends s.WF{getFormProperties(){return{}}async focus(){await this.updateComplete;const e=this.renderRoot.querySelector(".root");if(e)for(const t of e.children)if("HA-ALERT"!==t.tagName){t instanceof s.mN&&await t.updateComplete,t.focus();break}}willUpdate(e){e.has("schema")&&this.schema&&this.schema.forEach(e=>{"selector"in e||l[e.type]?.()})}render(){return s.qy` <div class="root" part="root"> ${this.error&&this.error.base?s.qy` <ha-alert alert-type="error"> ${this._computeError(this.error.base,this.schema)} </ha-alert> `:""} ${this.schema.map(e=>{const t=((e,t)=>e&&t.name?e[t.name]:null)(this.error,e),i=((e,t)=>e&&t.name?e[t.name]:null)(this.warning,e);return s.qy` ${t?s.qy` <ha-alert own-margin alert-type="error"> ${this._computeError(t,e)} </ha-alert> `:i?s.qy` <ha-alert own-margin alert-type="warning"> ${this._computeWarning(i,e)} </ha-alert> `:""} ${"selector"in e?s.qy`<ha-selector .schema="${e}" .hass="${this.hass}" .narrow="${this.narrow}" .name="${e.name}" .selector="${e.selector}" .value="${h(this.data,e)}" .label="${this._computeLabel(e,this.data)}" .disabled="${e.disabled||this.disabled||!1}" .placeholder="${e.required?void 0:e.default}" .helper="${this._computeHelper(e)}" .localizeValue="${this.localizeValue}" .required="${e.required||!1}" .context="${this._generateContext(e)}"></ha-selector>`:(0,o._)(this.fieldElementName(e.type),{schema:e,data:h(this.data,e),label:this._computeLabel(e,this.data),helper:this._computeHelper(e),disabled:this.disabled||e.disabled||!1,hass:this.hass,localize:this.hass?.localize,computeLabel:this.computeLabel,computeHelper:this.computeHelper,localizeValue:this.localizeValue,context:this._generateContext(e),...this.getFormProperties()})} `})} </div> `}fieldElementName(e){return`ha-form-${e}`}_generateContext(e){if(!e.context)return;const t={};for(const[i,a]of Object.entries(e.context))t[i]=this.data[a];return t}createRenderRoot(){const e=super.createRenderRoot();return this.addValueChangedListener(e),e}addValueChangedListener(e){e.addEventListener("value-changed",e=>{e.stopPropagation();const t=e.target.schema;if(e.target===this)return;const i=!t.name||"flatten"in t&&t.flatten?e.detail.value:{[t.name]:e.detail.value};this.data={...this.data,...i},(0,n.r)(this,"value-changed",{value:this.data})})}_computeLabel(e,t){return this.computeLabel?this.computeLabel(e,t):e?e.name:""}_computeHelper(e){return this.computeHelper?this.computeHelper(e):""}_computeError(e,t){return Array.isArray(e)?s.qy`<ul> ${e.map(e=>s.qy`<li> ${this.computeError?this.computeError(e,t):e} </li>`)} </ul>`:this.computeError?this.computeError(e,t):e}_computeWarning(e,t){return this.computeWarning?this.computeWarning(e,t):e}constructor(...e){super(...e),this.narrow=!1,this.disabled=!1}}d.shadowRootOptions={mode:"open",delegatesFocus:!0},d.styles=s.AH`.root>*{display:block}.root>:not([own-margin]):not(:last-child){margin-bottom:24px}ha-alert[own-margin]{margin-bottom:4px}`,(0,a.Cg)([(0,r.MZ)({attribute:!1})],d.prototype,"hass",void 0),(0,a.Cg)([(0,r.MZ)({type:Boolean})],d.prototype,"narrow",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1})],d.prototype,"data",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1})],d.prototype,"schema",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1})],d.prototype,"error",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1})],d.prototype,"warning",void 0),(0,a.Cg)([(0,r.MZ)({type:Boolean})],d.prototype,"disabled",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1})],d.prototype,"computeError",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1})],d.prototype,"computeWarning",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1})],d.prototype,"computeLabel",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1})],d.prototype,"computeHelper",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1})],d.prototype,"localizeValue",void 0),d=(0,a.Cg)([(0,r.EM)("ha-form")],d)},14927(e,t,i){i.a(e,async function(e,a){try{i.d(t,{getLanguageOptions:()=>y});var s=i(74487),r=(i(18111),i(20116),i(61701),i(62826)),o=i(96196),n=i(44457),l=i(22786),h=i(1087),d=i(86198),c=i(52220),p=i(89668),u=i(18350),g=i(38508),m=e([s,u,g,d]);[s,u,g,d]=m.then?(await m)():m;const _="M7,10L12,15L17,10H7Z",v=[{name:"primary",weight:10},{name:"secondary",weight:8},{name:"search_labels.english",weight:5}],y=(e,t,i,a)=>{let s=[];const r={language:"en"};if(t){const t=p.P.translations;s=e.map(e=>{let i=t[e]?.nativeName;if(!i)try{i=new Intl.DisplayNames(e,{type:"language",fallback:"code"}).of(e)}catch(t){i=e}const s=(0,d.T)(e,a||{language:navigator.language}),o=(0,d.T)(e,r);return{id:e,primary:i,secondary:s!==i?s:void 0,search_labels:{english:o!==i?o:null}}})}else a&&(s=e.map(e=>{const t=(0,d.T)(e,a),i=(0,d.T)(e,r);return{id:e,primary:t,search_labels:{english:i!==t?i:null}}}));return!i&&a&&s.sort((e,t)=>(0,c.SH)(e.primary,t.primary,a.language)),s};class b extends o.WF{firstUpdated(e){super.firstUpdated(e),this._computeDefaultLanguageOptions()}_computeDefaultLanguageOptions(){this._defaultLanguages=Object.keys(p.P.translations)}render(){const e=this.label??(this.hass?.localize("ui.components.language-picker.language")||"Language"),t=this.value??(this.required&&!this.disabled?this._getItems()[0].id:this.value);return o.qy` <ha-generic-picker .hass="${this.hass}" .autofocus="${this.autofocus}" popover-placement="bottom-end" .notFoundLabel="${this._notFoundLabel}" .emptyLabel="${this.hass?.localize("ui.components.language-picker.no_languages")||"No languages available"}" .label="${e}" .value="${t}" .valueRenderer="${this._valueRenderer}" .disabled="${this.disabled}" .helper="${this.helper}" .getItems="${this._getItems}" .searchKeys="${v}" @value-changed="${this._changed}" hide-clear-icon> ${this.buttonStyle?o.qy`<ha-button slot="field" .disabled="${this.disabled}" @click="${this._openPicker}" appearance="plain" variant="neutral"> ${this._getLanguageName(t)} <ha-svg-icon slot="end" .path="${_}"></ha-svg-icon> </ha-button>`:o.s6} </ha-generic-picker> `}_openPicker(e){e.stopPropagation(),this.genericPicker.open()}_changed(e){e.stopPropagation(),this.value=e.detail.value,(0,h.r)(this,"value-changed",{value:this.value})}constructor(...e){super(...e),this.disabled=!1,this.required=!1,this.nativeName=!1,this.buttonStyle=!1,this.noSort=!1,this.inlineArrow=!1,this._defaultLanguages=[],this._getLanguagesOptions=(0,l.A)(y),this._getItems=()=>this._getLanguagesOptions(this.languages??this._defaultLanguages,this.nativeName,this.noSort,this.hass?.locale),this._getLanguageName=e=>this._getItems().find(t=>t.id===e)?.primary,this._valueRenderer=e=>o.qy`<span slot="headline">${this._getLanguageName(e)??e}</span> `,this._notFoundLabel=e=>{const t=o.qy`<b>‘${e}’</b>`;return this.hass?this.hass.localize("ui.components.language-picker.no_match",{term:t}):o.qy`No languages found for ${t}`}}}b.styles=o.AH`ha-generic-picker{width:100%;min-width:200px;display:block}`,(0,r.Cg)([(0,n.MZ)()],b.prototype,"value",void 0),(0,r.Cg)([(0,n.MZ)()],b.prototype,"label",void 0),(0,r.Cg)([(0,n.MZ)({type:Array})],b.prototype,"languages",void 0),(0,r.Cg)([(0,n.MZ)({attribute:!1})],b.prototype,"hass",void 0),(0,r.Cg)([(0,n.MZ)({type:Boolean,reflect:!0})],b.prototype,"disabled",void 0),(0,r.Cg)([(0,n.MZ)({type:Boolean})],b.prototype,"required",void 0),(0,r.Cg)([(0,n.MZ)()],b.prototype,"helper",void 0),(0,r.Cg)([(0,n.MZ)({attribute:"native-name",type:Boolean})],b.prototype,"nativeName",void 0),(0,r.Cg)([(0,n.MZ)({type:Boolean,attribute:"button-style"})],b.prototype,"buttonStyle",void 0),(0,r.Cg)([(0,n.MZ)({attribute:"no-sort",type:Boolean})],b.prototype,"noSort",void 0),(0,r.Cg)([(0,n.MZ)({attribute:"inline-arrow",type:Boolean})],b.prototype,"inlineArrow",void 0),(0,r.Cg)([(0,n.wk)()],b.prototype,"_defaultLanguages",void 0),(0,r.Cg)([(0,n.P)("ha-generic-picker",!0)],b.prototype,"genericPicker",void 0),b=(0,r.Cg)([(0,n.EM)("ha-language-picker")],b),a()}catch(e){a(e)}})},70759(e,t,i){i.a(e,async function(e,t){try{var a=i(62826),s=i(60346),r=i(96196),o=i(44457),n=i(63091),l=e([s]);s=(l.then?(await l)():l)[0];class h extends s.A{connectedCallback(){super.connectedCallback(),this.dir=n.G.document.dir}static get styles(){return[s.A.styles,r.AH`:host{--track-size:var(--ha-slider-track-size, 4px);--marker-height:calc(var(--ha-slider-track-size, 4px) / 2);--marker-width:calc(var(--ha-slider-track-size, 4px) / 2);--wa-color-surface-default:var(--card-background-color);--wa-color-neutral-fill-normal:var(--disabled-color);--wa-tooltip-background-color:var(--secondary-background-color);--wa-tooltip-color:var(--primary-text-color);--wa-tooltip-font-family:var(
            --ha-tooltip-font-family,
            var(--ha-font-family-body)
          );--wa-tooltip-font-size:var(
            --ha-tooltip-font-size,
            var(--ha-font-size-s)
          );--wa-tooltip-font-weight:var(
            --ha-tooltip-font-weight,
            var(--ha-font-weight-normal)
          );--wa-tooltip-line-height:var(
            --ha-tooltip-line-height,
            var(--ha-line-height-condensed)
          );--wa-tooltip-padding:8px;--wa-tooltip-border-radius:var(
            --ha-tooltip-border-radius,
            var(--ha-border-radius-sm)
          );--wa-tooltip-arrow-size:var(--ha-tooltip-arrow-size, 8px);--wa-z-index-tooltip:var(--ha-tooltip-z-index, 1000);min-width:100px;min-inline-size:100px;width:200px}#thumb{border:none;background-color:var(--ha-slider-thumb-color,var(--primary-color));overflow:hidden}#thumb:after{content:"";border-radius:50%;position:absolute;width:calc(var(--thumb-width) * 2 + 8px);height:calc(var(--thumb-height) * 2 + 8px);left:calc(-50% - 4px);top:calc(-50% - 4px);cursor:pointer}#slider:focus-visible:not(.disabled) #thumb,#slider:focus-visible:not(.disabled) #thumb-max,#slider:focus-visible:not(.disabled) #thumb-min{outline:var(--wa-focus-ring)}#track:after{content:"";position:absolute;top:calc(-50% - 4px);left:0;width:100%;height:calc(var(--track-size) * 2 + 8px);cursor:pointer}#indicator{background-color:var(--ha-slider-indicator-color,var(--primary-color))}:host([size=medium]){--thumb-width:20px;--thumb-height:20px}:host([size=small]){--thumb-width:16px;--thumb-height:16px}`]}constructor(...e){super(...e),this.size="small",this.withTooltip=!0}}(0,a.Cg)([(0,o.MZ)({reflect:!0})],h.prototype,"size",void 0),(0,a.Cg)([(0,o.MZ)({type:Boolean,attribute:"with-tooltip"})],h.prototype,"withTooltip",void 0),h=(0,a.Cg)([(0,o.EM)("ha-slider")],h),t()}catch(e){t(e)}})},27330(e,t,i){var a=i(62826),s=i(29781),r=i(71467),o=i(96196),n=i(44457);class l extends s.${constructor(...e){super(...e),this.narrow=!1}}l.styles=[r.R,o.AH`header{padding-top:var(--safe-area-inset-top)}.mdc-top-app-bar__row{height:var(--header-height);border-bottom:var(--app-header-border-bottom)}.mdc-top-app-bar--fixed-adjust{padding-top:calc(var(--header-height,0px) + var(--safe-area-inset-top,0px));padding-bottom:var(--safe-area-inset-bottom);padding-right:var(--safe-area-inset-right)}:host([narrow]) .mdc-top-app-bar--fixed-adjust{padding-left:var(--safe-area-inset-left)}.mdc-top-app-bar{--mdc-typography-headline6-font-weight:var(--ha-font-weight-normal);color:var(--app-header-text-color,var(--mdc-theme-on-primary,#fff));background-color:var(--app-header-background-color,var(--mdc-theme-primary));padding-top:var(--safe-area-inset-top);padding-right:var(--safe-area-inset-right)}:host([narrow]) .mdc-top-app-bar{padding-left:var(--safe-area-inset-left)}.mdc-top-app-bar__title{font-size:var(--ha-font-size-xl);padding-inline-start:var(--ha-space-6);padding-inline-end:initial}:host([narrow]) .mdc-top-app-bar__title{padding-inline-start:var(--ha-space-2)}`],(0,a.Cg)([(0,n.MZ)({type:Boolean,reflect:!0})],l.prototype,"narrow",void 0),l=(0,a.Cg)([(0,n.EM)("ha-top-app-bar-fixed")],l)},22675(e,t,i){i.d(t,{HV:()=>r,Hh:()=>s,KF:()=>n,ON:()=>o,g0:()=>d,s7:()=>l});var a=i(23832);const s="unavailable",r="unknown",o="on",n="off",l=[s,r],h=[s,r,n],d=(0,a.g)(l);(0,a.g)(h)},24367(e,t,i){i.d(t,{L:()=>s,z:()=>r});var a=i(23832);const s=["input_boolean","input_button","input_text","input_number","input_datetime","input_select","counter","timer","schedule"],r=(0,a.g)(s)},12895(e,t,i){var a=i(62826),s=i(96196),r=i(44457);class o extends s.WF{firstUpdated(e){super.firstUpdated(e),this.addEventListener("mouseover",()=>this.classList.add("hovering"),{capture:!0}),this.addEventListener("mouseout",()=>this.classList.remove("hovering"))}updated(e){super.updated(e),e.has("text")&&this.animating&&(this.animating=!1),e.has("active")&&this.active&&this.offsetWidth<this.scrollWidth&&(this.animating=!0)}render(){return this.text?s.qy` <div class="marquee-inner" @animationiteration="${this._onIteration}"> <span>${this.text}</span> ${this.animating?s.qy` <span>${this.text}</span> `:""} </div> `:s.s6}_onIteration(){this.active||(this.animating=!1)}constructor(...e){super(...e),this.active=!1,this.animating=!1}}o.styles=s.AH`:host{display:flex;position:relative;align-items:center;height:1.2em;contain:strict}.marquee-inner{position:absolute;left:0;right:0;text-overflow:ellipsis;overflow:hidden}:host(.hovering) .marquee-inner{text-overflow:initial;overflow:initial}:host([animating]) .marquee-inner{left:initial;right:initial;animation:marquee 10s linear infinite}:host([animating]) .marquee-inner span{padding-right:16px;padding-inline-end:16px;padding-inline-start:initial}@keyframes marquee{0%{transform:translateX(0%)}100%{transform:translateX(-50%)}}`,(0,a.Cg)([(0,r.MZ)()],o.prototype,"text",void 0),(0,a.Cg)([(0,r.MZ)({type:Boolean})],o.prototype,"active",void 0),(0,a.Cg)([(0,r.MZ)({reflect:!0,type:Boolean})],o.prototype,"animating",void 0),o=(0,a.Cg)([(0,r.EM)("hui-marquee")],o)},76704(e,t,i){i.d(t,{A:()=>r,B:()=>s});var a=i(53072);const s="Unsupported Media";class r{pause(){this.buffering=!1,this.player.pause()}play(){this.player.play()}setVolume(e){this.player.volume=e,this.onChange()}remove(){this._removed=!0,this.onChange=void 0,this.player&&this.player.pause()}static idleStateObj(){const e=(new Date).toISOString();return{state:"idle",entity_id:a.H1,last_changed:e,last_updated:e,attributes:{},context:{id:"",user_id:null,parent_id:null}}}toStateObj(){const e=r.idleStateObj();return e.state=this.buffering?"buffering":this.player.paused||this.player.ended?"paused":"playing",e.attributes={media_title:this.item.title,entity_picture:this.item.thumbnail,volume_level:this.player.volume,supported_features:a.vj.PLAY|a.vj.PAUSE|a.vj.VOLUME_SET},this.player.duration&&(e.attributes.media_duration=this.player.duration,e.attributes.media_position=this.player.currentTime,e.attributes.media_position_updated_at=e.last_updated),e}constructor(e,t,i,a,r){this.hass=e,this.item=t,this.resolved=i,this.onChange=r,this.buffering=!0,this._removed=!1,this._handleChange=()=>{this._removed||this.onChange()};const o=new Audio(this.resolved.url);if(""===o.canPlayType(i.mime_type))throw new Error(s);o.autoplay=!0,o.volume=a,o.addEventListener("play",this._handleChange),o.addEventListener("playing",()=>{this.buffering=!1,this._handleChange()}),o.addEventListener("pause",this._handleChange),o.addEventListener("ended",this._handleChange),o.addEventListener("canplaythrough",this._handleChange),this.player=o}}},64401(e,t,i){i.a(e,async function(e,t){try{i(18111),i(22489),i(61701);var a=i(62826),s=i(96196),r=i(44457),o=i(94333),n=i(3890),l=i(1087),h=i(71727),d=i(69093),c=i(28978),p=i(82286),u=i(9899),g=i(81836),m=i(58274),_=i(18350),v=i(59174),y=i(29823),b=(i(70947),i(26300),i(70759)),w=i(65829),f=i(93367),$=(i(67094),i(22675)),x=i(53072),C=i(65063),V=i(54706),M=(i(12895),i(76704)),H=e([_,v,y,b,w,f]);[_,v,y,b,w,f]=H.then?(await H)():H;const I="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",P="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z",k="M14,19H18V5H14M6,19H10V5H6V19Z",S="M8,5.14V19.14L19,12.14L8,5.14Z",L="M3,5V19L11,12M13,19H16V5H13M18,5V19H21V5",T="M18,18H6V6H18V18Z",q="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z";class A extends((0,V.E)(s.WF)){connectedCallback(){super.connectedCallback();const e=this._stateObj;e&&this._showProgressBar&&"playing"===e.state&&!this._progressInterval&&(this._progressInterval=(0,g.d)(this._progressInterval,()=>this._updateProgressBar()))}disconnectedCallback(){super.disconnectedCallback(),this._progressInterval=(0,g.p)(this._progressInterval),this._tearDownBrowserPlayer()}showResolvingNewMediaPicked(){this._tearDownBrowserPlayer(),this._newMediaExpected=!0,this._debouncedResetMediaExpected()}hideResolvingNewMediaPicked(){this._newMediaExpected=!1}playItem(e,t){if(this.entityId!==x.H1)throw Error("Only browser supported");this._tearDownBrowserPlayer();try{this._browserPlayer=new M.A(this.hass,e,t,this._browserPlayerVolume,()=>this.requestUpdate("_browserPlayer"))}catch(e){if(e.message!==M.B)throw e;(0,C.showAlertDialog)(this,{text:this.hass.localize("ui.components.media-browser.media_not_supported")})}this._newMediaExpected=!1}render(){if(this._newMediaExpected)return s.qy` <div class="controls-progress buffering"> ${(0,n.T)(new Promise(e=>{setTimeout(e,500)}).then(()=>s.qy`<ha-spinner></ha-spinner>`))} </div> `;const e=this.entityId===x.H1,t=this._stateObj;if(!t)return this._renderChoosePlayer(t,this._volumeValue);const i=this.narrow?"playing"===t.state&&((0,p.$)(t,x.vj.PAUSE)||(0,p.$)(t,x.vj.STOP))||("paused"===t.state||"idle"===t.state)&&(0,p.$)(t,x.vj.PLAY)||"on"===t.state&&((0,p.$)(t,x.vj.PLAY)||(0,p.$)(t,x.vj.PAUSE))?[{icon:"on"===t.state?L:"playing"!==t.state?S:(0,p.$)(t,x.vj.PAUSE)?k:T,action:"playing"!==t.state?"media_play":(0,p.$)(t,x.vj.PAUSE)?"media_pause":"media_stop"}]:void 0:(0,x.Un)(t,!0),a=(0,x.mm)(t),r=(0,x.Xm)(t.attributes.media_duration),l=(0,x.HN)(t.attributes.media_title||t.attributes.media_content_id),h=t.attributes.entity_picture_local||t.attributes.entity_picture;return s.qy` <div class="${(0,o.H)({info:!0,pointer:!e,app:"app"===this._browserPlayer?.item.media_class})}" @click="${this._openMoreInfo}"> ${h?s.qy`<img alt="" src="${this.hass.hassUrl(h)}">`:""} <div class="media-info"> <hui-marquee .text="${l||a||("playing"!==t.state&&"on"!==t.state?this.hass.localize("ui.card.media_player.nothing_playing"):"")}" .active="${this._marqueeActive}" @mouseover="${this._marqueeMouseOver}" @mouseleave="${this._marqueeMouseLeave}"></hui-marquee> <span class="secondary"> ${l?a:""} </span> </div> </div> <div class="controls-progress ${"buffering"===t.state?"buffering":""}"> ${"buffering"===t.state?s.qy`<ha-spinner></ha-spinner> `:s.qy` <div class="controls"> ${void 0===i?"":i.map(e=>s.qy` <ha-icon-button .label="${this.hass.localize(`ui.card.media_player.${e.action}`)}" .path="${e.icon}" action="${e.action}" @click="${this._handleControlClick}"> </ha-icon-button> `)} </div> ${t.attributes.media_duration===1/0?s.s6:this.narrow?s.qy`<ha-slider class="progress-slider" min="0" max="${t.attributes.media_duration||0}" step="1" .value="${(0,x.$6)(t)}" .withTooltip="${!1}" size="small" aria-label="${this.hass.localize("ui.card.media_player.track_position")}" ?disabled="${e||!(0,p.$)(t,x.vj.SEEK)}" @change="${this._handleMediaSeekChanged}"></ha-slider>`:s.qy` <div class="progress"> <div id="CurrentProgress"></div> <ha-slider class="progress-slider" min="0" max="${t.attributes.media_duration||0}" step="1" .value="${(0,x.$6)(t)}" .withTooltip="${!1}" size="small" aria-label="${this.hass.localize("ui.card.media_player.track_position")}" ?disabled="${e||!(0,p.$)(t,x.vj.SEEK)}" @change="${this._handleMediaSeekChanged}"></ha-slider> <div>${r}</div> </div> `} `} </div> ${this._renderChoosePlayer(t,this._volumeValue)} `}_renderChoosePlayer(e,t){const i=this.entityId===x.H1;return s.qy` <div class="choose-player ${i?"browser":""}"> ${!this.narrow&&e&&(0,p.$)(e,x.vj.VOLUME_SET)?s.qy` <ha-dropdown class="volume-menu" placement="top" .distance="${8}"> <ha-icon-button slot="trigger" .path="${q}"></ha-icon-button> <div class="volume-slider-container" @touchstart="${this._volumeController.handleTouchStart}" @touchmove="${this._volumeController.handleTouchMove}" @touchend="${this._volumeController.handleTouchEnd}" @touchcancel="${this._volumeController.handleTouchCancel}" @wheel="${this._volumeController.handleWheel}"> <ha-slider class="volume-slider" labeled min="0" max="100" .step="${this._volumeStep}" .value="${t}" @input="${this._volumeController.handleInput}" @change="${this._volumeController.handleChange}"> </ha-slider> </div> </ha-dropdown> `:""} <ha-dropdown class="player-menu" placement="top-end" .distance="${8}" @wa-select="${this._handlePlayerSelect}"> ${this.narrow?s.qy` <ha-icon-button slot="trigger"> ${this._renderIcon(i,e)} </ha-icon-button> `:s.qy` <ha-button slot="trigger"> <span slot="start"> ${this._renderIcon(i,e)} </span> ${this.narrow?s.s6:i?this.hass.localize("ui.components.media-browser.web-browser"):e?(0,c.u)(e):this.entityId} <ha-svg-icon slot="end" .path="${I}"></ha-svg-icon> </ha-button> `} <ha-dropdown-item class="${i?"selected":""}" .value="${x.H1}"> ${this.hass.localize("ui.components.media-browser.web-browser")} </ha-dropdown-item> ${this._mediaPlayerEntities.map(e=>s.qy` <ha-dropdown-item class="${e.entity_id===this.entityId?"selected":""}" .disabled="${e.state===$.Hh}" .value="${e.entity_id}"> ${(0,c.u)(e)} </ha-dropdown-item> `)} </ha-dropdown> </div> `}_renderIcon(e,t){return e?s.qy`<ha-svg-icon .path="${P}"></ha-svg-icon>`:t?s.qy` <ha-state-icon .hass="${this.hass}" .stateObj="${t}"></ha-state-icon> `:s.qy` <ha-domain-icon .hass="${this.hass}" .domain="${(0,h.m)(this.entityId)}"></ha-domain-icon> `}willUpdate(e){if(super.willUpdate(e),e.has("entityId")&&this._tearDownBrowserPlayer(),!e.has("hass")||this.entityId===x.H1)return;const t=e.get("hass");t&&t.states[this.entityId]===this.hass.states[this.entityId]||(this._newMediaExpected=!1),e.has("hass")&&this._updateVolumeValueFromState(this._stateObj)}updated(e){if(super.updated(e),this.entityId===x.H1){if(!e.has("_browserPlayer"))return}else{const t=e.get("hass");if(t&&t.states[this.entityId]===this._stateObj)return}const t=this._stateObj;this.entityId===x.H1&&this._updateVolumeValueFromState(t),this._updateProgressBar(),this._syncVolumeSlider(),this._showProgressBar&&"playing"===t?.state?this._progressInterval=(0,g.d)(this._progressInterval,()=>this._updateProgressBar()):!this._progressInterval||this._showProgressBar&&"playing"===t?.state||(this._progressInterval=(0,g.p)(this._progressInterval))}get _stateObj(){return this.entityId===x.H1?this._browserPlayer?this._browserPlayer.toStateObj():M.A.idleStateObj():this.hass.states[this.entityId]}_tearDownBrowserPlayer(){this._browserPlayer&&(this._browserPlayer.remove(),this._browserPlayer=void 0)}_openMoreInfo(){this.entityId!==x.H1&&(0,l.r)(this,"hass-more-info",{entityId:this.entityId})}get _showProgressBar(){if(!this.hass)return!1;const e=this._stateObj;return e&&("playing"===e.state||"paused"===e.state)&&"media_duration"in e.attributes&&"media_position"in e.attributes}get _mediaPlayerEntities(){return Object.values(this.hass.states).filter(e=>"media_player"===(0,d.t)(e)&&(0,p.$)(e,x.vj.BROWSE_MEDIA)&&!this.hass.entities[e.entity_id]?.hidden)}_updateProgressBar(){const e=this._stateObj;if(!this._progressBar||!e)return;if(!e.attributes.media_duration)return this._progressBar.value=0,void(this._currentProgress&&(this._currentProgress.innerHTML=""));const t=(0,x.$6)(e);this._progressBar.max=e.attributes.media_duration,this._progressBar.value=t,this._currentProgress&&(this._currentProgress.innerHTML=(0,x.Xm)(t))}_updateVolumeValueFromState(e){if(!e)return;const t=e.attributes.volume_level;"number"==typeof t&&Number.isFinite(t)&&(this._volumeValue=Math.round(100*t))}_syncVolumeSlider(){this._volumeSlider&&!this._volumeController.isInteracting&&(this._volumeSlider.value=this._volumeValue)}_handleControlClick(e){const t=e.currentTarget.getAttribute("action");this._browserPlayer?"media_pause"===t?this._browserPlayer.pause():"media_play"===t&&this._browserPlayer.play():(0,x.ce)(this.hass,this._stateObj,e.currentTarget.getAttribute("action"))}_handleMediaSeekChanged(e){if(this.entityId===x.H1||!this._stateObj)return;const t=e.target.value;this.hass.callService("media_player","media_seek",{entity_id:this._stateObj.entity_id,seek_position:t})}_marqueeMouseOver(){this._marqueeActive||(this._marqueeActive=!0)}_marqueeMouseLeave(){this._marqueeActive&&(this._marqueeActive=!1)}_handlePlayerSelect(e){const t=e.detail.item.value;(0,l.r)(this,"player-picked",{entityId:t})}_setVolume(e){const t=e/100;if(this._browserPlayer)return this._browserPlayerVolume=t,void this._browserPlayer.setVolume(t);(0,x.QI)(this.hass,this.entityId,t)}constructor(...e){super(...e),this.narrow=!1,this._marqueeActive=!1,this._newMediaExpected=!1,this._volumeValue=0,this._browserPlayerVolume=.8,this._volumeStep=2,this._debouncedVolumeSet=(0,u.s)(e=>{this._setVolume(e)},100),this._volumeController=new m.m({getSlider:()=>this._volumeSlider,step:this._volumeStep,onSetVolume:e=>this._setVolume(e),onSetVolumeDebounced:e=>this._debouncedVolumeSet(e),onValueUpdated:e=>{this._volumeValue=e}}),this._debouncedResetMediaExpected=(0,u.s)(()=>{this._newMediaExpected=!1},2e3)}}A.styles=s.AH`:host{display:flex;height:100px;box-sizing:border-box;background:var(--ha-card-background,var(--card-background-color,#fff));border-top:1px solid var(--divider-color);margin-right:var(--safe-area-inset-right)}:host([narrow]){margin-left:var(--safe-area-inset-left)}ha-slider{width:100%;min-width:100%;--ha-slider-thumb-color:var(--primary-color);--ha-slider-indicator-color:var(--primary-color)}.info{flex:1;display:flex;align-items:center;width:100%;margin-right:16px;margin-inline-end:16px;margin-inline-start:initial;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pointer{cursor:pointer}.progress,.secondary{color:var(--secondary-text-color)}.choose-player{flex:1;display:flex;justify-content:flex-end;align-items:center;padding:16px;gap:var(--ha-space-2)}.controls{height:48px;padding-bottom:4px}.controls-progress{flex:2;display:flex;align-items:center;justify-content:center;flex-direction:column;direction:ltr}.progress{display:flex;width:100%;align-items:center}.progress>div:first-child{margin-right:var(--ha-space-2)}.progress>div:last-child{margin-left:var(--ha-space-2)}.progress ha-slider{margin:0 4px}ha-dropdown.volume-menu::part(menu){width:220px;max-width:220px;overflow:visible;padding:15px 15px}.volume-slider-container{width:100%}@media (pointer:coarse){.volume-slider{pointer-events:none}}.media-info{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding-left:16px;padding-inline-start:16px;padding-inline-end:initial;width:100%}hui-marquee{font-size:1.2em;margin:0px 0 4px}img{height:100%}.app img{height:68px;margin:16px 0 16px 16px}:host([narrow]){height:57px}:host([narrow]) .controls-progress{flex:unset;min-width:48px}:host([narrow]) .controls-progress.buffering{flex:1}:host([narrow]) .media-info{padding-left:8px;padding-inline-start:8px;padding-inline-end:initial}:host([narrow]) .controls{display:flex;padding-bottom:0;--mdc-icon-size:30px}:host([narrow]) .choose-player{padding-left:0;padding-right:8px;padding-inline-start:0;padding-inline-end:8px;min-width:48px;flex:unset;justify-content:center}:host([narrow]) .choose-player.browser{justify-content:flex-end}:host([narrow]) ha-slider{position:absolute;top:-6px;left:0;right:0}ha-dropdown-item.selected{font-weight:var(--ha-font-weight-bold)}`,(0,a.Cg)([(0,r.MZ)({attribute:!1})],A.prototype,"hass",void 0),(0,a.Cg)([(0,r.MZ)({attribute:!1})],A.prototype,"entityId",void 0),(0,a.Cg)([(0,r.MZ)({type:Boolean,reflect:!0})],A.prototype,"narrow",void 0),(0,a.Cg)([(0,r.P)(".progress-slider")],A.prototype,"_progressBar",void 0),(0,a.Cg)([(0,r.P)("#CurrentProgress")],A.prototype,"_currentProgress",void 0),(0,a.Cg)([(0,r.P)(".volume-slider")],A.prototype,"_volumeSlider",void 0),(0,a.Cg)([(0,r.wk)()],A.prototype,"_marqueeActive",void 0),(0,a.Cg)([(0,r.wk)()],A.prototype,"_newMediaExpected",void 0),(0,a.Cg)([(0,r.wk)()],A.prototype,"_browserPlayer",void 0),A=(0,a.Cg)([(0,r.EM)("ha-bar-media-player")],A),t()}catch(e){t(e)}})},68965(e,t,i){i.a(e,async function(e,a){try{i.r(t);i(18111),i(61701);var s=i(62826),r=i(96196),o=i(44457),n=i(93905),l=i(1087),h=i(91926),d=i(29823),c=(i(70947),i(26300),i(90248),i(2054),i(27330),i(19262)),p=i(45098),u=i(10897),g=i(53072),m=i(17022),_=i(65063),v=i(14503),y=i(64401),b=i(75484),w=e([d,c,p,y]);[d,c,p,y]=w.then?(await w)():w;const f="M3,5A2,2 0 0,1 5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5C3.89,21 3,20.1 3,19V5M5,5V19H19V5H5M11,7H13A2,2 0 0,1 15,9V17H13V13H11V17H9V9A2,2 0 0,1 11,7M11,9V11H13V9H11Z",$="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",x="M10,4V8H14V4H10M16,4V8H20V4H16M16,10V14H20V10H16M16,16V20H20V16H16M14,20V16H10V20H14M8,20V16H4V20H8M8,14V10H4V14H8M8,8V4H4V8H8M10,14H14V10H10V14M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4C2.92,22 2,21.1 2,20V4A2,2 0 0,1 4,2Z",C="M11 15H17V17H11V15M9 7H7V9H9V7M11 13H17V11H11V13M11 9H17V7H11V9M9 11H7V13H9V11M21 5V19C21 20.1 20.1 21 19 21H5C3.9 21 3 20.1 3 19V5C3 3.9 3.9 3 5 3H19C20.1 3 21 3.9 21 5M19 5H5V19H19V5M9 15H7V17H9V15Z",V=(e,t)=>{let i=`/media-browser/${e}`;for(const e of t.slice(1))i+="/"+encodeURIComponent(`${e.media_content_type},${e.media_content_id}`);return i};class M extends r.WF{render(){return r.qy` <ha-top-app-bar-fixed .narrow="${this.narrow}"> ${this._navigateIds.length>1?r.qy` <ha-icon-button-arrow-prev slot="navigationIcon" @click="${this._goBack}"></ha-icon-button-arrow-prev> `:r.qy` <ha-menu-button slot="navigationIcon" .hass="${this.hass}" .narrow="${this.narrow}"></ha-menu-button> `} <div slot="title"> ${this._currentItem?this._currentItem.title:this.hass.localize("ui.components.media-browser.media-player-browser")} </div> <ha-media-manage-button slot="actionItems" .hass="${this.hass}" .currentItem="${this._currentItem}" @media-refresh="${this._refreshMedia}"></ha-media-manage-button> <ha-dropdown slot="actionItems" @wa-select="${this._handleMenuAction}"> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.common.menu")}" .path="${$}"></ha-icon-button> <ha-dropdown-item value="auto" class="${"auto"===this._preferredLayout?"selected_menu_item":""}"> ${this.hass.localize("ui.components.media-browser.auto")} <ha-svg-icon slot="icon" .path="${f}"></ha-svg-icon> </ha-dropdown-item> <ha-dropdown-item value="grid" class="${"grid"===this._preferredLayout?"selected_menu_item":""}"> ${this.hass.localize("ui.components.media-browser.grid")} <ha-svg-icon slot="icon" .path="${x}"></ha-svg-icon> </ha-dropdown-item> <ha-dropdown-item value="list" class="${"list"===this._preferredLayout?"selected_menu_item":""}"> ${this.hass.localize("ui.components.media-browser.list")} <ha-svg-icon slot="icon" .path="${C}"></ha-svg-icon> </ha-dropdown-item> </ha-dropdown> <ha-media-player-browse .hass="${this.hass}" .entityId="${this._entityId}" .navigateIds="${this._navigateIds}" .preferredLayout="${this._preferredLayout}" @media-picked="${this._mediaPicked}" @media-browsed="${this._mediaBrowsed}"></ha-media-player-browse> </ha-top-app-bar-fixed> <ha-bar-media-player .hass="${this.hass}" .entityId="${this._entityId}" .narrow="${this.narrow}" @player-picked="${this._playerPicked}"></ha-bar-media-player> `}_handleMenuAction(e){const t=e.detail.item.value;["auto","grid","list"].includes(t)&&(this._preferredLayout=t)}willUpdate(e){if(super.willUpdate(e),this.hasUpdated||this._entityId===g.H1||this._entityId in this.hass.states||(this._entityId=g.H1),!e.has("route"))return;if(""===this.route.path)return void(0,h.o)(`/media-browser/${this._entityId}`,{replace:!0});const[t,...i]=this.route.path.substring(1).split("/");if(t!==this._entityId){if(t!==g.H1&&void 0===this.hass.states[t])return(0,h.o)(`/media-browser/${g.H1}`,{replace:!0}),void(0,_.showAlertDialog)(this,{text:this.hass.localize("ui.panel.media-browser.error.player_not_exist",{name:t})});this._entityId=t}this._navigateIds=[{media_content_type:void 0,media_content_id:void 0},...i.map(e=>{const t=decodeURIComponent(e),i=t.indexOf(",");return{media_content_type:t.substring(0,i),media_content_id:t.substring(i+1)}})],this._currentItem=void 0}_goBack(){(0,h.o)(V(this._entityId,this._navigateIds.slice(0,-1)))}_mediaBrowsed(e){e.detail.ids!==this._navigateIds?(0,h.o)(V(this._entityId,e.detail.ids),{replace:e.detail.replace}):this._currentItem=e.detail.current}async _mediaPicked(e){const t=e.detail.item;if(this._entityId!==g.H1){this._player.showResolvingNewMediaPicked();try{await(0,g.ie)(this.hass,this._entityId,t.media_content_id,t.media_content_type)}catch(e){this._player.hideResolvingNewMediaPicked()}return}if((0,u.j4)(t.media_content_id))return void(0,l.r)(this,"hass-more-info",{entityId:(0,u.vc)(t.media_content_id)});let i;this._player.showResolvingNewMediaPicked();try{i=await(0,m.A1)(this.hass,t.media_content_id)}catch(e){return(0,_.showAlertDialog)(this,{title:this.hass.localize("ui.components.media-browser.media_browsing_error"),text:e.message}),void this._player.hideResolvingNewMediaPicked()}i.mime_type.startsWith("audio/")?this._player.playItem(t,i):((0,b.M)(this,{sourceUrl:i.url,sourceType:i.mime_type,title:t.title,can_play:t.can_play}),this._player.hideResolvingNewMediaPicked())}_playerPicked(e){const t=e.detail.entityId;t!==this._entityId&&(0,h.o)(V(t,this._navigateIds))}_refreshMedia(){this._browser.refresh()}static get styles(){return[v.RF,r.AH`ha-media-manage-button{--mdc-theme-primary:var(--app-header-text-color)}ha-media-player-browse{height:calc(100vh - (100px + var(--header-height,0px) + var(--safe-area-inset-top,0px) + var(--safe-area-inset-bottom,0px)))}:host([narrow]) ha-media-player-browse{height:calc(100vh - (68px + var(--header-height,0px) + var(--safe-area-inset-top,0px) + var(--safe-area-inset-bottom,0px)))}.selected_menu_item{color:var(--primary-color)}.selected_menu_item ha-svg-icon{color:currentColor}ha-bar-media-player{position:fixed;bottom:var(--safe-area-inset-bottom,0px);width:calc(var(--mdc-top-app-bar-width,100%) - var(--safe-area-inset-right,0px))}:host([narrow]) ha-bar-media-player{width:calc(var(--mdc-top-app-bar-width,100%) - var(--safe-area-inset-left,0px) - var(--safe-area-inset-right,0px))}`]}constructor(...e){super(...e),this.narrow=!1,this._preferredLayout="auto",this._navigateIds=[{media_content_id:void 0,media_content_type:void 0}],this._entityId=g.H1}}(0,s.Cg)([(0,o.MZ)({attribute:!1})],M.prototype,"hass",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean,reflect:!0})],M.prototype,"narrow",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],M.prototype,"route",void 0),(0,s.Cg)([(0,o.wk)()],M.prototype,"_currentItem",void 0),(0,s.Cg)([(0,o.wk)(),(0,n.I)({key:"mediaBrowserPreferredLayout",state:!0,subscribe:!1})],M.prototype,"_preferredLayout",void 0),(0,s.Cg)([(0,o.wk)(),(0,n.I)({key:"mediaBrowseEntityId",state:!0,subscribe:!1})],M.prototype,"_entityId",void 0),(0,s.Cg)([(0,o.P)("ha-media-player-browse")],M.prototype,"_browser",void 0),(0,s.Cg)([(0,o.P)("ha-bar-media-player")],M.prototype,"_player",void 0),M=(0,s.Cg)([(0,o.EM)("ha-panel-media-browser")],M),a()}catch(e){a(e)}})},75484(e,t,i){i.d(t,{M:()=>s});var a=i(1087);const s=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"hui-dialog-web-browser-play-media",dialogImport:()=>Promise.all([i.e("93785"),i.e("3249")]).then(i.bind(i,42856)),dialogParams:t})}}};
//# sourceMappingURL=20360.f786eb3b5d4e00bf.js.map