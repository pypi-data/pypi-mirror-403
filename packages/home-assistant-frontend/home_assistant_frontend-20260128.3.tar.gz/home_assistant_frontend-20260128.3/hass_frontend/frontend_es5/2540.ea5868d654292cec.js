"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["2540"],{44423:function(i,e,t){t.a(i,async function(i,a){try{t.r(e),t.d(e,{HuiDialogEditViewHeader:function(){return A}});t(3362),t(62953);var s=t(40445),o=t(96196),n=t(77845),l=t(94333),d=t(1087),h=t(19459),r=t(18350),c=(t(72554),t(76538),t(29823)),g=(t(70947),t(65829)),_=t(10763),p=t(65063),m=t(14503),u=t(67901),v=i([r,c,g,_,u]);[r,c,g,_,u]=v.then?(await v)():v;let w,b,f,y,$=i=>i;const C="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",M="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",k="M3 6V8H14V6H3M3 10V12H14V10H3M20 10.1C19.9 10.1 19.7 10.2 19.6 10.3L18.6 11.3L20.7 13.4L21.7 12.4C21.9 12.2 21.9 11.8 21.7 11.6L20.4 10.3C20.3 10.2 20.2 10.1 20 10.1M18.1 11.9L12 17.9V20H14.1L20.2 13.9L18.1 11.9M3 14V16H10V14H3Z";class A extends o.WF{updated(i){if(this._yamlMode&&i.has("_yamlMode")){var e;const i=Object.assign({},this._config);null===(e=this._editor)||void 0===e||e.setValue(i)}}showDialog(i){this._params=i,this._dirty=!1,this._config=this._params.config}closeDialog(){this._params=void 0,this._config=void 0,this._yamlMode=!1,this._dirty=!1,this._saving=!1,(0,d.r)(this,"dialog-closed",{dialog:this.localName})}render(){if(!this._params||!this.hass)return o.s6;let i;i=this._yamlMode?(0,o.qy)(w||(w=$` <ha-yaml-editor .hass="${0}" dialogInitialFocus @value-changed="${0}"></ha-yaml-editor> `),this.hass,this._viewYamlChanged):(0,o.qy)(b||(b=$` <hui-view-header-settings-editor .hass="${0}" .config="${0}" @config-changed="${0}"></hui-view-header-settings-editor> `),this.hass,this._config,this._configChanged);const e=this.hass.localize("ui.panel.lovelace.editor.edit_view_header.header");return(0,o.qy)(f||(f=$` <ha-dialog open scrimClickAction escapeKeyAction @closed="${0}" .heading="${0}" class="${0}"> <ha-dialog-header show-border slot="heading"> <ha-icon-button slot="navigationIcon" dialogAction="cancel" .label="${0}" .path="${0}"></ha-icon-button> <h2 slot="title">${0}</h2> <ha-dropdown slot="actionItems" placement="bottom-end" @wa-select="${0}"> <ha-icon-button slot="trigger" .label="${0}" .path="${0}"></ha-icon-button> <ha-dropdown-item value="toggle-mode"> ${0} <ha-svg-icon slot="icon" .path="${0}"></ha-svg-icon> </ha-dropdown-item> </ha-dropdown> </ha-dialog-header> ${0} <ha-button slot="primaryAction" .disabled="${0}" @click="${0}" .loading="${0}"> ${0}</ha-button> </ha-dialog> `),this.closeDialog,e,(0,l.H)({"yaml-mode":this._yamlMode}),this.hass.localize("ui.common.close"),C,e,this._handleAction,this.hass.localize("ui.common.menu"),M,this.hass.localize("ui.panel.lovelace.editor.edit_view_header.edit_"+(this._yamlMode?"ui":"yaml")),k,i,!this._config||this._saving||!this._dirty,this._save,this._saving,this.hass.localize("ui.common.save"))}async _handleAction(i){"toggle-mode"===i.detail.item.value&&(this._yamlMode=!this._yamlMode)}_configChanged(i){i.detail&&i.detail.config&&!(0,h.b)(this._config,i.detail.config)&&(this._config=i.detail.config,this._dirty=!0)}_viewYamlChanged(i){i.stopPropagation(),i.detail.isValid&&(this._config=i.detail.value,this._dirty=!0)}async _save(){if(this._params&&this._config){this._saving=!0;try{await this._params.saveConfig(this._config),this.closeDialog()}catch(i){(0,p.showAlertDialog)(this,{text:`${this.hass.localize("ui.panel.lovelace.editor.edit_view_header.saving_failed")}: ${i.message}`})}finally{this._saving=!1}}}static get styles(){return[m.nA,m.kO,(0,o.AH)(y||(y=$`ha-dialog.yaml-mode{--dialog-content-padding:0}h2{margin:0;font-size:inherit;font-weight:inherit}@media all and (min-width:600px){ha-dialog{--mdc-dialog-min-width:600px}}`))]}constructor(...i){super(...i),this._saving=!1,this._dirty=!1,this._yamlMode=!1}}(0,s.Cg)([(0,n.MZ)({attribute:!1})],A.prototype,"hass",void 0),(0,s.Cg)([(0,n.wk)()],A.prototype,"_params",void 0),(0,s.Cg)([(0,n.wk)()],A.prototype,"_config",void 0),(0,s.Cg)([(0,n.wk)()],A.prototype,"_saving",void 0),(0,s.Cg)([(0,n.wk)()],A.prototype,"_dirty",void 0),(0,s.Cg)([(0,n.wk)()],A.prototype,"_yamlMode",void 0),(0,s.Cg)([(0,n.P)("ha-yaml-editor")],A.prototype,"_editor",void 0),A=(0,s.Cg)([(0,n.EM)("hui-dialog-edit-view-header")],A),a()}catch(w){a(w)}})},67901:function(i,e,t){t.a(i,async function(i,e){try{t(62953);var a=t(40445),s=t(96196),o=t(77845),n=t(22786),l=t(1087),d=t(15638),h=(t(52763),t(98440)),r=t(71769),c=i([h]);h=(c.then?(await c)():c)[0];let g,_=i=>i;class p extends s.WF{connectedCallback(){super.connectedCallback(),this._unsubMql=(0,r.m)("(max-width: 600px)",i=>{this.narrow=i})}disconnectedCallback(){var i;super.disconnectedCallback(),null===(i=this._unsubMql)||void 0===i||i.call(this),this._unsubMql=void 0}render(){var i,e,t;if(!this.hass)return s.s6;const a={layout:(null===(i=this.config)||void 0===i?void 0:i.layout)||h.h0,badges_position:(null===(e=this.config)||void 0===e?void 0:e.badges_position)||h.hh,badges_wrap:(null===(t=this.config)||void 0===t?void 0:t.badges_wrap)||h.Sm},o=this.narrow,n=(0,d.qC)(this.hass),l=this._schema(this.hass.localize,n,o);return(0,s.qy)(g||(g=_` <ha-form .hass="${0}" .data="${0}" .schema="${0}" .computeLabel="${0}" @value-changed="${0}"></ha-form> `),this.hass,a,l,this._computeLabel,this._valueChanged)}_valueChanged(i){i.stopPropagation();const e=i.detail.value,t=Object.assign(Object.assign({},this.config),e);(0,l.r)(this,"config-changed",{config:t})}constructor(...i){super(...i),this.narrow=!1,this._schema=(0,n.A)((i,e,t)=>[{name:"layout",selector:{select:{mode:"box",box_max_columns:t?1:3,options:["responsive","start","center"].map(t=>({value:t,label:i(`ui.panel.lovelace.editor.edit_view_header.settings.layout_options.${"start"===t&&e?`${t}_rtl`:t}`),description:i(`ui.panel.lovelace.editor.edit_view_header.settings.layout_options.${t}_description`),image:{src:`/static/images/form/view_header_layout_${t}.svg`,src_dark:`/static/images/form/view_header_layout_${t}_dark.svg`,flip_rtl:!0}}))}}},{name:"badges_position",selector:{select:{mode:"box",options:["bottom","top"].map(e=>({value:e,label:i(`ui.panel.lovelace.editor.edit_view_header.settings.badges_position_options.${e}`),image:{src:`/static/images/form/view_header_badges_position_${e}.svg`,src_dark:`/static/images/form/view_header_badges_position_${e}_dark.svg`,flip_rtl:!0}}))}}},{name:"badges_wrap",selector:{select:{mode:"box",options:["wrap","scroll"].map(e=>Object.assign(Object.assign({value:e,label:i(`ui.panel.lovelace.editor.edit_view_header.settings.badges_wrap_options.${e}`)},"scroll"===e&&{description:i(`ui.panel.lovelace.editor.edit_view_header.settings.badges_wrap_options.${e}_description`)}),{},{image:{src:`/static/images/form/view_header_badges_wrap_${e}.svg`,src_dark:`/static/images/form/view_header_badges_wrap_${e}_dark.svg`,flip_rtl:!0}}))}}}]),this._computeLabel=i=>{switch(i.name){case"layout":case"badges_position":case"badges_wrap":return this.hass.localize(`ui.panel.lovelace.editor.edit_view_header.settings.${i.name}`);default:return""}}}}(0,a.Cg)([(0,o.MZ)({attribute:!1})],p.prototype,"hass",void 0),(0,a.Cg)([(0,o.MZ)({attribute:!1})],p.prototype,"config",void 0),(0,a.Cg)([(0,o.wk)({attribute:!1})],p.prototype,"narrow",void 0),p=(0,a.Cg)([(0,o.EM)("hui-view-header-settings-editor")],p),e()}catch(g){e(g)}})}}]);
//# sourceMappingURL=2540.ea5868d654292cec.js.map