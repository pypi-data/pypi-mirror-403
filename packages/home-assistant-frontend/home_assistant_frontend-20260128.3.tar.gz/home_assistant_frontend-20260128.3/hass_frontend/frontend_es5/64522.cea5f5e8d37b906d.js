"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["64522"],{26571:function(i,t,e){e.d(t,{Al:function(){return s},KY:function(){return n},PN:function(){return a},dG:function(){return d},jm:function(){return l},m7:function(){return g},sR:function(){return h},t1:function(){return c},t2:function(){return f},x:function(){return _},yu:function(){return u}});var o=e(95350);const n=["bluetooth","dhcp","discovery","esphome","hardware","hassio","homekit","integration_discovery","mqtt","ssdp","unignore","usb","zeroconf"],s=["reauth"],r={"HA-Frontend-Base":`${location.protocol}//${location.host}`},c=(i,t,e)=>{var o;return i.callApi("POST","config/config_entries/flow",{handler:t,show_advanced_options:Boolean(null===(o=i.userData)||void 0===o?void 0:o.showAdvanced),entry_id:e},r)},a=(i,t)=>i.callApi("GET",`config/config_entries/flow/${t}`,void 0,r),l=(i,t,e)=>i.callApi("POST",`config/config_entries/flow/${t}`,e,r),d=(i,t,e)=>i.callWS({type:"config_entries/ignore_flow",flow_id:t,title:e}),h=(i,t)=>i.callApi("DELETE",`config/config_entries/flow/${t}`),u=(i,t)=>i.callApi("GET","config/config_entries/flow_handlers"+(t?`?type=${t}`:"")),f=i=>i.sendMessagePromise({type:"config_entries/flow/progress"}),_=(i,t)=>i.connection.subscribeMessage(i=>t(i),{type:"config_entries/flow/subscribe"}),g=(i,t)=>t.context.title_placeholders&&0!==Object.keys(t.context.title_placeholders).length?i(`component.${t.handler}.config.flow_title`,t.context.title_placeholders)||("name"in t.context.title_placeholders?t.context.title_placeholders.name:(0,o.p$)(i,t.handler)):(0,o.p$)(i,t.handler)},76559:function(i,t,e){e.d(t,{X:function(){return n},n:function(){return s}});e(3362),e(62953);var o=e(1087);const n=(i,t)=>{(0,o.r)(i,"show-dialog",{dialogTag:"dialog-add-integration",dialogImport:()=>Promise.all([e.e("92769"),e.e("50672")]).then(e.bind(e,60051)),dialogParams:t})},s=(i,t)=>{(0,o.r)(i,"show-dialog",{dialogTag:"dialog-yaml-integration",dialogImport:()=>e.e("24096").then(e.bind(e,95683)),dialogParams:t})}},38865:function(i,t,e){e.r(t),e.d(t,{HuiDiscoveredDevicesCard:function(){return v}});e(49255),e(74423),e(44114),e(18111),e(22489),e(7588),e(3362),e(62953);var o=e(40445),n=e(96196),s=e(77845),r=e(1087),c=(e(76776),e(22573),e(80933),e(32248),e(26571)),a=e(54706),l=e(76559),d=e(37544),h=e(97176),u=e(51989);let f,_,g=i=>i;class v extends((0,a.E)(n.WF)){hassSubscribe(){return[(0,c.x)(this.hass,i=>{if(0===i.length)return void(this._discoveredFlows=[]);let t=!1;const e=[];if(i.forEach(i=>{"removed"!==i.type?null!==i.type&&"added"!==i.type||(null===i.type&&(t=!0),c.KY.includes(i.flow.context.source)&&e.push(i.flow)):this._discoveredFlows=this._discoveredFlows.filter(t=>t.flow_id!==i.flow_id)}),!e.length&&!t)return;const o=t?[]:this._discoveredFlows;this._discoveredFlows=[...o,...e]})]}setConfig(i){this._config=i}getCardSize(){var i;return null!==(i=this._config)&&void 0!==i&&i.vertical?2:1}getGridOptions(){var i;let t=6,e=1;return null!==(i=this._config)&&void 0!==i&&i.vertical&&(e++,t=3),{columns:6,rows:e,min_columns:t,min_rows:e}}async _handleAction(i){var t;if("tap"===i.detail.action&&!(0,h.h)(null===(t=this._config)||void 0===t?void 0:t.tap_action))return await this.hass.loadFragmentTranslation("config"),void(0,l.X)(this,{brand:"_discovered"});(0,d.$)(this,this.hass,this._config,i.detail.action)}get _hasCardAction(){var i,t,e,o;return!(null!==(i=this._config)&&void 0!==i&&i.tap_action)||(0,h.h)(null===(t=this._config)||void 0===t?void 0:t.tap_action)||(0,h.h)(null===(e=this._config)||void 0===e?void 0:e.hold_action)||(0,h.h)(null===(o=this._config)||void 0===o?void 0:o.double_tap_action)}willUpdate(i){var t;if(super.willUpdate(i),!this._config||!this.hass)return;const e=!(null!==(t=this.hass.user)&&void 0!==t&&t.is_admin)||this._config.hide_empty&&0===this._discoveredFlows.length;e!==this.hidden&&(this.style.display=e?"none":"",this.toggleAttribute("hidden",e),(0,r.r)(this,"card-visibility-changed",{value:!e}))}render(){if(!this._config||!this.hass||this.hidden)return n.s6;const i=this._discoveredFlows.length,t=this.hass.localize("ui.card.discovered-devices.title"),e=i>0?this.hass.localize("ui.card.discovered-devices.count_devices",{count:i}):this.hass.localize("ui.card.discovered-devices.no_devices");return(0,n.qy)(f||(f=g` <ha-card> <ha-tile-container .vertical="${0}" .interactive="${0}" .actionHandlerOptions="${0}" @action="${0}"> <ha-tile-icon slot="icon" .iconPath="${0}"></ha-tile-icon> <ha-tile-info slot="info" .primary="${0}" .secondary="${0}"></ha-tile-info> </ha-tile-container> </ha-card> `),Boolean(this._config.vertical),this._hasCardAction,{hasHold:(0,h.h)(this._config.hold_action),hasDoubleClick:(0,h.h)(this._config.double_tap_action)},this._handleAction,"M3 6H21V4H3C1.9 4 1 4.9 1 6V18C1 19.1 1.9 20 3 20H7V18H3V6M13 12H9V13.78C8.39 14.33 8 15.11 8 16C8 16.89 8.39 17.67 9 18.22V20H13V18.22C13.61 17.67 14 16.88 14 16S13.61 14.33 13 13.78V12M11 17.5C10.17 17.5 9.5 16.83 9.5 16S10.17 14.5 11 14.5 12.5 15.17 12.5 16 11.83 17.5 11 17.5M22 8H16C15.5 8 15 8.5 15 9V19C15 19.5 15.5 20 16 20H22C22.5 20 23 19.5 23 19V9C23 8.5 22.5 8 22 8M21 18H17V10H21V18Z",t,e)}constructor(...i){super(...i),this._discoveredFlows=[]}}v.styles=[u.c,(0,n.AH)(_||(_=g`:host{--tile-color:var(--primary-color)}`))],(0,o.Cg)([(0,s.MZ)({attribute:!1})],v.prototype,"hass",void 0),(0,o.Cg)([(0,s.wk)()],v.prototype,"_config",void 0),(0,o.Cg)([(0,s.wk)()],v.prototype,"_discoveredFlows",void 0),v=(0,o.Cg)([(0,s.EM)("hui-discovered-devices-card")],v)}}]);
//# sourceMappingURL=64522.cea5f5e8d37b906d.js.map