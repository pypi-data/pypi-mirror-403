/*! For license information please see 92264.4d7499c305910784.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["92264"],{90409:function(t,e,n){n.d(e,{A:function(){return i}});n(18111),n(61701);function i(t){const e=t.split(":").map(Number);return 3600*e[0]+60*e[1]+e[2]}},8872:function(t,e,n){n.d(e,{F:function(){return s},_:function(){return a}});n(3362),n(62953);var i=n(1087);const s=()=>Promise.all([n.e("92769"),n.e("62453"),n.e("40469"),n.e("26233"),n.e("39005"),n.e("66201"),n.e("11444")]).then(n.bind(n,22756)),a=(t,e)=>{(0,i.r)(t,"show-dialog",{dialogTag:"dialog-device-registry-detail",dialogImport:s,dialogParams:e})}},74699:function(t,e,n){n.d(e,{X:function(){return a}});n(3362),n(62953);var i=n(1087);const s=()=>Promise.all([n.e("1535"),n.e("95309")]).then(n.bind(n,284)),a=(t,e)=>{(0,i.r)(t,"show-dialog",{dialogTag:"dialog-edit-home",dialogImport:s,dialogParams:e})}},75480:function(t,e,n){n.d(e,{x:function(){return a}});n(3362),n(62953);var i=n(1087);const s=()=>n.e("31581").then(n.bind(n,31756)),a=(t,e)=>{(0,i.r)(t,"show-dialog",{dialogTag:"dialog-new-overview",dialogImport:s,dialogParams:e})}},50647:function(t,e,n){n.a(t,async function(t,i){try{n.r(e);n(3362),n(27495),n(25440),n(62953);var s=n(40445),a=n(88696),o=n(96196),r=n(77845),c=n(6415),l=n(62384),h=n(91926),d=n(9899),u=n(19459),f=n(18350),v=(n(67094),n(53641)),g=n(28989),p=n(48250),m=n(53580),_=n(81619),w=n(34023),y=n(8872),b=n(76559),C=n(29994),x=n(93275),N=n(74699),$=n(75480),T=n(99774),D=t([f,C,a]);[f,C,a]=D.then?(await D)():D;let I,A,U,M=t=>t;const Z="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z";class k extends o.WF{get _showBanner(){var t;if(this._config.welcome_banner_dismissed)return!1;if("RUNNING"!==this.hass.config.state)return!1;const e=null===(t=this.hass.systemData)||void 0===t?void 0:t.onboarded_version,n=e&&(0,l.v)(e,2026,2),i=(0,T.Dq)(this.hass);return!n&&!i}willUpdate(t){if(super.willUpdate(t),!this.hasUpdated)return void this._setup();if(t.has("route")&&this._updateExtraActionItems(),!t.has("hass"))return;const e=t.get("hass");if(e&&e.localize!==this.hass.localize)this._setLovelace();else if(e&&this.hass){if((e.entities!==this.hass.entities||e.devices!==this.hass.devices||e.areas!==this.hass.areas||e.floors!==this.hass.floors)&&"RUNNING"===this.hass.config.state)return void this._debounceRegistriesChanged();"RUNNING"===this.hass.config.state&&"RUNNING"!==e.config.state&&this._setup()}}async _setup(){this._updateExtraActionItems();try{const[t,e]=await Promise.all([this.hass.loadFragmentTranslation("lovelace"),(0,p.wE)(this.hass.connection,"home")]);this._config=e||{}}catch(t){console.error("Failed to load favorites:",t),this._config={}}this._setLovelace()}_updateExtraActionItems(){var t;const e=null===(t=this.route)||void 0===t||null===(t=t.path)||void 0===t?void 0:t.split("/")[1];null!=e&&e.startsWith("areas-")?this._extraActionItems=[{icon:Z,labelKey:"ui.panel.lovelace.menu.edit_area",action:this._editArea}]:this._extraActionItems=e&&"overview"!==e?void 0:[{icon:Z,labelKey:"ui.panel.lovelace.menu.edit_overview",action:this._editHome}]}async _showAddIntegrationDialog(){await this.hass.loadFragmentTranslation("config"),(0,b.X)(this,{navigateToResult:!1})}_showAssignAreaDialog(t){const e=this.hass.devices[t];e&&(0,y._)(this,{device:e,updateEntry:async e=>{await(0,g.FB)(this.hass,t,e)}})}render(){if(!this._lovelace)return o.s6;const t=(0,c.W)({"--view-container-padding-top":this._bannerHeight.value?`${this._bannerHeight.value}px`:void 0});return(0,o.qy)(I||(I=M` ${0} <hui-root .hass="${0}" .narrow="${0}" .lovelace="${0}" .route="${0}" .panel="${0}" no-edit .extraActionItems="${0}" @ll-custom="${0}" style="${0}"></hui-root> `),this._renderBanner(),this.hass,this.narrow,this._lovelace,this.route,this.panel,this._extraActionItems,this._handleLLCustomEvent,t)}_renderBanner(){return this._showBanner?(0,o.qy)(A||(A=M` <div class="banner"> <div class="banner-content"> <ha-svg-icon .path="${0}"></ha-svg-icon> <span class="banner-text"> Welcome to the new overview dashboard. </span> </div> <div class="banner-actions"> <ha-button size="small" appearance="filled" @click="${0}"> Learn more </ha-button> </div> </div> `),m.mdiHomeAssistant,this._learnMore):o.s6}updated(t){if(super.updated(t),t.has("_showBanner")||t.has("_lovelace")){var e;const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".banner");t&&this._bannerHeight.observe(t)}}_learnMore(){(0,$.x)(this,{dismiss:async()=>{const t=Object.assign(Object.assign({},this._config),{},{welcome_banner_dismissed:!0});this._config=t,await(0,p.x0)(this.hass.connection,"home",t)}})}async _setLovelace(){var t;const e={strategy:{type:"home",favorite_entities:this._config.favorite_entities,home_panel:!0}},n=await(0,x.d4)(e,this.hass);(0,u.b)(n,null===(t=this._lovelace)||void 0===t?void 0:t.config)||(this._lovelace={config:n,rawConfig:n,editMode:!1,urlPath:"home",mode:"generated",locale:this.hass.locale,enableFullEditMode:()=>{},saveConfig:async()=>{},deleteConfig:async()=>{},setEditMode:()=>{},showToast:()=>{}})}async _saveConfig(t){try{await(0,p.x0)(this.hass.connection,"home",t),this._config=t||{}}catch(e){return console.error("Failed to save home configuration:",e),void(0,_.P)(this,{message:this.hass.localize("ui.panel.home.editor.save_failed"),duration:0,dismissable:!0})}(0,_.P)(this,{message:this.hass.localize("ui.common.successfully_saved")}),this._setLovelace()}constructor(...t){super(...t),this.narrow=!1,this._config={},this._bannerHeight=new a.P(this,{target:null,callback:t=>{var e,n;return null!==(e=null===(n=t[0])||void 0===n||null===(n=n.target)||void 0===n?void 0:n.offsetHeight)&&void 0!==e?e:0}}),this._debounceRegistriesChanged=(0,d.s)(()=>this._registriesChanged(),200),this._registriesChanged=async()=>{var t;const e=null===(t=this.route)||void 0===t||null===(t=t.path)||void 0===t?void 0:t.split("/")[1];if(null!=e&&e.startsWith("areas-")){const t=e.replace("areas-","");if(!this.hass.areas[t])return void(0,h.o)("/home")}this._setLovelace()},this._editHome=()=>{(0,N.X)(this,{config:this._config,saveConfig:async t=>{await this._saveConfig(t)}})},this._editArea=async()=>{var t;const e=null===(t=this.route)||void 0===t||null===(t=t.path)||void 0===t?void 0:t.split("/")[1];if(null==e||!e.startsWith("areas-"))return;const n=e.replace("areas-",""),i=this.hass.areas[n];i&&(await this.hass.loadFragmentTranslation("config"),(0,w.J)(this,{entry:i,updateEntry:t=>(0,v.gs)(this.hass,n,t)}))},this._handleLLCustomEvent=t=>{const e=t.detail;if(e.home_panel){const{type:t}=e.home_panel;switch(t){case"assign_area":{const{device_id:t}=e.home_panel;this._showAssignAreaDialog(t);break}case"add_integration":this._showAddIntegrationDialog()}}}}}k.styles=(0,o.AH)(U||(U=M`:host{display:block}.banner{display:flex;align-items:center;flex-wrap:wrap;padding:var(--ha-space-2) var(--ha-space-4);background-color:var(--primary-color);color:var(--text-primary-color);gap:var(--ha-space-2);position:fixed;top:var(--header-height,56px);left:var(--mdc-drawer-width,0px);right:0;z-index:5}.banner-content{display:flex;align-items:center;gap:var(--ha-space-2);flex:1;min-width:200px}.banner ha-svg-icon{--mdc-icon-size:24px;flex-shrink:0}.banner-text{font-size:14px;font-weight:500}.banner-actions{display:flex;flex:none;gap:var(--ha-space-2);align-items:center;margin-inline-start:auto}.banner-actions ha-button::part(base){text-wrap:nowrap}`)),(0,s.Cg)([(0,r.MZ)({attribute:!1})],k.prototype,"hass",void 0),(0,s.Cg)([(0,r.MZ)({type:Boolean,reflect:!0})],k.prototype,"narrow",void 0),(0,s.Cg)([(0,r.MZ)({attribute:!1})],k.prototype,"route",void 0),(0,s.Cg)([(0,r.MZ)({attribute:!1})],k.prototype,"panel",void 0),(0,s.Cg)([(0,r.wk)()],k.prototype,"_lovelace",void 0),(0,s.Cg)([(0,r.wk)()],k.prototype,"_config",void 0),(0,s.Cg)([(0,r.wk)()],k.prototype,"_extraActionItems",void 0),k=(0,s.Cg)([(0,r.EM)("ha-panel-home")],k),i()}catch(I){i(I)}})},21018:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{YH:function(){return h},hZ:function(){return l},ww:function(){return d}});n(3362),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(62953);var s=n(67066),a=n(34128),o=t([s]);s=(o.then?(await o)():o)[0];const r=new Set(["error","entity"]),c={"entity-filter":()=>n.e("4994").then(n.bind(n,95417)),"state-label":()=>n.e("52396").then(n.bind(n,22087))},l=t=>(0,a.Vd)("badge",t,r,c,void 0,"entity"),h=t=>(0,a.Ue)("badge",t,r,c,void 0,"entity"),d=t=>(0,a.gh)(t,"badge",r,c);i()}catch(r){i(r)}})},65722:function(t,e,n){n.d(e,{A:function(){return i}});n(89463),n(66412),n(16280),n(3362),n(62953);function i(t){var e,n,i,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);a--;){if(n&&null!=(e=t[n]))return e.call(t);if(i&&null!=(e=t[i]))return new s(e.call(t));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function s(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then(function(t){return{value:t,done:e}})}return s=function(t){this.s=t,this.n=t.next},s.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new s(t)}},31886:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{BB:function(){return s.B}});n(38744);var s=n(88775),a=n(49232),o=n(78713),r=n(53834),c=n(35204),l=n(5806),h=t([s,a,o,r,c,l]);[s,a,o,r,c,l]=h.then?(await h)():h,i()}catch(d){i(d)}})},18989:function(t,e,n){n.d(e,{R:function(){return s}});let i;const s=(0,n(96196).AH)(i||(i=(t=>t)`:host{box-sizing:border-box;color:var(--md-divider-color,var(--md-sys-color-outline-variant,#cac4d0));display:flex;height:var(--md-divider-thickness,1px);width:100%}:host([inset-start]),:host([inset]){padding-inline-start:16px}:host([inset-end]),:host([inset]){padding-inline-end:16px}:host::before{background:currentColor;content:"";height:100%;width:100%}@media(forced-colors:active){:host::before{background:CanvasText}}`))},10414:function(t,e,n){n.d(e,{c:function(){return o}});n(62953);var i=n(40445),s=n(96196),a=n(77845);class o extends s.WF{constructor(){super(...arguments),this.inset=!1,this.insetStart=!1,this.insetEnd=!1}}(0,i.Cg)([(0,a.MZ)({type:Boolean,reflect:!0})],o.prototype,"inset",void 0),(0,i.Cg)([(0,a.MZ)({type:Boolean,reflect:!0,attribute:"inset-start"})],o.prototype,"insetStart",void 0),(0,i.Cg)([(0,a.MZ)({type:Boolean,reflect:!0,attribute:"inset-end"})],o.prototype,"insetEnd",void 0)},25625:function(t,e,n){n.d(e,{H:function(){return o}});n(84864),n(57465),n(27495),n(25440);var i=n(9160),s=n(51039),a=n(83504);function o(t,e){var n;const o=()=>(0,s.w)(null==e?void 0:e.in,NaN),g=null!==(n=null==e?void 0:e.additionalDigits)&&void 0!==n?n:2,p=function(t){const e={},n=t.split(r.dateTimeDelimiter);let i;if(n.length>2)return e;/:/.test(n[0])?i=n[0]:(e.date=n[0],i=n[1],r.timeZoneDelimiter.test(e.date)&&(e.date=t.split(r.timeZoneDelimiter)[0],i=t.substr(e.date.length,t.length)));if(i){const t=r.timezone.exec(i);t?(e.time=i.replace(t[1],""),e.timezone=t[1]):e.time=i}return e}(t);let m;if(p.date){const t=function(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=t.match(n);if(!i)return{year:NaN,restDateString:""};const s=i[1]?parseInt(i[1]):null,a=i[2]?parseInt(i[2]):null;return{year:null===a?s:100*a,restDateString:t.slice((i[1]||i[2]).length)}}(p.date,g);m=function(t,e){if(null===e)return new Date(NaN);const n=t.match(c);if(!n)return new Date(NaN);const i=!!n[4],s=d(n[1]),a=d(n[2])-1,o=d(n[3]),r=d(n[4]),l=d(n[5])-1;if(i)return function(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}(0,r,l)?function(t,e,n){const i=new Date(0);i.setUTCFullYear(t,0,4);const s=i.getUTCDay()||7,a=7*(e-1)+n+1-s;return i.setUTCDate(i.getUTCDate()+a),i}(e,r,l):new Date(NaN);{const t=new Date(0);return function(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(f[e]||(v(t)?29:28))}(e,a,o)&&function(t,e){return e>=1&&e<=(v(t)?366:365)}(e,s)?(t.setUTCFullYear(e,a,Math.max(s,o)),t):new Date(NaN)}}(t.restDateString,t.year)}if(!m||isNaN(+m))return o();const _=+m;let w,y=0;if(p.time&&(y=function(t){const e=t.match(l);if(!e)return NaN;const n=u(e[1]),s=u(e[2]),a=u(e[3]);if(!function(t,e,n){if(24===t)return 0===e&&0===n;return n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}(n,s,a))return NaN;return n*i.s0+6e4*s+1e3*a}(p.time),isNaN(y)))return o();if(!p.timezone){const t=new Date(_+y),n=(0,a.a)(0,null==e?void 0:e.in);return n.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),n.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),n}return w=function(t){if("Z"===t)return 0;const e=t.match(h);if(!e)return 0;const n="+"===e[1]?-1:1,s=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;if(!function(t,e){return e>=0&&e<=59}(0,a))return NaN;return n*(s*i.s0+6e4*a)}(p.timezone),isNaN(w)?o():(0,a.a)(_+y+w,null==e?void 0:e.in)}const r={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},c=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,l=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,h=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d(t){return t?parseInt(t):1}function u(t){return t&&parseFloat(t.replace(",","."))||0}const f=[31,null,31,30,31,30,31,31,30,31,30,31];function v(t){return t%400==0||t%4==0&&t%100!=0}},3890:function(t,e,n){n.d(e,{T:function(){return u}});n(18111),n(20116),n(3362),n(62953);var i=n(5055),s=n(63937),a=n(37540);n(65722);class o{disconnect(){this.G=void 0}reconnect(t){this.G=t}deref(){return this.G}constructor(t){this.G=t}}class r{get(){return this.Y}pause(){var t;null!==(t=this.Y)&&void 0!==t||(this.Y=new Promise(t=>this.Z=t))}resume(){var t;null!==(t=this.Z)&&void 0!==t&&t.call(this),this.Y=this.Z=void 0}constructor(){this.Y=void 0,this.Z=void 0}}var c=n(42017);const l=t=>!(0,s.sO)(t)&&"function"==typeof t.then,h=1073741823;class d extends a.Kq{render(...t){var e;return null!==(e=t.find(t=>!l(t)))&&void 0!==e?e:i.c0}update(t,e){const n=this._$Cbt;let s=n.length;this._$Cbt=e;const a=this._$CK,o=this._$CX;this.isConnected||this.disconnected();for(let i=0;i<e.length&&!(i>this._$Cwt);i++){const t=e[i];if(!l(t))return this._$Cwt=i,t;i<s&&t===n[i]||(this._$Cwt=h,s=0,Promise.resolve(t).then(async e=>{for(;o.get();)await o.get();const n=a.deref();if(void 0!==n){const i=n._$Cbt.indexOf(t);i>-1&&i<n._$Cwt&&(n._$Cwt=i,n.setValue(e))}}))}return i.c0}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}constructor(){super(...arguments),this._$Cwt=h,this._$Cbt=[],this._$CK=new o(this),this._$CX=new r}}const u=(0,c.u$)(d)}}]);
//# sourceMappingURL=92264.4d7499c305910784.js.map