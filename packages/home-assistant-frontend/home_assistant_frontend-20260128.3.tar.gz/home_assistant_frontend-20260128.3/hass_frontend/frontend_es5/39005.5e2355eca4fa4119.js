"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["39005"],{38508:function(e,t,o){o.a(e,async function(e,t){try{o(18111),o(13579),o(3362),o(62953);var i=o(40445),a=o(61366),r=o(96196),s=o(77845),l=o(32288),n=o(57947),h=o(1087),d=o(77796),p=o(17894),c=o(22348),u=o(99611),b=o(18350),v=(o(75064),o(3449),o(49639)),m=(o(88285),o(67094),e([a,u,b,v]));[a,u,b,v]=m.then?(await m)():m;let g,y,w,x,_,k,$,f,C,M=e=>e;const V="M3 16H10V14H3M18 14V10H16V14H12V16H16V20H18V16H22V14M14 6H3V8H14M14 10H3V12H14V10Z";class Z extends((0,p.c)(r.WF)){willUpdate(e){e.has("value")?this._setUnknownValue():e.has("hass")&&this._throttleUnknownValue()}setFieldValue(e){this._comboBox?this._comboBox.setFieldValue(e):this._initialFieldValue=e}render(){const e=this.useTopLabel&&this.value?void 0:this.label;return(0,r.qy)(g||(g=M`<div class="container"> ${0} <div id="picker"> <slot name="field"> ${0} </slot> </div> ${0} </div> ${0}`),this.useTopLabel&&this.label?(0,r.qy)(y||(y=M`<label ?disabled="${0}">${0}</label>`),this.disabled,this.label):r.s6,this.addButtonLabel&&!this.value?(0,r.qy)(w||(w=M`<ha-button size="small" appearance="filled" @click="${0}" .disabled="${0}"> <ha-svg-icon .path="${0}" slot="start"></ha-svg-icon> ${0} </ha-button>`),this.open,this.disabled,V,this.addButtonLabel):(0,r.qy)(x||(x=M`<ha-picker-field type="button" class="${0}" compact="compact" .unknown="${0}" .unknownItemText="${0}" aria-label="${0}" @click="${0}" @clear="${0}" .icon="${0}" .image="${0}" .label="${0}" .placeholder="${0}" .helper="${0}" .value="${0}" .valueRenderer="${0}" .required="${0}" .disabled="${0}" .invalid="${0}" .hideClearIcon="${0}"> <slot name="start"></slot> </ha-picker-field>`),this._opened?"opened":"",this._unknownValue,this.unknownItemText,(0,l.J)(this.label),this.open,this._clear,this.icon,this.image,e,this.placeholder,this.helper,this.value,this.valueRenderer,this.required,this.disabled,this.invalid,this.hideClearIcon),this._pickerWrapperOpen||this._opened?this._openedNarrow?(0,r.qy)(_||(_=M` <ha-bottom-sheet flexcontent .open="${0}" @wa-after-show="${0}" @closed="${0}" role="dialog" aria-modal="true" aria-label="${0}"> ${0} </ha-bottom-sheet> `),this._pickerWrapperOpen,this._dialogOpened,this._hidePicker,this.label||"Select option",this._renderComboBox(!0)):(0,r.qy)(k||(k=M` <wa-popover .open="${0}" style="--body-width:${0}px" without-arrow distance="-4" .placement="${0}" for="picker" auto-size="vertical" auto-size-padding="16" @wa-after-show="${0}" @wa-after-hide="${0}" trap-focus role="dialog" aria-modal="true" aria-label="${0}"> ${0} </wa-popover> `),this._pickerWrapperOpen,this._popoverWidth,this.popoverPlacement,this._dialogOpened,this._hidePicker,this.label||"Select option",this._renderComboBox()):r.s6,this._renderHelper())}_renderComboBox(e=!1){return this._opened?(0,r.qy)($||($=M` <ha-picker-combo-box id="combo-box" .hass="${0}" .allowCustomValue="${0}" .label="${0}" .value="${0}" @value-changed="${0}" .rowRenderer="${0}" .notFoundLabel="${0}" .emptyLabel="${0}" .getItems="${0}" .getAdditionalItems="${0}" .searchFn="${0}" .mode="${0}" .sections="${0}" .sectionTitleFunction="${0}" .selectedSection="${0}" .searchKeys="${0}" .customValueLabel="${0}"></ha-picker-combo-box> `),this.hass,this.allowCustomValue,this.searchLabel,this.value,this._valueChanged,this.rowRenderer,this.notFoundLabel,this.emptyLabel,this.getItems,this.getAdditionalItems,this.searchFn,e?"dialog":"popover",this.sections,this.sectionTitleFunction,this.selectedSection,this.searchKeys,this.customValueLabel):r.s6}_renderHelper(){const e=this.invalid&&this.errorMessage,t=!e&&this.helper;return e||t?(0,r.qy)(f||(f=M`<ha-input-helper-text .disabled="${0}"> ${0} </ha-input-helper-text>`),this.disabled,e?this.errorMessage:this.helper):r.s6}_hidePicker(e){var t;e.stopPropagation(),this._newValue&&((0,h.r)(this,"value-changed",{value:this._newValue}),this._newValue=void 0),this._opened=!1,this._pickerWrapperOpen=!1,null===(t=this._unsubscribeTinyKeys)||void 0===t||t.call(this)}_valueChanged(e){e.stopPropagation();const t=e.detail.value;t&&(this._pickerWrapperOpen=!1,this._newValue=t)}_clear(e){e.stopPropagation(),this._setValue(void 0)}_setValue(e){this.value=e,(0,h.r)(this,"value-changed",{value:e})}async open(e){var t;null==e||e.stopPropagation(),this.disabled||(this._openedNarrow=this._narrow,this._popoverWidth=(null===(t=this._containerElement)||void 0===t?void 0:t.offsetWidth)||250,this._pickerWrapperOpen=!0,this._unsubscribeTinyKeys=(0,n.Tc)(this,{Escape:this._handleEscClose}))}connectedCallback(){super.connectedCallback(),this._handleResize(),window.addEventListener("resize",this._handleResize)}disconnectedCallback(){var e;super.disconnectedCallback(),window.removeEventListener("resize",this._handleResize),null===(e=this._unsubscribeTinyKeys)||void 0===e||e.call(this)}static get styles(){return[(0,r.AH)(C||(C=M`.container{position:relative;display:block;max-width:100%}label[disabled]{color:var(--mdc-text-field-disabled-ink-color,rgba(0,0,0,.6))}label{display:block;margin:0 0 8px}ha-input-helper-text{display:block;margin:var(--ha-space-2) 0 0}:host([invalid]) ha-input-helper-text{color:var(--mdc-theme-error,var(--error-color,#b00020))}wa-popover{--wa-space-l:0}wa-popover::part(body){width:max(var(--body-width),250px);max-width:var(--ha-generic-picker-max-width,max(var(--body-width),250px));max-height:500px;height:70vh;overflow:hidden}@media (max-height:1000px){wa-popover::part(body){max-height:400px}}ha-bottom-sheet{--ha-bottom-sheet-height:90vh;--ha-bottom-sheet-height:calc(100dvh - var(--ha-space-12));--ha-bottom-sheet-max-height:var(--ha-bottom-sheet-height);--ha-bottom-sheet-max-width:600px;--ha-bottom-sheet-padding:0;--ha-bottom-sheet-surface-background:var(--card-background-color);--ha-bottom-sheet-border-radius:var(--ha-border-radius-2xl)}ha-picker-field.opened{--mdc-text-field-idle-line-color:var(--primary-color)}`))]}constructor(...e){super(...e),this.popoverPlacement="bottom-start",this.useTopLabel=!1,this._opened=!1,this._pickerWrapperOpen=!1,this._popoverWidth=0,this._openedNarrow=!1,this._unknownValue=!1,this._narrow=!1,this.invalid=!1,this._setUnknownValue=()=>{const e=this.getItems();!this.allowCustomValue&&void 0!==this.value&&null!==this.value&&""!==this.value&&e?this._unknownValue=!e.some(e=>"string"!=typeof e&&e.id===this.value):this._unknownValue=!1},this._throttleUnknownValue=(0,d.n)(this._setUnknownValue,1e3,!0,!1),this._dialogOpened=()=>{this._opened=!0,requestAnimationFrame(()=>{var e,t;this._initialFieldValue&&(null===(t=this._comboBox)||void 0===t||t.setFieldValue(this._initialFieldValue),this._initialFieldValue=void 0);this.hass&&(0,c.V)(this.hass)?this.hass.auth.external.fireMessage({type:"focus_element",payload:{element_id:"combo-box"}}):null===(e=this._comboBox)||void 0===e||e.focus()})},this._handleResize=()=>{var e;(this._narrow=window.matchMedia("(max-width: 870px)").matches||window.matchMedia("(max-height: 500px)").matches,!this._openedNarrow&&this._pickerWrapperOpen)&&(this._popoverWidth=(null===(e=this._containerElement)||void 0===e?void 0:e.offsetWidth)||250)},this._handleEscClose=e=>{e.stopPropagation()}}}Z.shadowRootOptions=Object.assign(Object.assign({},r.WF.shadowRootOptions),{},{delegatesFocus:!0}),(0,i.Cg)([(0,s.MZ)({attribute:!1})],Z.prototype,"hass",void 0),(0,i.Cg)([(0,s.MZ)({type:Boolean,attribute:"allow-custom-value"})],Z.prototype,"allowCustomValue",void 0),(0,i.Cg)([(0,s.MZ)({type:String,attribute:"search-label"})],Z.prototype,"searchLabel",void 0),(0,i.Cg)([(0,s.MZ)({attribute:!1})],Z.prototype,"getItems",void 0),(0,i.Cg)([(0,s.MZ)({attribute:!1,type:Array})],Z.prototype,"getAdditionalItems",void 0),(0,i.Cg)([(0,s.MZ)({attribute:!1})],Z.prototype,"rowRenderer",void 0),(0,i.Cg)([(0,s.MZ)({attribute:!1})],Z.prototype,"searchFn",void 0),(0,i.Cg)([(0,s.MZ)({attribute:!1})],Z.prototype,"searchKeys",void 0),(0,i.Cg)([(0,s.MZ)({attribute:!1})],Z.prototype,"notFoundLabel",void 0),(0,i.Cg)([(0,s.MZ)({attribute:"empty-label"})],Z.prototype,"emptyLabel",void 0),(0,i.Cg)([(0,s.MZ)({attribute:"popover-placement"})],Z.prototype,"popoverPlacement",void 0),(0,i.Cg)([(0,s.MZ)({attribute:"add-button-label"})],Z.prototype,"addButtonLabel",void 0),(0,i.Cg)([(0,s.MZ)({attribute:!1})],Z.prototype,"sections",void 0),(0,i.Cg)([(0,s.MZ)({attribute:!1})],Z.prototype,"sectionTitleFunction",void 0),(0,i.Cg)([(0,s.MZ)({attribute:"selected-section"})],Z.prototype,"selectedSection",void 0),(0,i.Cg)([(0,s.MZ)({type:Boolean,attribute:"use-top-label"})],Z.prototype,"useTopLabel",void 0),(0,i.Cg)([(0,s.MZ)({attribute:"custom-value-label"})],Z.prototype,"customValueLabel",void 0),(0,i.Cg)([(0,s.P)(".container")],Z.prototype,"_containerElement",void 0),(0,i.Cg)([(0,s.P)("ha-picker-combo-box")],Z.prototype,"_comboBox",void 0),(0,i.Cg)([(0,s.wk)()],Z.prototype,"_opened",void 0),(0,i.Cg)([(0,s.wk)()],Z.prototype,"_pickerWrapperOpen",void 0),(0,i.Cg)([(0,s.wk)()],Z.prototype,"_popoverWidth",void 0),(0,i.Cg)([(0,s.wk)()],Z.prototype,"_openedNarrow",void 0),(0,i.Cg)([(0,s.wk)()],Z.prototype,"_unknownValue",void 0),(0,i.Cg)([(0,s.MZ)({attribute:"error-message"})],Z.prototype,"errorMessage",void 0),(0,i.Cg)([(0,s.MZ)({type:Boolean,reflect:!0})],Z.prototype,"invalid",void 0),Z=(0,i.Cg)([(0,s.EM)("ha-generic-picker")],Z),t()}catch(g){t(g)}})},3449:function(e,t,o){o(62953);var i=o(40445),a=o(96196),r=o(77845);let s,l,n=e=>e;class h extends a.WF{render(){return(0,a.qy)(s||(s=n`<slot></slot>`))}constructor(...e){super(...e),this.disabled=!1}}h.styles=(0,a.AH)(l||(l=n`:host{display:block;color:var(--mdc-text-field-label-ink-color,rgba(0,0,0,.6));font-size:.75rem;padding-left:16px;padding-right:16px;padding-inline-start:16px;padding-inline-end:16px;letter-spacing:var(
        --mdc-typography-caption-letter-spacing,
        .0333333333em
      );line-height:normal}:host([disabled]){color:var(--mdc-text-field-disabled-ink-color,rgba(0,0,0,.6))}`)),(0,i.Cg)([(0,r.MZ)({type:Boolean,reflect:!0})],h.prototype,"disabled",void 0),h=(0,i.Cg)([(0,r.EM)("ha-input-helper-text")],h)},88285:function(e,t,o){o(3362),o(62953);var i=o(40445),a=o(16527),r=o(96196),s=o(77845),l=o(32288),n=o(1087),h=o(38911),d=o(17894);o(75064),o(88945),o(26300);let p,c,u,b,v,m,g,y,w,x,_=e=>e;class k extends((0,d.c)(r.WF)){async focus(){var e;await this.updateComplete,await(null===(e=this.item)||void 0===e?void 0:e.focus())}render(){var e,t,o;const i=!!this.value,a=!(!this.value||this.required||this.disabled||this.hideClearIcon),s=null!==(e=this.placeholder)&&void 0!==e?e:this.label,n=this.label&&i?(0,r.qy)(p||(p=_`<span slot="overline">${0}${0}</span>`),this.label,this.required?" *":""):r.s6,h=i?this.valueRenderer?this.valueRenderer(null!==(t=this.value)&&void 0!==t?t:""):(0,r.qy)(c||(c=_`<span slot="headline">${0}</span>`),this.value):s?(0,r.qy)(u||(u=_`<span slot="headline" class="placeholder"> ${0}${0} </span>`),s,this.required?" *":""):r.s6;return(0,r.qy)(b||(b=_` <ha-combo-box-item aria-label="${0}" .disabled="${0}" type="button" compact="compact"> ${0} ${0}${0} ${0} ${0} <ha-svg-icon class="arrow" slot="end" .path="${0}"></ha-svg-icon> </ha-combo-box-item> `),(0,l.J)(this.label||this.placeholder),this.disabled,this.image?(0,r.qy)(v||(v=_`<img alt="${0}" slot="start" .src="${0}" crossorigin="anonymous" referrerpolicy="no-referrer">`),null!==(o=this.label)&&void 0!==o?o:"",this.image):this.icon?(0,r.qy)(m||(m=_`<ha-icon slot="start" .icon="${0}"></ha-icon>`),this.icon):(0,r.qy)(g||(g=_`<slot name="start"></slot>`)),n,h,this.unknown?(0,r.qy)(y||(y=_`<div slot="supporting-text" class="unknown"> ${0} </div>`),this.unknownItemText||this.localize("ui.components.combo-box.unknown_item")):r.s6,a?(0,r.qy)(w||(w=_` <ha-icon-button class="clear" slot="end" @click="${0}" .path="${0}"></ha-icon-button> `),this._clear,"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"):r.s6,"M7,10L12,15L17,10H7Z")}_clear(e){e.stopPropagation(),(0,n.r)(this,"clear")}static get styles(){return[(0,r.AH)(x||(x=_`ha-combo-box-item[disabled]{background-color:var(--mdc-text-field-disabled-fill-color,#f5f5f5)}ha-combo-box-item{background-color:var(--mdc-text-field-fill-color,#f5f5f5);border-radius:var(--ha-border-radius-sm);border-end-end-radius:0;border-end-start-radius:0;--md-list-item-one-line-container-height:56px;--md-list-item-two-line-container-height:56px;--md-list-item-top-space:0px;--md-list-item-bottom-space:0px;--md-list-item-leading-space:var(--ha-space-4);--md-list-item-trailing-space:var(--ha-space-2);--ha-md-list-item-gap:var(--ha-space-2);--md-focus-ring-width:0px;--md-focus-ring-duration:0s}ha-combo-box-item[disabled]:after{background-color:var(--mdc-text-field-disabled-line-color,rgba(0,0,0,.42))}ha-combo-box-item:after{display:block;content:"";position:absolute;pointer-events:none;bottom:0;left:0;right:0;height:1px;width:100%;background-color:var(--mdc-text-field-idle-line-color,rgba(0,0,0,.42));transform:height 180ms ease-in-out,background-color 180ms ease-in-out}ha-combo-box-item:focus:after{height:2px;background-color:var(--mdc-theme-primary)}:host([unknown]) ha-combo-box-item{background-color:var(--ha-color-fill-warning-quiet-resting)}:host([invalid]) ha-combo-box-item:after{height:2px;background-color:var(--mdc-theme-error,var(--error-color,#b00020))}.clear{margin:0 -8px;--mdc-icon-button-size:32px;--mdc-icon-size:20px}.arrow{--mdc-icon-size:20px;width:32px}.placeholder{color:var(--secondary-text-color)}:host([invalid]) .placeholder{color:var(--mdc-theme-error,var(--error-color,#b00020))}.unknown{color:var(--ha-color-on-warning-normal)}`))]}constructor(...e){super(...e),this.invalid=!1}}(0,i.Cg)([(0,s.MZ)({type:Boolean,reflect:!0})],k.prototype,"invalid",void 0),(0,i.Cg)([(0,s.P)("ha-combo-box-item",!0)],k.prototype,"item",void 0),(0,i.Cg)([(0,s.wk)(),(0,a.Fg)({context:h.$F,subscribe:!0})],k.prototype,"localize",void 0),k=(0,i.Cg)([(0,s.EM)("ha-picker-field")],k)},17894:function(e,t,o){o.d(t,{c:function(){return r}});o(62953);var i=o(40445),a=o(77845);const r=e=>{class t extends e{constructor(...e){super(...e),this.disabled=!1,this.required=!1,this.unknown=!1,this.hideClearIcon=!1}}return(0,i.Cg)([(0,a.MZ)({type:Boolean})],t.prototype,"disabled",void 0),(0,i.Cg)([(0,a.MZ)({type:Boolean})],t.prototype,"required",void 0),(0,i.Cg)([(0,a.MZ)()],t.prototype,"icon",void 0),(0,i.Cg)([(0,a.MZ)()],t.prototype,"image",void 0),(0,i.Cg)([(0,a.MZ)()],t.prototype,"label",void 0),(0,i.Cg)([(0,a.MZ)()],t.prototype,"placeholder",void 0),(0,i.Cg)([(0,a.MZ)()],t.prototype,"helper",void 0),(0,i.Cg)([(0,a.MZ)()],t.prototype,"value",void 0),(0,i.Cg)([(0,a.MZ)({type:Boolean,reflect:!0})],t.prototype,"unknown",void 0),(0,i.Cg)([(0,a.MZ)({attribute:"unknown-item-text"})],t.prototype,"unknownItemText",void 0),(0,i.Cg)([(0,a.MZ)({attribute:"hide-clear-icon",type:Boolean})],t.prototype,"hideClearIcon",void 0),(0,i.Cg)([(0,a.MZ)({attribute:!1})],t.prototype,"valueRenderer",void 0),t}}}]);
//# sourceMappingURL=39005.5e2355eca4fa4119.js.map