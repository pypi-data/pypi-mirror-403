{"version":3,"file":"77183.37836bbd1abd9850.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20260128.3/src/data/energy.ts"],"names":["energyCollectionKeys","emptyFlowFromGridSourceEnergyPreference","stat_energy_from","stat_cost","entity_energy_price","number_energy_price","emptyFlowToGridSourceEnergyPreference","stat_energy_to","stat_compensation","emptyGridSourceEnergyPreference","type","flow_from","flow_to","cost_adjustment_day","emptySolarEnergyPreference","config_entry_solar_forecast","emptyBatteryEnergyPreference","emptyGasEnergyPreference","emptyWaterEnergyPreference","getEnergyInfo","hass","callWS","getEnergyPreferenceValidation","async","loadBackendTranslation","getEnergyPreferences","saveEnergyPreferences","prefs","newPrefs","Object","assign","clearEnergyCollectionPreferences","getFossilEnergyConsumption","startTime","energy_statistic_ids","co2_statistic_id","endTime","period","start_time","toISOString","end_time","energySourcesByType","groupBy","energy_sources","item","getReferencedStatisticIds","info","includeTypes","statIDs","source","includes","push","costStatId","cost_sensors","flowFrom","flowTo","device_consumption","map","d","stat_consumption","device_consumption_water","getReferencedStatisticIdsPower","power","p","stat_rate","filter","Boolean","CompareMode","getEnergyData","start","end","compare","co2SignalEntity","entity","values","entities","platform","co2State","states","entity_id","attributes","unit_of_measurement","consumptionStatIDs","energyStatIds","powerStatIds","waterStatIds","allStatIDs","dayDifference","differenceInDays","Date","getSuggestedPeriod","finePeriod","statsMetadata","statsMetadataArray","length","getStatisticMetadata","forEach","x","statistic_id","gasUnit","getEnergyGasUnit","energyUnits","energy","volume","VOLUME_UNITS","undefined","waterUnit","getEnergyWaterUnit","waterUnits","_energyStats","fetchStatistics","_powerStats","_waterStats","statsCompare","startCompare","endCompare","_fossilEnergyConsumption","_fossilEnergyConsumptionCompare","_energyStatsCompare","_waterStatsCompare","calcDateProperty","isFirstDayOfMonth","locale","config","isLastDayOfMonth","calcDate","addMonths","calcDateDifferenceProperty","differenceInMonths","addDays","addMilliseconds","addYears","energyStats","powerStats","waterStats","energyStatsCompare","waterStatsCompare","fossilEnergyConsumption","fossilEnergyConsumptionCompare","Promise","all","stats","compareMode","key","energyCollection","getEnergyDataCollection","clearPrefs","_active","refresh","scheduleHourlyRefresh","collection","_refreshTimeout","clearTimeout","nextFetch","getMinutes","setHours","getHours","setMinutes","window","setTimeout","getTime","now","options","startsWith","Error","connection","getCollection","origSubscribe","subscribe","subscriber","unsub","hour","formatTime24h","split","preferredPeriod","localStorage","getItem","calcDateRange","startOfDay","endOfDay","scheduleUpdatePeriod","_updatePeriodTimeout","addHours","setPeriod","newStart","newEnd","_collection$end","setCompare","getEnergySolarForecasts","energyGasUnitClass","getEnergyGasUnitClass","excludeSource","statisticsMetaData","statisticIdWithMeta","unit_class","units","s","getDisplayUnit","first","every","u","unit_system","energyStatisticHelpUrl","getSummedData","memoizeOne","data","summedData","getSummedDataPartial","compareSummedData","statIds","from_grid","to_grid","to_battery","from_battery","solar","total","timestamps","Set","entries","subStatIds","totalStats","sets","sum","id","stat","change","val","add","Array","from","sort","computeConsumptionData","compareData","consumption","computeConsumptionDataPartial","compareConsumption","outData","used_total","grid_to_battery","battery_to_grid","solar_to_battery","solar_to_grid","used_solar","used_grid","used_battery","t","_data$from_grid$t","_data$to_grid$t","_data$solar$t","_data$to_battery$t","_data$from_battery$t","computeConsumptionSingle","Math","max","used_total_remaining","excess_grid_in_after_consumption","min","grid_to_battery_2","formatConsumptionShort","unit","targetUnit","pickedUnit","targetUnitIndex","findIndex","unitIndex","abs","formatNumber","maximumFractionDigits","calculateSolarConsumedGauge","hasBattery","_","solarProduction","solarConsumed","solarReturned","batteryLifo","_consumption$used_sol","_consumption$solar_to","_consumption$battery_","_consumption$used_bat","value","batteryToGrid","usedBattery","drainBattery","amount","lastLifo","pop","totalProduction","getPowerFromState","stateObj","parseFloat","state","isNaN","formatPowerShort","powerWatts","fine"],"mappings":"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"}