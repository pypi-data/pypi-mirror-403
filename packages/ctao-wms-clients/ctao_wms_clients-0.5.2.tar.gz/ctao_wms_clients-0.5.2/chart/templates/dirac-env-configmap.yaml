# This is the environment variable configuration
# used by DIRAC to point at various things
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-dirac-env
data:
  {{- $defaults := include "wms.defaultEnv" . | fromYaml }}
  {{- $overrides := .Values.diracServer.environment | default dict }}
  {{- $env := merge $overrides $defaults }}

  {{- range $key, $val := $env }}
    {{ $key }}: {{ $val | quote }}
  {{- end }}
