[DEFAULT]
CSL_PATH = /path/to/cosmosis-starndard-library

SAMPLER_NAME = test

RUN_NAME = %(SAMPLER_NAME)s_v1

; halo model paths for modules
pipeline_path = ../
data_path = ../../

; default values for halo model part
nz_def = 15
nk_def = 100
zmin_def =  0.0
zmax_def = 3.0
nmass_def = 200
logmassmin_def = 10.0
logmassmax_def = 16.0
beta_nl = True
mead2020_corrections = fit_feedback ; mead2020_feedback

[pipeline]
modules = consistency camb extrapolate onepower

values  = values.ini
priors  = priors.ini

timing = T
debug = F

[runtime]
sampler = %(SAMPLER_NAME)s

[output]
format = text
filename = %(OUTPUT_FOLDER)s/output_%(RUN_NAME)s.txt

[test]
fatal_errors = T
save_dir = %(OUTPUT_FOLDER)s/output_%(RUN_NAME)s

[consistency]
file = %(CSL_PATH)s/cosmosis-standard-library/utility/consistency/consistency_interface.py

[camb]
file = %(CSL_PATH)s/cosmosis-standard-library/boltzmann/camb/camb_interface.py
mode = power
feedback = 0
zmin = 0.0
nonlinear = none
kmax = 20.0
kmax_extrapolate = 1000.0
nk = 300

do_reionization = F
neutrino_hierarchy = normal
zmax_background = 6.0
zmin_background_ = 0.0
nz_background = 6000


[extrapolate]
file = %(CSL_PATH)s/cosmosis-standard-library/boltzmann/extrapolate/extrapolate_power.py
kmax = 1e8
nmax = 0

[onepower]
file = %(pipeline_path)s/onepower_interface.py

log_mass_min = %(logmassmin_def)s
log_mass_max = %(logmassmax_def)s
nmass = %(nmass_def)s
zmin_hmf= %(zmin_def)s
zmax_hmf= %(zmax_def)s
nz_hmf= %(nz_def)s
nk = %(nk_def)s

hmf_model =  Tinker10
bias_model =  Tinker10
mdef_model =  SOMean
overdensity = 200.0
delta_c = 1.686
cm_model = Duffy08
profile = NFW

hod_section_name = hod
observable_section_name = stellar_mass_function
save_observable = True
values_name = hod_parameters
hod_model = Cacciato

log10_obs_min_hod = 8.0 8.0
log10_obs_max_hod = 12.0 12.0
zmin_hod = 0.0 0.2
zmax_hod = 0.2 0.5
nz_hod = %(nz_def)s
nobs_hod = 300

; example for observable evaluated at one z_median of the survey
log10_obs_min_smf = 8.0
log10_obs_max_smf = 12.0
zmin_smf = 0.1
zmax_smf = 0.1
nz_smf = 1
nobs_smf = 300

; example for observable in more bins and z-dependent
; log10_obs_min_smf = 8.0 8.0
; log10_obs_max_smf = 12.0 12.0
; zmin_smf = 0.0 0.2
; zmax_smf = 0.2 0.5
; nz_smf = %(nz_def)s
; nobs_smf = 300

; example for observable in one wide bin and z-dependent
; log10_obs_min_smf = 8.0
; log10_obs_max_smf = 12.0
; zmin_smf = 0.0
; zmax_smf = 0.5
; nz_smf = 15
; nobs_smf = 100

update_bnl = 10
bnl =  %(beta_nl)s
p_mm = True
p_gg = True
p_gm = True
p_gI = True
p_mI = True
p_II = True
split_ia = True

poisson_type = constant
point_mass = True
dewiggle = True
mead2020_correction = %(mead2020_corrections)s


central_IA_depends_on = halo_mass
satellite_IA_depends_on = halo_mass

hod_section_name_ia = hod_ia
observables_file_ia = %(data_path)s/legacy_input_files/red_cen_lum_pdf.txt
nobs_ia = 300
nz_ia = %(nz_def)s
output_suffix_ia = ia

hod_section_name_ia_1 = hod_ia_red
observables_file_ia_1 = %(data_path)s/legacy_input_files/red_cen_lum_pdf.txt
nobs_ia_1 = 300
nz_ia_1 = %(nz_def)s
output_suffix_ia_1 = ia_red

hod_section_name_ia_2 = hod_ia_blue
observables_file_ia_2 = %(data_path)s/legacy_input_files/red_cen_lum_pdf.txt
nobs_ia_2 = 300
nz_ia_2 = %(nz_def)s
output_suffix_ia_2 = ia_blue
