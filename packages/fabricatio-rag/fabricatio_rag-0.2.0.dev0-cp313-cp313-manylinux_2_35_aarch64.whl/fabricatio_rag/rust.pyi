# This file is automatically generated by pyo3_stub_gen
# ruff: noqa: E501, F401, F403, F405

import builtins
import typing


@typing.final
class Document:

    def __init__(self, content: str, vector: typing.List[float], metadata: typing.Optional[str]) -> None:
        ...

    def access_metadata(self) -> dict:
        r"""
        Access the metadata of the document.

        Returns a Python dictionary representation of the document's metadata.
        If no metadata exists, returns an empty dictionary.
        """


@typing.final
class SearchedDocument:
    r"""
    Represents a document that has been searched and retrieved from the vector store.

    This structure contains the core information of a searched document including
    its unique identifier, content, timestamp of creation/modification, and any
    associated metadata stored as JSON string.
    """

    @property
    def id(self) -> builtins.str:
        r"""
        Unique identifier for the document, typically generated as a UUID string.
        """

    @property
    def content(self) -> builtins.str:
        r"""
        The textual content of the document that was searched and matched.
        """

    @property
    def timestamp(self) -> builtins.int:
        r"""
        Timestamp indicating when the document was created or last updated.
        """

    @property
    def metadata(self) -> typing.Optional[builtins.str]:
        r"""
        Optional metadata associated with the document, stored as a JSON string.
        This can include additional contextual information about the document.
        """


@typing.final
class VectorStoreService:
    r"""
    A service for managing vector stores using LanceDB.

    This service provides methods for connecting to a LanceDB instance,
    creating tables, opening existing tables, and creating or opening tables.
    It acts as a high-level interface for vector store operations.
    """

    @staticmethod
    def connect(uri: builtins.str) -> typing.Awaitable["VectorStoreService"]:
        r"""
        Connect to a lancedb instance
        """

    def create_table(self, table_name: builtins.str, ndim: builtins.int) -> typing.Any:
        r"""
        Create a table
        """

    def open_table(self, table_name: builtins.str) -> typing.Any:
        r"""
        Open a table
        """

    def create_or_open_table(self, table_name: builtins.str, ndim: builtins.int) -> typing.Any:
        r"""
        Create or open a table
        """


@typing.final
class VectorStoreTable:
    def add_documents(self, documents: list) -> typing.Any:
        r"""
        Add multiple documents to the vector store.

        This method takes a list of documents and asynchronously adds them to the table.
        Each document will be assigned a unique ID and timestamp upon insertion.

        # Arguments
        * `documents` - A list of `Document` objects to be added to the store

        # Returns
        A Python Future that resolves to a list of strings representing the IDs
        of the documents that were successfully added to the store.
        """

    def search_document(self, embedding: typing.Sequence[builtins.float], limit: builtins.int) -> typing.Any:
        r"""
        Search for documents similar to the given embedding vector.

        This method performs a nearest neighbor search in the vector store to find
        documents whose embeddings are closest to the provided query embedding.

        # Arguments
        * `embedding` - A vector representing the query embedding for similarity search
        * `limit` - The maximum number of similar documents to return

        # Returns
        A Python Future that resolves to a list of `SearchedDocument` objects
        representing the most similar documents found in the store.
        """


@typing.final
class TEIClient:
    r"""
    TEI (Text Embedding Inference) client for interacting with embedding and reranking services.

    This client provides methods to:
    - Connect to a TEI service
    - Generate embeddings for text
    - Generate token-level embeddings
    - Rerank texts based on relevance to a query

    All operations are asynchronous and return Python awaitables.
    """

    @staticmethod
    def connect(base_url: builtins.str) -> typing.Awaitable["TEIClient"]:
        r"""
        Creates a new TEI client connected to the specified base URL.

        # Arguments
        * `base_url` - The URL to connect to, e.g., "http://localhost:8080"

        # Returns
        An awaitable that resolves to a new TEIClient instance
        """

    def arerank(self, query: builtins.str, texts: typing.Sequence[builtins.str], truncate: builtins.bool = False,
                truncation_direction: builtins.str = 'Left') -> typing.Awaitable[typing.List[typing.Tuple[int, float]]]:
        r"""
        Reranks a list of texts based on their relevance to the given query.

        # Arguments
        * `query` - The query string to compare against
        * `texts` - A vector of text strings to rerank
        * `truncate` - Whether to truncate the input texts if they exceed the maximum length
        * `truncation_direction` - Direction of truncation, either "Left", "Right"

        # Returns
        An awaitable that resolves to a list of tuples containing the index and score of each text,
        sorted by relevance score in descending order
        """

    def embed_all(self, text: builtins.str, truncate: builtins.bool = False,
                  truncation_direction: builtins.str = 'Left') -> typing.Awaitable[typing.List[typing.List[float]]]:
        r"""
        Generates token-level embeddings for the given text.

        # Arguments
        * `text` - The input text to generate token embeddings for
        * `truncate` - Whether to truncate the input text if it exceeds the maximum length
        * `truncation_direction` - Direction of truncation, either "Left", "Right"

        # Returns
        An awaitable that resolves to a list of lists of floats representing the token embeddings
        """

    def embed(self, text: builtins.str, dimensions: typing.Optional[builtins.int] = None,
              truncate: builtins.bool = False, truncation_direction: builtins.str = 'Left') -> typing.Awaitable[
        typing.List[float]]:
        r"""
        Generates embeddings for the given text.

        # Arguments
        * `text` - The input text to generate embeddings for
        * `dimensions` - Optional parameter to specify the number of dimensions in the output embeddings
        * `truncate` - Whether to truncate the input text if it exceeds the maximum length
        * `truncation_direction` - Direction of truncation, either "Left", "Right"

        # Returns
        An awaitable that resolves to a list of floats representing the embeddings
        """
