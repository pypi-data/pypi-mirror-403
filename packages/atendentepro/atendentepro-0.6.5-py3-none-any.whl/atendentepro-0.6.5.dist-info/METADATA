Metadata-Version: 2.4
Name: atendentepro
Version: 0.6.5
Summary: Framework de orquestraÃ§Ã£o de agentes IA com tom e estilo customizÃ¡veis. Integra documentos (RAG), APIs e bancos de dados em uma plataforma inteligente multi-agente.
Author-email: BeMonkAI <contato@monkai.com.br>
Maintainer-email: BeMonkAI <contato@monkai.com.br>
License: Proprietary
Project-URL: Homepage, https://github.com/BeMonkAI/atendentepro
Project-URL: Documentation, https://github.com/BeMonkAI/atendentepro#readme
Project-URL: Repository, https://github.com/BeMonkAI/atendentepro
Project-URL: Issues, https://github.com/BeMonkAI/atendentepro/issues
Project-URL: Changelog, https://github.com/BeMonkAI/atendentepro/blob/main/CHANGELOG.md
Keywords: ai,agents,customer-service,chatbot,openai,multi-agent,atendimento,openai-agents,conversational-ai,rag,triage,handoff,escalation,feedback,knowledge-base,interview
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: Other/Proprietary License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Classifier: Topic :: Communications :: Chat
Classifier: Operating System :: OS Independent
Requires-Python: >=3.9
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: openai-agents<1.0.0,>=0.3.3
Requires-Dist: openai<2.0.0,>=1.107.1
Requires-Dist: pydantic<3.0.0,>=2.0.0
Requires-Dist: PyYAML<7.0,>=6.0
Requires-Dist: python-dotenv<2.0.0,>=1.0.0
Requires-Dist: httpx<1.0.0,>=0.27.0
Provides-Extra: dev
Requires-Dist: pytest<9.0.0,>=7.0.0; extra == "dev"
Requires-Dist: pytest-asyncio<1.0.0,>=0.21.0; extra == "dev"
Requires-Dist: black<25.0.0,>=23.0.0; extra == "dev"
Requires-Dist: isort<6.0.0,>=5.12.0; extra == "dev"
Requires-Dist: mypy<2.0.0,>=1.0.0; extra == "dev"
Provides-Extra: docs
Requires-Dist: mkdocs<2.0.0,>=1.5.0; extra == "docs"
Requires-Dist: mkdocs-material<10.0.0,>=9.0.0; extra == "docs"
Provides-Extra: rag
Requires-Dist: numpy<2.0.0,>=1.24.0; extra == "rag"
Requires-Dist: scikit-learn<2.0.0,>=1.3.0; extra == "rag"
Requires-Dist: PyPDF2<4.0.0,>=3.0.0; extra == "rag"
Requires-Dist: python-docx<2.0.0,>=0.8.11; extra == "rag"
Requires-Dist: python-pptx<1.0.0,>=0.6.21; extra == "rag"
Requires-Dist: PyMuPDF<2.0.0,>=1.23.0; extra == "rag"
Provides-Extra: tracing
Requires-Dist: monkai-trace<1.0.0,>=0.2.9; extra == "tracing"
Provides-Extra: azure
Requires-Dist: opentelemetry-sdk<2.0.0,>=1.20.0; extra == "azure"
Requires-Dist: azure-monitor-opentelemetry-exporter<2.0.0,>=1.0.0; extra == "azure"
Provides-Extra: all
Requires-Dist: atendentepro[azure,dev,docs,rag,tracing]; extra == "all"
Dynamic: license-file

# AtendentePro

[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)
[![PyPI version](https://badge.fury.io/py/atendentepro.svg)](https://pypi.org/project/atendentepro/)
[![License: Proprietary](https://img.shields.io/badge/License-Proprietary-red.svg)](LICENSE)

**Framework de orquestraÃ§Ã£o de agentes IA para interaÃ§Ãµes complexas**

Plataforma que unifica mÃºltiplos agentes especializados para resolver demandas que envolvem diferentes fontes de dados, sistemas e fluxos de decisÃ£o â€” tudo orquestrado em um Ãºnico lugar. Baseado no [OpenAI Agents SDK](https://github.com/openai/openai-agents-python).

### Principais Capacidades

| Capacidade | DescriÃ§Ã£o |
|------------|-----------|
| **ClassificaÃ§Ã£o Inteligente** | Identifica a intenÃ§Ã£o e direciona para o agente especializado |
| **IntegraÃ§Ã£o de Dados** | Conecta documentos (RAG), CSVs, bancos de dados SQL e APIs externas |
| **OrquestraÃ§Ã£o de Fluxos** | Handoffs automÃ¡ticos entre agentes conforme a complexidade da demanda |
| **Tom e Estilo CustomizÃ¡veis** | AgentStyle para personalizar linguagem, tom e formato de respostas |
| **Escalonamento Controlado** | TransferÃªncia para atendimento humano com contexto preservado |
| **GestÃ£o de Feedbacks** | Sistema de tickets para reclamaÃ§Ãµes, sugestÃµes e acompanhamento |
| **ConfiguraÃ§Ã£o Declarativa** | PersonalizaÃ§Ã£o completa via arquivos YAML |

---

## ğŸ“‹ Ãndice

- [InstalaÃ§Ã£o](#-instalaÃ§Ã£o)
- [AtivaÃ§Ã£o (LicenÃ§a)](#-ativaÃ§Ã£o-licenÃ§a)
- [Configurar API Key](#-configurar-api-key)
- [InÃ­cio RÃ¡pido](#-inÃ­cio-rÃ¡pido)
- [Arquitetura](#-arquitetura)
- [Agentes DisponÃ­veis](#-agentes-disponÃ­veis)
- [Criar Templates Customizados](#-criar-templates-customizados)
- [ConfiguraÃ§Ãµes YAML](#-configuraÃ§Ãµes-yaml)
- [Escalation Agent](#-escalation-agent)
- [Feedback Agent](#-feedback-agent)
- [Fluxo de Handoffs](#-fluxo-de-handoffs)
- [Estilo de ComunicaÃ§Ã£o](#-estilo-de-comunicaÃ§Ã£o-agentstyle)
- [Single Reply Mode](#-single-reply-mode)
- [Filtros de Acesso](#-filtros-de-acesso-roleuser)
- [MÃºltiplos Agentes](#-mÃºltiplos-agentes-multi-interview--knowledge)
- [Tracing e Monitoramento](#-tracing-e-monitoramento)
- [Suporte](#-suporte)

---

## ğŸ“¦ InstalaÃ§Ã£o

```bash
# Via PyPI
pip install atendentepro

# Com monitoramento (recomendado)
pip install atendentepro[tracing]
```

---

## ğŸ”‘ AtivaÃ§Ã£o (LicenÃ§a)

A biblioteca **requer um token de licenÃ§a** para funcionar.

### OpÃ§Ã£o 1: VariÃ¡vel de Ambiente (Recomendado)

```bash
export ATENDENTEPRO_LICENSE_KEY="ATP_seu-token-aqui"
```

### OpÃ§Ã£o 2: Via CÃ³digo

```python
from atendentepro import activate

activate("ATP_seu-token-aqui")
```

### OpÃ§Ã£o 3: Arquivo .env

```env
ATENDENTEPRO_LICENSE_KEY=ATP_seu-token-aqui
OPENAI_API_KEY=sk-sua-chave-openai
```

### Obter um Token

Entre em contato para obter seu token:
- ğŸ“§ **Email:** contato@monkai.com.br
- ğŸŒ **Site:** https://www.monkai.com.br

---

## ğŸ” Configurar API Key

### OpenAI

```bash
# .env
OPENAI_API_KEY=sk-sua-chave-openai
```

### Azure OpenAI

```bash
# .env
OPENAI_PROVIDER=azure
AZURE_API_KEY=sua-chave-azure
AZURE_API_ENDPOINT=https://seu-recurso.openai.azure.com
AZURE_API_VERSION=2024-02-15-preview
AZURE_DEPLOYMENT_NAME=gpt-4o
```

### Via CÃ³digo

```python
from atendentepro import activate, configure

activate("ATP_seu-token")

configure(
    openai_api_key="sk-sua-chave-openai",
    default_model="gpt-4o-mini"
)
```

---

## âš¡ InÃ­cio RÃ¡pido

```python
import asyncio
from pathlib import Path
from atendentepro import activate, create_standard_network
from agents import Runner

# 1. Ativar
activate("ATP_seu-token")

async def main():
    # 2. Criar rede de agentes
    network = create_standard_network(
        templates_root=Path("./meu_cliente"),
        client="config"
    )
    
    # 3. Executar conversa
    result = await Runner.run(
        network.triage,
        [{"role": "user", "content": "OlÃ¡, preciso de ajuda"}]
    )
    
    print(result.final_output)

asyncio.run(main())
```

---

## ğŸ—ï¸ Arquitetura

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ATENDENTEPRO                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   ğŸ‘¤ UsuÃ¡rio                                                               â”‚
â”‚       â”‚                                                                    â”‚
â”‚       â–¼                                                                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                         â”‚
â”‚   â”‚   Triage    â”‚â”€â”€â–º Classifica intenÃ§Ã£o do usuÃ¡rio                       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                         â”‚
â”‚         â”‚                                                                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚    â–¼         â–¼         â–¼         â–¼         â–¼         â–¼         â–¼          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ Flow â”‚ â”‚Knowl. â”‚ â”‚Confirmâ”‚ â”‚ Usage â”‚ â”‚Onboardâ”‚ â”‚Escala.â”‚ â”‚Feedbk.â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                           â”‚
â”‚ â”‚  Interview  â”‚â”€â”€â–º Coleta informaÃ§Ãµes estruturadas                        â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                           â”‚
â”‚       â”‚                                                                    â”‚
â”‚       â–¼                                                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                           â”‚
â”‚ â”‚   Answer    â”‚â”€â”€â–º Sintetiza resposta final                               â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                           â”‚
â”‚                                                                            â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚
â”‚  ğŸ“ Escalation â†’ Transfere para atendimento humano IMEDIATO               â”‚
â”‚  ğŸ“ Feedback   â†’ Registra tickets para resposta POSTERIOR                 â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¤– Agentes DisponÃ­veis

| Agente | DescriÃ§Ã£o | Quando Usar |
|--------|-----------|-------------|
| **Triage** | Classifica intenÃ§Ã£o e direciona | Sempre (ponto de entrada) |
| **Flow** | Apresenta opÃ§Ãµes/menu ao usuÃ¡rio | MÃºltiplas opÃ§Ãµes disponÃ­veis |
| **Interview** | Coleta informaÃ§Ãµes atravÃ©s de perguntas | Precisa de dados do usuÃ¡rio |
| **Answer** | Sintetiza resposta final | ApÃ³s coletar informaÃ§Ãµes |
| **Knowledge** | Consulta RAG e dados estruturados | Perguntas sobre documentos/dados |
| **Confirmation** | Valida com respostas sim/nÃ£o | Confirmar aÃ§Ãµes |
| **Usage** | Responde dÃºvidas sobre o sistema | "Como funciona?" |
| **Onboarding** | Cadastro de novos usuÃ¡rios | Novos usuÃ¡rios |
| **Escalation** | Transfere para humano | Urgente/nÃ£o resolvido |
| **Feedback** | Registra tickets | DÃºvidas/reclamaÃ§Ãµes/sugestÃµes |

---

## ğŸ“ Criar Templates Customizados

### Estrutura de Pastas

```
meu_cliente/
â”œâ”€â”€ triage_config.yaml       # âœ… ObrigatÃ³rio
â”œâ”€â”€ flow_config.yaml         # Recomendado
â”œâ”€â”€ interview_config.yaml    # Recomendado
â”œâ”€â”€ answer_config.yaml       # Opcional
â”œâ”€â”€ knowledge_config.yaml    # Opcional
â”œâ”€â”€ escalation_config.yaml   # Recomendado
â”œâ”€â”€ feedback_config.yaml     # Recomendado
â”œâ”€â”€ guardrails_config.yaml   # Recomendado
â”œâ”€â”€ style_config.yaml        # Opcional - Tom e estilo
â””â”€â”€ data/                    # Dados estruturados (CSV, etc.)
```

### Usar o Template

```python
from pathlib import Path
from atendentepro import create_standard_network

network = create_standard_network(
    templates_root=Path("./"),
    client="meu_cliente",
    include_escalation=True,
    include_feedback=True,
)
```

---

## âš™ï¸ ConfiguraÃ§Ãµes YAML

### triage_config.yaml (ObrigatÃ³rio)

Define palavras-chave para classificaÃ§Ã£o:

```yaml
agent_name: "Triage Agent"

keywords:
  - agent: "Flow Agent"
    keywords:
      - "produto"
      - "serviÃ§o"
      - "preÃ§o"
  
  - agent: "Knowledge Agent"
    keywords:
      - "documentaÃ§Ã£o"
      - "manual"
      - "como funciona"
  
  - agent: "Escalation Agent"
    keywords:
      - "falar com humano"
      - "atendente"
```

### flow_config.yaml

Define opÃ§Ãµes/menu:

```yaml
agent_name: "Flow Agent"

topics:
  - id: 1
    label: "Vendas"
    keywords: ["comprar", "preÃ§o", "orÃ§amento"]
    
  - id: 2
    label: "Suporte"
    keywords: ["problema", "erro", "ajuda"]
    
  - id: 3
    label: "Financeiro"
    keywords: ["pagamento", "boleto", "fatura"]
```

### interview_config.yaml

Define perguntas para coleta:

```yaml
agent_name: "Interview Agent"

interview_questions: |
  Para cada tÃ³pico, faÃ§a as seguintes perguntas:
  
  ## Vendas
  1. Qual produto vocÃª tem interesse?
  2. Qual quantidade desejada?
  3. Qual seu email para contato?
  
  ## Suporte
  1. Descreva o problema
  2. Quando comeÃ§ou?
  3. JÃ¡ tentou alguma soluÃ§Ã£o?
```

### guardrails_config.yaml

Define escopo e restriÃ§Ãµes:

```yaml
scope: |
  Este assistente pode ajudar com:
  - InformaÃ§Ãµes sobre produtos
  - Suporte tÃ©cnico
  - DÃºvidas sobre serviÃ§os

forbidden_topics:
  - "polÃ­tica"
  - "religiÃ£o"
  - "conteÃºdo adulto"

out_of_scope_message: |
  Desculpe, nÃ£o posso ajudar com esse assunto.
  Posso ajudar com produtos, suporte ou serviÃ§os.
```

---

## ğŸ“ Escalation Agent

Transfere para atendimento humano quando:
- UsuÃ¡rio solicita explicitamente
- TÃ³pico nÃ£o coberto pelo sistema
- UsuÃ¡rio demonstra frustraÃ§Ã£o
- Agente nÃ£o consegue resolver

### escalation_config.yaml

```yaml
name: "Escalation Agent"

triggers:
  explicit_request:
    - "quero falar com um humano"
    - "atendente humano"
    - "falar com uma pessoa"
  
  frustration:
    - "vocÃª nÃ£o estÃ¡ me ajudando"
    - "isso nÃ£o resolve"

channels:
  phone:
    enabled: true
    number: "0800-123-4567"
    hours: "Seg-Sex 8h-18h"
  
  email:
    enabled: true
    address: "atendimento@empresa.com"
    sla: "Resposta em atÃ© 24h"
  
  whatsapp:
    enabled: true
    number: "(11) 99999-9999"

business_hours:
  start: 8
  end: 18
  days: [monday, tuesday, wednesday, thursday, friday]

messages:
  greeting: "Entendo que vocÃª precisa de um atendimento especializado."
  out_of_hours: "Nosso atendimento funciona de Seg-Sex, 8h-18h."
```

### Usar Escalation

```python
network = create_standard_network(
    templates_root=Path("./meu_cliente"),
    client="config",
    include_escalation=True,
    escalation_channels="""
ğŸ“ Telefone: 0800-123-4567 (Seg-Sex 8h-18h)
ğŸ“§ Email: atendimento@empresa.com
ğŸ’¬ WhatsApp: (11) 99999-9999
""",
)
```

---

## ğŸ“ Feedback Agent

Registra tickets para:
- â“ **DÃºvidas** - Perguntas que precisam de pesquisa
- ğŸ’¬ **Feedback** - OpiniÃ£o sobre produto/serviÃ§o
- ğŸ“¢ **ReclamaÃ§Ã£o** - InsatisfaÃ§Ã£o formal (prioridade alta)
- ğŸ’¡ **SugestÃ£o** - Ideia de melhoria
- â­ **Elogio** - Agradecimento
- âš ï¸ **Problema** - Bug/erro tÃ©cnico (prioridade alta)

### feedback_config.yaml

```yaml
name: "Feedback Agent"

protocol_prefix: "SAC"  # Formato: SAC-20240106-ABC123

ticket_types:
  - name: "duvida"
    label: "DÃºvida"
    default_priority: "normal"
    
  - name: "reclamacao"
    label: "ReclamaÃ§Ã£o"
    default_priority: "alta"
    
  - name: "sugestao"
    label: "SugestÃ£o"
    default_priority: "baixa"

email:
  enabled: true
  brand_color: "#660099"
  brand_name: "Minha Empresa"
  sla_message: "Retornaremos em atÃ© 24h Ãºteis."

priorities:
  - name: "baixa"
    sla_hours: 72
  - name: "normal"
    sla_hours: 24
  - name: "alta"
    sla_hours: 8
  - name: "urgente"
    sla_hours: 2
```

### Usar Feedback

```python
network = create_standard_network(
    templates_root=Path("./meu_cliente"),
    client="config",
    include_feedback=True,
    feedback_protocol_prefix="SAC",
    feedback_brand_color="#660099",
    feedback_brand_name="Minha Empresa",
)
```

### DiferenÃ§a: Escalation vs Feedback

| Aspecto | Escalation | Feedback |
|---------|------------|----------|
| **PropÃ³sito** | Atendimento IMEDIATO | Registro para DEPOIS |
| **UrgÃªncia** | Alta | Pode aguardar |
| **Canal** | Telefone, chat | Email, ticket |
| **Protocolo** | ESC-XXXXXX | SAC-XXXXXX |
| **Quando usar** | "Quero falar com alguÃ©m" | "Tenho uma sugestÃ£o" |

---

## ğŸ”„ Fluxo de Handoffs

```
Triage â”€â”€â–º Flow, Knowledge, Confirmation, Usage, Onboarding, Escalation, Feedback
Flow â”€â”€â”€â”€â–º Interview, Triage, Escalation, Feedback
Interviewâ–º Answer, Escalation, Feedback
Answer â”€â”€â–º Triage, Escalation, Feedback
Knowledgeâ–º Triage, Escalation, Feedback
Escalationâ–º Triage, Feedback
Feedback â–º Triage, Escalation
```

### ConfiguraÃ§Ã£o de Agentes

VocÃª pode escolher exatamente quais agentes incluir na sua rede:

```python
from pathlib import Path
from atendentepro import create_standard_network

# Todos os agentes habilitados (padrÃ£o)
network = create_standard_network(
    templates_root=Path("./meu_cliente"),
    client="config",
)

# Sem Knowledge Agent (para clientes sem base de conhecimento)
network = create_standard_network(
    templates_root=Path("./meu_cliente"),
    client="config",
    include_knowledge=False,
)

# Rede mÃ­nima (apenas fluxo principal)
network = create_standard_network(
    templates_root=Path("./meu_cliente"),
    client="config",
    include_knowledge=False,
    include_confirmation=False,
    include_usage=False,
    include_escalation=False,
    include_feedback=False,
)

# Apenas captura de leads (sem Knowledge nem Usage)
network = create_standard_network(
    templates_root=Path("./meu_cliente"),
    client="config",
    include_knowledge=False,
    include_usage=False,
)
```

### ParÃ¢metros DisponÃ­veis

| ParÃ¢metro | PadrÃ£o | DescriÃ§Ã£o |
|-----------|--------|-----------|
| `include_flow` | `True` | Agente de fluxo conversacional |
| `include_interview` | `True` | Agente de entrevista/coleta |
| `include_answer` | `True` | Agente de resposta final |
| `include_knowledge` | `True` | Agente de base de conhecimento |
| `include_confirmation` | `True` | Agente de confirmaÃ§Ã£o |
| `include_usage` | `True` | Agente de instruÃ§Ãµes de uso |
| `include_onboarding` | `False` | Agente de boas-vindas |
| `include_escalation` | `True` | Agente de escalonamento humano |
| `include_feedback` | `True` | Agente de tickets/feedback |

---

## ğŸ¨ Estilo de ComunicaÃ§Ã£o (AgentStyle)

Personalize o tom e estilo de resposta dos agentes:

### Via CÃ³digo

```python
from pathlib import Path
from atendentepro import create_standard_network, AgentStyle

# Estilo global (aplicado a todos os agentes)
global_style = AgentStyle(
    tone="profissional e consultivo",
    language_style="formal",      # formal, informal, neutro
    response_length="moderado",   # conciso, moderado, detalhado
    custom_rules="Sempre cumprimente o usuÃ¡rio pelo nome.",
)

# Estilos especÃ­ficos por agente
network = create_standard_network(
    templates_root=Path("./meu_cliente"),
    client="config",
    global_style=global_style,
    agent_styles={
        "escalation": AgentStyle(
            tone="empÃ¡tico e acolhedor",
            custom_rules="Demonstre compreensÃ£o pela situaÃ§Ã£o.",
        ),
        "knowledge": AgentStyle(
            tone="didÃ¡tico e paciente",
            response_length="detalhado",
        ),
    },
)
```

### Via YAML (style_config.yaml)

```yaml
# Estilo Global
global:
  tone: "profissional e cordial"
  language_style: "formal"
  response_length: "moderado"
  custom_rules: |
    - Seja objetivo e claro nas respostas
    - Use linguagem inclusiva

# Estilos por Agente
agents:
  escalation:
    tone: "empÃ¡tico e tranquilizador"
    custom_rules: |
      - Demonstre compreensÃ£o pela situaÃ§Ã£o
      - Assegure que o problema serÃ¡ resolvido

  knowledge:
    tone: "didÃ¡tico e paciente"
    response_length: "detalhado"
    custom_rules: |
      - Explique conceitos de forma acessÃ­vel
      - Cite as fontes das informaÃ§Ãµes

  feedback:
    tone: "solÃ­cito e atencioso"
    custom_rules: |
      - AgradeÃ§a o feedback recebido
      - Confirme o registro da solicitaÃ§Ã£o
```

### OpÃ§Ãµes DisponÃ­veis

| ParÃ¢metro | Valores | DescriÃ§Ã£o |
|-----------|---------|-----------|
| `tone` | Texto livre | Tom da conversa (ex: "profissional", "empÃ¡tico") |
| `language_style` | `formal`, `informal`, `neutro` | NÃ­vel de formalidade |
| `response_length` | `conciso`, `moderado`, `detalhado` | Tamanho das respostas |
| `custom_rules` | Texto livre | Regras personalizadas |

---

## ğŸ”§ DependÃªncias

- Python 3.9+
- openai-agents >= 0.3.3
- openai >= 1.107.1
- pydantic >= 2.0.0
- PyYAML >= 6.0
- python-dotenv >= 1.0.0

---

## ğŸ“„ VariÃ¡veis de Ambiente

| VariÃ¡vel | DescriÃ§Ã£o | ObrigatÃ³rio |
|----------|-----------|-------------|
| `ATENDENTEPRO_LICENSE_KEY` | Token de licenÃ§a | âœ… Sim |
| `OPENAI_API_KEY` | Chave API OpenAI | âœ… (se OpenAI) |
| `OPENAI_PROVIDER` | `openai` ou `azure` | NÃ£o |
| `DEFAULT_MODEL` | Modelo padrÃ£o | NÃ£o |
| `AZURE_API_KEY` | Chave API Azure | âœ… (se Azure) |
| `AZURE_API_ENDPOINT` | Endpoint Azure | âœ… (se Azure) |
| `SMTP_HOST` | Servidor SMTP | Para emails |
| `SMTP_USER` | UsuÃ¡rio SMTP | Para emails |
| `SMTP_PASSWORD` | Senha SMTP | Para emails |

---

## ğŸ” Single Reply Mode

O **Single Reply Mode** permite configurar agentes para responderem apenas uma vez e automaticamente transferirem de volta para o Triage. Isso evita que a conversa fique "presa" em um agente especÃ­fico.

ğŸ“‚ **Exemplos completos**: [docs/examples/single_reply/](docs/examples/single_reply/)

### Quando Usar

| CenÃ¡rio | RecomendaÃ§Ã£o |
|---------|--------------|
| **Chatbots de alto volume** | âœ… Ativar para respostas rÃ¡pidas |
| **FAQ simples** | âœ… Knowledge com single_reply |
| **Coleta de dados** | âŒ Interview precisa mÃºltiplas interaÃ§Ãµes |
| **Onboarding** | âŒ Precisa guiar o usuÃ¡rio em etapas |
| **ConfirmaÃ§Ãµes** | âœ… Confirma e volta ao Triage |

### Exemplo 1: FAQ Bot (Via CÃ³digo)

Chatbot otimizado para perguntas frequentes:

```python
from pathlib import Path
from atendentepro import create_standard_network

# FAQ Bot: Knowledge e Answer respondem uma vez
network = create_standard_network(
    templates_root=Path("./meu_cliente"),
    client="config",
    global_single_reply=False,
    single_reply_agents={
        "knowledge": True,  # FAQ: responde e volta
        "answer": True,     # Perguntas gerais: responde e volta
        "flow": True,       # Menu: apresenta e volta
    },
)
```

### Exemplo 2: Bot de Leads (Via CÃ³digo)

Bot que coleta dados mas responde dÃºvidas rapidamente:

```python
network = create_standard_network(
    templates_root=Path("./meu_cliente"),
    client="config",
    global_single_reply=False,
    single_reply_agents={
        # Interview PRECISA de mÃºltiplas interaÃ§Ãµes para coletar dados
        "interview": False,
        
        # Outros agentes podem ser rÃ¡pidos
        "knowledge": True,    # Tira dÃºvidas sobre produto
        "answer": True,       # Responde perguntas
        "confirmation": True, # Confirma cadastro
    },
)
```

### Exemplo 3: Ativar para TODOS os agentes

```python
network = create_standard_network(
    templates_root=Path("./meu_cliente"),
    client="config",
    global_single_reply=True,  # Todos respondem uma vez
)
```

### Via YAML (single_reply_config.yaml)

Crie o arquivo `single_reply_config.yaml` na pasta do cliente:

```yaml
# Global: se true, TODOS os agentes respondem apenas uma vez
global: false

# ConfiguraÃ§Ã£o por agente (sobrescreve global)
agents:
  # Agentes de consulta: respondem uma vez
  knowledge: true      # FAQ: responde e volta
  answer: true         # Perguntas: responde e volta
  confirmation: true   # Confirma e volta
  usage: true          # Explica uso e volta
  
  # Agentes de coleta: mÃºltiplas interaÃ§Ãµes
  interview: false     # Precisa coletar dados
  onboarding: false    # Precisa guiar usuÃ¡rio
  
  # Opcionais
  flow: true           # Menu: apresenta e volta
  escalation: true     # Registra e volta
  feedback: true       # Coleta feedback e volta
```

### Fluxo Visual

**Com single_reply=True:**

```
[UsuÃ¡rio: "Qual o preÃ§o?"]
         â†“
    [Triage] â†’ detecta consulta
         â†“
  [Knowledge] â†’ responde: "R$ 99,90"
         â†“
    [Triage] â† retorno AUTOMÃTICO
         â†“
[UsuÃ¡rio: "E a entrega?"]
         â†“
    [Triage] â†’ nova anÃ¡lise (ciclo reinicia)
```

**Com single_reply=False (padrÃ£o):**

```
[UsuÃ¡rio: "Qual o preÃ§o?"]
         â†“
    [Triage] â†’ detecta consulta
         â†“
  [Knowledge] â†’ responde: "R$ 99,90"
         â†“
[UsuÃ¡rio: "E a entrega?"]
         â†“
  [Knowledge] â†’ continua no mesmo agente
         â†“
[UsuÃ¡rio: "Quero falar com humano"]
         â†“
  [Knowledge] â†’ handoff para Escalation
```

### ConfiguraÃ§Ã£o Recomendada

Para a maioria dos casos de uso:

```yaml
global: false

agents:
  knowledge: true      # FAQ
  answer: true         # Perguntas gerais
  confirmation: true   # ConfirmaÃ§Ãµes
  
  interview: false     # Coleta de dados
  onboarding: false    # Guia de usuÃ¡rio
```

---

## ğŸ” Filtros de Acesso (Role/User)

O sistema de **Filtros de Acesso** permite controlar quais agentes, prompts e tools estÃ£o disponÃ­veis para cada usuÃ¡rio ou role (funÃ§Ã£o).

ğŸ“‚ **Exemplos completos**: [docs/examples/access_filters/](docs/examples/access_filters/)

### Quando Usar

| CenÃ¡rio | SoluÃ§Ã£o |
|---------|---------|
| **Multi-tenant** | Diferentes clientes veem diferentes agentes |
| **NÃ­veis de acesso** | Admin vÃª mais opÃ§Ãµes que cliente |
| **SeguranÃ§a** | Dados sensÃ­veis sÃ³ para roles especÃ­ficas |
| **PersonalizaÃ§Ã£o** | Diferentes instruÃ§Ãµes por departamento |

### NÃ­veis de Filtragem

1. **Agentes**: Habilitar/desabilitar agentes inteiros
2. **Prompts**: Adicionar seÃ§Ãµes condicionais aos prompts
3. **Tools**: Habilitar/desabilitar tools especÃ­ficas

### Exemplo 1: Filtros de Agente (Via CÃ³digo)

```python
from pathlib import Path
from atendentepro import (
    create_standard_network,
    UserContext,
    AccessFilter,
)

# UsuÃ¡rio com role de vendedor
user = UserContext(user_id="vendedor_123", role="vendedor")

# Filtros de agente
agent_filters = {
    # Feedback sÃ³ para admin
    "feedback": AccessFilter(allowed_roles=["admin"]),
    # Escalation para todos exceto clientes
    "escalation": AccessFilter(denied_roles=["cliente"]),
}

network = create_standard_network(
    templates_root=Path("./meu_cliente"),
    client="config",
    user_context=user,
    agent_filters=agent_filters,
)
```

### Exemplo 2: Prompts Condicionais

Adicione instruÃ§Ãµes especÃ­ficas baseadas na role:

```python
from atendentepro import FilteredPromptSection

conditional_prompts = {
    "knowledge": [
        # SeÃ§Ã£o para vendedores
        FilteredPromptSection(
            content="\\n## Descontos\\nVocÃª pode oferecer atÃ© 15% de desconto.",
            filter=AccessFilter(allowed_roles=["vendedor"]),
        ),
        # SeÃ§Ã£o para admin
        FilteredPromptSection(
            content="\\n## Admin\\nVocÃª tem acesso total ao sistema.",
            filter=AccessFilter(allowed_roles=["admin"]),
        ),
    ],
}

network = create_standard_network(
    templates_root=Path("./meu_cliente"),
    client="config",
    user_context=user,
    conditional_prompts=conditional_prompts,
)
```

### Exemplo 3: Tools Filtradas

```python
from atendentepro import FilteredTool
from agents import function_tool

@function_tool
def deletar_cliente(cliente_id: str) -> str:
    """Remove um cliente do sistema."""
    return f"Cliente {cliente_id} removido"

filtered_tools = {
    "knowledge": [
        FilteredTool(
            tool=deletar_cliente,
            filter=AccessFilter(allowed_roles=["admin"]),  # SÃ³ admin
        ),
    ],
}

network = create_standard_network(
    templates_root=Path("./meu_cliente"),
    client="config",
    user_context=user,
    filtered_tools=filtered_tools,
)
```

### Via YAML (access_config.yaml)

```yaml
# Filtros de agente
agent_filters:
  feedback:
    allowed_roles: ["admin"]
  escalation:
    denied_roles: ["cliente"]

# Prompts condicionais
conditional_prompts:
  knowledge:
    - content: |
        ## Capacidades de Vendedor
        VocÃª pode oferecer atÃ© 15% de desconto.
      filter:
        allowed_roles: ["vendedor"]

# Acesso a tools
tool_access:
  deletar_cliente:
    allowed_roles: ["admin"]
```

### Tipos de Filtro

| Tipo | DescriÃ§Ã£o | Exemplo |
|------|-----------|---------|
| `allowed_roles` | Whitelist de roles | `["admin", "gerente"]` |
| `denied_roles` | Blacklist de roles | `["cliente"]` |
| `allowed_users` | Whitelist de usuÃ¡rios | `["user_vip_1"]` |
| `denied_users` | Blacklist de usuÃ¡rios | `["user_bloqueado"]` |

### Prioridade de AvaliaÃ§Ã£o

1. `denied_users` - Se usuÃ¡rio estÃ¡ negado, **bloqueia**
2. `allowed_users` - Se lista existe e usuÃ¡rio estÃ¡ nela, **permite**
3. `denied_roles` - Se role estÃ¡ negada, **bloqueia**
4. `allowed_roles` - Se lista existe e role nÃ£o estÃ¡ nela, **bloqueia**
5. **Permite por padrÃ£o** - Se nenhum filtro matched

### Fluxo Visual

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         RequisiÃ§Ã£o: role="vendedor"            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              FILTRO DE AGENTES                 â”‚
â”‚  Knowledge: âœ… (vendedor allowed)              â”‚
â”‚  Escalation: âœ… (vendedor not denied)          â”‚
â”‚  Feedback: âŒ (only admin)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             FILTRO DE PROMPTS                  â”‚
â”‚  Knowledge recebe: "## Descontos..."           â”‚
â”‚  (seÃ§Ã£o condicional para vendedor)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              FILTRO DE TOOLS                   â”‚
â”‚  consultar_comissao: âœ…                        â”‚
â”‚  deletar_cliente: âŒ (only admin)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”€ MÃºltiplos Agentes (Multi Interview + Knowledge)

O AtendentePro suporta criar **mÃºltiplas instÃ¢ncias** de Interview e Knowledge agents, cada um especializado em um domÃ­nio diferente.

ğŸ“‚ **Exemplo completo**: [docs/examples/multi_agents/](docs/examples/multi_agents/)

### Caso de Uso

Empresa que atende diferentes tipos de clientes:
- **Pessoa FÃ­sica (PF)**: Produtos de consumo
- **Pessoa JurÃ­dica (PJ)**: SoluÃ§Ãµes empresariais

### Arquitetura

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚     Triage      â”‚
                    â”‚  (entry point)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚              â”‚              â”‚
              â–¼              â–¼              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Interview  â”‚  â”‚  Interview  â”‚  â”‚    Flow     â”‚
    â”‚     PF      â”‚  â”‚     PJ      â”‚  â”‚   (comum)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                â”‚
           â–¼                â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Knowledge  â”‚  â”‚  Knowledge  â”‚
    â”‚     PF      â”‚  â”‚     PJ      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ImplementaÃ§Ã£o

```python
from atendentepro import (
    create_custom_network,
    create_triage_agent,
    create_interview_agent,
    create_knowledge_agent,
)

# 1. Criar agentes especializados
interview_pf = create_interview_agent(
    interview_questions="CPF, data de nascimento, renda mensal",
    name="interview_pf",  # Nome Ãºnico!
)

interview_pj = create_interview_agent(
    interview_questions="CNPJ, razÃ£o social, faturamento",
    name="interview_pj",  # Nome Ãºnico!
)

knowledge_pf = create_knowledge_agent(
    knowledge_about="Produtos para consumidor final",
    name="knowledge_pf",
    single_reply=True,
)

knowledge_pj = create_knowledge_agent(
    knowledge_about="SoluÃ§Ãµes empresariais B2B",
    name="knowledge_pj",
    single_reply=True,
)

# 2. Criar Triage
triage = create_triage_agent(
    keywords_text="PF: CPF, pessoal, minha conta | PJ: CNPJ, empresa, MEI",
    name="triage_agent",
)

# 3. Configurar handoffs
triage.handoffs = [interview_pf, interview_pj, knowledge_pf, knowledge_pj]
interview_pf.handoffs = [knowledge_pf, triage]
interview_pj.handoffs = [knowledge_pj, triage]
knowledge_pf.handoffs = [triage]
knowledge_pj.handoffs = [triage]

# 4. Criar network customizada
network = create_custom_network(
    triage=triage,
    custom_agents={
        "interview_pf": interview_pf,
        "interview_pj": interview_pj,
        "knowledge_pf": knowledge_pf,
        "knowledge_pj": knowledge_pj,
    },
)
```

### CenÃ¡rios de Roteamento

| Mensagem do UsuÃ¡rio | Rota |
|---------------------|------|
| "Quero abrir conta para mim" | Triage â†’ Interview PF â†’ Knowledge PF |
| "Preciso de maquininha para minha loja" | Triage â†’ Interview PJ â†’ Knowledge PJ |
| "Quanto custa o cartÃ£o gold?" | Triage â†’ Knowledge PF (direto) |
| "Capital de giro para empresa" | Triage â†’ Knowledge PJ (direto) |

### PadrÃ£o: 1 Interview â†’ 2 Knowledge

Outro padrÃ£o comum Ã© ter um Ãºnico Interview que pode direcionar para mÃºltiplos Knowledge:

```
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Interview   â”‚
        â”‚ (coleta dados)â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
        â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Knowledge   â”‚ â”‚   Knowledge   â”‚
â”‚   Produtos    â”‚ â”‚Troubleshootingâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```python
# Um interview que direciona para mÃºltiplos knowledge
interview.handoffs = [knowledge_produtos, knowledge_troubleshooting, triage]
```

ğŸ“‚ **Exemplo completo**: [example_one_interview_two_knowledge.py](docs/examples/multi_agents/example_one_interview_two_knowledge.py)

### Dicas

1. **Nomes Ãºnicos**: Cada agente precisa de um `name` distinto
2. **Handoffs claros**: Configure quais agentes cada um pode chamar
3. **Keywords no Triage**: Inclua palavras-chave para direcionar corretamente
4. **single_reply**: Use em Knowledge para evitar loops

---

## ğŸ“Š Tracing e Monitoramento

### MonkAI Trace (Recomendado)

IntegraÃ§Ã£o com [MonkAI Trace](https://github.com/BeMonkAI/monkai-trace) para monitoramento completo de agentes:

```bash
pip install monkai-trace
```

```python
from atendentepro import (
    activate,
    create_standard_network,
    configure_monkai_trace,
    run_with_monkai_tracking,
)

# 1. Ativar biblioteca
activate("ATP_seu-token")

# 2. Configurar MonkAI Trace
configure_monkai_trace(
    tracer_token="tk_seu_token_monkai",  # ou env MONKAI_TRACER_TOKEN
    namespace="meu-projeto",
)

# 3. Criar rede
network = create_standard_network(...)

# 4. Executar com tracking
result = await run_with_monkai_tracking(
    agent=network.triage,
    user_input="OlÃ¡, preciso de ajuda",
    user_id="user123",  # Opcional: para sessÃµes multi-usuÃ¡rio
)
```

**Recursos do MonkAI Trace:**
- âœ… Tracking automÃ¡tico de sessÃµes
- âœ… SegmentaÃ§Ã£o de tokens (input, output, process, memory)
- âœ… Rastreamento de handoffs entre agentes
- âœ… Captura de ferramentas internas (web_search, RAG)
- âœ… Suporte multi-usuÃ¡rio (WhatsApp, chat)

### Uso AvanÃ§ado

```python
from atendentepro import (
    get_monkai_hooks,
    set_monkai_user,
    set_monkai_input,
)
from agents import Runner

# Para controle manual
hooks = get_monkai_hooks()
set_monkai_user("5511999999999")  # WhatsApp
set_monkai_input("Como cancelar?")

result = await Runner.run(network.triage, messages, hooks=hooks)
```

### Application Insights (Azure)

Para Azure, use Application Insights:

```python
from atendentepro import configure_application_insights

configure_application_insights(
    connection_string="InstrumentationKey=..."
)
```

---

## ğŸ¤ Suporte

- ğŸ“§ **Email:** contato@monkai.com.br
- ğŸŒ **Site:** https://www.monkai.com.br

---

## ğŸ“ Changelog

### v0.6.1 (Atual)
- DocumentaÃ§Ã£o PyPI atualizada com AgentStyle e changelog completo

### v0.6.0
- **AgentStyle**: Nova classe para personalizar tom e estilo de comunicaÃ§Ã£o
  - `tone`, `language_style`, `response_length`, `custom_rules`
- `style_config.yaml`: ConfiguraÃ§Ã£o de estilos via YAML
- ParÃ¢metros `global_style` e `agent_styles` em `create_standard_network()`
- Todos os agentes aceitam `style_instructions`

### v0.5.9
- DescriÃ§Ã£o PyPI formal: "Framework de orquestraÃ§Ã£o de agentes IA"
- README profissional com foco em capacidades corporativas

### v0.5.8
- Novos keywords: triage, handoff, escalation, feedback, knowledge-base
- DependÃªncia `tracing` agora usa `monkai-trace`

### v0.5.7
- **MonkAI Trace**: IntegraÃ§Ã£o completa para monitoramento de agentes
- Novas funÃ§Ãµes: `configure_monkai_trace`, `run_with_monkai_tracking`
- Suporte multi-usuÃ¡rio para WhatsApp/chat

### v0.5.6
- **Agentes configurÃ¡veis**: `include_knowledge=False`, `include_flow=False`, etc.
- Permite criar redes sem agentes especÃ­ficos

### v0.5.5
- Workflow PyPI apenas com tags de versÃ£o

### v0.5.4
- DocumentaÃ§Ã£o completa standalone no PyPI

### v0.5.3
- Links de documentaÃ§Ã£o corrigidos para PyPI

### v0.5.2
- Contatos atualizados (monkai.com.br)

### v0.5.1
- Prompts modulares para Escalation e Feedback
- RemoÃ§Ã£o de handoff circular Answerâ†’Interview

### v0.5.0
- **Novo**: Feedback Agent (tickets/SAC)
- Ferramentas: criar_ticket, consultar_ticket, listar_meus_tickets

### v0.4.0
- **Novo**: Escalation Agent (transferÃªncia humana)
- VerificaÃ§Ã£o de horÃ¡rio, prioridade automÃ¡tica, webhooks

### v0.3.0
- Sistema de licenciamento com tokens
- PublicaÃ§Ã£o inicial no PyPI

### v0.2.0
- Arquitetura modular completa
- 8 agentes especializados
- Sistema de templates YAML

---

**Made with â¤ï¸ by [MonkAI](https://www.monkai.com.br)**
