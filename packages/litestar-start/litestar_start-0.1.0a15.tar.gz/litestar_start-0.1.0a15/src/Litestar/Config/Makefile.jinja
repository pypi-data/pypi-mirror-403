.PHONY: lint
lint:
	@echo "Running linters... ðŸ”„"
	ruff check --fix
	ty check
	pre-commit install
	pre-commit run -a
	@echo "Linters completed. âœ…"

{% if database.value == "PostgreSQL" or database.value == "MySQL" %}
INFRA_COMPOSE_FILE := docker-compose.infra.yml

.PHONY: start-infra
start-infra:
	@echo "Starting infrastructure (AlloyDB Omni)... ðŸ”„"
	docker compose -f $(INFRA_COMPOSE_FILE) up -d
	@echo "Infrastructure started. âœ…"

.PHONY: stop-infra
stop-infra:
	@echo "Stopping infrastructure... ðŸ”„"
	docker compose -f $(INFRA_COMPOSE_FILE) down
	@echo "Infrastructure stopped. âœ…"
{% endif %}
