"use strict";(self.webpackChunklino_react=self.webpackChunklino_react||[]).push([[5375],{2983:(e,t,n)=>{n.r(t),n.d(t,{LinoEditor:()=>k,name:()=>w});var o=n(467),r=n(4467),a=n(3029),i=n(2901),c=n(6822),s=n(3954),l=n(5501),u=n(4756),p=n.n(u),d=n(6540),f=n(6606),h=n(2756),m=n(8524);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}var E,w="LinoEditor";E={qm:Promise.all([n.e(8026),n.e(4166),n.e(1058),n.e(8887),n.e(5573),n.e(7335),n.e(6836),n.e(1304),n.e(8605),n.e(2555),n.e(6301),n.e(275)]).then(n.t.bind(n,723,23))};(0,f.RegisterImportPool)(E);var k=function(e){function t(e){var n,o,r,i;return(0,a.A)(this,t),o=this,r=t,i=[e],r=(0,s.A)(r),(n=(0,c.A)(o,v()?Reflect.construct(r,i||[],(0,s.A)(o).constructor):r.apply(o,i))).state=b(b({},n.state),{},{plain:"plain"===e.elem.field_options.format}),n.closeEditor=n.closeEditor.bind(n),n.onGlobalKeyDown=n.onGlobalKeyDown.bind(n),n}return(0,l.A)(t,e),(0,i.A)(t,[{key:"onReady",value:function(){window.addEventListener("keydown",this.onGlobalKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onGlobalKeyDown)}},{key:"onGlobalKeyDown",value:function(e){"Escape"==e.code&&this.closeEditor(e)}},{key:"closeEditor",value:function(){var e=this.c,t=function(){e.history.pushPath({pathname:"/api/".concat(e.value.packId,"/").concat(e.value.actorId,"/").concat(e.value.pk),params:e.actionHandler.defaultStaticParams()})};e.isModified()?e.actionHandler.discardModDConfirm({agree:t}):t()}},{key:"headerExtend",value:function(){var e=this;return d.createElement("span",{className:"ql-formats"},d.createElement("button",{type:"button",onClick:function(){var t=(0,o.A)(p().mark(function t(n){return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=1,e.c.actionHandler.submit({});case 1:t.sent.success&&e.closeEditor(n);case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),"aria-label":"Submit changes"},d.createElement("i",{className:"pi pi-save"})),d.createElement("button",{type:"button",onClick:this.closeEditor,"aria-label":"Close window"},d.createElement("i",{className:"pi pi-times"})))}},{key:"render",value:function(){var e=this;if(!this.state.ready)return null;var t=this.c.APP;return d.createElement("div",{className:"l-editor",lang:this.c.value[m.URL_PARAM_USER_LANGUAGE],onKeyDown:function(){var t=(0,o.A)(p().mark(function t(n){return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.ctrlKey&&!n.metaKey||"KeyS"!==n.code){t.next=2;break}return n.stopPropagation(),n.preventDefault(),t.next=1,e.c.actionHandler.submit({});case 1:t.sent.success&&e.closeEditor(n),t.next=3;break;case 2:"Escape"!==n.code&&n.stopPropagation();case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),spellCheck:!t.state.site_data.disable_spell_check},d.createElement(this.ex.qm.QuillEditor,{autoFocus:!0,c:this.c,headerExtend:this.headerExtend(),htmlValue:this.state.plain?null:this.getValue(),inGrid:!1,parent:this,plain:this.state.plain,showHeader:!0,value:this.state.plain?this.getValue():null}))}}])}(h.LeafComponentInput);k.requiredModules=["qm"].concat(h.LeafComponentInput.requiredModules),k.iPool=Object.assign(E,h.LeafComponentInput.iPool.copy()),k.defaultProps=b(b({},h.LeafComponentInput.defaultProps),{},{leafIndex:0})}}]);
//# sourceMappingURL=main.LinoEditor_LinoBody.e60785bd75e7def92f4e.js.map