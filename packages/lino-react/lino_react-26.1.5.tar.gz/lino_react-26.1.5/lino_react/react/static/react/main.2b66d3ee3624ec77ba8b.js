/*! For license information please see main.2b66d3ee3624ec77ba8b.js.LICENSE.txt */
(self.webpackChunklino_react=self.webpackChunklino_react||[]).push([[8792],{296:(e,t,r)=>{"use strict";r.d(t,{A:()=>_});var n=r(7800);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,_,o,i,a=[],s=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);s=!0);}catch(e){u=!0,_=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw _}}return a}}(e,t)||(0,n.A)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},467:(e,t,r)=>{"use strict";function n(e,t,r,n,_,o,i){try{var a=e[o](i),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,_)}function _(e){return function(){var t=this,r=arguments;return new Promise(function(_,o){var i=e.apply(t,r);function a(e){n(i,_,o,a,s,"next",e)}function s(e){n(i,_,o,a,s,"throw",e)}a(void 0)})}}r.d(t,{A:()=>_})},579:(e,t,r)=>{var n=r(3738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},816:(e,t,r)=>{"use strict";r.d(t,{A:()=>_});var n=r(2284);function _(e){var t=function(e,t){if("object"!=(0,n.A)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var _=r.call(e,t||"default");if("object"!=(0,n.A)(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,n.A)(t)?t:t+""}},887:(e,t,r)=>{var n=r(6993),_=r(1791);e.exports=function(e,t,r,o,i){return new _(n().w(e,t,r,o),i||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},1791:(e,t,r)=>{var n=r(5172),_=r(5546);e.exports=function e(t,r){function o(e,_,i,a){try{var s=t[e](_),u=s.value;return u instanceof n?r.resolve(u.v).then(function(e){o("next",e,i,a)},function(e){o("throw",e,i,a)}):r.resolve(u).then(function(e){s.value=e,i(s)},function(e){return o("throw",e,i,a)})}catch(e){a(e)}}var i;this.next||(_(e.prototype),_(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),_(this,"_invoke",function(e,t,n){function _(){return new r(function(t,r){o(e,n,t,r)})}return i=i?i.then(_,_):_()},!0)},e.exports.__esModule=!0,e.exports.default=e.exports},1828:(e,t,r)=>{"use strict";(0,r(2175).XX)()},2175:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{XX:()=>render});var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(296),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(467),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4467),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3029),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2901),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6822),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3954),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5501),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(4756),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__),_custom_hooks__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(9921),react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6540),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5556),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),_constants__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(8524),_LinoUtils__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(7540),_Base__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(6606),_Base__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_Base__WEBPACK_IMPORTED_MODULE_14__),ex;function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _callSuper(e,t,r){return t=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__.A)(t),(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__.A)(e,_isNativeReflectConstruct()?Reflect.construct(t,r||[],(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__.A)(e).constructor):t.apply(e,r))}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}Promise.all([__webpack_require__.e(2395),__webpack_require__.e(1841)]).then(__webpack_require__.bind(__webpack_require__,3491));var exModulePromises=ex={rdc:Promise.all([__webpack_require__.e(7335),__webpack_require__.e(5316)]).then(__webpack_require__.t.bind(__webpack_require__,5338,19)),rrd:Promise.all([__webpack_require__.e(7335),__webpack_require__.e(7185)]).then(__webpack_require__.bind(__webpack_require__,5325)),queryString:Promise.all([__webpack_require__.e(4166),__webpack_require__.e(2298)]).then(__webpack_require__.bind(__webpack_require__,8091)),weakKey:__webpack_require__.e(4166).then(__webpack_require__.t.bind(__webpack_require__,6911,23)),ReconnectingWebSocket:__webpack_require__.e(4166).then(__webpack_require__.bind(__webpack_require__,5697)),prAPI:Promise.all([__webpack_require__.e(8026),__webpack_require__.e(8887)]).then(__webpack_require__.bind(__webpack_require__,2349)),prButton:Promise.all([__webpack_require__.e(8026),__webpack_require__.e(1927),__webpack_require__.e(8887),__webpack_require__.e(5573),__webpack_require__.e(7335),__webpack_require__.e(9685),__webpack_require__.e(7801)]).then(__webpack_require__.bind(__webpack_require__,9119)),prLocale:__webpack_require__.e(2267).then(__webpack_require__.bind(__webpack_require__,1928)),prToast:Promise.all([__webpack_require__.e(8026),__webpack_require__.e(1927),__webpack_require__.e(8887),__webpack_require__.e(5573),__webpack_require__.e(7335),__webpack_require__.e(6836),__webpack_require__.e(9897),__webpack_require__.e(9410)]).then(__webpack_require__.bind(__webpack_require__,9565)),nc:Promise.all([__webpack_require__.e(4166),__webpack_require__.e(1304),__webpack_require__.e(8605),__webpack_require__.e(6790),__webpack_require__.e(2783),__webpack_require__.e(6368)]).then(__webpack_require__.bind(__webpack_require__,7506)),sc:__webpack_require__.e(4931).then(__webpack_require__.bind(__webpack_require__,5614)),i18n:Promise.all([__webpack_require__.e(1304),__webpack_require__.e(8605),__webpack_require__.e(7211)]).then(__webpack_require__.bind(__webpack_require__,5721))};function LinoRouter(e){var t=e.RRD.useNavigate(),r=e.RRD.useLocation();return react__WEBPACK_IMPORTED_MODULE_10__.createElement(App,{navigate:t,location:r})}(0,_Base__WEBPACK_IMPORTED_MODULE_14__.RegisterImportPool)(exModulePromises),LinoRouter.propTypes={RRD:prop_types__WEBPACK_IMPORTED_MODULE_11___default().shape({useNavigate:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func.isRequired,useLocation:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func.isRequired}).isRequired};var ServerErrorProps={APP:prop_types__WEBPACK_IMPORTED_MODULE_11___default().object.isRequired};function InternalServerError(e){var t=(0,_Base__WEBPACK_IMPORTED_MODULE_14__.getExReady)(ex,["prButton","i18n"],function(e){e.i18n=e.i18n.default});return t.ready?react__WEBPACK_IMPORTED_MODULE_10__.createElement("div",{style:{textAlign:"center"}},react__WEBPACK_IMPORTED_MODULE_10__.createElement("p",null,"There was a problem on the server. If the problem persists, contact your site maintainer."),react__WEBPACK_IMPORTED_MODULE_10__.createElement(t.prButton.Button,{label:t.i18n.t("Reinitialize"),onClick:function(){return e.APP.reload()}})):null}InternalServerError.propTypes=ServerErrorProps;var App=function(_Component){function App(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__.A)(this,App),(t=_callSuper(this,App,[e])).dialogFactory=null,t.toast=null,t.URLContext=null,t._skipDefaultSetReady=!0,t.location=e.location,t.navigate=e.navigate,t.rps={},t.state=_objectSpread(_objectSpread({},t.state),{},{site_loading:!0,site_data:null,menu_data:null,user_settings:null,WS:!1,children:null}),t.data={miStore:[],themeName:"default",selectedLanguage:null,scroll:{},scrollIndex:[],zoomHandles:[]},t.setRpRef=(0,_LinoUtils__WEBPACK_IMPORTED_MODULE_13__.setRpRefFactory)(t.rps),t.createAccount=t.createAccount.bind(t),t.fetch_user_settings=t.fetch_user_settings.bind(t),t.fetch_site_data=t.fetch_site_data.bind(t),t.handleZoom=t.handleZoom.bind(t),t.interceptBrowserBF=t.interceptBrowserBF.bind(t),t.interceptBrowserReload=t.interceptBrowserReload.bind(t),t.messageInterceptor=t.messageInterceptor.bind(t),t.onHrefClick=t.onHrefClick.bind(t),t.onMysettings=t.onMysettings.bind(t),t.onReady=t.onReady.bind(t),t.registerHandle=t.registerHandle.bind(t),t.unsetLoadMask=t.unsetLoadMask.bind(t),t.reset=t.reset.bind(t),t.setLoadMask=t.setLoadMask.bind(t),t.setServerError=t.setServerError.bind(t),t.unregisterHandle=t.unregisterHandle.bind(t),t.getSettings=t.getSettings.bind(t),t.setSettings=t.setSettings.bind(t),t.onSignOutIn=t.onSignOutIn.bind(t),t.runAction=t.runAction.bind(t),t.notification_web_socket=t.notification_web_socket.bind(t),t.push=t.push.bind(t),window.App=t,t}return(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__.A)(App,_Component),(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__.A)(App,[{key:"prepare",value:(_prepare=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.A)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().mark(function e(){var t,r,n,_=this;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.ex.queryString=this.ex.queryString.default,t=this.ex.i18n.TransInit,this.ex.i18n=this.ex.i18n.default,r=this.ex.queryString.parse(this.location.search.slice(1)),n=function(){var e=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.A)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().mark(function e(t){var n;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r[_constants__WEBPACK_IMPORTED_MODULE_12__.URL_PARAM_USER_LANGUAGE]&&t.changeLanguage(r[_constants__WEBPACK_IMPORTED_MODULE_12__.URL_PARAM_USER_LANGUAGE]),!r[_constants__WEBPACK_IMPORTED_MODULE_12__.URL_PARAM_SUBST_USER]){e.next=1;break}return e.next=1,_.URLContext.history.replaceByType((0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__.A)({},_constants__WEBPACK_IMPORTED_MODULE_12__.URL_PARAM_SUBST_USER,r[_constants__WEBPACK_IMPORTED_MODULE_12__.URL_PARAM_SUBST_USER]),_constants__WEBPACK_IMPORTED_MODULE_12__.PARAM_TYPE_WINDOW,!1,!0);case 1:_.storageName="lino-".concat(window.Lino.site_name,"-json-cache"),(n=window.indexedDB.open(_.storageName,1)).onsuccess=function(e){_.cacheDB=e.target.result,_.setReady()},n.onupgradeneeded=function(e){e.target.result.createObjectStore(_.storageName)},_.ex.i18n.t("whiteSpace"," "),_.ex.i18n.t("colonSpaced",":$t(whiteSpace)");case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.URLContext=new this.ex.nc.Context({APP:this,rs:r.rs,next:function(e){return t(e,n)}});case 1:case"end":return e.stop()}},e,this)})),function(){return _prepare.apply(this,arguments)})},{key:"onReady",value:function(){this.setState({children:react__WEBPACK_IMPORTED_MODULE_10__.createElement(this.ex.sc.LinoProgressBar,{loading:!0})}),this.reset(),this.setTheme(this),window.addEventListener("message",this.messageInterceptor),window.addEventListener("click",this.onHrefClick),window.onbeforeunload=this.interceptBrowserReload,window.onpopstate=this.interceptBrowserBF}},{key:"componentWillUnmount",value:function(){this.cacheDB.close(),window.removeEventListener("message",this.messageInterceptor),window.removeEventListener("click",this.onHrefClick)}},{key:"interceptBrowserReload",value:function(e){this.URLContext.isModified()&&(e.preventDefault(),e.returnValue=!0)}},{key:"interceptBrowserBF",value:function(e){var t=document.URL.split("#")[1].split("?"),r=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.A)(t,2),n=r[0],_=r[1],o=this.ex.queryString.parse(_),i=this.URLContext;n!==i.value.path&&(i.filled(o.rs)?i.history.has(o.rs)?i.history.load({rs:o.rs,lazy:!0}):i.history.pushPath({pathname:n,params:o,lazy:!0}):(o.rs=i.newSlug(),this.navigate(i.makePath(_objectSpread({path:n},o)),{replace:!0}),i.history.pushPath({pathname:n,params:o,lazy:!0})))}},{key:"registerHandle",value:function(e,t){this.data["".concat(e,"Handles")].push(t)}},{key:"unregisterHandle",value:function(e,t){var r=this.data["".concat(e,"Handles")].indexOf(t);r>-1&&this.data["".concat(e,"Handles")].splice(r,1)}},{key:"handleZoom",value:function(){if(this.tbContainer){var e=this.tbContainer.getBoundingClientRect().bottom;this.state.zoomHandlerID=setInterval(function(t){if(t.tbContainer){var r=t.tbContainer.getBoundingClientRect().bottom;r!=e&&(e=r,Object.values(t.data.zoomHandles).forEach(function(e){return e()}))}else clearInterval(t.state.zoomHandlerID)},300,this)}}},{key:"onHrefClick",value:function(e){if(e.ctrlKey&&e.target.href&&e.target.href.startsWith("javascript")){e.preventDefault();var t=JSON.parse(e.target.href.split("runAction(")[1].slice(0,-1));Object.assign(t,{clickCatch:!0}),this.runAction(t)}}},{key:"setLoadMask",value:function(){this.setState({loadMask:!0})}},{key:"unsetLoadMask",value:function(){this.setState({loadMask:!1})}},{key:"setTheme",value:function(e){"whitewall"===e.data.themeName&&(document.querySelector("body").classList.add("l-whitewall-body-container"),this.setState({staticMenuInactive:!0}))}},{key:"messageInterceptor",value:function(e){"ArrowsTaken"!==e.data||this.data.arrowsTaken?"ArrowsReleased"===e.data&&this.data.arrowsTaken&&(this.data.arrowsTaken=!1):this.data.arrowsTaken=!0}},{key:"updatePushSubscription",value:function(e){var t=this;if(this.state.site_data&&this.state.site_data.use_push_api)if(e){var r={lang:navigator.userLanguage||navigator.language,userAgent:navigator.userAgent,sub:JSON.stringify(e)};this.URLContext.actionHandler.silentFetch({path:"pushsubscription?".concat(this.ex.queryString.stringify(r))})}else"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.pushManager.getSubscription().then(function(e){null!==e&&t.updatePushSubscription(e)})})}},{key:"onMysettings",value:function(e){var t=(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__.A)({actorId:"users.Me",action_full_name:"users.Me.detail"},_constants__WEBPACK_IMPORTED_MODULE_12__.URL_PARAM_SELECTED,[this.state.user_settings.user_id]);e.ctrlKey&&(t.clickCatch=!0),this.runAction(t)}},{key:"onSignOutIn",value:function(e){var t=this;this.state.user_settings.logged_in?(this.setLoadMask(),this.URLContext.actionHandler.silentFetch({path:"auth"}).then(function(e){t.webSocketBridge&&t.webSocketBridge.close(),t.navigate("/"),t.reset()}),this.unsetLoadMask()):this.runAction({actorId:"about.About",action_full_name:this.URLContext.actionHandler.findUniqueAction("sign_in").full_name})}},{key:"createAccount",value:function(){this.state.user_settings.logged_in||this.runAction({actorId:"about.About",action_full_name:this.URLContext.actionHandler.findUniqueAction("create_account").full_name})}},{key:"addClass",value:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t}},{key:"removeClass",value:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"isDesktop",value:function(){return window.innerWidth>1024}},{key:"componentDidUpdate",value:function(){this.state.mobileMenuActive?this.addClass(document.body,"body-overflow-hidden"):this.removeClass(document.body,"body-overflow-hidden")}},{key:"notification_web_socket",value:function(e){var t=this;if(window.Lino&&window.Lino.useWebSockets){(e||this.state.user_settings).user_id;this.webSocketBridge&&(this.webSocketBridge.close(),this.setState({WS:!1})),this.webSocketBridge=new this.ex.ReconnectingWebSocket.default(("https:"===window.location.protocol?"wss":"ws")+"://"+window.location.host+"/WS/",[],{}),this.webSocketBridge.addEventListener("close",function(e){return t.setState({WS:!1})}),this.webSocketBridge.addEventListener("open",function(){return t.setState({WS:!0})}),this.webSocketBridge.addEventListener("message",function(e){var r=JSON.parse(e.data);if(console.log("Received message ",r),r.type===_constants__WEBPACK_IMPORTED_MODULE_12__.WSM_TYPE.NOTIFICATION)t.push(r);else if(r.type===_constants__WEBPACK_IMPORTED_MODULE_12__.WSM_TYPE.CHAT)console.warn("CHAT features has been disabled!");else if(r.type===_constants__WEBPACK_IMPORTED_MODULE_12__.WSM_TYPE.LIVE_PANEL_UPDATE){var n=t.URLContext.globals.panels;Object.keys(r.data).filter(function(e){return e in n}).forEach(function(e){return n[e].liveUpdate(r.data[e])})}})}}},{key:"pushPermission",value:function(){Push.Permission.request(function(){return console.log("onGranted")},function(){return console.log("onDenied")})}},{key:"push",value:function(e){var t=e.body,r=e.subject,n=e.action_url;this.pushPermission();try{Push.create(r,{body:t,icon:"/static/img/lino-logo.png",onClick:function(){window.open(n)}})}catch(e){console.log(e.message)}}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.ex.sc.LinoProgressBar;this.setState({site_loading:!0,site_data:null,menu_data:null,user_settings:null,children:react__WEBPACK_IMPORTED_MODULE_10__.createElement(t,{loading:!0})}),this.fetch_user_settings(e)}},{key:"fetch_user_settings",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r={};this.URLContext.actionHandler.commonParams(r),this.URLContext.actionHandler.silentFetch({path:"".concat("user/settings/","?").concat(this.ex.queryString.stringify(r))}).then(function(r){if(t&&e.ex.i18n.language!==r.user_lang)return _constants__WEBPACK_IMPORTED_MODULE_12__.debugMessage("Changing language to ".concat(r.user_lang," from ").concat(e.ex.i18n.language)),e.ex.i18n.changeLanguage(r.user_lang),void e.fetch_user_settings(!1);var n=e.ex.prLocale.all;Object.keys(n).includes(r.locale)&&(e.ex.prAPI.addLocale(r.locale,n[r.locale]),e.ex.prAPI.locale(r.locale)),e.setState({user_settings:r,menu_data:e.createMenu(r.user_menu),settings_key:"settings_".concat(r.site_name)}),e.notification_web_socket(r),e.fetch_site_data(r)})}},{key:"fetch_site_data",value:(_fetch_site_data=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.A)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().mark(function e(t){var r,n,_,o;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,_LinoUtils__WEBPACK_IMPORTED_MODULE_13__.getSiteDataKey)(this.URLContext,t),n=t.site_data,e.next=1,this.URLContext.getSiteData(r,n);case 1:_=e.sent,this.setState({site_data:_,site_loading:!1}),_.theme_name&&_.theme_name!==this.data.themeName&&(this.data.themeName=_.theme_name,this.setTheme(this)),this.updatePushSubscription(),o=this.ex.sc.RootURLContext,this.setState({children:react__WEBPACK_IMPORTED_MODULE_10__.createElement(o,{APP:this})}),this.state.zoomHandlerID&&(clearInterval(this.state.zoomHandlerID),setTimeout(this.handleZoom,1e3));case 2:case"end":return e.stop()}},e,this)})),function(e){return _fetch_site_data.apply(this,arguments)})},{key:"setServerError",value:function(){this.setState({children:react__WEBPACK_IMPORTED_MODULE_10__.createElement(InternalServerError,{APP:this,reset:this.reset})})}},{key:"runAction",value:function(e){var t,r=e[_constants__WEBPACK_IMPORTED_MODULE_12__.URL_PARAM_REQUESTING_PANEL];!r||r.includes("dashboard")||r.includes("dItems")||(t=this.rps[e[_constants__WEBPACK_IMPORTED_MODULE_12__.URL_PARAM_REQUESTING_PANEL]]),t||(t=this.URLContext.actionHandler),t.checkAndRunAction(e)}},{key:"createMenu",value:function createMenu(layout){var _this7=this,miStore=[];this.data.counter=[0];var _convert=function convert(mi,store){var menu,storeMenu={};if(mi.text){var id=_this7.data.counter[0].toString();id+="_"+mi.text,id=id.replaceAll(" ","_"),id=id.replaceAll("(","_"),id=id.replaceAll(")","_"),id=id.replaceAll(".","_"),_this7.data.counter[0]+=1,menu={id:"m"+id,label:mi.text,command:function command(event){eval(mi.handler)}}}else menu="is_a_seperator";return"string"!=typeof menu&&(storeMenu.id=menu.id),mi.menu&&mi.menu.items&&(storeMenu.items=[],menu.items=mi.menu.items.map(function(e){return _convert(e,storeMenu.items)}),delete menu.command),Object.keys(storeMenu).length&&store.push(storeMenu),menu},result=layout.map(function(e){return _convert(e,miStore)});return this.data.counter&&delete this.data.counter,this.data.miStore=miStore,result}},{key:"getSettings",value:function(){return window.localStorage.getObject(this.state.settings_key)||{}}},{key:"setSettings",value:function(e){window.localStorage.setObject(this.state.settings_key,Object.assign(this.getSettings(),e))}},{key:"reload",value:(_reload=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.A)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().mark(function e(){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,this.URLContext.iDBclear();case 1:window.localStorage.clear(),window.location.reload();case 2:case"end":return e.stop()}},e,this)})),function(){return _reload.apply(this,arguments)})},{key:"render",value:function(){var e=this;return this.state.ready?react__WEBPACK_IMPORTED_MODULE_10__.createElement(react__WEBPACK_IMPORTED_MODULE_10__.Fragment,null,this.state.loadMask&&react__WEBPACK_IMPORTED_MODULE_10__.createElement(this.ex.sc.LinoLoadMask,null),react__WEBPACK_IMPORTED_MODULE_10__.createElement(this.ex.prToast.Toast,{ref:function(t){return e.toast=t}}),this.state.children,react__WEBPACK_IMPORTED_MODULE_10__.createElement("div",{className:"layout-mask"}),react__WEBPACK_IMPORTED_MODULE_10__.createElement("iframe",{id:"temp",name:"temp",style:{display:"none"}}),react__WEBPACK_IMPORTED_MODULE_10__.createElement(this.ex.sc.DialogFactory,{ref:function(t){return e.dialogFactory=t},APP:this})):null}}]);var _reload,_fetch_site_data,_prepare}(_Base__WEBPACK_IMPORTED_MODULE_14__.Component);function Main(){var e=(0,_Base__WEBPACK_IMPORTED_MODULE_14__.getExReady)(ex,["rrd"]);return e.ready?react__WEBPACK_IMPORTED_MODULE_10__.createElement(e.rrd.HashRouter,null,react__WEBPACK_IMPORTED_MODULE_10__.createElement(LinoRouter,{RRD:e.rrd})):null}function render(){return _render.apply(this,arguments)}function _render(){return(_render=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.A)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().mark(function e(){var t,r;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=document.getElementById("root"))){e.next=3;break}return r=_LinoUtils__WEBPACK_IMPORTED_MODULE_13__.pushExternalModules,e.next=1,ex.resolve(["queryString","weakKey"]);case 1:return r(e.sent),e.next=2,ex.resolve(["rdc"]);case 2:e.sent.rdc.createRoot(t).render(react__WEBPACK_IMPORTED_MODULE_10__.createElement(Main,null));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}App.requiredModules=["nc","sc","prToast","ReconnectingWebSocket","queryString","i18n","prAPI","prLocale"],App.iPool=ex,App.propTypes={location:prop_types__WEBPACK_IMPORTED_MODULE_11___default().object.isRequired,navigate:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func.isRequired}},2284:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{A:()=>n})},2694:(e,t,r)=>{"use strict";var n=r(6925);function _(){}function o(){}o.resetWarningCache=_,e.exports=function(){function e(e,t,r,_,o,i){if(i!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:_};return r.PropTypes=r,r}},2901:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(816);function _(e,t){for(var r=0;r<t.length;r++){var _=t[r];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(e,(0,n.A)(_.key),_)}}function o(e,t,r){return t&&_(e.prototype,t),r&&_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},3029:(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{A:()=>n})},3145:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{A:()=>n})},3662:(e,t,r)=>{"use strict";function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,{A:()=>n})},3738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3954:(e,t,r)=>{"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{A:()=>n})},4373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},4467:(e,t,r)=>{"use strict";r.d(t,{A:()=>_});var n=r(816);function _(e,t,r){return(t=(0,n.A)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},4633:(e,t,r)=>{var n=r(5172),_=r(6993),o=r(5869),i=r(887),a=r(1791),s=r(4373),u=r(579);function c(){"use strict";var t=_(),r=t.m(c),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var f={throw:1,return:2,break:3,continue:3};function d(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,f[e],t)},delegateYield:function(e,_,o){return t.resultName=_,r(n.d,u(e),o)},finish:function(e){return r(n.f,e)}},r=function(e,r,_){n.p=t.prev,n.n=t.next;try{return e(r,_)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=c=function(){return{wrap:function(e,r,n,_){return t.w(d(e),r,n,_&&_.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:a,async:function(e,t,r,n,_){return(p(t)?i:o)(d(e),t,r,n,_)},keys:s,values:u}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=c,e.exports.__esModule=!0,e.exports.default=e.exports},4756:(e,t,r)=>{var n=r(4633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},5172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},5287:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,E={};function b(e,t,r){this.props=e,this.context=t,this.refs=E,this.updater=r||d}function y(){}function A(e,t,r){this.props=e,this.context=t,this.refs=E,this.updater=r||d}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=b.prototype;var P=A.prototype=new y;P.constructor=A,h(P,b.prototype),P.isPureReactComponent=!0;var m=Array.isArray,O=Object.prototype.hasOwnProperty,R={current:null},v={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,n){var _,o={},i=null,a=null;if(null!=t)for(_ in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),t)O.call(t,_)&&!v.hasOwnProperty(_)&&(o[_]=t[_]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(_ in s=e.defaultProps)void 0===o[_]&&(o[_]=s[_]);return{$$typeof:r,type:e,key:i,ref:a,props:o,_owner:R.current}}function g(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var D=/\/+/g;function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,_,o,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var s=!1;if(null===e)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case r:case n:s=!0}}if(s)return i=i(s=e),e=""===o?"."+L(s,0):o,m(i)?(_="",null!=e&&(_=e.replace(D,"$&/")+"/"),T(i,t,_,"",function(e){return e})):null!=i&&(g(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,_+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(D,"$&/")+"/")+e)),t.push(i)),1;if(s=0,o=""===o?".":o+":",m(e))for(var u=0;u<e.length;u++){var c=o+L(a=e[u],u);s+=T(a,t,_,c,i)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)s+=T(a=a.value,t,_,c=o+L(a,u++),i);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function w(e,t,r){if(null==e)return e;var n=[],_=0;return T(e,n,"","",function(e){return t.call(r,e,_++)}),n}function S(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},k={transition:null},C={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:k,ReactCurrentOwner:R};function U(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:w,forEach:function(e,t,r){w(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return w(e,function(){t++}),t},toArray:function(e){return w(e,function(e){return e})||[]},only:function(e){if(!g(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=_,t.Profiler=i,t.PureComponent=A,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C,t.act=U,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var _=h({},e.props),o=e.key,i=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,a=R.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)O.call(t,u)&&!v.hasOwnProperty(u)&&(_[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)_.children=n;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];_.children=s}return{$$typeof:r,type:e.type,key:o,ref:i,props:_,_owner:a}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=g,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:S}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.transition;k.transition={};try{e()}finally{k.transition=t}},t.unstable_act=U,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,r){return I.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,r){return I.current.useReducer(e,t,r)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return I.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},5501:(e,t,r)=>{"use strict";r.d(t,{A:()=>_});var n=r(3662);function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,n.A)(e,t)}},5546:e=>{function t(r,n,_,o){var i=Object.defineProperty;try{i({},"",{})}catch(r){i=0}e.exports=t=function(e,r,n,_){function o(r,n){t(e,r,function(e){return this._invoke(r,n,e)})}r?i?i(e,r,{value:n,enumerable:!_,configurable:!_,writable:!_}):e[r]=n:(o("next",0),o("throw",1),o("return",2))},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,_,o)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5556:(e,t,r)=>{e.exports=r(2694)()},5869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,_,o){var i=n(e,t,r,_,o);return i.next().then(function(e){return e.done?e.value:i.next()})},e.exports.__esModule=!0,e.exports.default=e.exports},6540:(e,t,r)=>{"use strict";e.exports=r(5287)},6606:function(e,t,r){"use strict";var n,_=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var _=Object.getOwnPropertyDescriptor(t,r);_&&!("get"in _?!t.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,_)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),i=0;i<r.length;i++)"default"!==r[i]&&_(t,e,r[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.DataContextType=t.URLContextType=t.Component=t.DynDep=t.ImportPoolRegistry=void 0,t.RegisterImportPool=u,t.getExReady=function(e,t,r=()=>null){const[n,_]=a.useState({ready:!1});return a.useEffect(()=>{n.ready||e.resolve(t).then(e=>{r(e),_(Object.assign(e,{ready:!0}))})},[]),n};const a=i(r(6540));class s{constructor(e){this.resolve=async e=>{const t={};for(const r of e){if(!(r in this.modulePromises))throw new Error(`ImportPoolRegistry: Module '${r}' not found in the import pool.`);t[r]=await this.modulePromises[r].then(e=>e)}return t},this.copy=()=>{const e={...this.modulePromises};return delete e.copy,delete e.resolve,e},this.resolve=this.resolve.bind(this),this.copy=this.copy.bind(this),this.modulePromises=e,e.resolve=this.resolve,e.copy=this.copy}}function u(e){return new s(e)}t.ImportPoolRegistry=s;const c={};u(c);class l{onReady(e){}async prepare(){}constructor(e){this.ready=!1,this._skipDefaultSetReady=!1,this.resolveImports=async()=>{Object.assign(this.ex,await this.constructor.iPool.resolve(this.constructor.requiredModules)),await this.prepare()},this.setReady=e=>{this.ready=!0,this.onReady(e)},this.exModules={},this.ex=this.exModules,this.resolveImports=this.resolveImports.bind(this),this.setReady=this.setReady.bind(this),this.resolveImports().then(()=>{this._skipDefaultSetReady||this.setReady(e)})}}t.DynDep=l,l.requiredModules=[],l.iPool=c;class p extends a.Component{componentDidMount(){this.resolveImports().then(()=>{this._skipDefaultSetReady||this.setReady()})}onReady(){}async prepare(){}async iSetState(e){return await new Promise(t=>t(e)).then(e=>this.setState(e))}constructor(e,t){super(e,t),this._skipDefaultSetReady=!1,this.resolveImports=async()=>{Object.assign(this.ex,await this.constructor.iPool.resolve(this.constructor.requiredModules)),await this.prepare()},this.setReady=()=>{this.setState({ready:!0}),this.onReady()},this.state={ready:!1},this.exModules={},this.ex=this.exModules,this.componentDidMount=this.componentDidMount.bind(this),this.resolveImports=this.resolveImports.bind(this),this.setReady=this.setReady.bind(this)}}t.Component=p,p.requiredModules=[],p.iPool=c,t.URLContextType=a.createContext({}),t.DataContextType=a.createContext({})},6822:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2284),_=r(9417);function o(e,t){if(t&&("object"==(0,n.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,_.A)(e)}},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6993:(e,t,r)=>{var n=r(5546);function _(){var t,r,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function s(e,_,o,i){var a=_&&_.prototype instanceof c?_:c,s=Object.create(a.prototype);return n(s,"_invoke",function(e,n,_){var o,i,a,s=0,c=_||[],l=!1,p={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,r){return o=e,i=0,a=t,p.n=r,u}};function f(e,n){for(i=e,a=n,r=0;!l&&s&&!_&&r<c.length;r++){var _,o=c[r],f=p.p,d=o[2];e>3?(_=d===n)&&(a=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=f&&((_=e<2&&f<o[1])?(i=0,p.v=n,p.n=o[1]):f<d&&(_=e<3||o[0]>n||n>d)&&(o[4]=e,o[5]=n,p.n=d,i=0))}if(_||e>1)return u;throw l=!0,n}return function(_,c,d){if(s>1)throw TypeError("Generator is already running");for(l&&1===c&&f(c,d),i=c,a=d;(r=i<2?t:a)||!l;){o||(i?i<3?(i>1&&(p.n=-1),f(i,a)):p.n=a:p.v=a);try{if(s=2,o){if(i||(_="next"),r=o[_]){if(!(r=r.call(o,a)))throw TypeError("iterator result is not an object");if(!r.done)return r;a=r.value,i<2&&(i=0)}else 1===i&&(r=o.return)&&r.call(o),i<2&&(a=TypeError("The iterator does not provide a '"+_+"' method"),i=1);o=t}else if((r=(l=p.n<0)?a:e.call(n,p))!==u)break}catch(e){o=t,i=1,a=e}finally{s=1}}return{value:r,done:l}}}(e,o,i),!0),s}var u={};function c(){}function l(){}function p(){}r=Object.getPrototypeOf;var f=[][i]?r(r([][i]())):(n(r={},i,function(){return this}),r),d=p.prototype=c.prototype=Object.create(f);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=p,n(d,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,a,"GeneratorFunction"),n(d),n(d,a,"Generator"),n(d,i,function(){return this}),n(d,"toString",function(){return"[object Generator]"}),(e.exports=_=function(){return{w:s,m:h}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=_,e.exports.__esModule=!0,e.exports.default=e.exports},7540:(e,t,r)=>{"use strict";r.r(t),r.d(t,{debounce:()=>f,fillParamDefaults:()=>l,getDisplayMode:()=>p,getNextToolbarState:()=>c,getSiteDataKey:()=>b,isMobile:()=>u,isNaN:()=>s,name:()=>i,pushExternalModules:()=>a,pvObj2array:()=>E,setRpRefFactory:()=>h,toggleEditingMode:()=>d});var n,_=r(4467),o=r(8524),i="LinoUtils";function a(e){n=e}var s=function(e){return e!=e};function u(){return window.matchMedia("only screen and (max-width: 760px)").matches}function c(e){var t=o.TOOLBAR_STATES_ORDER.indexOf(e)+1;return t==o.TOOLBAR_STATES_ORDER.length?o.TOOLBAR_STATES_ORDER[0]:o.TOOLBAR_STATES_ORDER[t]}function l(e,t){return o.URL_PARAM_LIMIT in e||Object.assign(e,(0,_.A)({},o.URL_PARAM_LIMIT,0===t.preview_limit?99999:t.preview_limit)),e}function p(e,t){var r=void 0,n=e.default_display_modes;if(n)for(var _=0;_<n.length;_++){var o=n[_],i=o[0];if(null!=i){if(i>t){r=o[1];break}}else r=o[1]}return r}function f(e){var t,r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var _=arguments.length,o=new Array(_),i=0;i<_;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout(function(){e.apply(r,o)},n)}}function d(e){var t=e.controller,r=function(){return t.history.replaceState({editing_mode:!e.editing_mode})};e.editing_mode&&t.isModified()?t.actionHandler.discardModDConfirm({agree:r}):r()}function h(e){return function(t,r){var _;t&&(_=void 0===r?n.weakKey.default(t):r,e[_]=t,t.rp=_),Object.keys(e).forEach(function(t){null===e[t]&&delete e[t]})}}function E(e,t){var r=Object.keys(e);return t.map(function(t){var n;return void 0===(n=r.includes(t+"Hidden")?e[t+"Hidden"]:e[t])&&(n=null),n})}function b(e,t){var r=t.user_type,n=t.site_lang,_=t.site_name,i=t.su_user_type;return"ActorData_".concat(i||r,"_").concat(e.value[o.URL_PARAM_USER_LANGUAGE]||n,"_").concat(_)}},7800:(e,t,r)=>{"use strict";r.d(t,{A:()=>_});var n=r(3145);function _(e,t){if(e){if("string"==typeof e)return(0,n.A)(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.A)(e,t):void 0}}},8524:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ABSTRACT_PRIMARY_KEYS:()=>ye,ACTION_DISCARD_EDIT:()=>Q,CHOICES_BLANK_FILTER_VALUE:()=>J,CHOICES_HIDDEN_SUFFIX:()=>z,CHOICES_NOT_BLANK_FILTER_VALUE:()=>Z,CHOICES_TEXT_FIELD:()=>V,CHOICES_VALUE_FIELD:()=>X,CONTEXT_TYPE_ACTION:()=>ue,CONTEXT_TYPE_MULTI_ROW:()=>ae,CONTEXT_TYPE_SINGLE_ROW:()=>ie,CONTEXT_TYPE_SLAVE_GRID:()=>ce,CONTEXT_TYPE_TEXT_FIELD:()=>se,DANGEROUS_HTML:()=>oe,DATE_EXP:()=>Me,DISPLAY_MODE_CARDS:()=>y,DISPLAY_MODE_DETAIL:()=>b,DISPLAY_MODE_GALLERY:()=>P,DISPLAY_MODE_HTML:()=>R,DISPLAY_MODE_LIST:()=>A,DISPLAY_MODE_STORY:()=>m,DISPLAY_MODE_SUMMARY:()=>O,DISPLAY_MODE_TABLE:()=>E,DISPLAY_MODE_TILES:()=>v,DM_WT_MAP:()=>M,FLAG_CLONE_DATA:()=>fe,FLAG_CLONE_UI:()=>pe,FLAG_CLONE_URL:()=>le,GUI_PARAMS:()=>ee,LOGLEVEL_DEBUG:()=>Te,LOGLEVEL_INFO:()=>Le,PARAM_TYPE_GLOBAL:()=>Ae,PARAM_TYPE_IMPLICIT:()=>Oe,PARAM_TYPE_VIEW:()=>me,PARAM_TYPE_WINDOW:()=>Pe,PRIMARY_KEY_MYSELF:()=>Ee,PRIMARY_KEY_ROW:()=>be,SITE_GLOBALS_KEYS:()=>Re,STR_JSON_ITENT:()=>De,TIME_EXP:()=>ge,TOOLBAR_STATES_ORDER:()=>_e,TOOLBAR_STATE_HIDDEN:()=>te,TOOLBAR_STATE_PARTIALLY_VISIBLE:()=>ne,TOOLBAR_STATE_VISIBLE:()=>re,UNINITIALIZED:()=>de,URL_FORMAT_HTML:()=>H,URL_FORMAT_JSON:()=>j,URL_PARAM_ACTION_NAME:()=>K,URL_PARAM_CHOICES_FILTER:()=>L,URL_PARAM_COLUMNS:()=>$,URL_PARAM_DISPLAY_MODE:()=>h,URL_PARAM_FILTER:()=>T,URL_PARAM_FORMAT:()=>x,URL_PARAM_GRIDFILTER:()=>D,URL_PARAM_HIDDENS:()=>G,URL_PARAM_LIMIT:()=>C,URL_PARAM_LINO_VERSION:()=>_,URL_PARAM_MAIN_JS_TIMESTAMP:()=>o,URL_PARAM_MASTER_PK:()=>q,URL_PARAM_MASTER_TYPE:()=>W,URL_PARAM_PARAM_VALUES:()=>N,URL_PARAM_REQUESTING_PANEL:()=>B,URL_PARAM_SELECTED:()=>U,URL_PARAM_SORT:()=>S,URL_PARAM_SORTDIR:()=>I,URL_PARAM_START:()=>k,URL_PARAM_SUBST_USER:()=>g,URL_PARAM_TAB:()=>w,URL_PARAM_USER_LANGUAGE:()=>Y,URL_PARAM_WIDTHS:()=>F,URL_PARAM_WINDOW_TYPE:()=>i,WINDOW_GLOBALS_KEYS:()=>ve,WINDOW_TYPE_CARDS:()=>u,WINDOW_TYPE_DETAIL:()=>s,WINDOW_TYPE_GALLERIA:()=>c,WINDOW_TYPE_INSERT:()=>l,WINDOW_TYPE_PARAMS:()=>p,WINDOW_TYPE_TABLE:()=>a,WINDOW_TYPE_TEXT:()=>f,WINDOW_TYPE_UNKNOWN:()=>d,WSM_TYPE:()=>he,debugMessage:()=>we});var n=r(4467),_="lv",o="mjsts",i="wt",a="t",s="d",u="c",c="g",l="i",p="p",f="text",d=null,h="dm",E="grid",b="detail",y="cards",A="list",P="gallery",m="story",O="summary",R="html",v="tiles",M=(0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)({},E,a),b,s),y,u),A,null),P,c),m,null),O,null),R,null),v,null),g="su",D="filter",L="cq",T="query",w="tab",S="sort",I="dir",k="start",C="limit",U="sr",x="fmt",B="rp",W="mt",q="mk",K="an",N="pv",j="json",H="html",Y="ul",F="cw",G="ch",$="ci",V="text",X="value",z="Hidden",J="<BLANK>",Z="<!BLANK>",Q=["submit_detail","delete_selected"],ee=["tab"],te="hidden",re="visible",ne="partially-visible",_e=[re,ne,te],oe=!0,ie="SingleRow",ae="MultiRow",se="TextField",ue="Action",ce="SlaveGrid",le=1,pe=2,fe=4,de={},he={NOTIFICATION:"NOTIFICATION",CHAT:"CHAT",LIVE_PANEL_UPDATE:"PANEL_UPDATE"},Ee="myself",be="row",ye=[Ee,be],Ae="site-globals",Pe="window-globals",me="view-params",Oe="implicit",Re=["latestWID"],ve=[g,Y],Me=/^\d{2}.\d{2}.(\d{2}|\d{4})$/,ge=/^\d*:(\d{2})$/,De="JSON:::",Le=1,Te=2;function we(){var e;1>=Te&&(e=console).debug.apply(e,arguments)}},9417:(e,t,r)=>{"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{A:()=>n})},9921:()=>{"use strict";Storage.prototype.setObject=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:JSON.stringify;this.setItem(e,r(t))},Storage.prototype.getObject=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JSON.parse,r=this.getItem(e);return r&&t(r)},Storage.prototype.updateObject=function(e,t){this.setObject(e,Object.assign(this.getObject(e),t))},Storage.prototype.safeClear=function(){var e=this.getItem("clearsafe");this.clear(),this.setItem("clearsafe",e)}}},e=>{var t;t=1828,e(e.s=t)}]);
//# sourceMappingURL=main.2b66d3ee3624ec77ba8b.js.map