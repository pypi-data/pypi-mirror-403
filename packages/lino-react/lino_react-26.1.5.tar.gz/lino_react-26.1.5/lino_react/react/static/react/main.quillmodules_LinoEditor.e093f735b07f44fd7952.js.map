{"version":3,"file":"main.quillmodules_LinoEditor.e093f735b07f44fd7952.js","mappings":"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","sources":["webpack://lino_react/./node_modules/decode-uri-component/index.js","webpack://lino_react/./node_modules/filter-obj/index.js","webpack://lino_react/./lino_react/react/components/i18n.js","webpack://lino_react/./node_modules/primereact/portal/portal.esm.js","webpack://lino_react/./node_modules/split-on-first/index.js"],"sourcesContent":["const token = '%[a-f0-9]{2}';\nconst singleMatcher = new RegExp('(' + token + ')|([^%]+?)', 'gi');\nconst multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn [decodeURIComponent(components.join(''))];\n\t} catch {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tconst left = components.slice(0, split);\n\tconst right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch {\n\t\tlet tokens = input.match(singleMatcher) || [];\n\n\t\tfor (let i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher) || [];\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tconst replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD',\n\t};\n\n\tlet match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch {\n\t\t\tconst result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tconst entries = Object.keys(replaceMap);\n\n\tfor (const key of entries) {\n\t\t// Replace all decoded components\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nexport default function decodeUriComponent(encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n}\n","export function includeKeys(object, predicate) {\n\tconst result = {};\n\n\tif (Array.isArray(predicate)) {\n\t\tfor (const key of predicate) {\n\t\t\tconst descriptor = Object.getOwnPropertyDescriptor(object, key);\n\t\t\tif (descriptor?.enumerable) {\n\t\t\t\tObject.defineProperty(result, key, descriptor);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// `Reflect.ownKeys()` is required to retrieve symbol properties\n\t\tfor (const key of Reflect.ownKeys(object)) {\n\t\t\tconst descriptor = Object.getOwnPropertyDescriptor(object, key);\n\t\t\tif (descriptor.enumerable) {\n\t\t\t\tconst value = object[key];\n\t\t\t\tif (predicate(key, value, object)) {\n\t\t\t\t\tObject.defineProperty(result, key, descriptor);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result;\n}\n\nexport function excludeKeys(object, predicate) {\n\tif (Array.isArray(predicate)) {\n\t\tconst set = new Set(predicate);\n\t\treturn includeKeys(object, key => !set.has(key));\n\t}\n\n\treturn includeKeys(object, (key, value, object) => !predicate(key, value, object));\n}\n","import { URL_PARAM_USER_LANGUAGE, PARAM_TYPE_WINDOW, debugMessage } from './constants';\nimport i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\nimport HttpApi from \"i18next-http-backend\";\nimport { initReactI18next } from \"react-i18next\";\n\n\nexport const TransInit = (context, next) => {\n    const detector = new LanguageDetector();\n    detector.addDetector({\n        name: \"LinoLanguageDetector\",\n        lookup: (options) => {\n            return context.value[URL_PARAM_USER_LANGUAGE];\n        },\n        cacheUserLanguage(lng, options) {\n            context.fillPlaceHolder(PARAM_TYPE_WINDOW, URL_PARAM_USER_LANGUAGE, lng);\n            context.history.replaceByType({[URL_PARAM_USER_LANGUAGE]: lng},\n                PARAM_TYPE_WINDOW, false, true);\n            debugMessage(\"LinoLanguageDetector: cached language\", lng);\n        }\n    });\n\n    i18n\n    .use(HttpApi)\n    .use(detector)\n    .use(initReactI18next)\n    .init({\n        debug: false,\n        load: \"languageOnly\",\n        fallbackLng: window.Lino.i18nFallbackLng,\n        keySeparator: false,\n        interpolation: {\n          escapeValue: false // react already safes from xss\n        },\n        react: {\n            useSuspense: true\n        },\n        backend: {\n            loadPath: \"/static/react/locales/{{lng}}/{{ns}}.json\",\n            // addPath: \"/static/react/locales/{{lng}}/{{ns}}.json\"\n        },\n        detection: {\n            order: [\"queryString\", \"cookie\", \"LinoLanguageDetector\", \"localStorage\"],\n            lookupQuerystring: URL_PARAM_USER_LANGUAGE,\n            lookupCookie: URL_PARAM_USER_LANGUAGE,\n            lookupLocalStorage: URL_PARAM_USER_LANGUAGE,\n            // lookupSessionStorage: URL_PARAM_USER_LANGUAGE\n            caches: [\"LinoLanguageDetector\", \"localStorage\", \"cookie\"],\n        }\n    });\n\n    next(i18n);\n}\n\n\nexport default i18n;\n","'use client';\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport PrimeReact, { PrimeReactContext } from 'primereact/api';\nimport { useMountEffect, useUpdateEffect, useUnmountEffect } from 'primereact/hooks';\nimport { ObjectUtils, DomHandler } from 'primereact/utils';\n\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\n\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\n\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\n\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\n\nvar PortalBase = {\n  defaultProps: {\n    __TYPE: 'Portal',\n    element: null,\n    appendTo: null,\n    visible: false,\n    onMounted: null,\n    onUnmounted: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return ObjectUtils.getMergedProps(props, PortalBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return ObjectUtils.getDiffProps(props, PortalBase.defaultProps);\n  }\n};\n\nvar Portal = /*#__PURE__*/React.memo(function (inProps) {\n  var props = PortalBase.getProps(inProps);\n  var context = React.useContext(PrimeReactContext);\n  var _React$useState = React.useState(props.visible && DomHandler.isClient()),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    mountedState = _React$useState2[0],\n    setMountedState = _React$useState2[1];\n  useMountEffect(function () {\n    if (DomHandler.isClient() && !mountedState) {\n      setMountedState(true);\n      props.onMounted && props.onMounted();\n    }\n  });\n  useUpdateEffect(function () {\n    props.onMounted && props.onMounted();\n  }, [mountedState]);\n  useUnmountEffect(function () {\n    props.onUnmounted && props.onUnmounted();\n  });\n  var element = props.element || props.children;\n  if (element && mountedState) {\n    var appendTo = props.appendTo || context && context.appendTo || PrimeReact.appendTo;\n    if (ObjectUtils.isFunction(appendTo)) {\n      appendTo = appendTo();\n    }\n    if (!appendTo) {\n      appendTo = document.body;\n    }\n    return appendTo === 'self' ? element : /*#__PURE__*/ReactDOM.createPortal(element, appendTo);\n  }\n  return null;\n});\nPortal.displayName = 'Portal';\n\nexport { Portal };\n","export default function splitOnFirst(string, separator) {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (string === '' || separator === '') {\n\t\treturn [];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n}\n"],"names":["token","singleMatcher","RegExp","multiMatcher","decodeComponents","components","split","decodeURIComponent","join","length","left","slice","right","Array","prototype","concat","call","decode","input","tokens","match","i","decodeUriComponent","encodedURI","TypeError","replaceMap","exec","result","entries","Object","keys","key","replace","customDecodeURIComponent","includeKeys","object","predicate","isArray","descriptor","getOwnPropertyDescriptor","enumerable","defineProperty","Reflect","ownKeys","TransInit","context","next","detector","LanguageDetector","addDetector","name","lookup","options","value","URL_PARAM_USER_LANGUAGE","cacheUserLanguage","lng","fillPlaceHolder","PARAM_TYPE_WINDOW","history","replaceByType","_defineProperty","debugMessage","i18n","HttpApi","use","initReactI18next","init","debug","load","fallbackLng","window","Lino","i18nFallbackLng","keySeparator","interpolation","escapeValue","react","useSuspense","backend","loadPath","detection","order","lookupQuerystring","lookupCookie","lookupLocalStorage","caches","_arrayLikeToArray","r","a","e","n","_slicedToArray","_arrayWithHoles","l","t","Symbol","iterator","u","f","o","done","push","_iterableToArrayLimit","toString","constructor","from","test","_unsupportedIterableToArray","_nonIterableRest","PortalBase","defaultProps","__TYPE","element","appendTo","visible","onMounted","onUnmounted","children","undefined","getProps","props","ObjectUtils","getMergedProps","getOtherProps","getDiffProps","Portal","inProps","PrimeReactContext","_React$useState2","DomHandler","isClient","mountedState","setMountedState","isFunction","document","body","displayName","splitOnFirst","string","separator","separatorIndex","indexOf"],"ignoreList":[],"sourceRoot":""}