"use strict";(self.webpackChunklino_react=self.webpackChunklino_react||[]).push([[8865],{3357:(_,e,t)=>{var n=t(5072),r=t.n(n),o=t(7825),a=t.n(o),i=t(7659),c=t.n(i),p=t(5056),l=t.n(p),s=t(540),u=t.n(s),b=t(1113),A=t.n(b),E=t(8610),P={};P.styleTagTransform=A(),P.setAttributes=l(),P.insert=c().bind(null,"head"),P.domAPI=a(),P.insertStyleElement=u();r()(E.A,P),E.A&&E.A.locals&&E.A.locals},7741:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{LinoBbar:()=>LinoBbar,name:()=>name});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8168),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(467),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4467),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3029),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2901),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6822),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5501),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3954),_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(991),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4756),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9__),_LinoBbar_css__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(3357),_constants__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(8524),react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(6540),prop_types__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(5556),prop_types__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_13__),_Base__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(6606),_Base__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_Base__WEBPACK_IMPORTED_MODULE_14__);function ownKeys(_,e){var t=Object.keys(_);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(_);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(_,e).enumerable})),t.push.apply(t,n)}return t}function _objectSpread(_){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(t),!0).forEach(function(e){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__.A)(_,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e){Object.defineProperty(_,e,Object.getOwnPropertyDescriptor(t,e))})}return _}function _callSuper(_,e,t){return e=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__.A)(e),(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__.A)(_,_isNativeReflectConstruct()?Reflect.construct(e,t||[],(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__.A)(_).constructor):e.apply(_,t))}function _isNativeReflectConstruct(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return(_isNativeReflectConstruct=function(){return!!_})()}function _superPropGet(_,e,t,n){var r=(0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_8__.A)((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__.A)(1&n?_.prototype:_),e,t);return 2&n&&"function"==typeof r?function(_){return r.apply(t,_)}:r}var name="LinoBbar",ex,exModulePromises=ex={_:__webpack_require__.e(6790).then(__webpack_require__.t.bind(__webpack_require__,2543,23)),prButton:Promise.all([__webpack_require__.e(8026),__webpack_require__.e(1927),__webpack_require__.e(8887),__webpack_require__.e(5573),__webpack_require__.e(7335),__webpack_require__.e(9685),__webpack_require__.e(7801)]).then(__webpack_require__.bind(__webpack_require__,9119)),prSplitButton:Promise.all([__webpack_require__.e(8026),__webpack_require__.e(6190),__webpack_require__.e(1927),__webpack_require__.e(8887),__webpack_require__.e(5573),__webpack_require__.e(7335),__webpack_require__.e(9685),__webpack_require__.e(6836),__webpack_require__.e(2315)]).then(__webpack_require__.bind(__webpack_require__,8997)),i18n:Promise.all([__webpack_require__.e(1304),__webpack_require__.e(8605),__webpack_require__.e(7211)]).then(__webpack_require__.bind(__webpack_require__,5721))};(0,_Base__WEBPACK_IMPORTED_MODULE_14__.RegisterImportPool)(ex);var LinoBbar=function(_Component){function LinoBbar(_){var e;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__.A)(this,LinoBbar),(e=_callSuper(this,LinoBbar,[_])).state=_objectSpread(_objectSpread({},e.state),{},{overflowShow:!1}),e.action2buttonProps=e.action2buttonProps.bind(e),e.render_buttons=e.render_buttons.bind(e),e.render_overflow=e.render_overflow.bind(e),e.render_actionbutton=e.render_actionbutton.bind(e),e.render_splitActionButton=e.render_splitActionButton.bind(e),e.runAction=e.runAction.bind(e),e}return(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__.A)(LinoBbar,_Component),(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__.A)(LinoBbar,[{key:"prepare",value:(_prepare=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.A)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _(){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=1,_superPropGet(LinoBbar,"prepare",this,3)([]);case 1:this.ex.i18n=this.ex.i18n.default;case 2:case"end":return _.stop()}},_,this)})),function(){return _prepare.apply(this,arguments)})},{key:"runAction",value:function runAction(action,tba,event){if(tba.js_handler)eval(tba.js_handler);else{var runnable={action_full_name:tba[_constants__WEBPACK_IMPORTED_MODULE_11__.URL_PARAM_ACTION_NAME],actorId:this.context.controller.static.actorData.id,pollContext:!0};Object.prototype.hasOwnProperty.call(action,"actor")&&(action.actor!==runnable.actorId&&(runnable.pollContext=!1),runnable.actorId=action.actor),action.select_rows&&(runnable[_constants__WEBPACK_IMPORTED_MODULE_11__.URL_PARAM_SELECTED]=this.context[_constants__WEBPACK_IMPORTED_MODULE_11__.URL_PARAM_SELECTED]),event.ctrlKey&&(runnable.clickCatch=!0),this.context.controller.actionHandler.checkAndRunAction(runnable)}}},{key:"render_overflow",value:function(){return react__WEBPACK_IMPORTED_MODULE_12__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_12__.createElement(this.ex.prButton.Button,{icon:"pi pi-ellipsis-v",onClick:this.setState({overflowShow:!this.state.overflowShow})}),react__WEBPACK_IMPORTED_MODULE_12__.createElement("div",null))}},{key:"action2buttonProps",value:function(_,e,t){var n={label:e.label,className:"l-button-".concat(e[_constants__WEBPACK_IMPORTED_MODULE_11__.URL_PARAM_ACTION_NAME])};return e.icon?(n.icon=e.icon,n.label=t?void 0:n.label):e.button_text&&(n.label=e.button_text,1===e.button_text.length&&(n.style={fontSize:"1.2rem"})),n.disabled=e.select_rows&&this.context[_constants__WEBPACK_IMPORTED_MODULE_11__.URL_PARAM_SELECTED]&&0===this.context[_constants__WEBPACK_IMPORTED_MODULE_11__.URL_PARAM_SELECTED].length||this.context.controller.disabled(e[_constants__WEBPACK_IMPORTED_MODULE_11__.URL_PARAM_ACTION_NAME])||"submit_detail"===e[_constants__WEBPACK_IMPORTED_MODULE_11__.URL_PARAM_ACTION_NAME]&&!this.context.editing_mode||this.props.onSide&&!e.show_in_side_toolbar&&"submit_detail"!==e[_constants__WEBPACK_IMPORTED_MODULE_11__.URL_PARAM_ACTION_NAME]||this.props.nonCollapsibles&&!e.never_collapse,n.tooltip=_.help_text||e.label,n.tooltipOptions={position:this.props.onSide?"left":"bottom"},n}},{key:"render_actionbutton",value:function(_){var e=this,t=this.context.controller.actionHandler.getAction(_[_constants__WEBPACK_IMPORTED_MODULE_11__.URL_PARAM_ACTION_NAME],!1).action;if(t){var n=this.action2buttonProps(_,t,!0);if(n.disabled)return;return react__WEBPACK_IMPORTED_MODULE_12__.createElement(this.ex.prButton.Button,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__.A)({},n,{key:Math.random(),onClick:function(n){return e.runAction(t,_,n)}}))}}},{key:"render_splitActionButton",value:function(_){var e=this,t=_.menu.map(function(_){return e.context.controller.actionHandler.getAction(_[_constants__WEBPACK_IMPORTED_MODULE_11__.URL_PARAM_ACTION_NAME],!1).action});if(t[0]){var n=t.map(function(t,n){var r=e.action2buttonProps(_.menu[n],t,0===n);return r.command=function(r){return e.runAction(t,_.menu[n],r)},r}),r=this.ex._.default.cloneDeep(n[0]);if(r.disabled)return;var o=r.command;return delete r.command,react__WEBPACK_IMPORTED_MODULE_12__.createElement(this.ex.prSplitButton.SplitButton,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__.A)({},r,{key:Math.random(),model:n,onClick:o}))}}},{key:"render_buttons",value:function(){var _=this,e=this.context.controller.static.actorData.actions_list.find(function(e){return e[_constants__WEBPACK_IMPORTED_MODULE_11__.URL_PARAM_ACTION_NAME]===_.props.action_full_name});if(e){var t=e.toolbarActions;return t&&t.map(function(e){return e.combo&&e.menu.length>1?_.render_splitActionButton(e):e.combo?_.render_actionbutton(e.menu[0]):_.render_actionbutton(e)})}}},{key:"render",value:function(){var _=this;return this.state.ready?react__WEBPACK_IMPORTED_MODULE_12__.createElement(react__WEBPACK_IMPORTED_MODULE_12__.Fragment,null,this.props.resetable&&react__WEBPACK_IMPORTED_MODULE_12__.createElement(this.ex.prButton.Button,{icon:"pi pi-refresh",onClick:function(){var e=_.context.controller.actionHandler;e.refreshChildren([e.context])},tooltip:this.ex.i18n.t("Reload this view from the underlying database"),tooltipOptions:{position:"bottom"}}),this.render_buttons()):null}}]);var _prepare}(_Base__WEBPACK_IMPORTED_MODULE_14__.Component);LinoBbar.requiredModules=["prButton","prSplitButton","_","i18n"],LinoBbar.iPool=ex,LinoBbar.contextType=_Base__WEBPACK_IMPORTED_MODULE_14__.URLContextType,LinoBbar.propTypes={action_full_name:prop_types__WEBPACK_IMPORTED_MODULE_13___default().string.isRequired,nonCollapsibles:prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool,onSide:prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool,resetable:prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool},LinoBbar.defaultProps={nonCollapsibles:!1,onSide:!1,resetable:!0}},8610:(_,e,t)=>{t.d(e,{A:()=>i});var n=t(1354),r=t.n(n),o=t(6314),a=t.n(o)()(r());a.push([_.id,".l-bbar .hidden{\n    opacity: 0;\n}\n.p-inputtext.p-component {\n    padding: 0.3rem 0.3rem;\n}\n.p-component.p-button {\n    color: var(--text-color);\n    border: 0;\n    padding: 0.3rem 0.3rem;\n    vertical-align: middle;\n    font-size: 0.85rem;\n}\n.p-togglebutton .p-button .p-button-icon-left {\n    color: var(--text-color);\n}\n.p-component.p-button:not(.p-highlight) {\n    background: transparent;\n}\n.p-component.p-button.p-button-icon-only {\n    width: 1.6rem;\n    padding: 0.3rem;\n}\n.p-button.p-button-icon-only .pi {\n    font-size: 0.85rem;\n}\n.p-splitbutton.p-component {\n    vertical-align: middle;\n}\n.p-progress-spinner .p-progress-spinner-circle {\n    stroke-linecap: butt;\n}\n","",{version:3,sources:["webpack://./lino_react/react/components/LinoBbar.css"],names:[],mappings:"AAAA;IACI,UAAU;AACd;AACA;IACI,sBAAsB;AAC1B;AACA;IACI,wBAAwB;IACxB,SAAS;IACT,sBAAsB;IACtB,sBAAsB;IACtB,kBAAkB;AACtB;AACA;IACI,wBAAwB;AAC5B;AACA;IACI,uBAAuB;AAC3B;AACA;IACI,aAAa;IACb,eAAe;AACnB;AACA;IACI,kBAAkB;AACtB;AACA;IACI,sBAAsB;AAC1B;AACA;IACI,oBAAoB;AACxB",sourcesContent:[".l-bbar .hidden{\n    opacity: 0;\n}\n.p-inputtext.p-component {\n    padding: 0.3rem 0.3rem;\n}\n.p-component.p-button {\n    color: var(--text-color);\n    border: 0;\n    padding: 0.3rem 0.3rem;\n    vertical-align: middle;\n    font-size: 0.85rem;\n}\n.p-togglebutton .p-button .p-button-icon-left {\n    color: var(--text-color);\n}\n.p-component.p-button:not(.p-highlight) {\n    background: transparent;\n}\n.p-component.p-button.p-button-icon-only {\n    width: 1.6rem;\n    padding: 0.3rem;\n}\n.p-button.p-button-icon-only .pi {\n    font-size: 0.85rem;\n}\n.p-splitbutton.p-component {\n    vertical-align: middle;\n}\n.p-progress-spinner .p-progress-spinner-circle {\n    stroke-linecap: butt;\n}\n"],sourceRoot:""}]);const i=a}}]);
//# sourceMappingURL=main.LinoBbar_LinoDialog.4c9601b3a25047e1b6df.js.map