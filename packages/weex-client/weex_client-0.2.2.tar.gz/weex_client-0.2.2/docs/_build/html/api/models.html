

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Data Models API &mdash; weex-client 0.2.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=938c9ccc"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            weex-client
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Data Models API</a><ul>
<li><a class="reference internal" href="#weex_client.models.PlaceOrderRequest"><code class="docutils literal notranslate"><span class="pre">PlaceOrderRequest</span></code></a><ul>
<li><a class="reference internal" href="#weex_client.models.PlaceOrderRequest.symbol"><code class="docutils literal notranslate"><span class="pre">PlaceOrderRequest.symbol</span></code></a></li>
<li><a class="reference internal" href="#weex_client.models.PlaceOrderRequest.client_oid"><code class="docutils literal notranslate"><span class="pre">PlaceOrderRequest.client_oid</span></code></a></li>
<li><a class="reference internal" href="#weex_client.models.PlaceOrderRequest.size"><code class="docutils literal notranslate"><span class="pre">PlaceOrderRequest.size</span></code></a></li>
<li><a class="reference internal" href="#weex_client.models.PlaceOrderRequest.type"><code class="docutils literal notranslate"><span class="pre">PlaceOrderRequest.type</span></code></a></li>
<li><a class="reference internal" href="#weex_client.models.PlaceOrderRequest.order_type"><code class="docutils literal notranslate"><span class="pre">PlaceOrderRequest.order_type</span></code></a></li>
<li><a class="reference internal" href="#weex_client.models.PlaceOrderRequest.match_price"><code class="docutils literal notranslate"><span class="pre">PlaceOrderRequest.match_price</span></code></a></li>
<li><a class="reference internal" href="#weex_client.models.PlaceOrderRequest.price"><code class="docutils literal notranslate"><span class="pre">PlaceOrderRequest.price</span></code></a></li>
<li><a class="reference internal" href="#weex_client.models.PlaceOrderRequest.preset_stop_loss_price"><code class="docutils literal notranslate"><span class="pre">PlaceOrderRequest.preset_stop_loss_price</span></code></a></li>
<li><a class="reference internal" href="#weex_client.models.PlaceOrderRequest.validate_price"><code class="docutils literal notranslate"><span class="pre">PlaceOrderRequest.validate_price()</span></code></a></li>
<li><a class="reference internal" href="#weex_client.models.PlaceOrderRequest.dict"><code class="docutils literal notranslate"><span class="pre">PlaceOrderRequest.dict()</span></code></a></li>
<li><a class="reference internal" href="#weex_client.models.PlaceOrderRequest.model_config"><code class="docutils literal notranslate"><span class="pre">PlaceOrderRequest.model_config</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#weex_client.models.ApiResponse"><code class="docutils literal notranslate"><span class="pre">ApiResponse</span></code></a><ul>
<li><a class="reference internal" href="#weex_client.models.ApiResponse.code"><code class="docutils literal notranslate"><span class="pre">ApiResponse.code</span></code></a></li>
<li><a class="reference internal" href="#weex_client.models.ApiResponse.message"><code class="docutils literal notranslate"><span class="pre">ApiResponse.message</span></code></a></li>
<li><a class="reference internal" href="#weex_client.models.ApiResponse.data"><code class="docutils literal notranslate"><span class="pre">ApiResponse.data</span></code></a></li>
<li><a class="reference internal" href="#weex_client.models.ApiResponse.success"><code class="docutils literal notranslate"><span class="pre">ApiResponse.success</span></code></a></li>
<li><a class="reference internal" href="#weex_client.models.ApiResponse.timestamp"><code class="docutils literal notranslate"><span class="pre">ApiResponse.timestamp</span></code></a></li>
<li><a class="reference internal" href="#weex_client.models.ApiResponse.set_success_from_code"><code class="docutils literal notranslate"><span class="pre">ApiResponse.set_success_from_code()</span></code></a></li>
<li><a class="reference internal" href="#weex_client.models.ApiResponse.model_config"><code class="docutils literal notranslate"><span class="pre">ApiResponse.model_config</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#order-models">Order Models</a><ul>
<li><a class="reference internal" href="#placeorderrequest">PlaceOrderRequest</a></li>
<li><a class="reference internal" href="#order-type-reference">Order Type Reference</a></li>
<li><a class="reference internal" href="#match-price-options">Match Price Options</a></li>
<li><a class="reference internal" href="#safety-examples">Safety Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#response-models">Response Models</a><ul>
<li><a class="reference internal" href="#apiresponse-structure">ApiResponse Structure</a></li>
</ul>
</li>
<li><a class="reference internal" href="#type-aliases">Type Aliases</a><ul>
<li><a class="reference internal" href="#trading-types">Trading Types</a></li>
<li><a class="reference internal" href="#api-types">API Types</a></li>
<li><a class="reference internal" href="#websocket-types">WebSocket Types</a></li>
</ul>
</li>
<li><a class="reference internal" href="#custom-model-extensions">Custom Model Extensions</a><ul>
<li><a class="reference internal" href="#creating-custom-models">Creating Custom Models</a></li>
<li><a class="reference internal" href="#model-validation">Model Validation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-transformation">Data Transformation</a><ul>
<li><a class="reference internal" href="#model-serialization">Model Serialization</a></li>
<li><a class="reference internal" href="#model-deserialization">Model Deserialization</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-patterns">Advanced Patterns</a><ul>
<li><a class="reference internal" href="#model-inheritance">Model Inheritance</a></li>
<li><a class="reference internal" href="#model-composition">Model Composition</a></li>
<li><a class="reference internal" href="#dynamic-model-creation">Dynamic Model Creation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#testing-with-models">Testing with Models</a><ul>
<li><a class="reference internal" href="#mock-data-creation">Mock Data Creation</a></li>
<li><a class="reference internal" href="#model-testing">Model Testing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#best-practices">Best Practices</a><ul>
<li><a class="reference internal" href="#model-design">Model Design</a></li>
<li><a class="reference internal" href="#performance">Performance</a></li>
<li><a class="reference internal" href="#error-handling">Error Handling</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">weex-client</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Data Models API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/models.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="data-models-api">
<h1>Data Models API<a class="headerlink" href="#data-models-api" title="Link to this heading">ÔÉÅ</a></h1>
<p>The weex-client uses Pydantic models for type-safe data validation and serialization.</p>
<dl class="py class">
<dt class="sig sig-object py" id="weex_client.models.PlaceOrderRequest">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">weex_client.models.</span></span><span class="sig-name descname"><span class="pre">PlaceOrderRequest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/weex_client/models.html#PlaceOrderRequest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#weex_client.models.PlaceOrderRequest" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseModel</span></code></p>
<p>Request model for placing orders.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="weex_client.models.PlaceOrderRequest.symbol">
<span class="sig-name descname"><span class="pre">symbol</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Symbol</span></em><a class="headerlink" href="#weex_client.models.PlaceOrderRequest.symbol" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="weex_client.models.PlaceOrderRequest.client_oid">
<span class="sig-name descname"><span class="pre">client_oid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClientOrderId</span></em><a class="headerlink" href="#weex_client.models.PlaceOrderRequest.client_oid" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="weex_client.models.PlaceOrderRequest.size">
<span class="sig-name descname"><span class="pre">size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Size</span></em><a class="headerlink" href="#weex_client.models.PlaceOrderRequest.size" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="weex_client.models.PlaceOrderRequest.type">
<span class="sig-name descname"><span class="pre">type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">OrderType</span></em><a class="headerlink" href="#weex_client.models.PlaceOrderRequest.type" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="weex_client.models.PlaceOrderRequest.order_type">
<span class="sig-name descname"><span class="pre">order_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">OrderType</span></em><a class="headerlink" href="#weex_client.models.PlaceOrderRequest.order_type" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="weex_client.models.PlaceOrderRequest.match_price">
<span class="sig-name descname"><span class="pre">match_price</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Literal['0',</span> <span class="pre">'1']</span></em><a class="headerlink" href="#weex_client.models.PlaceOrderRequest.match_price" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="weex_client.models.PlaceOrderRequest.price">
<span class="sig-name descname"><span class="pre">price</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Price</span> <span class="pre">|</span> <span class="pre">None</span></em><a class="headerlink" href="#weex_client.models.PlaceOrderRequest.price" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="weex_client.models.PlaceOrderRequest.preset_stop_loss_price">
<span class="sig-name descname"><span class="pre">preset_stop_loss_price</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Price</span> <span class="pre">|</span> <span class="pre">None</span></em><a class="headerlink" href="#weex_client.models.PlaceOrderRequest.preset_stop_loss_price" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="weex_client.models.PlaceOrderRequest.validate_price">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">validate_price</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/weex_client/models.html#PlaceOrderRequest.validate_price"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#weex_client.models.PlaceOrderRequest.validate_price" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Price is required for limit orders.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="weex_client.models.PlaceOrderRequest.dict">
<span class="sig-name descname"><span class="pre">dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/weex_client/models.html#PlaceOrderRequest.dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#weex_client.models.PlaceOrderRequest.dict" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return dict with None values filtered out.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="weex_client.models.PlaceOrderRequest.model_config">
<span class="sig-name descname"><span class="pre">model_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar[ConfigDict]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#weex_client.models.PlaceOrderRequest.model_config" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Configuration for the model, should be a dictionary conforming to [<cite>ConfigDict</cite>][pydantic.config.ConfigDict].</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="weex_client.models.ApiResponse">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">weex_client.models.</span></span><span class="sig-name descname"><span class="pre">ApiResponse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/weex_client/models.html#ApiResponse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#weex_client.models.ApiResponse" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseModel</span></code></p>
<p>Generic API response model.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="weex_client.models.ApiResponse.code">
<span class="sig-name descname"><span class="pre">code</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span> <span class="pre">|</span> <span class="pre">str</span></em><a class="headerlink" href="#weex_client.models.ApiResponse.code" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="weex_client.models.ApiResponse.message">
<span class="sig-name descname"><span class="pre">message</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span></em><a class="headerlink" href="#weex_client.models.ApiResponse.message" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="weex_client.models.ApiResponse.data">
<span class="sig-name descname"><span class="pre">data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span> <span class="pre">|</span> <span class="pre">None</span></em><a class="headerlink" href="#weex_client.models.ApiResponse.data" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="weex_client.models.ApiResponse.success">
<span class="sig-name descname"><span class="pre">success</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span> <span class="pre">|</span> <span class="pre">None</span></em><a class="headerlink" href="#weex_client.models.ApiResponse.success" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="weex_client.models.ApiResponse.timestamp">
<span class="sig-name descname"><span class="pre">timestamp</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">datetime</span> <span class="pre">|</span> <span class="pre">None</span></em><a class="headerlink" href="#weex_client.models.ApiResponse.timestamp" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="weex_client.models.ApiResponse.set_success_from_code">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set_success_from_code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/weex_client/models.html#ApiResponse.set_success_from_code"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#weex_client.models.ApiResponse.set_success_from_code" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Set success flag based on code if not provided.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="weex_client.models.ApiResponse.model_config">
<span class="sig-name descname"><span class="pre">model_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar[ConfigDict]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#weex_client.models.ApiResponse.model_config" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Configuration for the model, should be a dictionary conforming to [<cite>ConfigDict</cite>][pydantic.config.ConfigDict].</p>
</dd></dl>

</dd></dl>

<section id="order-models">
<h2>Order Models<a class="headerlink" href="#order-models" title="Link to this heading">ÔÉÅ</a></h2>
<section id="placeorderrequest">
<h3>PlaceOrderRequest<a class="headerlink" href="#placeorderrequest" title="Link to this heading">ÔÉÅ</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">PlaceOrderRequest</span></code> model validates all order parameters before submission:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">weex_client.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">PlaceOrderRequest</span>

<span class="c1"># Valid order creation</span>
<span class="n">order</span> <span class="o">=</span> <span class="n">PlaceOrderRequest</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s2">&quot;BTCUSDT&quot;</span><span class="p">,</span>
    <span class="n">client_oid</span><span class="o">=</span><span class="s2">&quot;my_order_001&quot;</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="s2">&quot;0.001&quot;</span><span class="p">,</span>
    <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>          <span class="c1"># Open position</span>
    <span class="n">order_type</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>     <span class="c1"># Limit order</span>
    <span class="n">match_price</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>    <span class="c1"># Use specified price</span>
    <span class="n">price</span><span class="o">=</span><span class="s2">&quot;50000.0&quot;</span><span class="p">,</span>    <span class="c1"># Limit price</span>
    <span class="n">preset_stop_loss_price</span><span class="o">=</span><span class="s2">&quot;48000.0&quot;</span>  <span class="c1"># Optional stop loss</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="order-type-reference">
<h3>Order Type Reference<a class="headerlink" href="#order-type-reference" title="Link to this heading">ÔÉÅ</a></h3>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Order Types</span><a class="headerlink" href="#id1" title="Link to this table">ÔÉÅ</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Use Case</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;1&quot;</span></code></p></td>
<td><p>Open position</p></td>
<td><p>Enter new trade</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;2&quot;</span></code></p></td>
<td><p>Close position</p></td>
<td><p>Exit existing trade</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;3&quot;</span></code></p></td>
<td><p>Reduce position</p></td>
<td><p>Partial position reduction</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;4&quot;</span></code></p></td>
<td><p>ADL (Auto-Deleveraging)</p></td>
<td><p>Liquidation scenarios</p></td>
</tr>
</tbody>
</table>
</section>
<section id="match-price-options">
<h3>Match Price Options<a class="headerlink" href="#match-price-options" title="Link to this heading">ÔÉÅ</a></h3>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Match Price Options</span><a class="headerlink" href="#id2" title="Link to this table">ÔÉÅ</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Price Source</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;0&quot;</span></code></p></td>
<td><p>Limit order</p></td>
<td><p>Use <code class="docutils literal notranslate"><span class="pre">price</span></code> field</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;1&quot;</span></code></p></td>
<td><p>Market order</p></td>
<td><p>Use current market price</p></td>
</tr>
</tbody>
</table>
</section>
<section id="safety-examples">
<h3>Safety Examples<a class="headerlink" href="#safety-examples" title="Link to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">create_safe_order</span><span class="p">(</span><span class="n">symbol</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">balance</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">risk_percent</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.01</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create order with built-in safety validation&quot;&quot;&quot;</span>

    <span class="c1"># Calculate position size (1% of balance)</span>
    <span class="n">max_risk</span> <span class="o">=</span> <span class="n">balance</span> <span class="o">*</span> <span class="n">risk_percent</span>

    <span class="c1"># Get current market price (mock example)</span>
    <span class="n">current_price</span> <span class="o">=</span> <span class="mf">50000.0</span>  <span class="c1"># Replace with API call</span>

    <span class="c1"># Calculate safe position size</span>
    <span class="n">safe_size</span> <span class="o">=</span> <span class="n">max_risk</span> <span class="o">/</span> <span class="n">current_price</span>

    <span class="c1"># Create order with validation</span>
    <span class="n">order</span> <span class="o">=</span> <span class="n">PlaceOrderRequest</span><span class="p">(</span>
        <span class="n">symbol</span><span class="o">=</span><span class="n">symbol</span><span class="p">,</span>
        <span class="n">client_oid</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;safe_</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">size</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">safe_size</span><span class="p">),</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="n">order_type</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>  <span class="c1"># Market order for immediate fill</span>
        <span class="n">match_price</span><span class="o">=</span><span class="s2">&quot;1&quot;</span>  <span class="c1"># Use market price</span>
    <span class="p">)</span>

    <span class="c1"># Pydantic automatically validates</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚úÖ Safe order created: </span><span class="si">{</span><span class="n">safe_size</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">symbol</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">order</span>

<span class="c1"># Usage</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">order</span> <span class="o">=</span> <span class="n">create_safe_order</span><span class="p">(</span><span class="s2">&quot;BTCUSDT&quot;</span><span class="p">,</span> <span class="mf">1000.0</span><span class="p">)</span>  <span class="c1"># 1% of $1000</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚ùå Order creation failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="response-models">
<h2>Response Models<a class="headerlink" href="#response-models" title="Link to this heading">ÔÉÅ</a></h2>
<section id="apiresponse-structure">
<h3>ApiResponse Structure<a class="headerlink" href="#apiresponse-structure" title="Link to this heading">ÔÉÅ</a></h3>
<p>All API responses follow the <code class="docutils literal notranslate"><span class="pre">ApiResponse</span></code> structure:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">weex_client.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApiResponse</span>

<span class="c1"># Response example structure</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">ApiResponse</span><span class="p">(</span>
    <span class="n">code</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>                    <span class="c1"># 0 = success, non-zero = error</span>
    <span class="n">message</span><span class="o">=</span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span><span class="p">},</span>      <span class="c1"># Actual response data</span>
    <span class="n">timestamp</span><span class="o">=</span><span class="s2">&quot;2024-01-01T00:00:00Z&quot;</span>
<span class="p">)</span>

<span class="c1"># Access pattern</span>
<span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">data</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Success: </span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">code</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="type-aliases">
<h2>Type Aliases<a class="headerlink" href="#type-aliases" title="Link to this heading">ÔÉÅ</a></h2>
<p>The client provides type aliases for better code clarity:</p>
<section id="trading-types">
<h3>Trading Types<a class="headerlink" href="#trading-types" title="Link to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">weex_client.types</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">Symbol</span><span class="p">,</span> <span class="n">OrderId</span><span class="p">,</span> <span class="n">ClientOrderId</span><span class="p">,</span> <span class="n">Size</span><span class="p">,</span> <span class="n">Price</span><span class="p">,</span>
    <span class="n">OrderType</span><span class="p">,</span> <span class="n">Side</span><span class="p">,</span> <span class="n">TimeInForce</span>
<span class="p">)</span>

<span class="c1"># Type annotations improve code clarity</span>
<span class="k">def</span><span class="w"> </span><span class="nf">place_order_safe</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n">Symbol</span><span class="p">,</span>
    <span class="n">size</span><span class="p">:</span> <span class="n">Size</span><span class="p">,</span>
    <span class="n">order_type</span><span class="p">:</span> <span class="n">OrderType</span><span class="p">,</span>
    <span class="n">price</span><span class="p">:</span> <span class="n">Price</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ClientOrderId</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Type-safe order placement&quot;&quot;&quot;</span>
    <span class="c1"># Implementation</span>
    <span class="k">pass</span>

<span class="c1"># Usage with type hints</span>
<span class="n">order_id</span><span class="p">:</span> <span class="n">ClientOrderId</span> <span class="o">=</span> <span class="n">place_order_safe</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s2">&quot;BTCUSDT&quot;</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="s2">&quot;0.001&quot;</span><span class="p">,</span>
    <span class="n">order_type</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="n">price</span><span class="o">=</span><span class="s2">&quot;50000.0&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="api-types">
<h3>API Types<a class="headerlink" href="#api-types" title="Link to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">weex_client.types</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">ErrorCode</span><span class="p">,</span> <span class="n">Headers</span><span class="p">,</span> <span class="n">Timeout</span><span class="p">,</span> <span class="n">ResponseData</span>
<span class="p">)</span>

<span class="c1"># Error handling with type safety</span>
<span class="k">def</span><span class="w"> </span><span class="nf">handle_error</span><span class="p">(</span><span class="n">error</span><span class="p">:</span> <span class="n">ErrorCode</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Type-safe error handling&quot;&quot;&quot;</span>
    <span class="k">match</span> <span class="n">error</span><span class="p">:</span>
        <span class="k">case</span> <span class="mi">40001</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;üîê Authentication error: </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">case</span> <span class="mi">40029</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚è±Ô∏è Rate limit error: </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚ùå Unknown error </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="websocket-types">
<h3>WebSocket Types<a class="headerlink" href="#websocket-types" title="Link to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">weex_client.types</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">WebSocketMessage</span><span class="p">,</span> <span class="n">SubscriptionType</span><span class="p">,</span> <span class="n">Channel</span>
<span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">process_websocket_message</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="n">WebSocketMessage</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Process WebSocket message with type safety&quot;&quot;&quot;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="n">data</span>
    <span class="n">channel</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="n">channel</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="n">timestamp</span>

    <span class="k">match</span> <span class="n">channel</span><span class="p">:</span>
        <span class="k">case</span> <span class="s2">&quot;ticker&quot;</span><span class="p">:</span>
            <span class="n">process_ticker_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">case</span> <span class="s2">&quot;order_book&quot;</span><span class="p">:</span>
            <span class="n">process_order_book_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">case</span> <span class="s2">&quot;trade&quot;</span><span class="p">:</span>
            <span class="n">process_trade_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown channel: </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="custom-model-extensions">
<h2>Custom Model Extensions<a class="headerlink" href="#custom-model-extensions" title="Link to this heading">ÔÉÅ</a></h2>
<section id="creating-custom-models">
<h3>Creating Custom Models<a class="headerlink" href="#creating-custom-models" title="Link to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">Field</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">weex_client.types</span><span class="w"> </span><span class="kn">import</span> <span class="n">Symbol</span><span class="p">,</span> <span class="n">Size</span><span class="p">,</span> <span class="n">Price</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TradingStrategy</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Custom model for trading strategies&quot;&quot;&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Strategy name&quot;</span><span class="p">)</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n">Symbol</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Trading symbol&quot;</span><span class="p">)</span>
    <span class="n">max_position_size</span><span class="p">:</span> <span class="n">Size</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Maximum position size&quot;</span><span class="p">)</span>
    <span class="n">stop_loss_percent</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Stop loss percentage&quot;</span><span class="p">)</span>
    <span class="n">take_profit_percent</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Take profit percentage&quot;</span><span class="p">)</span>
    <span class="n">enabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Strategy enabled&quot;</span><span class="p">)</span>

<span class="c1"># Usage</span>
<span class="n">strategy</span> <span class="o">=</span> <span class="n">TradingStrategy</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;MA Crossover&quot;</span><span class="p">,</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s2">&quot;BTCUSDT&quot;</span><span class="p">,</span>
    <span class="n">max_position_size</span><span class="o">=</span><span class="s2">&quot;0.01&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="model-validation">
<h3>Model Validation<a class="headerlink" href="#model-validation" title="Link to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">ValidationError</span>

<span class="k">def</span><span class="w"> </span><span class="nf">validate_order_parameters</span><span class="p">(</span><span class="n">params</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PlaceOrderRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate and create order from parameters&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">order</span> <span class="o">=</span> <span class="n">PlaceOrderRequest</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">order</span>
    <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚ùå Validation errors:&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">errors</span><span class="p">():</span>
            <span class="n">field</span> <span class="o">=</span> <span class="n">error</span><span class="p">[</span><span class="s2">&quot;loc&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">error</span><span class="p">[</span><span class="s2">&quot;msg&quot;</span><span class="p">]</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   </span><span class="si">{</span><span class="n">field</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span>

<span class="c1"># Usage</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;symbol&quot;</span><span class="p">:</span> <span class="s2">&quot;BTCUSDT&quot;</span><span class="p">,</span>
    <span class="s2">&quot;client_oid&quot;</span><span class="p">:</span> <span class="s2">&quot;test_order&quot;</span><span class="p">,</span>
    <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="s2">&quot;0.001&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;order_type&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;match_price&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;50000.0&quot;</span>
<span class="p">}</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">order</span> <span class="o">=</span> <span class="n">validate_order_parameters</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;‚úÖ Order validation passed&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;‚ùå Order validation failed&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="data-transformation">
<h2>Data Transformation<a class="headerlink" href="#data-transformation" title="Link to this heading">ÔÉÅ</a></h2>
<section id="model-serialization">
<h3>Model Serialization<a class="headerlink" href="#model-serialization" title="Link to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Convert to dictionary for API calls</span>
<span class="n">order</span> <span class="o">=</span> <span class="n">PlaceOrderRequest</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s2">&quot;BTCUSDT&quot;</span><span class="p">,</span>
    <span class="n">client_oid</span><span class="o">=</span><span class="s2">&quot;test_order&quot;</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="s2">&quot;0.001&quot;</span><span class="p">,</span>
    <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="n">order_type</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="n">match_price</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="n">price</span><span class="o">=</span><span class="s2">&quot;50000.0&quot;</span>
<span class="p">)</span>

<span class="c1"># Convert to dict for HTTP request</span>
<span class="n">order_dict</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;API payload: </span><span class="si">{</span><span class="n">order_dict</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Convert to JSON</span>
<span class="n">order_json</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="n">model_dump_json</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;JSON payload: </span><span class="si">{</span><span class="n">order_json</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Exclude certain fields</span>
<span class="n">order_without_stop_loss</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(</span><span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;preset_stop_loss_price&quot;</span><span class="p">})</span>
</pre></div>
</div>
</section>
<section id="model-deserialization">
<h3>Model Deserialization<a class="headerlink" href="#model-deserialization" title="Link to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create model from API response</span>
<span class="n">response_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;symbol&quot;</span><span class="p">:</span> <span class="s2">&quot;BTCUSDT&quot;</span><span class="p">,</span>
    <span class="s2">&quot;client_oid&quot;</span><span class="p">:</span> <span class="s2">&quot;test_order&quot;</span><span class="p">,</span>
    <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="s2">&quot;0.001&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;order_type&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;match_price&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;50000.0&quot;</span>
<span class="p">}</span>

<span class="c1"># Recreate model from response</span>
<span class="n">order</span> <span class="o">=</span> <span class="n">PlaceOrderRequest</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">response_data</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Recreated order: </span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="advanced-patterns">
<h2>Advanced Patterns<a class="headerlink" href="#advanced-patterns" title="Link to this heading">ÔÉÅ</a></h2>
<section id="model-inheritance">
<h3>Model Inheritance<a class="headerlink" href="#model-inheritance" title="Link to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">BaseOrderRequest</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for all order requests&quot;&quot;&quot;</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n">Symbol</span>
    <span class="n">client_oid</span><span class="p">:</span> <span class="n">ClientOrderId</span>
    <span class="n">size</span><span class="p">:</span> <span class="n">Size</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MarketOrderRequest</span><span class="p">(</span><span class="n">BaseOrderRequest</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Market order specific fields&quot;&quot;&quot;</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">OrderType</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
    <span class="n">order_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span>  <span class="c1"># Market order</span>
    <span class="n">match_price</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>  <span class="c1"># Use market price</span>

<span class="k">class</span><span class="w"> </span><span class="nc">LimitOrderRequest</span><span class="p">(</span><span class="n">BaseOrderRequest</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Limit order specific fields&quot;&quot;&quot;</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">OrderType</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
    <span class="n">order_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>  <span class="c1"># Limit order</span>
    <span class="n">match_price</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span>  <span class="c1"># Use specified price</span>
    <span class="n">price</span><span class="p">:</span> <span class="n">Price</span>

<span class="c1"># Usage</span>
<span class="n">market_order</span> <span class="o">=</span> <span class="n">MarketOrderRequest</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s2">&quot;BTCUSDT&quot;</span><span class="p">,</span>
    <span class="n">client_oid</span><span class="o">=</span><span class="s2">&quot;market_001&quot;</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="s2">&quot;0.001&quot;</span>
<span class="p">)</span>

<span class="n">limit_order</span> <span class="o">=</span> <span class="n">LimitOrderRequest</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s2">&quot;BTCUSDT&quot;</span><span class="p">,</span>
    <span class="n">client_oid</span><span class="o">=</span><span class="s2">&quot;limit_001&quot;</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="s2">&quot;0.001&quot;</span><span class="p">,</span>
    <span class="n">price</span><span class="o">=</span><span class="s2">&quot;50000.0&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="model-composition">
<h3>Model Composition<a class="headerlink" href="#model-composition" title="Link to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">OrderConstraints</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Model for order constraints&quot;&quot;&quot;</span>
    <span class="n">min_size</span><span class="p">:</span> <span class="n">Size</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="s2">&quot;0.001&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Minimum order size&quot;</span><span class="p">)</span>
    <span class="n">max_size</span><span class="p">:</span> <span class="n">Size</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="s2">&quot;100&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Maximum order size&quot;</span><span class="p">)</span>
    <span class="n">price_precision</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Price decimal places&quot;</span><span class="p">)</span>
    <span class="n">size_precision</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Size decimal places&quot;</span><span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TradingInstrument</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Complete trading instrument model&quot;&quot;&quot;</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n">Symbol</span>
    <span class="n">base_asset</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">quote_asset</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">constraints</span><span class="p">:</span> <span class="n">OrderConstraints</span>
    <span class="n">is_active</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># Create with nested validation</span>
<span class="n">instrument</span> <span class="o">=</span> <span class="n">TradingInstrument</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s2">&quot;BTCUSDT&quot;</span><span class="p">,</span>
    <span class="n">base_asset</span><span class="o">=</span><span class="s2">&quot;BTC&quot;</span><span class="p">,</span>
    <span class="n">quote_asset</span><span class="o">=</span><span class="s2">&quot;USDT&quot;</span><span class="p">,</span>
    <span class="n">constraints</span><span class="o">=</span><span class="n">OrderConstraints</span><span class="p">(</span>
        <span class="n">min_size</span><span class="o">=</span><span class="s2">&quot;0.001&quot;</span><span class="p">,</span>
        <span class="n">max_size</span><span class="o">=</span><span class="s2">&quot;1000&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="dynamic-model-creation">
<h3>Dynamic Model Creation<a class="headerlink" href="#dynamic-model-creation" title="Link to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_model</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span>

<span class="k">def</span><span class="w"> </span><span class="nf">create_custom_response_model</span><span class="p">(</span><span class="n">response_schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create Pydantic model from API schema&quot;&quot;&quot;</span>

    <span class="n">model_fields</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">field_config</span> <span class="ow">in</span> <span class="n">response_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">field_type</span> <span class="o">=</span> <span class="n">field_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
        <span class="n">required</span> <span class="o">=</span> <span class="n">field_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;required&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">default</span> <span class="o">=</span> <span class="o">...</span> <span class="k">if</span> <span class="n">required</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="n">model_fields</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">field_type</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>

    <span class="c1"># Dynamic model creation</span>
    <span class="n">DynamicModel</span> <span class="o">=</span> <span class="n">create_model</span><span class="p">(</span>
        <span class="s2">&quot;DynamicResponseModel&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="n">model_fields</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">DynamicModel</span>

<span class="c1"># Usage with API schema</span>
<span class="n">ticker_schema</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;symbol&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s2">&quot;last&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s2">&quot;volume&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">}</span>
<span class="p">}</span>

<span class="n">TickerResponse</span> <span class="o">=</span> <span class="n">create_custom_response_model</span><span class="p">(</span><span class="n">ticker_schema</span><span class="p">)</span>
<span class="n">ticker</span> <span class="o">=</span> <span class="n">TickerResponse</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s2">&quot;BTCUSDT&quot;</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="mf">50000.0</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="testing-with-models">
<h2>Testing with Models<a class="headerlink" href="#testing-with-models" title="Link to this heading">ÔÉÅ</a></h2>
<section id="mock-data-creation">
<h3>Mock Data Creation<a class="headerlink" href="#mock-data-creation" title="Link to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">create_mock_order</span><span class="p">(</span><span class="n">symbol</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;BTCUSDT&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PlaceOrderRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create mock order for testing&quot;&quot;&quot;</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

    <span class="k">return</span> <span class="n">PlaceOrderRequest</span><span class="p">(</span>
        <span class="n">symbol</span><span class="o">=</span><span class="n">symbol</span><span class="p">,</span>
        <span class="n">client_oid</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;mock_</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">size</span><span class="o">=</span><span class="s2">&quot;0.001&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="n">order_type</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="n">match_price</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
        <span class="n">price</span><span class="o">=</span><span class="s2">&quot;50000.0&quot;</span>
    <span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">create_mock_balance</span><span class="p">(</span><span class="n">balance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1000.0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create mock balance response&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
        <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;balance&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">balance</span><span class="p">),</span>
            <span class="s2">&quot;available&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">balance</span> <span class="o">*</span> <span class="mf">0.95</span><span class="p">),</span>  <span class="c1"># 5% frozen</span>
            <span class="s2">&quot;frozen&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">balance</span> <span class="o">*</span> <span class="mf">0.05</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2024-01-01T00:00:00Z&quot;</span>
    <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="model-testing">
<h3>Model Testing<a class="headerlink" href="#model-testing" title="Link to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pytest</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">ValidationError</span>

<span class="k">def</span><span class="w"> </span><span class="nf">test_order_validation</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test order model validation&quot;&quot;&quot;</span>

    <span class="c1"># Valid order</span>
    <span class="n">valid_order</span> <span class="o">=</span> <span class="n">PlaceOrderRequest</span><span class="p">(</span>
        <span class="n">symbol</span><span class="o">=</span><span class="s2">&quot;BTCUSDT&quot;</span><span class="p">,</span>
        <span class="n">client_oid</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
        <span class="n">size</span><span class="o">=</span><span class="s2">&quot;0.001&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="n">order_type</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="n">match_price</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
        <span class="n">price</span><span class="o">=</span><span class="s2">&quot;50000.0&quot;</span>
    <span class="p">)</span>
    <span class="k">assert</span> <span class="n">valid_order</span><span class="o">.</span><span class="n">symbol</span> <span class="o">==</span> <span class="s2">&quot;BTCUSDT&quot;</span>

    <span class="c1"># Invalid order - missing required field</span>
    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="n">ValidationError</span><span class="p">):</span>
        <span class="n">PlaceOrderRequest</span><span class="p">(</span>
            <span class="n">symbol</span><span class="o">=</span><span class="s2">&quot;BTCUSDT&quot;</span><span class="p">,</span>
            <span class="c1"># Missing client_oid</span>
            <span class="n">size</span><span class="o">=</span><span class="s2">&quot;0.001&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
            <span class="n">order_type</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
            <span class="n">match_price</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="n">price</span><span class="o">=</span><span class="s2">&quot;50000.0&quot;</span>
        <span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">test_order_serialization</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Test order serialization&quot;&quot;&quot;</span>
    <span class="n">order</span> <span class="o">=</span> <span class="n">PlaceOrderRequest</span><span class="p">(</span>
        <span class="n">symbol</span><span class="o">=</span><span class="s2">&quot;BTCUSDT&quot;</span><span class="p">,</span>
        <span class="n">client_oid</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
        <span class="n">size</span><span class="o">=</span><span class="s2">&quot;0.001&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="n">order_type</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="n">match_price</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
        <span class="n">price</span><span class="o">=</span><span class="s2">&quot;50000.0&quot;</span>
    <span class="p">)</span>

    <span class="c1"># Test dictionary serialization</span>
    <span class="n">order_dict</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">order_dict</span><span class="p">[</span><span class="s2">&quot;symbol&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;BTCUSDT&quot;</span>
    <span class="k">assert</span> <span class="s2">&quot;client_oid&quot;</span> <span class="ow">in</span> <span class="n">order_dict</span>

    <span class="c1"># Test JSON serialization</span>
    <span class="n">order_json</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="n">model_dump_json</span><span class="p">()</span>
    <span class="k">assert</span> <span class="s2">&quot;BTCUSDT&quot;</span> <span class="ow">in</span> <span class="n">order_json</span>
</pre></div>
</div>
</section>
</section>
<section id="best-practices">
<h2>Best Practices<a class="headerlink" href="#best-practices" title="Link to this heading">ÔÉÅ</a></h2>
<section id="model-design">
<h3>Model Design<a class="headerlink" href="#model-design" title="Link to this heading">ÔÉÅ</a></h3>
<ol class="arabic simple">
<li><p><strong>Use descriptive field names</strong> that match API documentation</p></li>
<li><p><strong>Include validation rules</strong> in field definitions</p></li>
<li><p><strong>Add proper type hints</strong> for better IDE support</p></li>
<li><p><strong>Use Field() for metadata</strong> and descriptions</p></li>
<li><p><strong>Implement custom validation</strong> for complex business rules</p></li>
</ol>
</section>
<section id="performance">
<h3>Performance<a class="headerlink" href="#performance" title="Link to this heading">ÔÉÅ</a></h3>
<ol class="arabic simple">
<li><p><strong>Use model_dump()</strong> instead of dict() for serialization</p></li>
<li><p><strong>Exclude unnecessary fields</strong> to reduce payload size</p></li>
<li><p><strong>Cache model instances</strong> when appropriate</p></li>
<li><p><strong>Use model_validate()</strong> for API response parsing</p></li>
</ol>
</section>
<section id="error-handling">
<h3>Error Handling<a class="headerlink" href="#error-handling" title="Link to this heading">ÔÉÅ</a></h3>
<ol class="arabic simple">
<li><p><strong>Catch ValidationError</strong> specifically for model errors</p></li>
<li><p><strong>Provide clear error messages</strong> for validation failures</p></li>
<li><p><strong>Use model validation</strong> at API boundaries</p></li>
<li><p><strong>Log validation errors</strong> for debugging</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">safe_create_order</span><span class="p">(</span><span class="n">order_data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PlaceOrderRequest</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create order with comprehensive error handling&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">order</span> <span class="o">=</span> <span class="n">PlaceOrderRequest</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">order_data</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Order created successfully: </span><span class="si">{</span><span class="n">order</span><span class="o">.</span><span class="n">client_oid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">order</span>
    <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Order validation failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unexpected error creating order: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Weex Client Contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>