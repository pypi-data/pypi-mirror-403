#!/usr/bin/env just --justfile

set shell := ["bash", "-c"]

# Run tests
test:
    uv run pytest

# Publish to PyPI (requires ~/.pypi_token)
publish:
    #!/usr/bin/env bash
    if [ ! -f "$HOME/.pypi_token" ]; then
        echo "‚ùå PyPI token not found at ~/.pypi_token"
        exit 1
    fi
    uv build
    export UV_PUBLISH_TOKEN=$(cat "$HOME/.pypi_token")
    uv publish
