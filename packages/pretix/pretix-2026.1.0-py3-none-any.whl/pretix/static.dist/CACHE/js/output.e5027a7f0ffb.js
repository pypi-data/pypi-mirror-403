var CheckinlistItem=function(exports){'use strict';var script={components:{},props:{list:Object},computed:{subevent:function subevent(){if(!this.list.subevent)return'';var name=i18nstring_localize(this.list.subevent.name);var date=moment.utc(this.list.subevent.date_from).tz(this.$root.timezone).format(this.$root.datetime_format);return"".concat(name," \xB7 ").concat(date);}}};function normalizeComponent(template,style,script,scopeId,isFunctionalTemplate,moduleIdentifier,shadowMode,createInjector,createInjectorSSR,createInjectorShadow){if(typeof shadowMode!=='boolean'){createInjectorSSR=createInjector;createInjector=shadowMode;shadowMode=false;}
var options=typeof script==='function'?script.options:script;if(template&&template.render){options.render=template.render;options.staticRenderFns=template.staticRenderFns;options._compiled=true;if(isFunctionalTemplate){options.functional=true;}}
if(scopeId){options._scopeId=scopeId;}
var hook;if(moduleIdentifier){hook=function hook(context){context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext;if(!context&&typeof __VUE_SSR_CONTEXT__!=='undefined'){context=__VUE_SSR_CONTEXT__;}
if(style){style.call(this,createInjectorSSR(context));}
if(context&&context._registeredComponents){context._registeredComponents.add(moduleIdentifier);}};options._ssrRegister=hook;}else if(style){hook=shadowMode?function(context){style.call(this,createInjectorShadow(context,this.$root.$options.shadowRoot));}:function(context){style.call(this,createInjector(context));};}
if(hook){if(options.functional){var originalRender=options.render;options.render=function renderWithStyleInjection(h,context){hook.call(context);return originalRender(h,context);};}else{var existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook];}}
return script;}
var __vue_script__=script;var __vue_render__=function __vue_render__(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("a",{staticClass:"list-group-item",attrs:{href:"#"},on:{click:function click($event){$event.preventDefault();return _vm.$emit("selected",_vm.list);}}},[_c("div",{staticClass:"row"},[_c("div",{staticClass:"col-md-6"},[_vm._v("\n      "+_vm._s(_vm.list.name)+"\n    ")]),_vm._v(" "),_c("div",{staticClass:"col-md-6 text-muted"},[_vm._v("\n      "+_vm._s(_vm.subevent)+"\n    ")])])]);};var __vue_staticRenderFns__=[];__vue_render__._withStripped=true;var __vue_inject_styles__=undefined;var __vue_scope_id__=undefined;var __vue_module_identifier__=undefined;var __vue_is_functional_template__=false;var __vue_component__=normalizeComponent({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},__vue_inject_styles__,__vue_script__,__vue_scope_id__,__vue_is_functional_template__,__vue_module_identifier__,false,undefined,undefined,undefined);exports["default"]=__vue_component__;Object.defineProperty(exports,'__esModule',{value:true});return exports;}({});;function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0;}}
function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r);}
function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r);}
function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n;}
var CheckinlistSelect=function(exports){'use strict';var script={components:{CheckinlistItem:CheckinlistItem["default"]},data:function data(){return{loading:false,error:null,lists:null,next_url:null};},mounted:function mounted(){this.load();},methods:{load:function load(){var _this=this;this.loading=true;var cutoff=moment().subtract(8,'hours').toISOString();if(location.hash){fetch(this.$root.api.lists+location.hash.substr(1)+'/'+'?expand=subevent').then(function(response){return response.json();}).then(function(data){_this.loading=false;if(data.id){_this.$emit('selected',data);}else{location.hash='';_this.load();}})["catch"](function(reason){location.hash='';_this.load();});return;}
fetch(this.$root.api.lists+'?exclude=checkin_count&exclude=position_count&expand=subevent&ends_after='+cutoff).then(function(response){return response.json();}).then(function(data){_this.loading=false;if(data.results){_this.lists=data.results;_this.next_url=data.next;}else if(data.results===0){_this.error=_this.$root.strings['checkinlist.none'];}else{_this.error=data;}})["catch"](function(reason){_this.loading=false;_this.error=reason;});},loadNext:function loadNext(){var _this2=this;this.loading=true;fetch(this.next_url).then(function(response){return response.json();}).then(function(data){_this2.loading=false;if(data.results){var _this2$lists;(_this2$lists=_this2.lists).push.apply(_this2$lists,_toConsumableArray(data.results));_this2.next_url=data.next;}else if(data.results===0){_this2.error=_this2.$root.strings['checkinlist.none'];}else{_this2.error=data;}})["catch"](function(reason){_this2.loading=false;_this2.error=reason;});}}};function normalizeComponent(template,style,script,scopeId,isFunctionalTemplate,moduleIdentifier,shadowMode,createInjector,createInjectorSSR,createInjectorShadow){if(typeof shadowMode!=='boolean'){createInjectorSSR=createInjector;createInjector=shadowMode;shadowMode=false;}
var options=typeof script==='function'?script.options:script;if(template&&template.render){options.render=template.render;options.staticRenderFns=template.staticRenderFns;options._compiled=true;if(isFunctionalTemplate){options.functional=true;}}
if(scopeId){options._scopeId=scopeId;}
var hook;if(moduleIdentifier){hook=function hook(context){context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext;if(!context&&typeof __VUE_SSR_CONTEXT__!=='undefined'){context=__VUE_SSR_CONTEXT__;}
if(style){style.call(this,createInjectorSSR(context));}
if(context&&context._registeredComponents){context._registeredComponents.add(moduleIdentifier);}};options._ssrRegister=hook;}else if(style){hook=shadowMode?function(context){style.call(this,createInjectorShadow(context,this.$root.$options.shadowRoot));}:function(context){style.call(this,createInjector(context));};}
if(hook){if(options.functional){var originalRender=options.render;options.render=function renderWithStyleInjection(h,context){hook.call(context);return originalRender(h,context);};}else{var existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook];}}
return script;}
var __vue_script__=script;var __vue_render__=function __vue_render__(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("div",{staticClass:"panel panel-primary checkinlist-select"},[_c("div",{staticClass:"panel-heading"},[_c("h3",{staticClass:"panel-title"},[_vm._v("\n      "+_vm._s(_vm.$root.strings["checkinlist.select"])+"\n    ")])]),_vm._v(" "),_c("ul",{staticClass:"list-group"},[_vm._l(_vm.lists,function(l){return _vm.lists?_c("checkinlist-item",{key:l.id,attrs:{list:l},on:{selected:function selected($event){return _vm.$emit("selected",l);}}}):_vm._e();}),_vm._v(" "),_vm.loading?_c("li",{staticClass:"list-group-item text-center"},[_c("span",{staticClass:"fa fa-4x fa-cog fa-spin loading-icon"})]):_vm.error?_c("li",{staticClass:"list-group-item text-center"},[_vm._v("\n      "+_vm._s(_vm.error)+"\n    ")]):_vm.next_url?_c("a",{staticClass:"list-group-item text-center",attrs:{href:"#"},on:{click:function click($event){$event.preventDefault();return _vm.loadNext.apply(null,arguments);}}},[_vm._v("\n      "+_vm._s(_vm.$root.strings["pagination.next"])+"\n    ")]):_vm._e()],2)]);};var __vue_staticRenderFns__=[];__vue_render__._withStripped=true;var __vue_inject_styles__=undefined;var __vue_scope_id__=undefined;var __vue_module_identifier__=undefined;var __vue_is_functional_template__=false;var __vue_component__=normalizeComponent({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},__vue_inject_styles__,__vue_script__,__vue_scope_id__,__vue_is_functional_template__,__vue_module_identifier__,false,undefined,undefined,undefined);exports["default"]=__vue_component__;Object.defineProperty(exports,'__esModule',{value:true});return exports;}({});;var SearchresultItem=function(exports){'use strict';var script={components:{},props:{position:Object},computed:{status:function status(){if(this.position.checkins.length)return'redeemed';if(this.position.order__status==='n'&&this.position.order__valid_if_pending)return'pending_valid';if(this.position.order__status==='n'&&this.position.order__require_approval)return'require_approval';return this.position.order__status;},itemvar:function itemvar(){if(this.position.variation){return"".concat(i18nstring_localize(this.position.item.name)," \u2013 ").concat(i18nstring_localize(this.position.variation.value));}
return i18nstring_localize(this.position.item.name);},subevent:function subevent(){if(!this.position.subevent)return'';var name=i18nstring_localize(this.position.subevent.name);var date=moment.utc(this.position.subevent.date_from).tz(this.$root.timezone).format(this.$root.datetime_format);return"".concat(name," \xB7 ").concat(date);}}};function normalizeComponent(template,style,script,scopeId,isFunctionalTemplate,moduleIdentifier,shadowMode,createInjector,createInjectorSSR,createInjectorShadow){if(typeof shadowMode!=='boolean'){createInjectorSSR=createInjector;createInjector=shadowMode;shadowMode=false;}
var options=typeof script==='function'?script.options:script;if(template&&template.render){options.render=template.render;options.staticRenderFns=template.staticRenderFns;options._compiled=true;if(isFunctionalTemplate){options.functional=true;}}
if(scopeId){options._scopeId=scopeId;}
var hook;if(moduleIdentifier){hook=function hook(context){context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext;if(!context&&typeof __VUE_SSR_CONTEXT__!=='undefined'){context=__VUE_SSR_CONTEXT__;}
if(style){style.call(this,createInjectorSSR(context));}
if(context&&context._registeredComponents){context._registeredComponents.add(moduleIdentifier);}};options._ssrRegister=hook;}else if(style){hook=shadowMode?function(context){style.call(this,createInjectorShadow(context,this.$root.$options.shadowRoot));}:function(context){style.call(this,createInjector(context));};}
if(hook){if(options.functional){var originalRender=options.render;options.render=function renderWithStyleInjection(h,context){hook.call(context);return originalRender(h,context);};}else{var existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook];}}
return script;}
var __vue_script__=script;var __vue_render__=function __vue_render__(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("a",{ref:"a",staticClass:"list-group-item searchresult",attrs:{href:"#"},on:{click:function click($event){$event.preventDefault();return _vm.$emit("selected",_vm.position);}}},[_c("div",{staticClass:"details"},[_c("h4",[_vm._v(_vm._s(_vm.position.order)+"-"+_vm._s(_vm.position.positionid)+" "+_vm._s(_vm.position.attendee_name))]),_vm._v(" "),_c("span",[_vm._v(_vm._s(_vm.itemvar)),_c("br")]),_vm._v(" "),_vm.subevent?_c("span",[_vm._v(_vm._s(_vm.subevent)),_c("br")]):_vm._e(),_vm._v(" "),_c("div",{staticClass:"secret"},[_vm._v(_vm._s(_vm.position.secret))])]),_vm._v(" "),_c("div",{"class":"status status-"+_vm.status},[_vm.position.require_attention?_c("span",[_c("span",{staticClass:"fa fa-warning"}),_c("br")]):_vm._e(),_vm._v("\n    "+_vm._s(_vm.$root.strings["status."+_vm.status])+"\n  ")])]);};var __vue_staticRenderFns__=[];__vue_render__._withStripped=true;var __vue_inject_styles__=undefined;var __vue_scope_id__=undefined;var __vue_module_identifier__=undefined;var __vue_is_functional_template__=false;var __vue_component__=normalizeComponent({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},__vue_inject_styles__,__vue_script__,__vue_scope_id__,__vue_is_functional_template__,__vue_module_identifier__,false,undefined,undefined,undefined);exports["default"]=__vue_component__;Object.defineProperty(exports,'__esModule',{value:true});return exports;}({});;var Datetimefield=function(exports){'use strict';var script={props:["required","value"],mounted:function mounted(){var vm=this;this.multiple;$(this.$el).datetimepicker(this.opts()).trigger("change").on("dp.change",function(e){vm.$emit("input",$(this).data('DateTimePicker').date().toISOString());});if(!vm.value){$(this.$el).data("DateTimePicker").viewDate(moment().hour(0).minute(0).second(0).millisecond(0));}else{$(this.$el).data("DateTimePicker").date(moment(vm.value));}},methods:{opts:function opts(){return{format:$("body").attr("data-datetimeformat"),locale:$("body").attr("data-datetimelocale"),timeZone:$("body").attr("data-timezone"),useCurrent:false,showClear:this.required,icons:{time:'fa fa-clock-o',date:'fa fa-calendar',up:'fa fa-chevron-up',down:'fa fa-chevron-down',previous:'fa fa-chevron-left',next:'fa fa-chevron-right',today:'fa fa-screenshot',clear:'fa fa-trash',close:'fa fa-remove'}};}},watch:{value:function value(val){$(this.$el).data('DateTimePicker').date(moment(val));}},destroyed:function destroyed(){$(this.$el).off().datetimepicker("destroy");}};function normalizeComponent(template,style,script,scopeId,isFunctionalTemplate,moduleIdentifier,shadowMode,createInjector,createInjectorSSR,createInjectorShadow){if(typeof shadowMode!=='boolean'){createInjectorSSR=createInjector;createInjector=shadowMode;shadowMode=false;}
var options=typeof script==='function'?script.options:script;if(template&&template.render){options.render=template.render;options.staticRenderFns=template.staticRenderFns;options._compiled=true;if(isFunctionalTemplate){options.functional=true;}}
if(scopeId){options._scopeId=scopeId;}
var hook;if(moduleIdentifier){hook=function hook(context){context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext;if(!context&&typeof __VUE_SSR_CONTEXT__!=='undefined'){context=__VUE_SSR_CONTEXT__;}
if(style){style.call(this,createInjectorSSR(context));}
if(context&&context._registeredComponents){context._registeredComponents.add(moduleIdentifier);}};options._ssrRegister=hook;}else if(style){hook=shadowMode?function(context){style.call(this,createInjectorShadow(context,this.$root.$options.shadowRoot));}:function(context){style.call(this,createInjector(context));};}
if(hook){if(options.functional){var originalRender=options.render;options.render=function renderWithStyleInjection(h,context){hook.call(context);return originalRender(h,context);};}else{var existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook];}}
return script;}
var __vue_script__=script;var __vue_render__=function __vue_render__(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("input",{staticClass:"form-control",attrs:{required:_vm.required}});};var __vue_staticRenderFns__=[];__vue_render__._withStripped=true;var __vue_inject_styles__=undefined;var __vue_scope_id__=undefined;var __vue_module_identifier__=undefined;var __vue_is_functional_template__=false;var __vue_component__=normalizeComponent({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},__vue_inject_styles__,__vue_script__,__vue_scope_id__,__vue_is_functional_template__,__vue_module_identifier__,false,undefined,undefined,undefined);exports["default"]=__vue_component__;Object.defineProperty(exports,'__esModule',{value:true});return exports;}({});;var Datefield=function(exports){'use strict';var script={props:["required","value"],mounted:function mounted(){var vm=this;this.multiple;$(this.$el).datetimepicker(this.opts()).trigger("change").on("dp.change",function(e){vm.$emit("input",$(this).data('DateTimePicker').date().format("YYYY-MM-DD"));});if(!vm.value){$(this.$el).data("DateTimePicker").viewDate(moment().hour(0).minute(0).second(0).millisecond(0));}else{$(this.$el).data("DateTimePicker").date(moment(vm.value));}},methods:{opts:function opts(){return{format:$("body").attr("data-dateformat"),locale:$("body").attr("data-datetimelocale"),useCurrent:false,showClear:this.required,icons:{time:'fa fa-clock-o',date:'fa fa-calendar',up:'fa fa-chevron-up',down:'fa fa-chevron-down',previous:'fa fa-chevron-left',next:'fa fa-chevron-right',today:'fa fa-screenshot',clear:'fa fa-trash',close:'fa fa-remove'}};}},watch:{value:function value(val){$(this.$el).data('DateTimePicker').date(moment(val));}},destroyed:function destroyed(){$(this.$el).off().datetimepicker("destroy");}};function normalizeComponent(template,style,script,scopeId,isFunctionalTemplate,moduleIdentifier,shadowMode,createInjector,createInjectorSSR,createInjectorShadow){if(typeof shadowMode!=='boolean'){createInjectorSSR=createInjector;createInjector=shadowMode;shadowMode=false;}
var options=typeof script==='function'?script.options:script;if(template&&template.render){options.render=template.render;options.staticRenderFns=template.staticRenderFns;options._compiled=true;if(isFunctionalTemplate){options.functional=true;}}
if(scopeId){options._scopeId=scopeId;}
var hook;if(moduleIdentifier){hook=function hook(context){context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext;if(!context&&typeof __VUE_SSR_CONTEXT__!=='undefined'){context=__VUE_SSR_CONTEXT__;}
if(style){style.call(this,createInjectorSSR(context));}
if(context&&context._registeredComponents){context._registeredComponents.add(moduleIdentifier);}};options._ssrRegister=hook;}else if(style){hook=shadowMode?function(context){style.call(this,createInjectorShadow(context,this.$root.$options.shadowRoot));}:function(context){style.call(this,createInjector(context));};}
if(hook){if(options.functional){var originalRender=options.render;options.render=function renderWithStyleInjection(h,context){hook.call(context);return originalRender(h,context);};}else{var existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook];}}
return script;}
var __vue_script__=script;var __vue_render__=function __vue_render__(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("input",{staticClass:"form-control",attrs:{required:_vm.required}});};var __vue_staticRenderFns__=[];__vue_render__._withStripped=true;var __vue_inject_styles__=undefined;var __vue_scope_id__=undefined;var __vue_module_identifier__=undefined;var __vue_is_functional_template__=false;var __vue_component__=normalizeComponent({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},__vue_inject_styles__,__vue_script__,__vue_scope_id__,__vue_is_functional_template__,__vue_module_identifier__,false,undefined,undefined,undefined);exports["default"]=__vue_component__;Object.defineProperty(exports,'__esModule',{value:true});return exports;}({});;var Timefield=function(exports){'use strict';var script={props:["required","value"],mounted:function mounted(){var vm=this;this.multiple;$(this.$el).datetimepicker(this.opts()).trigger("change").on("dp.change",function(e){vm.$emit("input",$(this).data('DateTimePicker').date().format("HH:mm:ss"));});if(!vm.value){$(this.$el).data("DateTimePicker").viewDate(moment().hour(0).minute(0).second(0).millisecond(0));}else{$(this.$el).data("DateTimePicker").date(moment(vm.value));}},methods:{opts:function opts(){return{format:$("body").attr("data-timeformat"),locale:$("body").attr("data-datetimelocale"),useCurrent:false,showClear:this.required,icons:{time:'fa fa-clock-o',date:'fa fa-calendar',up:'fa fa-chevron-up',down:'fa fa-chevron-down',previous:'fa fa-chevron-left',next:'fa fa-chevron-right',today:'fa fa-screenshot',clear:'fa fa-trash',close:'fa fa-remove'}};}},watch:{value:function value(val){$(this.$el).data('DateTimePicker').date(moment(val));}},destroyed:function destroyed(){$(this.$el).off().datetimepicker("destroy");}};function normalizeComponent(template,style,script,scopeId,isFunctionalTemplate,moduleIdentifier,shadowMode,createInjector,createInjectorSSR,createInjectorShadow){if(typeof shadowMode!=='boolean'){createInjectorSSR=createInjector;createInjector=shadowMode;shadowMode=false;}
var options=typeof script==='function'?script.options:script;if(template&&template.render){options.render=template.render;options.staticRenderFns=template.staticRenderFns;options._compiled=true;if(isFunctionalTemplate){options.functional=true;}}
if(scopeId){options._scopeId=scopeId;}
var hook;if(moduleIdentifier){hook=function hook(context){context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext;if(!context&&typeof __VUE_SSR_CONTEXT__!=='undefined'){context=__VUE_SSR_CONTEXT__;}
if(style){style.call(this,createInjectorSSR(context));}
if(context&&context._registeredComponents){context._registeredComponents.add(moduleIdentifier);}};options._ssrRegister=hook;}else if(style){hook=shadowMode?function(context){style.call(this,createInjectorShadow(context,this.$root.$options.shadowRoot));}:function(context){style.call(this,createInjector(context));};}
if(hook){if(options.functional){var originalRender=options.render;options.render=function renderWithStyleInjection(h,context){hook.call(context);return originalRender(h,context);};}else{var existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook];}}
return script;}
var __vue_script__=script;var __vue_render__=function __vue_render__(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("input",{staticClass:"form-control",attrs:{required:_vm.required}});};var __vue_staticRenderFns__=[];__vue_render__._withStripped=true;var __vue_inject_styles__=undefined;var __vue_scope_id__=undefined;var __vue_module_identifier__=undefined;var __vue_is_functional_template__=false;var __vue_component__=normalizeComponent({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},__vue_inject_styles__,__vue_script__,__vue_scope_id__,__vue_is_functional_template__,__vue_module_identifier__,false,undefined,undefined,undefined);exports["default"]=__vue_component__;Object.defineProperty(exports,'__esModule',{value:true});return exports;}({});;function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r);}
function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r);}
function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]};},e:function e(r){throw r;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var o,a=!0,u=!1;return{s:function s(){t=t.call(r);},n:function n(){var r=t.next();return a=r.done,r;},e:function e(r){u=!0,o=r;},f:function f(){try{a||null==t["return"]||t["return"]();}finally{if(u)throw o;}}};}
function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0;}}
function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n;}
var App=function(exports){'use strict';var script={components:{CheckinlistSelect:CheckinlistSelect["default"],SearchresultItem:SearchresultItem["default"],Datetimefield:Datetimefield["default"],Timefield:Timefield["default"],Datefield:Datefield["default"]},data:function data(){return{type:'entry',query:'',searchLoading:false,searchResults:null,searchNextUrl:null,searchError:null,status:null,statusLoading:0,statusInterval:null,checkLoading:false,checkError:null,checkResult:null,checkinlist:null,clearTimeout:null,showUnpaidModal:false,showQuestionsModal:false,answers:{}};},mounted:function mounted(){window.addEventListener('focus',this.globalKeydown);document.addEventListener("visibilitychange",this.globalKeydown);document.addEventListener('keydown',this.globalKeydown);this.statusInterval=window.setInterval(this.fetchStatus,120*1000);},destroyed:function destroyed(){window.removeEventListener('focus',this.globalKeydown);document.removeEventListener("visibilitychange",this.globalKeydown);document.removeEventListener('keydown',this.globalKeydown);window.clearInterval(this.statusInterval);window.clearInterval(this.clearTimeout);},computed:{countries:function countries(){return JSON.parse(document.querySelector("#countries").innerHTML);},subevent:function subevent(){if(!this.checkinlist)return'';if(!this.checkinlist.subevent)return'';var name=i18nstring_localize(this.checkinlist.subevent.name);var date=moment.utc(this.checkinlist.subevent.date_from).tz(this.$root.timezone).format(this.$root.datetime_format);return"".concat(name," \xB7 ").concat(date);},checkResultAddons:function checkResultAddons(){if(!this.checkResult)return'';if(!this.checkResult.position.addons)return'';return this.checkResult.position.addons.map(function(addon){if(addon.variation){return"+ ".concat(addon.item.internal_name||i18nstring_localize(addon.item.name)," \u2013 ").concat(i18nstring_localize(addon.variation.value));}
return"+ "+(addon.item.internal_name||i18nstring_localize(addon.item.name));}).join("\n");},checkResultSubevent:function checkResultSubevent(){if(!this.checkResult)return'';if(!this.checkResult.position.subevent)return'';var name=i18nstring_localize(this.checkResult.position.subevent.name);var date=moment.utc(this.checkResult.position.subevent.date_from).tz(this.$root.timezone).format(this.$root.datetime_format);return"".concat(name," \xB7 ").concat(date);},checkResultItemvar:function checkResultItemvar(){if(!this.checkResult)return'';if(this.checkResult.position.variation){return"".concat(i18nstring_localize(this.checkResult.position.item.name)," \u2013 ").concat(i18nstring_localize(this.checkResult.position.variation.value));}
return i18nstring_localize(this.checkResult.position.item.name);},checkResultText:function checkResultText(){if(!this.checkResult)return'';if(this.checkResult.status==='ok'){if(this.type==="exit"){return this.$root.strings['result.exit'];}
return this.$root.strings['result.ok'];}else if(this.checkResult.status==='incomplete'){return this.$root.strings['result.questions'];}else if(this.$root.strings['result.'+this.checkResult.reason]){return this.$root.strings['result.'+this.checkResult.reason];}else{return this.checkResult.reason;}},checkResultColor:function checkResultColor(){if(!this.checkResult)return'';if(this.checkResult.status==='ok'){return"green";}else if(this.checkResult.status==='incomplete'){return"purple";}else{if(this.checkResult.reason==='already_redeemed')return"orange";return"red";}}},filters:{i18nstring_localize:function(_i18nstring_localize){function i18nstring_localize(_x){return _i18nstring_localize.apply(this,arguments);}
i18nstring_localize.toString=function(){return _i18nstring_localize.toString();};return i18nstring_localize;}(function(value){return i18nstring_localize(value);}),answer:function answer(value,question,timezone,strings){if(question.type==="B"&&value==="True"){return strings['yes'];}else if(question.type==="B"&&value==="False"){return strings['no'];}else if(question.type==="W"&&!!value){return moment(value).tz(timezone).format("L LT");}else if(question.type==="D"&&!!value){return moment(value).format("L");}else{return value;}}},methods:{selectResult:function selectResult(res){this.check(res.id,false,false,false,false);},answerSetM:function answerSetM(qid,opid,checked){var arr=this.answers[qid]?this.answers[qid].split(','):[];if(checked&&!arr.includes(opid)){arr.push(opid);}else if(!checked){arr=arr.filter(function(o){return opid!==o;});}
this.answers[qid]=arr.join(',');},clear:function clear(){this.query='';this.searchLoading=false;this.searchResults=null;this.searchNextUrl=null;this.searchError=null;this.checkLoading=false;this.checkError=null;this.checkResult=null;this.showUnpaidModal=false;this.showQuestionsModal=false;this.answers={};},check:function check(id,ignoreUnpaid,keepAnswers,fallbackToSearch,untrusted){var _this=this;if(!keepAnswers){this.answers={};}else if(this.showQuestionsModal){if(!this.$refs.questionsModal.reportValidity()){return;}}
this.showUnpaidModal=false;this.showQuestionsModal=false;this.checkLoading=true;this.checkError=null;this.checkResult={};window.clearInterval(this.clearTimeout);this.$nextTick(function(){_this.$refs.input.blur();});var url=this.$root.api.lists+this.checkinlist.id+'/positions/'+encodeURIComponent(id)+'/redeem/?expand=item&expand=subevent&expand=variation&expand=answers.question&expand=addons';if(untrusted){url+='&untrusted_input=true';}
fetch(url,{method:'POST',headers:{'X-CSRFToken':document.querySelector("input[name=csrfmiddlewaretoken]").value,'Content-Type':'application/json'},body:JSON.stringify({questions_supported:true,canceled_supported:true,ignore_unpaid:ignoreUnpaid||false,type:this.type,answers:this.answers})}).then(function(response){if(response.status===404){return{status:'error',reason:'invalid'};}
if(!response.ok&&[401,403].includes(response.status)){window.location.href='/control/login?next='+encodeURIComponent(window.location.pathname+window.location.search+window.location.hash);}
if(!response.ok&&response.status!=400){throw new Error("HTTP status "+response.status);}
return response.json();}).then(function(data){_this.checkLoading=false;_this.checkResult=data;if(_this.checkinlist.include_pending&&data.status==='error'&&data.reason==='unpaid'){_this.showUnpaidModal=true;_this.$nextTick(function(){document.querySelector(".modal-unpaid .btn-primary").focus();});}else if(data.status==='incomplete'){_this.showQuestionsModal=true;var _iterator=_createForOfIteratorHelper(_this.checkResult.questions),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var q=_step.value;if(!_this.answers[q.id.toString()]){_this.answers[q.id.toString()]="";}
q.question=i18nstring_localize(q.question);var _iterator2=_createForOfIteratorHelper(q.options),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var o=_step2.value;o.answer=i18nstring_localize(o.answer);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}}catch(err){_iterator.e(err);}finally{_iterator.f();}
_this.$nextTick(function(){document.querySelector(".modal-questions input, .modal-questions select, .modal-questions textarea").focus();});}else if(data.status==='error'&&data.reason==='invalid'&&fallbackToSearch){_this.startSearch(false);}else{_this.clearTimeout=window.setTimeout(_this.clear,1000*30);_this.fetchStatus();}})["catch"](function(reason){_this.checkLoading=false;_this.checkResult={};_this.checkError=reason.toString();_this.clearTimeout=window.setTimeout(_this.clear,1000*30);});},globalKeydown:function globalKeydown(e){if(document.activeElement.classList.contains('searchresult')&&(e.key==='ArrowDown'||e.key==='ArrowUp')){if(e.key==='ArrowDown'){document.activeElement.nextElementSibling.focus();e.preventDefault();return true;}
if(e.key==='ArrowUp'){document.activeElement.previousElementSibling.focus();e.preventDefault();return true;}}
if(document.activeElement.nodeName.toLowerCase()!=='input'&&document.activeElement.nodeName.toLowerCase()!=='textarea'){if(e.key&&e.key.match(/^[a-z0-9A-Z+/=<>#]$/)){this.query='';this.refocus();}}},refocus:function refocus(){var _this2=this;this.$nextTick(function(){_this2.$refs.input.focus();});},inputKeyup:function inputKeyup(e){if(e.key==="Enter"){this.startSearch(true);}else if(this.query===''){this.clear();}},startSearch:function startSearch(fallbackToScan){var _this3=this;if(this.query.length>=32&&fallbackToScan){this.check(this.query,false,false,true,true);return;}
this.checkResult=null;this.searchLoading=true;this.searchError=null;this.searchResults=[];this.answers={};window.clearInterval(this.clearTimeout);fetch(this.$root.api.lists+this.checkinlist.id+'/positions/?ignore_status=true&expand=subevent&expand=item&expand=variation&check_rules=true&search='+encodeURIComponent(this.query)).then(function(response){if(!response.ok&&[401,403].includes(response.status)){window.location.href='/control/login?next='+encodeURIComponent(window.location.pathname+window.location.search+window.location.hash);}
return response.json();}).then(function(data){_this3.searchLoading=false;if(data.results){_this3.searchResults=data.results;_this3.searchNextUrl=data.next;if(data.results.length){if(data.results[0].secret===_this3.query){_this3.$nextTick(function(){_this3.$refs.input.blur();_this3.$refs.result[0].$refs.a.click();});}else{_this3.$nextTick(function(){_this3.$refs.result[0].$refs.a.focus();});}}else{_this3.$nextTick(function(){_this3.$refs.input.blur();});}}else{_this3.searchError=data;}
_this3.clearTimeout=window.setTimeout(_this3.clear,1000*30);})["catch"](function(reason){_this3.searchLoading=false;_this3.searchResults=[];_this3.searchError=reason;_this3.clearTimeout=window.setTimeout(_this3.clear,1000*30);});},searchNext:function searchNext(){var _this4=this;this.searchLoading=true;this.searchError=null;window.clearInterval(this.clearTimeout);fetch(this.searchNextUrl).then(function(response){return response.json();}).then(function(data){_this4.searchLoading=false;if(data.results){var _this4$searchResults;(_this4$searchResults=_this4.searchResults).push.apply(_this4$searchResults,_toConsumableArray(data.results));_this4.searchNextUrl=data.next;}else{_this4.searchError=data;}
_this4.clearTimeout=window.setTimeout(_this4.clear,1000*30);})["catch"](function(reason){_this4.searchLoading=false;_this4.searchError=reason;_this4.clearTimeout=window.setTimeout(_this4.clear,1000*30);});},switchType:function switchType(){this.type=this.type==='exit'?'entry':'exit';this.refocus();},switchList:function switchList(){location.hash='';this.checkinlist=null;},fetchStatus:function fetchStatus(){var _this5=this;this.statusLoading++;fetch(this.$root.api.lists+this.checkinlist.id+'/status/').then(function(response){return response.json();}).then(function(data){_this5.statusLoading--;_this5.status=data;})["catch"](function(reason){_this5.statusLoading--;});},selectList:function selectList(list){this.checkinlist=list;location.hash='#'+list.id;this.refocus();this.fetchStatus();}}};function normalizeComponent(template,style,script,scopeId,isFunctionalTemplate,moduleIdentifier,shadowMode,createInjector,createInjectorSSR,createInjectorShadow){if(typeof shadowMode!=='boolean'){createInjectorSSR=createInjector;createInjector=shadowMode;shadowMode=false;}
var options=typeof script==='function'?script.options:script;if(template&&template.render){options.render=template.render;options.staticRenderFns=template.staticRenderFns;options._compiled=true;if(isFunctionalTemplate){options.functional=true;}}
if(scopeId){options._scopeId=scopeId;}
var hook;if(moduleIdentifier){hook=function hook(context){context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext;if(!context&&typeof __VUE_SSR_CONTEXT__!=='undefined'){context=__VUE_SSR_CONTEXT__;}
if(style){style.call(this,createInjectorSSR(context));}
if(context&&context._registeredComponents){context._registeredComponents.add(moduleIdentifier);}};options._ssrRegister=hook;}else if(style){hook=shadowMode?function(context){style.call(this,createInjectorShadow(context,this.$root.$options.shadowRoot));}:function(context){style.call(this,createInjector(context));};}
if(hook){if(options.functional){var originalRender=options.render;options.render=function renderWithStyleInjection(h,context){hook.call(context);return originalRender(h,context);};}else{var existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook];}}
return script;}
var __vue_script__=script;var __vue_render__=function __vue_render__(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("div",{attrs:{id:"app"}},[_c("div",{staticClass:"container"},[_c("h1",[_vm._v("\n      "+_vm._s(_vm.$root.event_name)+"\n    ")]),_vm._v(" "),!_vm.checkinlist?_c("checkinlist-select",{on:{selected:function selected($event){return _vm.selectList($event);}}}):_vm._e(),_vm._v(" "),_vm.checkinlist?_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.query,expression:"query"}],ref:"input",staticClass:"form-control scan-input",attrs:{placeholder:_vm.$root.strings["input.placeholder"]},domProps:{value:_vm.query},on:{keyup:_vm.inputKeyup,input:function input($event){if($event.target.composing){return;}
_vm.query=$event.target.value;}}}):_vm._e(),_vm._v(" "),_vm.checkResult!==null?_c("div",{staticClass:"panel panel-primary check-result"},[_c("div",{staticClass:"panel-heading"},[_c("a",{staticClass:"pull-right",attrs:{href:"#",tabindex:"-1"},on:{click:function click($event){$event.preventDefault();return _vm.clear.apply(null,arguments);}}},[_c("span",{staticClass:"fa fa-close"})]),_vm._v(" "),_c("h3",{staticClass:"panel-title"},[_vm._v("\n          "+_vm._s(_vm.$root.strings["check.headline"])+"\n        ")])]),_vm._v(" "),_vm.checkLoading?_c("div",{staticClass:"panel-body text-center"},[_c("span",{staticClass:"fa fa-4x fa-cog fa-spin loading-icon"})]):_vm.checkError?_c("div",{staticClass:"panel-body text-center"},[_vm._v("\n        "+_vm._s(_vm.checkError)+"\n      ")]):_vm._e(),_vm._v(" "),_c("div",{"class":"check-result-status check-result-"+_vm.checkResultColor},[_c("div",{staticClass:"check-result-text"},[_vm._v(_vm._s(_vm.checkResultText))]),_vm._v(" "),_c("div",{staticClass:"check-result-item"},[_vm._v(_vm._s(_vm.checkResultItemvar))]),_vm._v(" "),_vm.checkResult.reason_explanation?_c("div",{staticClass:"check-result-reason"},[_vm._v(_vm._s(_vm.checkResult.reason_explanation))]):_vm._e()]),_vm._v(" "),_vm.checkResult&&_vm.checkResult.require_attention?_c("div",{staticClass:"attention"},[_c("span",{staticClass:"fa fa-warning"}),_vm._v("\n        "+_vm._s(_vm.$root.strings["check.attention"])+"\n      ")]):_vm._e(),_vm._v(" "),_vm.checkResult.position?_c("div",{staticClass:"panel-body"},[_c("div",{staticClass:"details"},[_c("code",[_vm._v(_vm._s(_vm.checkResult.position.order)+"-"+_vm._s(_vm.checkResult.position.positionid))]),_vm._v(" "),_c("h4",[_vm._v(_vm._s(_vm.checkResult.position.attendee_name))]),_vm._v(" "),_vm.checkResultAddons?_c("div",{staticClass:"addons"},[_vm._v(_vm._s(_vm.checkResultAddons))]):_vm._e(),_vm._v(" "),_vm.checkResultSubevent?_c("span",[_vm._v(_vm._s(_vm.checkResultSubevent)),_c("br")]):_vm._e(),_vm._v(" "),_c("span",{staticClass:"secret"},[_vm._v(_vm._s(_vm.checkResult.position.secret))]),_vm._v(" "),_vm.checkResult.position.seat?_c("span",[_c("br"),_vm._v(_vm._s(_vm.checkResult.position.seat.name))]):_vm._e(),_vm._v(" "),_vm._l(_vm.checkResult.position.answers,function(a){return _c("span",[a.question.show_during_checkin?_c("span",[_c("br"),_vm._v(" "),_c("strong",[_vm._v(_vm._s(_vm._f("i18nstring_localize")(a.question.question))+":")]),_vm._v("\n              "+_vm._s(_vm._f("answer")(a.answer,a.question,_vm.$root.timezone,_vm.$root.strings))+"\n            ")]):_vm._e()]);}),_vm._v(" "),_vm._l(_vm.checkResult.checkin_texts,function(t){return _c("strong",[_c("br"),_vm._v(_vm._s(t))]);})],2)]):_vm._e()]):_vm.searchResults!==null?_c("div",{staticClass:"panel panel-primary search-results"},[_c("div",{staticClass:"panel-heading"},[_c("a",{staticClass:"pull-right",attrs:{href:"#",tabindex:"-1"},on:{click:function click($event){$event.preventDefault();return _vm.clear.apply(null,arguments);}}},[_c("span",{staticClass:"fa fa-close"})]),_vm._v(" "),_c("h3",{staticClass:"panel-title"},[_vm._v("\n          "+_vm._s(_vm.$root.strings["results.headline"])+"\n        ")])]),_vm._v(" "),_c("ul",{staticClass:"list-group"},[_vm._l(_vm.searchResults,function(p){return _vm.searchResults?_c("searchresult-item",{key:p.id,ref:"result",refInFor:true,attrs:{position:p},on:{selected:function selected($event){return _vm.selectResult($event);}}}):_vm._e();}),_vm._v(" "),!_vm.searchResults.length&&!_vm.searchLoading?_c("li",{staticClass:"list-group-item text-center"},[_vm._v("\n          "+_vm._s(_vm.$root.strings["results.none"])+"\n        ")]):_vm._e(),_vm._v(" "),_vm.searchLoading?_c("li",{staticClass:"list-group-item text-center"},[_c("span",{staticClass:"fa fa-4x fa-cog fa-spin loading-icon"})]):_vm.searchError?_c("li",{staticClass:"list-group-item text-center"},[_vm._v("\n          "+_vm._s(_vm.searchError)+"\n        ")]):_vm.searchNextUrl?_c("a",{staticClass:"list-group-item text-center",attrs:{href:"#"},on:{click:function click($event){$event.preventDefault();return _vm.searchNext.apply(null,arguments);}}},[_vm._v("\n          "+_vm._s(_vm.$root.strings["pagination.next"])+"\n        ")]):_vm._e()],2)]):_vm.checkinlist?_c("div",[_c("div",{staticClass:"panel panel-default"},[_c("div",{staticClass:"panel-body meta"},[_c("div",{staticClass:"row settings"},[_c("div",{staticClass:"col-sm-6"},[_c("div",[_c("span",{"class":"fa fa-sign-"+(_vm.type==="exit"?"out":"in")}),_vm._v("\n                "+_vm._s(_vm.$root.strings["scantype."+_vm.type])),_c("br"),_vm._v(" "),_c("button",{staticClass:"btn btn-default",on:{click:_vm.switchType}},[_c("span",{staticClass:"fa fa-refresh"}),_vm._v(" "+_vm._s(_vm.$root.strings["scantype.switch"]))])])]),_vm._v(" "),_c("div",{staticClass:"col-sm-6"},[_vm.checkinlist?_c("div",[_vm._v("\n                "+_vm._s(_vm.checkinlist.name)),_c("br"),_vm._v("\n                "+_vm._s(_vm.subevent)),_vm.subevent?_c("br"):_vm._e(),_vm._v(" "),_c("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:_vm.switchList}},[_vm._v(_vm._s(_vm.$root.strings["checkinlist.switch"]))])]):_vm._e()])]),_vm._v(" "),_vm.status?_c("div",{staticClass:"row status"},[_c("div",{staticClass:"col-sm-4"},[_c("span",{staticClass:"statistic"},[_vm._v(_vm._s(_vm.status.checkin_count))]),_vm._v("\n              "+_vm._s(_vm.$root.strings["status.checkin"])+"\n            ")]),_vm._v(" "),_c("div",{staticClass:"col-sm-4"},[_c("span",{staticClass:"statistic"},[_vm._v(_vm._s(_vm.status.position_count))]),_vm._v("\n              "+_vm._s(_vm.$root.strings["status.position"])+"\n            ")]),_vm._v(" "),_c("div",{staticClass:"col-sm-4"},[_c("div",{staticClass:"pull-right"},[_c("button",{staticClass:"btn btn-default",on:{click:_vm.fetchStatus}},[_c("span",{"class":"fa fa-refresh"+(_vm.statusLoading?" fa-spin":"")})])]),_vm._v(" "),_c("span",{staticClass:"statistic"},[_vm._v(_vm._s(_vm.status.inside_count))]),_vm._v("\n              "+_vm._s(_vm.$root.strings["status.inside"])+"\n            ")])]):_vm._e()])])]):_vm._e()],1),_vm._v(" "),_c("div",{"class":"modal modal-unpaid fade"+(_vm.showUnpaidModal?" in":""),attrs:{tabindex:"-1",role:"dialog"}},[_c("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[_vm.checkResult&&_vm.checkResult.position?_c("div",{staticClass:"modal-content"},[_c("div",{staticClass:"modal-header"},[_c("button",{staticClass:"close",attrs:{type:"button"},on:{click:function click($event){_vm.showUnpaidModal=false;}}},[_c("span",{staticClass:"fa fa-close"})]),_vm._v(" "),_c("h4",{staticClass:"modal-title"},[_vm._v("\n            "+_vm._s(_vm.$root.strings["modal.unpaid.head"])+"\n          ")])]),_vm._v(" "),_c("div",{staticClass:"modal-body"},[_c("p",[_vm._v("\n            "+_vm._s(_vm.$root.strings["modal.unpaid.text"])+"\n          ")])]),_vm._v(" "),_c("div",{staticClass:"modal-footer"},[_c("button",{staticClass:"btn btn-primary pull-right",attrs:{type:"button"},on:{click:function click($event){return _vm.check(_vm.checkResult.position.secret,true,false,false,true);}}},[_vm._v("\n            "+_vm._s(_vm.$root.strings["modal.continue"])+"\n          ")]),_vm._v(" "),_c("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function click($event){_vm.showUnpaidModal=false;}}},[_vm._v("\n            "+_vm._s(_vm.$root.strings["modal.cancel"])+"\n          ")])])]):_vm._e()])]),_vm._v(" "),_c("form",{ref:"questionsModal","class":"modal modal-questions fade"+(_vm.showQuestionsModal?" in":""),attrs:{tabindex:"-1",role:"dialog"}},[_c("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[_vm.checkResult&&_vm.checkResult.questions?_c("div",{staticClass:"modal-content"},[_c("div",{staticClass:"modal-header"},[_c("button",{staticClass:"close",attrs:{type:"button"},on:{click:function click($event){_vm.showQuestionsModal=false;}}},[_c("span",{staticClass:"fa fa-close"})]),_vm._v(" "),_c("h4",{staticClass:"modal-title"},[_vm._v("\n            "+_vm._s(_vm.$root.strings["modal.questions"])+"\n          ")])]),_vm._v(" "),_c("div",{staticClass:"modal-body"},_vm._l(_vm.checkResult.questions,function(q){return _c("div",{"class":q.type==="M"?"":q.type==="B"?"checkbox":"form-group"},[q.type!=="B"?_c("label",{attrs:{"for":"q_"+q.id}},[_vm._v("\n              "+_vm._s(q.question)+"\n              "+_vm._s(q.required?" *":"")+"\n            ")]):_vm._e(),_vm._v(" "),q.type==="T"?_c("textarea",{directives:[{name:"model",rawName:"v-model",value:_vm.answers[q.id.toString()],expression:"answers[q.id.toString()]"}],staticClass:"form-control",attrs:{id:"q_"+q.id,required:q.required},domProps:{value:_vm.answers[q.id.toString()]},on:{input:function input($event){if($event.target.composing){return;}
_vm.$set(_vm.answers,q.id.toString(),$event.target.value);}}}):q.type==="N"?_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.answers[q.id.toString()],expression:"answers[q.id.toString()]"}],staticClass:"form-control",attrs:{type:"number",id:"q_"+q.id,required:q.required},domProps:{value:_vm.answers[q.id.toString()]},on:{input:function input($event){if($event.target.composing){return;}
_vm.$set(_vm.answers,q.id.toString(),$event.target.value);}}}):q.type==="D"?_c("datefield",{attrs:{id:"q_"+q.id,required:q.required},model:{value:_vm.answers[q.id.toString()],callback:function callback($$v){_vm.$set(_vm.answers,q.id.toString(),$$v);},expression:"answers[q.id.toString()]"}}):q.type==="H"?_c("timefield",{attrs:{id:"q_"+q.id,required:q.required},model:{value:_vm.answers[q.id.toString()],callback:function callback($$v){_vm.$set(_vm.answers,q.id.toString(),$$v);},expression:"answers[q.id.toString()]"}}):q.type==="W"?_c("datetimefield",{attrs:{id:"q_"+q.id,required:q.required},model:{value:_vm.answers[q.id.toString()],callback:function callback($$v){_vm.$set(_vm.answers,q.id.toString(),$$v);},expression:"answers[q.id.toString()]"}}):q.type==="C"?_c("select",{directives:[{name:"model",rawName:"v-model",value:_vm.answers[q.id.toString()],expression:"answers[q.id.toString()]"}],staticClass:"form-control",attrs:{id:"q_"+q.id,required:q.required},on:{change:function change($event){var $$selectedVal=Array.prototype.filter.call($event.target.options,function(o){return o.selected;}).map(function(o){var val="_value"in o?o._value:o.value;return val;});_vm.$set(_vm.answers,q.id.toString(),$event.target.multiple?$$selectedVal:$$selectedVal[0]);}}},[!q.required?_c("option"):_vm._e(),_vm._v(" "),_vm._l(q.options,function(op){return _c("option",{domProps:{value:op.id.toString()}},[_vm._v(_vm._s(op.answer))]);})],2):q.type==="F"?_c("div",[_c("em",[_vm._v("file input not supported")])]):q.type==="M"?_c("div",_vm._l(q.options,function(op){return _c("div",{staticClass:"checkbox"},[_c("label",[_c("input",{attrs:{type:"checkbox"},domProps:{checked:_vm.answers[q.id.toString()]&&_vm.answers[q.id.toString()].split(",").includes(op.id.toString)},on:{input:function input($event){_vm.answerSetM(q.id.toString(),op.id.toString(),$event.target.checked);}}}),_vm._v("\n                  "+_vm._s(op.answer)+"\n                ")])]);}),0):q.type==="B"?_c("label",[_c("input",{attrs:{type:"checkbox",required:q.required},domProps:{checked:_vm.answers[q.id.toString()]==="true"},on:{input:function input($event){_vm.answers[q.id.toString()]=$event.target.checked.toString();}}}),_vm._v("\n              "+_vm._s(q.question)+"\n              "+_vm._s(q.required?" *":"")+"\n            ")]):q.type==="CC"?_c("select",{directives:[{name:"model",rawName:"v-model",value:_vm.answers[q.id.toString()],expression:"answers[q.id.toString()]"}],staticClass:"form-control",attrs:{id:"q_"+q.id,required:q.required},on:{change:function change($event){var $$selectedVal=Array.prototype.filter.call($event.target.options,function(o){return o.selected;}).map(function(o){var val="_value"in o?o._value:o.value;return val;});_vm.$set(_vm.answers,q.id.toString(),$event.target.multiple?$$selectedVal:$$selectedVal[0]);}}},[!q.required?_c("option"):_vm._e(),_vm._v(" "),_vm._l(_vm.countries,function(op){return _c("option",{domProps:{value:op.key}},[_vm._v(_vm._s(op.value))]);})],2):_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.answers[q.id.toString()],expression:"answers[q.id.toString()]"}],staticClass:"form-control",attrs:{id:"q_"+q.id,required:q.required},domProps:{value:_vm.answers[q.id.toString()]},on:{input:function input($event){if($event.target.composing){return;}
_vm.$set(_vm.answers,q.id.toString(),$event.target.value);}}})],1);}),0),_vm._v(" "),_c("div",{staticClass:"modal-footer"},[_c("button",{staticClass:"btn btn-primary pull-right",attrs:{type:"button"},on:{click:function click($event){return _vm.check(_vm.checkResult.position.secret,true,true,true);}}},[_vm._v("\n            "+_vm._s(_vm.$root.strings["modal.continue"])+"\n          ")]),_vm._v(" "),_c("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function click($event){_vm.showQuestionsModal=false;}}},[_vm._v("\n            "+_vm._s(_vm.$root.strings["modal.cancel"])+"\n          ")])])]):_vm._e()])])]);};var __vue_staticRenderFns__=[];__vue_render__._withStripped=true;var __vue_inject_styles__=undefined;var __vue_scope_id__=undefined;var __vue_module_identifier__=undefined;var __vue_is_functional_template__=false;var __vue_component__=normalizeComponent({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},__vue_inject_styles__,__vue_script__,__vue_scope_id__,__vue_is_functional_template__,__vue_module_identifier__,false,undefined,undefined,undefined);exports["default"]=__vue_component__;Object.defineProperty(exports,'__esModule',{value:true});return exports;}({});;function gettext(msgid){if(typeof django!=='undefined'&&typeof django.gettext!=='undefined'){return django.gettext(msgid);}
return msgid;}
function ngettext(singular,plural,count){if(typeof django!=='undefined'&&typeof django.ngettext!=='undefined'){return django.ngettext(singular,plural,count);}
return plural;}
moment.locale(document.body.attributes['data-datetimelocale'].value)
window.vapp=new Vue({components:{App:App.default},render:function(h){return h('App')},data:{api:{lists:document.querySelector('#app').attributes['data-api-lists'].value,},strings:{'checkinlist.select':gettext('Select a check-in list'),'checkinlist.none':gettext('No active check-in lists found.'),'checkinlist.switch':gettext('Switch check-in list'),'results.headline':gettext('Search results'),'results.none':gettext('No tickets found'),'check.headline':gettext('Result'),'check.attention':gettext('This ticket requires special attention'),'scantype.switch':gettext('Switch direction'),'scantype.entry':gettext('Entry'),'scantype.exit':gettext('Exit'),'input.placeholder':gettext('Scan a ticket or search and press return'),'pagination.next':gettext('Load more'),'status.p':gettext('Valid'),'status.n':gettext('Unpaid'),'status.c':gettext('Canceled'),'status.e':gettext('Canceled'),'status.pending_valid':gettext('Confirmed'),'status.require_approval':gettext('Approval pending'),'status.redeemed':gettext('Redeemed'),'modal.cancel':gettext('Cancel'),'modal.continue':gettext('Continue'),'modal.unpaid.head':gettext('Ticket not paid'),'modal.unpaid.text':gettext('This ticket is not yet paid. Do you want to continue anyways?'),'modal.questions':gettext('Additional information required'),'result.ok':gettext('Valid ticket'),'result.exit':gettext('Exit recorded'),'result.already_redeemed':gettext('Ticket already used'),'result.questions':gettext('Information required'),'result.invalid':gettext('Unknown ticket'),'result.product':gettext('Ticket type not allowed here'),'result.unpaid':gettext('Ticket not paid'),'result.rules':gettext('Entry not allowed'),'result.revoked':gettext('Ticket code revoked/changed'),'result.blocked':gettext('Ticket blocked'),'result.invalid_time':gettext('Ticket not valid at this time'),'result.canceled':gettext('Order canceled'),'result.ambiguous':gettext('Ticket code is ambiguous on list'),'result.unapproved':gettext('Order not approved'),'status.checkin':gettext('Checked-in Tickets'),'status.position':gettext('Valid Tickets'),'status.inside':gettext('Currently inside'),'yes':gettext('Yes'),'no':gettext('No'),},event_name:document.querySelector('#app').attributes['data-event-name'].value,timezone:document.body.attributes['data-timezone'].value,datetime_format:document.body.attributes['data-datetimeformat'].value,},el:'#app'});