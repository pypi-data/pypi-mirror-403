Metadata-Version: 2.1
Name: odoo-addon-l10n_fr_siret_lookup
Version: 18.0.1.0.0.3
Requires-Python: >=3.10
Requires-Dist: odoo-addon-l10n_fr_siret==18.0.*
Requires-Dist: odoo==18.0.*
Requires-Dist: python-stdnum
Requires-Dist: requests
Summary: Lookup partner via an API on the SIRENE directory
Home-page: https://github.com/OCA/l10n-france
License: AGPL-3
Author: Le Filament, Akretion, Odoo Community Association (OCA)
Author-email: support@odoo-community.org
Classifier: Programming Language :: Python
Classifier: Framework :: Odoo
Classifier: Framework :: Odoo :: 18.0
Classifier: License :: OSI Approved :: GNU Affero General Public License v3
Description-Content-Type: text/x-rst

.. image:: https://odoo-community.org/readme-banner-image
   :target: https://odoo-community.org/get-involved?utm_source=readme
   :alt: Odoo Community Association

============
SIRET Lookup
============

.. 
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:9a01ddc4e9f996530a9fdae95bdd3cad72b7e4b3f43f35ba405966e59e03e4fd
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/license-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fl10n--france-lightgray.png?logo=github
    :target: https://github.com/OCA/l10n-france/tree/18.0/l10n_fr_siret_lookup
    :alt: OCA/l10n-france
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/l10n-france-18-0/l10n-france-18-0-l10n_fr_siret_lookup
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
    :target: https://runboat.odoo-community.org/builds?repo=OCA/l10n-france&target_branch=18.0
    :alt: Try me on Runboat

|badge1| |badge2| |badge3| |badge4| |badge5|

This modules updates partner fields via the SIRENE database
<`https://data.opendatasoft.com\\> <https://data.opendatasoft.com\>>`__.
It uses the dataset *economicref-france-sirene-v3* of opendatasoft
<`https://public.opendatasoft.com/explore/dataset/economicref-france-sirene-v3/information/\\> <https://public.opendatasoft.com/explore/dataset/economicref-france-sirene-v3/information/\>>`__.

It computes a theorical VAT number from the SIREN and then checks the
validity of the VAT number (depending on configuration) on
`VIES <https://ec.europa.eu/taxation_customs/vies/>`__ (if invalid, the
VAT number is discarded).

The module supports 2 scenarios:

- update of an existing partner via the menu *Action > SIREN Lookup*,
- creation of a new partner: start by setting the VAT number field, the
  SIREN field or SIRET field and Odoo will set the other fields. For
  usability purposes, it also work when you write the VAT number, SIREN
  or SIRET in the company name field.

In the 2 scenarios, it will update the following fields:

- Company Name
- Street
- Postal Code
- City
- Country
- SIREN and NIC (i.e. SIRET)
- VAT Number
- Language (creation scenario only)

**Table of contents**

.. contents::
   :local:

Installation
============

It's recommended to install ``python-stdnum>=1.18`` for SIRET support.

Configuration
=============

You can use this module without configuration.

However 2 configuration parameter can be adjusted in *Invoicing* >
Configuration > Settings :

- **Verify VAT Numbers** (vat_check_vies field from base_vat module):
  this parameter will define whether you want check computed VAT number
  against EU VIES validation service
- **Force VAT Numbers during SIRET Lookups if VIES check times out or is
  disabled** (force_vat_siret_lookup): this parameter allows to force
  use of computed VAT number even if not checked agains EU VIES
  validation service or if an Exception is raised by EU VIES validation
  (for instance because of Timeout, which are quite frequent while
  checking for FR VAT)

The 2 above parameters are company dependent.

*Note:* if EU VIES validation service reports that VAT number is
incorrect, the VAT field is emptied (even if Force... parameter is
ticked)

Usage
=====

To update an existing partner, go to the partner form view and click on
*Action > SIREN Lookup*.

By default, the search field is filled with Company name. To get more
accurate results, you may want to add the City name where the company is
registered. Then click on *Lookup*.

A list of companies is displayed. You may want to click on one in order
to see corresponding information or directly select company from list
view. Once a company is selected, the partner information is updated and
a message is logged in the chatter.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/l10n-france/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us to smash it by providing a detailed and welcomed
`feedback <https://github.com/OCA/l10n-france/issues/new?body=module:%20l10n_fr_siret_lookup%0Aversion:%2018.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
-------

* Le Filament
* Akretion

Contributors
------------

- Benjamin Rivier <benjamin-filament> (https://le-filament.com)
- Remi Cazenave <remi-filament> (https://le-filament.com)
- Alexis de Lattre <alexis.delattre@akretion.com>

Other credits
-------------

The development of this module has been financially supported by:

- Le Filament

Maintainers
-----------

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

.. |maintainer-remi-filament| image:: https://github.com/remi-filament.png?size=40px
    :target: https://github.com/remi-filament
    :alt: remi-filament
.. |maintainer-alexis-via| image:: https://github.com/alexis-via.png?size=40px
    :target: https://github.com/alexis-via
    :alt: alexis-via

Current `maintainers <https://odoo-community.org/page/maintainer-role>`__:

|maintainer-remi-filament| |maintainer-alexis-via| 

This module is part of the `OCA/l10n-france <https://github.com/OCA/l10n-france/tree/18.0/l10n_fr_siret_lookup>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
