{
  "id": "987b0c19-0edf-4fae-962a-1fd3cf8d155e",
  "revision": 0,
  "last_node_id": 61,
  "last_link_id": 87,
  "nodes": [
    {
      "id": 5,
      "type": "SaveImage",
      "pos": [
        1700,
        1230
      ],
      "size": [
        800,
        556.453125
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 15
        }
      ],
      "outputs": [],
      "title": "Save Image 1",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.9.2",
        "Node name for S&R": "SaveImage"
      },
      "widgets_values": [
        "ComfyUI-image_1"
      ]
    },
    {
      "id": 6,
      "type": "LoadImage",
      "pos": [
        149.9998728353683,
        1229.9999499895139
      ],
      "size": [
        750,
        552.546875
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            2,
            86,
            87
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "title": "Load Reference Image",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.9.2",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "sportbike_rider.png",
        "image"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 7,
      "type": "PrimitiveNode",
      "pos": [
        529.9986511083428,
        1030.0002298602803
      ],
      "size": [
        372,
        118.65625
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "COMBO",
          "type": "COMBO",
          "widget": {
            "name": "aspect_ratio"
          },
          "links": [
            14,
            81,
            82,
            83,
            84,
            85
          ]
        }
      ],
      "title": "Aspect Ratio for Generated Images",
      "properties": {
        "Run widget replace on values": false
      },
      "widgets_values": [
        "16:9",
        "fixed",
        ""
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 10,
      "type": "d33c1791-dfd2-4102-8540-aa63e4434cd2",
      "pos": [
        1700.000304923993,
        870.0000813907453
      ],
      "size": [
        400,
        271.65625
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "name": "value",
          "type": "STRING",
          "widget": {
            "name": "value"
          },
          "link": 12
        },
        {
          "label": "image0",
          "name": "images.image0",
          "type": "IMAGE",
          "link": 86
        },
        {
          "name": "aspect_ratio",
          "type": "COMBO",
          "widget": {
            "name": "aspect_ratio"
          },
          "link": 14
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            15
          ]
        },
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            16
          ]
        },
        {
          "label": "IMAGES",
          "name": "IMAGE_1",
          "type": "IMAGE",
          "links": []
        }
      ],
      "title": "Generate Image 1",
      "properties": {
        "proxyWidgets": [
          [
            "-1",
            "value"
          ],
          [
            "-1",
            "aspect_ratio"
          ],
          [
            "9",
            "seed"
          ]
        ],
        "cnr_id": "comfy-core",
        "ver": "0.10.0"
      },
      "widgets_values": [
        "",
        "16:9"
      ]
    },
    {
      "id": 11,
      "type": "PreviewAny",
      "pos": [
        2130.000300082877,
        870.0000813907453
      ],
      "size": [
        370,
        153
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 16
        }
      ],
      "outputs": [],
      "title": "Preview Prompt 1",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.9.2",
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": [
        null,
        null,
        null
      ]
    },
    {
      "id": 18,
      "type": "SaveImage",
      "pos": [
        2600,
        1230
      ],
      "size": [
        800,
        556.453125
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 28
        }
      ],
      "outputs": [],
      "title": "Save Image 1",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.9.2",
        "Node name for S&R": "SaveImage"
      },
      "widgets_values": [
        "ComfyUI-image_2"
      ]
    },
    {
      "id": 19,
      "type": "f2228dc9-64e8-43b1-a4ca-b8a57eed8f64",
      "pos": [
        2599.9998669014594,
        870.0000813907453
      ],
      "size": [
        400,
        271.65625
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "value",
          "type": "STRING",
          "widget": {
            "name": "value"
          },
          "link": 72
        },
        {
          "label": "image0",
          "name": "images.image0",
          "type": "IMAGE",
          "link": 60
        },
        {
          "name": "aspect_ratio",
          "type": "COMBO",
          "widget": {
            "name": "aspect_ratio"
          },
          "link": 81
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            28
          ]
        },
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            31
          ]
        },
        {
          "label": "IMAGES",
          "name": "IMAGE_1",
          "type": "IMAGE",
          "links": []
        }
      ],
      "title": "Generate Image 2",
      "properties": {
        "proxyWidgets": [
          [
            "-1",
            "value"
          ],
          [
            "-1",
            "aspect_ratio"
          ],
          [
            "9",
            "seed"
          ]
        ],
        "cnr_id": "comfy-core",
        "ver": "0.10.0"
      },
      "widgets_values": [
        "",
        "16:9"
      ]
    },
    {
      "id": 20,
      "type": "PreviewAny",
      "pos": [
        3030.0004096576204,
        870.0000813907453
      ],
      "size": [
        370,
        153
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 31
        }
      ],
      "outputs": [],
      "title": "Preview Prompt 2",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.9.2",
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": [
        null,
        null,
        null
      ]
    },
    {
      "id": 21,
      "type": "SaveImage",
      "pos": [
        3500,
        1230
      ],
      "size": [
        800,
        556.453125
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 33
        }
      ],
      "outputs": [],
      "title": "Save Image 3",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.9.2",
        "Node name for S&R": "SaveImage"
      },
      "widgets_values": [
        "ComfyUI-image_3"
      ]
    },
    {
      "id": 22,
      "type": "e3dd2fcb-0e5e-47a8-963b-adea96749eb0",
      "pos": [
        3500.0000859956576,
        870.0000813907453
      ],
      "size": [
        400,
        271.65625
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "value",
          "type": "STRING",
          "widget": {
            "name": "value"
          },
          "link": 74
        },
        {
          "label": "image0",
          "name": "images.image0",
          "type": "IMAGE",
          "link": 62
        },
        {
          "name": "aspect_ratio",
          "type": "COMBO",
          "widget": {
            "name": "aspect_ratio"
          },
          "link": 82
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            33
          ]
        },
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            36
          ]
        },
        {
          "label": "IMAGES",
          "name": "IMAGE_1",
          "type": "IMAGE",
          "links": []
        }
      ],
      "title": "Generate Image 3",
      "properties": {
        "proxyWidgets": [
          [
            "-1",
            "value"
          ],
          [
            "-1",
            "aspect_ratio"
          ],
          [
            "9",
            "seed"
          ]
        ],
        "cnr_id": "comfy-core",
        "ver": "0.10.0"
      },
      "widgets_values": [
        "",
        "16:9"
      ]
    },
    {
      "id": 23,
      "type": "PreviewAny",
      "pos": [
        3930.0010668296404,
        870.0000813907453
      ],
      "size": [
        370,
        153
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 36
        }
      ],
      "outputs": [],
      "title": "Preview Prompt 3",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.9.2",
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": [
        null,
        null,
        null
      ]
    },
    {
      "id": 24,
      "type": "SaveImage",
      "pos": [
        4400,
        1230
      ],
      "size": [
        800,
        556.453125
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 38
        }
      ],
      "outputs": [],
      "title": "Save Image 4",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.9.2",
        "Node name for S&R": "SaveImage"
      },
      "widgets_values": [
        "ComfyUI-image_4"
      ]
    },
    {
      "id": 25,
      "type": "601fd020-3eba-4b24-b15f-a2a9c0307d3a",
      "pos": [
        4400.000743167678,
        870.0000813907453
      ],
      "size": [
        400,
        271.65625
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "value",
          "type": "STRING",
          "widget": {
            "name": "value"
          },
          "link": 76
        },
        {
          "label": "image0",
          "name": "images.image0",
          "type": "IMAGE",
          "link": 65
        },
        {
          "name": "aspect_ratio",
          "type": "COMBO",
          "widget": {
            "name": "aspect_ratio"
          },
          "link": 83
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            38
          ]
        },
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            41
          ]
        },
        {
          "label": "IMAGES",
          "name": "IMAGE_1",
          "type": "IMAGE",
          "links": []
        }
      ],
      "title": "Generate Image 4",
      "properties": {
        "proxyWidgets": [
          [
            "-1",
            "value"
          ],
          [
            "-1",
            "aspect_ratio"
          ],
          [
            "9",
            "seed"
          ]
        ],
        "cnr_id": "comfy-core",
        "ver": "0.10.0"
      },
      "widgets_values": [
        "",
        "16:9"
      ]
    },
    {
      "id": 26,
      "type": "PreviewAny",
      "pos": [
        4829.999971690373,
        870.0000813907453
      ],
      "size": [
        370,
        153
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 41
        }
      ],
      "outputs": [],
      "title": "Preview Prompt 4",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.9.2",
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": [
        null,
        null,
        null
      ]
    },
    {
      "id": 27,
      "type": "SaveImage",
      "pos": [
        5300,
        1230
      ],
      "size": [
        800,
        556.453125
      ],
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 42
        }
      ],
      "outputs": [],
      "title": "Save Image 5",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.9.2",
        "Node name for S&R": "SaveImage"
      },
      "widgets_values": [
        "ComfyUI-image_5"
      ]
    },
    {
      "id": 28,
      "type": "eaabb89a-2cd6-4960-ad44-1b152bff77c1",
      "pos": [
        5300.000962261875,
        870.0000813907453
      ],
      "size": [
        400,
        271.65625
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "value",
          "type": "STRING",
          "widget": {
            "name": "value"
          },
          "link": 78
        },
        {
          "label": "image0",
          "name": "images.image0",
          "type": "IMAGE",
          "link": 67
        },
        {
          "name": "aspect_ratio",
          "type": "COMBO",
          "widget": {
            "name": "aspect_ratio"
          },
          "link": 84
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            42
          ]
        },
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            45
          ]
        },
        {
          "label": "IMAGES",
          "name": "IMAGE_1",
          "type": "IMAGE",
          "links": []
        }
      ],
      "title": "Generate Image 5",
      "properties": {
        "proxyWidgets": [
          [
            "-1",
            "value"
          ],
          [
            "-1",
            "aspect_ratio"
          ],
          [
            "9",
            "seed"
          ]
        ],
        "cnr_id": "comfy-core",
        "ver": "0.10.0"
      },
      "widgets_values": [
        "",
        "16:9"
      ]
    },
    {
      "id": 29,
      "type": "PreviewAny",
      "pos": [
        5730.000190784572,
        870.0000813907453
      ],
      "size": [
        370,
        153
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 45
        }
      ],
      "outputs": [],
      "title": "Preview Prompt 5",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.9.2",
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": [
        null,
        null,
        null
      ]
    },
    {
      "id": 30,
      "type": "SaveImage",
      "pos": [
        6200,
        1230
      ],
      "size": [
        800,
        556.453125
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 46
        }
      ],
      "outputs": [],
      "title": "Save Image 6",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.9.2",
        "Node name for S&R": "SaveImage"
      },
      "widgets_values": [
        "ComfyUI-image_6"
      ]
    },
    {
      "id": 31,
      "type": "86a340d1-ba23-44b6-8470-6b3d64167d65",
      "pos": [
        6200.001181356074,
        870.0000813907453
      ],
      "size": [
        400,
        271.65625
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "value",
          "type": "STRING",
          "widget": {
            "name": "value"
          },
          "link": 80
        },
        {
          "label": "image0",
          "name": "images.image0",
          "type": "IMAGE",
          "link": 69
        },
        {
          "name": "aspect_ratio",
          "type": "COMBO",
          "widget": {
            "name": "aspect_ratio"
          },
          "link": 85
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            46
          ]
        },
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            49
          ]
        },
        {
          "label": "IMAGES",
          "name": "IMAGE_1",
          "type": "IMAGE",
          "links": []
        }
      ],
      "title": "Generate Image 6",
      "properties": {
        "proxyWidgets": [
          [
            "-1",
            "value"
          ],
          [
            "-1",
            "aspect_ratio"
          ],
          [
            "9",
            "seed"
          ]
        ],
        "cnr_id": "comfy-core",
        "ver": "0.10.0"
      },
      "widgets_values": [
        "",
        "16:9"
      ]
    },
    {
      "id": 32,
      "type": "PreviewAny",
      "pos": [
        6629.9999718009485,
        870.0000813907453
      ],
      "size": [
        370,
        153
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 49
        }
      ],
      "outputs": [],
      "title": "Preview Prompt 6",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.9.2",
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": [
        null,
        null,
        null
      ]
    },
    {
      "id": 2,
      "type": "GeminiNode",
      "pos": [
        999.9998196029763,
        1229.999960637579
      ],
      "size": [
        500,
        404.65625
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "shape": 7,
          "type": "IMAGE",
          "link": 2
        },
        {
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": null
        },
        {
          "name": "video",
          "shape": 7,
          "type": "VIDEO",
          "link": null
        },
        {
          "name": "files",
          "shape": 7,
          "type": "GEMINI_INPUT_FILES",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            1,
            12,
            70
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.9.2",
        "Node name for S&R": "GeminiNode"
      },
      "widgets_values": [
        "Generate 6 different prompts following the instructions below. \nEach prompt idea needs to be 50-80 words max and be separated by *.\nEach prompt should be unique, varying the camera angles and shot type. Add subtle detail and maintain consistent elements.",
        "gemini-3-pro-preview",
        12345,
        "fixed",
        "",
        "Status: Completed\nPrice: 5 credits\nTime elapsed: 19s"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 1,
      "type": "PreviewAny",
      "pos": [
        1000.0000864367205,
        529.9999403703914
      ],
      "size": [
        500,
        620
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 1
        }
      ],
      "outputs": [],
      "title": "Preview All Generated Prompts",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.9.2",
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": [
        null,
        null,
        null
      ]
    },
    {
      "id": 46,
      "type": "Reroute",
      "pos": [
        2280,
        570
      ],
      "size": [
        225,
        12
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 87
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            60,
            61
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 47,
      "type": "Reroute",
      "pos": [
        3180,
        570
      ],
      "size": [
        225,
        12
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 61
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            62,
            64
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 48,
      "type": "Reroute",
      "pos": [
        4080,
        570
      ],
      "size": [
        225,
        12
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 64
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            65,
            66
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 49,
      "type": "Reroute",
      "pos": [
        4970,
        570
      ],
      "size": [
        225,
        12
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 66
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            67,
            68
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 50,
      "type": "Reroute",
      "pos": [
        5880,
        570
      ],
      "size": [
        225,
        12
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 68
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            69
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 51,
      "type": "Reroute",
      "pos": [
        1700,
        730
      ],
      "size": [
        225,
        12
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "widget": {
            "name": "value"
          },
          "link": 70
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "STRING",
          "links": [
            71
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 52,
      "type": "Reroute",
      "pos": [
        2280,
        730
      ],
      "size": [
        225,
        12
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "widget": {
            "name": "value"
          },
          "link": 71
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "STRING",
          "links": [
            72,
            73
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 53,
      "type": "Reroute",
      "pos": [
        3180,
        730
      ],
      "size": [
        225,
        12
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "widget": {
            "name": "value"
          },
          "link": 73
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "STRING",
          "links": [
            74,
            75
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 56,
      "type": "Reroute",
      "pos": [
        4080,
        730
      ],
      "size": [
        225,
        12
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "widget": {
            "name": "value"
          },
          "link": 75
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "STRING",
          "links": [
            76,
            77
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 59,
      "type": "Reroute",
      "pos": [
        4970,
        730
      ],
      "size": [
        225,
        12
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "widget": {
            "name": "value"
          },
          "link": 77
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "STRING",
          "links": [
            78,
            79
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 60,
      "type": "Reroute",
      "pos": [
        5880,
        730
      ],
      "size": [
        225,
        12
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "widget": {
            "name": "value"
          },
          "link": 79
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "STRING",
          "links": [
            80
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    }
  ],
  "links": [
    [
      1,
      2,
      0,
      1,
      0,
      "STRING"
    ],
    [
      2,
      6,
      0,
      2,
      0,
      "IMAGE"
    ],
    [
      12,
      2,
      0,
      10,
      0,
      "STRING"
    ],
    [
      14,
      7,
      0,
      10,
      2,
      "COMBO"
    ],
    [
      15,
      10,
      0,
      5,
      0,
      "IMAGE"
    ],
    [
      16,
      10,
      1,
      11,
      0,
      "STRING"
    ],
    [
      28,
      19,
      0,
      18,
      0,
      "IMAGE"
    ],
    [
      31,
      19,
      1,
      20,
      0,
      "STRING"
    ],
    [
      33,
      22,
      0,
      21,
      0,
      "IMAGE"
    ],
    [
      36,
      22,
      1,
      23,
      0,
      "STRING"
    ],
    [
      38,
      25,
      0,
      24,
      0,
      "IMAGE"
    ],
    [
      41,
      25,
      1,
      26,
      0,
      "STRING"
    ],
    [
      42,
      28,
      0,
      27,
      0,
      "IMAGE"
    ],
    [
      45,
      28,
      1,
      29,
      0,
      "STRING"
    ],
    [
      46,
      31,
      0,
      30,
      0,
      "IMAGE"
    ],
    [
      49,
      31,
      1,
      32,
      0,
      "STRING"
    ],
    [
      60,
      46,
      0,
      19,
      1,
      "IMAGE"
    ],
    [
      61,
      46,
      0,
      47,
      0,
      "IMAGE"
    ],
    [
      62,
      47,
      0,
      22,
      1,
      "IMAGE"
    ],
    [
      64,
      47,
      0,
      48,
      0,
      "IMAGE"
    ],
    [
      65,
      48,
      0,
      25,
      1,
      "IMAGE"
    ],
    [
      66,
      48,
      0,
      49,
      0,
      "IMAGE"
    ],
    [
      67,
      49,
      0,
      28,
      1,
      "IMAGE"
    ],
    [
      68,
      49,
      0,
      50,
      0,
      "IMAGE"
    ],
    [
      69,
      50,
      0,
      31,
      1,
      "IMAGE"
    ],
    [
      70,
      2,
      0,
      51,
      0,
      "STRING"
    ],
    [
      71,
      51,
      0,
      52,
      0,
      "STRING"
    ],
    [
      72,
      52,
      0,
      19,
      0,
      "STRING"
    ],
    [
      73,
      52,
      0,
      53,
      0,
      "STRING"
    ],
    [
      74,
      53,
      0,
      22,
      0,
      "STRING"
    ],
    [
      75,
      53,
      0,
      56,
      0,
      "STRING"
    ],
    [
      76,
      56,
      0,
      25,
      0,
      "STRING"
    ],
    [
      77,
      56,
      0,
      59,
      0,
      "STRING"
    ],
    [
      78,
      59,
      0,
      28,
      0,
      "STRING"
    ],
    [
      79,
      59,
      0,
      60,
      0,
      "STRING"
    ],
    [
      80,
      60,
      0,
      31,
      0,
      "STRING"
    ],
    [
      81,
      7,
      0,
      19,
      2,
      "COMBO"
    ],
    [
      82,
      7,
      0,
      22,
      2,
      "COMBO"
    ],
    [
      83,
      7,
      0,
      25,
      2,
      "COMBO"
    ],
    [
      84,
      7,
      0,
      28,
      2,
      "COMBO"
    ],
    [
      85,
      7,
      0,
      31,
      2,
      "COMBO"
    ],
    [
      86,
      6,
      0,
      10,
      1,
      "IMAGE"
    ],
    [
      87,
      6,
      0,
      46,
      0,
      "IMAGE"
    ]
  ],
  "groups": [],
  "definitions": {
    "subgraphs": [
      {
        "id": "da09b826-d678-40e0-a4e4-5f2178043ab6",
        "version": 1,
        "state": {
          "lastGroupId": 0,
          "lastNodeId": 9,
          "lastLinkId": 9,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "Batch Prompt Iterator",
        "inputNode": {
          "id": -10,
          "bounding": [
            90.40727678453659,
            2325.662789361009,
            144,
            72
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            2942,
            2258,
            144,
            72
          ]
        },
        "inputs": [
          {
            "id": "da7d2f59-a52d-4f36-a474-9079e0b97ff1",
            "name": "value",
            "type": "STRING",
            "linkIds": [
              9
            ],
            "pos": [
              173.6727306537805,
              1956.3856578008408
            ]
          }
        ],
        "outputs": [
          {
            "id": "90326b5a-6290-4028-9573-5338419fba1b",
            "name": "STRING",
            "type": "STRING",
            "linkIds": [
              8
            ],
            "pos": [
              2470,
              1900
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 8,
            "type": "RegexReplace",
            "pos": [
              1458.4071265833052,
              1856.462824138249
            ],
            "size": [
              270,
              522
            ],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "replace",
                "name": "replace",
                "type": "STRING",
                "widget": {
                  "name": "replace"
                },
                "link": 6
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  2
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "RegexReplace"
            },
            "widgets_values": [
              "(?:^(?!\\s*\\*?\\s*$).+$\\n(?:^\\s*\\*?\\s*$\\n)*){0}^(?!\\s*\\*?\\s*$)(.+)$",
              "(?<=\\{)\\d+(?=\\})",
              "",
              true,
              false,
              false,
              0
            ]
          },
          {
            "id": 6,
            "type": "PrimitiveInt",
            "pos": [
              810.4071259347734,
              2012.4627471341084
            ],
            "size": [
              355.0875,
              126
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "localized_name": "INT",
                "name": "INT",
                "type": "INT",
                "links": [
                  7
                ]
              }
            ],
            "title": "Int - Select Prompt Number (not index)",
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "PrimitiveInt"
            },
            "widgets_values": [
              1,
              "fixed"
            ]
          },
          {
            "id": 9,
            "type": "SimpleMath+",
            "pos": [
              829.9998717200663,
              1933.9997188073237
            ],
            "size": [
              257.980078125,
              54
            ],
            "flags": {
              "collapsed": true
            },
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "a",
                "name": "a",
                "shape": 7,
                "type": "INT,FLOAT",
                "link": 7
              },
              {
                "localized_name": "b",
                "name": "b",
                "shape": 7,
                "type": "INT,FLOAT",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "INT",
                "name": "INT",
                "type": "INT",
                "links": [
                  4
                ]
              },
              {
                "localized_name": "FLOAT",
                "name": "FLOAT",
                "type": "FLOAT",
                "links": null
              }
            ],
            "title": "Convert Prompt Number to Index",
            "properties": {
              "cnr_id": "comfyui_essentials",
              "ver": "1.1.0",
              "Node name for S&R": "SimpleMath+"
            },
            "widgets_values": [
              "a-1"
            ]
          },
          {
            "id": 3,
            "type": "SomethingToString",
            "pos": [
              1177.9998019226534,
              1933.9997188073237
            ],
            "size": [
              210,
              39.6
            ],
            "flags": {
              "collapsed": true
            },
            "order": 3,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "input",
                "name": "input",
                "type": "*",
                "link": 4
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  6
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfyui-kjnodes",
              "ver": "c661baadd9683c0033cd2a6ad90157c6d099a6c2",
              "Node name for S&R": "SomethingToString"
            },
            "widgets_values": [
              "",
              ""
            ]
          },
          {
            "id": 5,
            "type": "MarkdownNote",
            "pos": [
              1741.9996692102889,
              1861.9999291723602
            ],
            "size": [
              432,
              1737.9937499999999
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [],
            "outputs": [],
            "properties": {},
            "widgets_values": [
              "# Prompt Selector Regex Pattern\n\n## Pattern\n(?:^(?!\\s*\\*?\\s*$).+$\\n(?:^\\s*\\*?\\s*$\\n)*){0}^(?!\\s*\\*?\\s*$)(.+)$\n\n## Settings\n- mode: \"First Group\"\n- multiline: true\n- dotall: false\n- group_index: 1\n\n## How it works\n\n| Part                      | Meaning                                         |\n|---------------------------|-------------------------------------------------|\n| (?!\\s*\\*?\\s*$)            | Lookahead: line is NOT blank or just *          |\n| ^(?!\\s*\\*?\\s*$).+$        | Match a content line                            |\n| \\n                        | Newline after content                           |\n| (?:^\\s*\\*?\\s*$\\n)*        | Consume zero or more separator lines (blank/*)  |\n| {0}                       | Skip n blocks (replaceable index)               |\n| ^(?!\\s*\\*?\\s*$)(.+)$      | Capture the target prompt                       |\n\n## Index Replacement\nUse Regex Replace with pattern: (?<=\\{)\\d+(?=\\})\n\n## Supported Formats\n\n**Newline only:**\n\ntest1\ntest2\ntest3\n\n**Blank lines:**\n\ntest1\n\n\ntest2\n\n\ntest3\n\n\n**Asterisk separator:**\n\ntest1\n*\ntest2\n*\ntest3\n\n**Asterisk with blanks:**\n\ntest1\n\n*\n\ntest2\n\n*\n\ntest3"
            ],
            "color": "#432",
            "bgcolor": "#653"
          },
          {
            "id": 1,
            "type": "RegexExtract",
            "pos": [
              2197.999852045479,
              1861.9999291723602
            ],
            "size": [
              480,
              453.1875
            ],
            "flags": {},
            "order": 5,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "string",
                "name": "string",
                "type": "STRING",
                "widget": {
                  "name": "string"
                },
                "link": 1
              },
              {
                "localized_name": "regex_pattern",
                "name": "regex_pattern",
                "type": "STRING",
                "widget": {
                  "name": "regex_pattern"
                },
                "link": 2
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  3,
                  8
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "RegexExtract"
            },
            "widgets_values": [
              "",
              "",
              "First Group",
              true,
              true,
              false,
              1
            ]
          },
          {
            "id": 2,
            "type": "PreviewAny",
            "pos": [
              2401.999824191367,
              2233.999978646654
            ],
            "size": [
              276,
              270
            ],
            "flags": {},
            "order": 6,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "source",
                "name": "source",
                "type": "*",
                "link": 3
              }
            ],
            "outputs": [],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "PreviewAny"
            },
            "widgets_values": [
              null,
              null,
              null
            ]
          },
          {
            "id": 7,
            "type": "PrimitiveStringMultiline",
            "pos": [
              313.9998641890731,
              2018.0002309549918
            ],
            "size": [
              480,
              594
            ],
            "flags": {},
            "order": 7,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "value",
                "name": "value",
                "type": "STRING",
                "widget": {
                  "name": "value"
                },
                "link": 9
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  1
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "PrimitiveStringMultiline"
            },
            "widgets_values": [
              ""
            ]
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 1,
            "origin_id": 7,
            "origin_slot": 0,
            "target_id": 1,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 2,
            "origin_id": 8,
            "origin_slot": 0,
            "target_id": 1,
            "target_slot": 1,
            "type": "STRING"
          },
          {
            "id": 3,
            "origin_id": 1,
            "origin_slot": 0,
            "target_id": 2,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 4,
            "origin_id": 9,
            "origin_slot": 0,
            "target_id": 3,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 6,
            "origin_id": 3,
            "origin_slot": 0,
            "target_id": 8,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 7,
            "origin_id": 6,
            "origin_slot": 0,
            "target_id": 9,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 8,
            "origin_id": 1,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 9,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 7,
            "target_slot": 0,
            "type": "STRING"
          }
        ],
        "extra": {
          "workflowRendererVersion": "Vue"
        }
      },
      {
        "id": "d33c1791-dfd2-4102-8540-aa63e4434cd2",
        "version": 1,
        "state": {
          "lastGroupId": 0,
          "lastNodeId": 9,
          "lastLinkId": 13,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "New Subgraph",
        "inputNode": {
          "id": -10,
          "bounding": [
            1538.4162218932536,
            1360.7424319789518,
            120,
            100
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            2906.4161122605633,
            1384.7424319789518,
            120,
            100
          ]
        },
        "inputs": [
          {
            "id": "0cce5c00-af31-4ed7-bc88-4a03f774e6b8",
            "name": "value",
            "type": "STRING",
            "linkIds": [
              3
            ],
            "pos": [
              1638.4162218932536,
              1380.7424319789518
            ]
          },
          {
            "id": "3caab8c6-6b7e-4342-ad7c-f7fd98191c05",
            "name": "images.image0",
            "type": "IMAGE",
            "linkIds": [
              6,
              8
            ],
            "localized_name": "images.image0",
            "label": "image0",
            "pos": [
              1638.4162218932536,
              1400.7424319789518
            ]
          },
          {
            "id": "d972ea9d-b00c-4f61-bd3a-581b58a66f6b",
            "name": "aspect_ratio",
            "type": "COMBO",
            "linkIds": [
              10
            ],
            "localized_name": "aspect_ratio",
            "pos": [
              1638.4162218932536,
              1420.7424319789518
            ]
          }
        ],
        "outputs": [
          {
            "id": "2a0fa53c-8840-4a6c-89c1-0c26b921407a",
            "name": "IMAGE",
            "type": "IMAGE",
            "linkIds": [
              5
            ],
            "localized_name": "IMAGE",
            "pos": [
              2926.4161122605633,
              1404.7424319789518
            ]
          },
          {
            "id": "0cc3a5b8-24ab-4c53-843e-654df60c7385",
            "name": "STRING",
            "type": "STRING",
            "linkIds": [
              12
            ],
            "pos": [
              2926.4161122605633,
              1424.7424319789518
            ]
          },
          {
            "id": "b257ea65-71bc-40cc-a144-4a3eb1bb05c0",
            "name": "IMAGE_1",
            "type": "IMAGE",
            "linkIds": [
              13
            ],
            "label": "IMAGES",
            "pos": [
              2926.4161122605633,
              1444.7424319789518
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 3,
            "type": "da09b826-d678-40e0-a4e4-5f2178043ab6",
            "pos": [
              1754.4167347459374,
              1308.284764723154
            ],
            "size": [
              480,
              189
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [
              {
                "name": "value",
                "type": "STRING",
                "widget": {
                  "name": "value"
                },
                "link": 3
              }
            ],
            "outputs": [
              {
                "name": "STRING",
                "type": "STRING",
                "links": [
                  9,
                  12
                ]
              }
            ],
            "properties": {
              "proxyWidgets": [
                [
                  "-1",
                  "value"
                ],
                [
                  "6",
                  "value"
                ],
                [
                  "6",
                  "control_after_generate"
                ]
              ],
              "cnr_id": "comfy-core",
              "ver": "0.9.2"
            },
            "widgets_values": [
              ""
            ]
          },
          {
            "id": 8,
            "type": "BatchImagesNode",
            "pos": [
              2558.000236768496,
              1837.9999171215882
            ],
            "size": [
              270,
              96
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [
              {
                "label": "image0",
                "localized_name": "images.image0",
                "name": "images.image0",
                "type": "IMAGE",
                "link": 6
              },
              {
                "label": "image1",
                "localized_name": "images.image1",
                "name": "images.image1",
                "type": "IMAGE",
                "link": 11
              },
              {
                "label": "image2",
                "localized_name": "images.image2",
                "name": "images.image2",
                "shape": 7,
                "type": "IMAGE",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  13
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "BatchImagesNode"
            },
            "widgets_values": []
          },
          {
            "id": 9,
            "type": "GeminiImage2Node",
            "pos": [
              2354.416645670207,
              1308.284764723154
            ],
            "size": [
              480,
              396.65625
            ],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "images",
                "name": "images",
                "shape": 7,
                "type": "IMAGE",
                "link": 8
              },
              {
                "localized_name": "files",
                "name": "files",
                "shape": 7,
                "type": "GEMINI_INPUT_FILES",
                "link": null
              },
              {
                "localized_name": "prompt",
                "name": "prompt",
                "type": "STRING",
                "widget": {
                  "name": "prompt"
                },
                "link": 9
              },
              {
                "localized_name": "aspect_ratio",
                "name": "aspect_ratio",
                "type": "COMBO",
                "widget": {
                  "name": "aspect_ratio"
                },
                "link": 10
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  5,
                  7,
                  11
                ]
              },
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "GeminiImage2Node"
            },
            "widgets_values": [
              "",
              "gemini-3-pro-image-preview",
              1,
              "fixed",
              "16:9",
              "2K",
              "IMAGE+TEXT",
              "You are an expert image-generation engine. You must ALWAYS produce an image.\nInterpret all user inputregardless of format, intent, or abstractionas literal visual directives for image composition.\nIf a prompt is conversational or lacks specific visual details, you must creatively invent a concrete visual scenario that depicts the concept.\nPrioritize generating the visual representation above any text, formatting, or conversational requests."
            ],
            "color": "#432",
            "bgcolor": "#653"
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 11,
            "origin_id": 9,
            "origin_slot": 0,
            "target_id": 8,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 9,
            "origin_id": 3,
            "origin_slot": 0,
            "target_id": 9,
            "target_slot": 2,
            "type": "STRING"
          },
          {
            "id": 3,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 3,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 6,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 8,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 8,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 9,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 10,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 9,
            "target_slot": 3,
            "type": "COMBO"
          },
          {
            "id": 5,
            "origin_id": 9,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 12,
            "origin_id": 3,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 1,
            "type": "STRING"
          },
          {
            "id": 13,
            "origin_id": 8,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 2,
            "type": "IMAGE"
          }
        ],
        "extra": {
          "workflowRendererVersion": "Vue"
        }
      },
      {
        "id": "f2228dc9-64e8-43b1-a4ca-b8a57eed8f64",
        "version": 1,
        "state": {
          "lastGroupId": 0,
          "lastNodeId": 11,
          "lastLinkId": 15,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "New Subgraph",
        "inputNode": {
          "id": -10,
          "bounding": [
            1538.4162218932536,
            1360.7424319789518,
            120,
            100
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            2906.4161122605633,
            1384.7424319789518,
            120,
            100
          ]
        },
        "inputs": [
          {
            "id": "0cce5c00-af31-4ed7-bc88-4a03f774e6b8",
            "name": "value",
            "type": "STRING",
            "linkIds": [
              3
            ],
            "pos": [
              1638.4162218932536,
              1380.7424319789518
            ]
          },
          {
            "id": "3caab8c6-6b7e-4342-ad7c-f7fd98191c05",
            "name": "images.image0",
            "type": "IMAGE",
            "linkIds": [
              6,
              8,
              14
            ],
            "localized_name": "images.image0",
            "label": "image0",
            "pos": [
              1638.4162218932536,
              1400.7424319789518
            ]
          },
          {
            "id": "d972ea9d-b00c-4f61-bd3a-581b58a66f6b",
            "name": "aspect_ratio",
            "type": "COMBO",
            "linkIds": [
              10
            ],
            "localized_name": "aspect_ratio",
            "pos": [
              1638.4162218932536,
              1420.7424319789518
            ]
          }
        ],
        "outputs": [
          {
            "id": "2a0fa53c-8840-4a6c-89c1-0c26b921407a",
            "name": "IMAGE",
            "type": "IMAGE",
            "linkIds": [
              5
            ],
            "localized_name": "IMAGE",
            "pos": [
              2926.4161122605633,
              1404.7424319789518
            ]
          },
          {
            "id": "0cc3a5b8-24ab-4c53-843e-654df60c7385",
            "name": "STRING",
            "type": "STRING",
            "linkIds": [
              12
            ],
            "pos": [
              2926.4161122605633,
              1424.7424319789518
            ]
          },
          {
            "id": "b257ea65-71bc-40cc-a144-4a3eb1bb05c0",
            "name": "IMAGE_1",
            "type": "IMAGE",
            "linkIds": [
              13
            ],
            "label": "IMAGES",
            "pos": [
              2926.4161122605633,
              1444.7424319789518
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 3,
            "type": "6d92985e-3e1e-49e2-acea-91c5259d86a8",
            "pos": [
              1754.4161685123258,
              1308.2848343010835
            ],
            "size": [
              480,
              189
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [
              {
                "name": "value",
                "type": "STRING",
                "widget": {
                  "name": "value"
                },
                "link": 3
              }
            ],
            "outputs": [
              {
                "name": "STRING",
                "type": "STRING",
                "links": [
                  9,
                  12
                ]
              }
            ],
            "properties": {
              "proxyWidgets": [
                [
                  "-1",
                  "value"
                ],
                [
                  "6",
                  "value"
                ],
                [
                  "6",
                  "control_after_generate"
                ]
              ],
              "cnr_id": "comfy-core",
              "ver": "0.9.2"
            },
            "widgets_values": [
              ""
            ]
          },
          {
            "id": 8,
            "type": "BatchImagesNode",
            "pos": [
              2558.0002715632495,
              1837.9998294132495
            ],
            "size": [
              270,
              96
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [
              {
                "label": "image0",
                "localized_name": "images.image0",
                "name": "images.image0",
                "type": "IMAGE",
                "link": 6
              },
              {
                "label": "image1",
                "localized_name": "images.image1",
                "name": "images.image1",
                "type": "IMAGE",
                "link": 11
              },
              {
                "label": "image2",
                "localized_name": "images.image2",
                "name": "images.image2",
                "shape": 7,
                "type": "IMAGE",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  13,
                  15
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "BatchImagesNode"
            },
            "widgets_values": []
          },
          {
            "id": 9,
            "type": "GeminiImage2Node",
            "pos": [
              2354.4162540892944,
              1308.2848343010835
            ],
            "size": [
              480,
              396.65625
            ],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "images",
                "name": "images",
                "shape": 7,
                "type": "IMAGE",
                "link": 8
              },
              {
                "localized_name": "files",
                "name": "files",
                "shape": 7,
                "type": "GEMINI_INPUT_FILES",
                "link": null
              },
              {
                "localized_name": "prompt",
                "name": "prompt",
                "type": "STRING",
                "widget": {
                  "name": "prompt"
                },
                "link": 9
              },
              {
                "localized_name": "aspect_ratio",
                "name": "aspect_ratio",
                "type": "COMBO",
                "widget": {
                  "name": "aspect_ratio"
                },
                "link": 10
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  5,
                  7,
                  11
                ]
              },
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "GeminiImage2Node"
            },
            "widgets_values": [
              "",
              "gemini-3-pro-image-preview",
              2,
              "fixed",
              "16:9",
              "2K",
              "IMAGE+TEXT",
              "You are an expert image-generation engine. You must ALWAYS produce an image.\nInterpret all user inputregardless of format, intent, or abstractionas literal visual directives for image composition.\nIf a prompt is conversational or lacks specific visual details, you must creatively invent a concrete visual scenario that depicts the concept.\nPrioritize generating the visual representation above any text, formatting, or conversational requests."
            ],
            "color": "#432",
            "bgcolor": "#653"
          },
          {
            "id": 10,
            "type": "PreviewImage",
            "pos": [
              2050.000047849463,
              1700.0000366184754
            ],
            "size": [
              225,
              248
            ],
            "flags": {},
            "order": 3,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "images",
                "name": "images",
                "type": "IMAGE",
                "link": 14
              }
            ],
            "outputs": [],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.10.0",
              "Node name for S&R": "PreviewImage"
            },
            "widgets_values": []
          },
          {
            "id": 11,
            "type": "PreviewImage",
            "pos": [
              2870.00024883722,
              1970.000033111828
            ],
            "size": [
              225,
              248
            ],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "images",
                "name": "images",
                "type": "IMAGE",
                "link": 15
              }
            ],
            "outputs": [],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.10.0",
              "Node name for S&R": "PreviewImage"
            },
            "widgets_values": []
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 11,
            "origin_id": 9,
            "origin_slot": 0,
            "target_id": 8,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 9,
            "origin_id": 3,
            "origin_slot": 0,
            "target_id": 9,
            "target_slot": 2,
            "type": "STRING"
          },
          {
            "id": 3,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 3,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 6,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 8,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 8,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 9,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 10,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 9,
            "target_slot": 3,
            "type": "COMBO"
          },
          {
            "id": 5,
            "origin_id": 9,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 12,
            "origin_id": 3,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 1,
            "type": "STRING"
          },
          {
            "id": 13,
            "origin_id": 8,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 2,
            "type": "IMAGE"
          },
          {
            "id": 14,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 10,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 15,
            "origin_id": 8,
            "origin_slot": 0,
            "target_id": 11,
            "target_slot": 0,
            "type": "IMAGE"
          }
        ],
        "extra": {
          "workflowRendererVersion": "Vue"
        }
      },
      {
        "id": "6d92985e-3e1e-49e2-acea-91c5259d86a8",
        "version": 1,
        "state": {
          "lastGroupId": 0,
          "lastNodeId": 9,
          "lastLinkId": 9,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "Batch Prompt Iterator",
        "inputNode": {
          "id": -10,
          "bounding": [
            90.40727678453659,
            2325.662789361009,
            144,
            72
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            2942,
            2258,
            144,
            72
          ]
        },
        "inputs": [
          {
            "id": "da7d2f59-a52d-4f36-a474-9079e0b97ff1",
            "name": "value",
            "type": "STRING",
            "linkIds": [
              9
            ],
            "pos": [
              173.6727306537805,
              1956.3856578008408
            ]
          }
        ],
        "outputs": [
          {
            "id": "90326b5a-6290-4028-9573-5338419fba1b",
            "name": "STRING",
            "type": "STRING",
            "linkIds": [
              8
            ],
            "pos": [
              2470,
              1900
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 8,
            "type": "RegexReplace",
            "pos": [
              1458.4071265833052,
              1856.462824138249
            ],
            "size": [
              270,
              522
            ],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "replace",
                "name": "replace",
                "type": "STRING",
                "widget": {
                  "name": "replace"
                },
                "link": 6
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  2
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "RegexReplace"
            },
            "widgets_values": [
              "(?:^(?!\\s*\\*?\\s*$).+$\\n(?:^\\s*\\*?\\s*$\\n)*){0}^(?!\\s*\\*?\\s*$)(.+)$",
              "(?<=\\{)\\d+(?=\\})",
              "",
              true,
              false,
              false,
              0
            ]
          },
          {
            "id": 6,
            "type": "PrimitiveInt",
            "pos": [
              810.4071259347734,
              2012.4627471341084
            ],
            "size": [
              355.0875,
              126
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "localized_name": "INT",
                "name": "INT",
                "type": "INT",
                "links": [
                  7
                ]
              }
            ],
            "title": "Int - Select Prompt Number (not index)",
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "PrimitiveInt"
            },
            "widgets_values": [
              2,
              "fixed"
            ]
          },
          {
            "id": 9,
            "type": "SimpleMath+",
            "pos": [
              829.9998717200663,
              1933.9997188073237
            ],
            "size": [
              257.980078125,
              54
            ],
            "flags": {
              "collapsed": true
            },
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "a",
                "name": "a",
                "shape": 7,
                "type": "INT,FLOAT",
                "link": 7
              },
              {
                "localized_name": "b",
                "name": "b",
                "shape": 7,
                "type": "INT,FLOAT",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "INT",
                "name": "INT",
                "type": "INT",
                "links": [
                  4
                ]
              },
              {
                "localized_name": "FLOAT",
                "name": "FLOAT",
                "type": "FLOAT",
                "links": null
              }
            ],
            "title": "Convert Prompt Number to Index",
            "properties": {
              "cnr_id": "comfyui_essentials",
              "ver": "1.1.0",
              "Node name for S&R": "SimpleMath+"
            },
            "widgets_values": [
              "a-1"
            ]
          },
          {
            "id": 3,
            "type": "SomethingToString",
            "pos": [
              1177.9998019226534,
              1933.9997188073237
            ],
            "size": [
              210,
              39.6
            ],
            "flags": {
              "collapsed": true
            },
            "order": 3,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "input",
                "name": "input",
                "type": "*",
                "link": 4
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  6
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfyui-kjnodes",
              "ver": "c661baadd9683c0033cd2a6ad90157c6d099a6c2",
              "Node name for S&R": "SomethingToString"
            },
            "widgets_values": [
              "",
              ""
            ]
          },
          {
            "id": 5,
            "type": "MarkdownNote",
            "pos": [
              1741.9996692102889,
              1861.9999291723602
            ],
            "size": [
              432,
              1737.9937499999999
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [],
            "outputs": [],
            "properties": {},
            "widgets_values": [
              "# Prompt Selector Regex Pattern\n\n## Pattern\n(?:^(?!\\s*\\*?\\s*$).+$\\n(?:^\\s*\\*?\\s*$\\n)*){0}^(?!\\s*\\*?\\s*$)(.+)$\n\n## Settings\n- mode: \"First Group\"\n- multiline: true\n- dotall: false\n- group_index: 1\n\n## How it works\n\n| Part                      | Meaning                                         |\n|---------------------------|-------------------------------------------------|\n| (?!\\s*\\*?\\s*$)            | Lookahead: line is NOT blank or just *          |\n| ^(?!\\s*\\*?\\s*$).+$        | Match a content line                            |\n| \\n                        | Newline after content                           |\n| (?:^\\s*\\*?\\s*$\\n)*        | Consume zero or more separator lines (blank/*)  |\n| {0}                       | Skip n blocks (replaceable index)               |\n| ^(?!\\s*\\*?\\s*$)(.+)$      | Capture the target prompt                       |\n\n## Index Replacement\nUse Regex Replace with pattern: (?<=\\{)\\d+(?=\\})\n\n## Supported Formats\n\n**Newline only:**\n\ntest1\ntest2\ntest3\n\n**Blank lines:**\n\ntest1\n\n\ntest2\n\n\ntest3\n\n\n**Asterisk separator:**\n\ntest1\n*\ntest2\n*\ntest3\n\n**Asterisk with blanks:**\n\ntest1\n\n*\n\ntest2\n\n*\n\ntest3"
            ],
            "color": "#432",
            "bgcolor": "#653"
          },
          {
            "id": 1,
            "type": "RegexExtract",
            "pos": [
              2197.999852045479,
              1861.9999291723602
            ],
            "size": [
              480,
              453.1875
            ],
            "flags": {},
            "order": 5,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "string",
                "name": "string",
                "type": "STRING",
                "widget": {
                  "name": "string"
                },
                "link": 1
              },
              {
                "localized_name": "regex_pattern",
                "name": "regex_pattern",
                "type": "STRING",
                "widget": {
                  "name": "regex_pattern"
                },
                "link": 2
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  3,
                  8
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "RegexExtract"
            },
            "widgets_values": [
              "",
              "",
              "First Group",
              true,
              true,
              false,
              1
            ]
          },
          {
            "id": 2,
            "type": "PreviewAny",
            "pos": [
              2401.999824191367,
              2233.999978646654
            ],
            "size": [
              276,
              270
            ],
            "flags": {},
            "order": 6,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "source",
                "name": "source",
                "type": "*",
                "link": 3
              }
            ],
            "outputs": [],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "PreviewAny"
            },
            "widgets_values": [
              null,
              null,
              null
            ]
          },
          {
            "id": 7,
            "type": "PrimitiveStringMultiline",
            "pos": [
              313.9998641890731,
              2018.0002309549918
            ],
            "size": [
              480,
              594
            ],
            "flags": {},
            "order": 7,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "value",
                "name": "value",
                "type": "STRING",
                "widget": {
                  "name": "value"
                },
                "link": 9
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  1
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "PrimitiveStringMultiline"
            },
            "widgets_values": [
              ""
            ]
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 1,
            "origin_id": 7,
            "origin_slot": 0,
            "target_id": 1,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 2,
            "origin_id": 8,
            "origin_slot": 0,
            "target_id": 1,
            "target_slot": 1,
            "type": "STRING"
          },
          {
            "id": 3,
            "origin_id": 1,
            "origin_slot": 0,
            "target_id": 2,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 4,
            "origin_id": 9,
            "origin_slot": 0,
            "target_id": 3,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 6,
            "origin_id": 3,
            "origin_slot": 0,
            "target_id": 8,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 7,
            "origin_id": 6,
            "origin_slot": 0,
            "target_id": 9,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 8,
            "origin_id": 1,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 9,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 7,
            "target_slot": 0,
            "type": "STRING"
          }
        ],
        "extra": {
          "workflowRendererVersion": "Vue"
        }
      },
      {
        "id": "e3dd2fcb-0e5e-47a8-963b-adea96749eb0",
        "version": 1,
        "state": {
          "lastGroupId": 0,
          "lastNodeId": 11,
          "lastLinkId": 15,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "New Subgraph",
        "inputNode": {
          "id": -10,
          "bounding": [
            1538.4162218932536,
            1360.7424319789518,
            120,
            100
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            2906.4161122605633,
            1384.7424319789518,
            120,
            100
          ]
        },
        "inputs": [
          {
            "id": "0cce5c00-af31-4ed7-bc88-4a03f774e6b8",
            "name": "value",
            "type": "STRING",
            "linkIds": [
              3
            ],
            "pos": [
              1638.4162218932536,
              1380.7424319789518
            ]
          },
          {
            "id": "3caab8c6-6b7e-4342-ad7c-f7fd98191c05",
            "name": "images.image0",
            "type": "IMAGE",
            "linkIds": [
              6,
              8,
              14
            ],
            "localized_name": "images.image0",
            "label": "image0",
            "pos": [
              1638.4162218932536,
              1400.7424319789518
            ]
          },
          {
            "id": "d972ea9d-b00c-4f61-bd3a-581b58a66f6b",
            "name": "aspect_ratio",
            "type": "COMBO",
            "linkIds": [
              10
            ],
            "localized_name": "aspect_ratio",
            "pos": [
              1638.4162218932536,
              1420.7424319789518
            ]
          }
        ],
        "outputs": [
          {
            "id": "2a0fa53c-8840-4a6c-89c1-0c26b921407a",
            "name": "IMAGE",
            "type": "IMAGE",
            "linkIds": [
              5
            ],
            "localized_name": "IMAGE",
            "pos": [
              2926.4161122605633,
              1404.7424319789518
            ]
          },
          {
            "id": "0cc3a5b8-24ab-4c53-843e-654df60c7385",
            "name": "STRING",
            "type": "STRING",
            "linkIds": [
              12
            ],
            "pos": [
              2926.4161122605633,
              1424.7424319789518
            ]
          },
          {
            "id": "b257ea65-71bc-40cc-a144-4a3eb1bb05c0",
            "name": "IMAGE_1",
            "type": "IMAGE",
            "linkIds": [
              13
            ],
            "label": "IMAGES",
            "pos": [
              2926.4161122605633,
              1444.7424319789518
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 3,
            "type": "a39f1ec1-8086-4164-97cb-340ed88c8168",
            "pos": [
              1754.4160876593255,
              1308.2848083337078
            ],
            "size": [
              480,
              189
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [
              {
                "name": "value",
                "type": "STRING",
                "widget": {
                  "name": "value"
                },
                "link": 3
              }
            ],
            "outputs": [
              {
                "name": "STRING",
                "type": "STRING",
                "links": [
                  9,
                  12
                ]
              }
            ],
            "properties": {
              "proxyWidgets": [
                [
                  "-1",
                  "value"
                ],
                [
                  "6",
                  "value"
                ],
                [
                  "6",
                  "control_after_generate"
                ]
              ],
              "cnr_id": "comfy-core",
              "ver": "0.9.2"
            },
            "widgets_values": [
              ""
            ]
          },
          {
            "id": 8,
            "type": "BatchImagesNode",
            "pos": [
              2558.000157263878,
              1837.9999033276297
            ],
            "size": [
              270,
              96
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [
              {
                "label": "image0",
                "localized_name": "images.image0",
                "name": "images.image0",
                "type": "IMAGE",
                "link": 6
              },
              {
                "label": "image1",
                "localized_name": "images.image1",
                "name": "images.image1",
                "type": "IMAGE",
                "link": 11
              },
              {
                "label": "image2",
                "localized_name": "images.image2",
                "name": "images.image2",
                "shape": 7,
                "type": "IMAGE",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  13,
                  15
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "BatchImagesNode"
            },
            "widgets_values": []
          },
          {
            "id": 9,
            "type": "GeminiImage2Node",
            "pos": [
              2354.416334245448,
              1308.2847880697282
            ],
            "size": [
              480,
              396.65625
            ],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "images",
                "name": "images",
                "shape": 7,
                "type": "IMAGE",
                "link": 8
              },
              {
                "localized_name": "files",
                "name": "files",
                "shape": 7,
                "type": "GEMINI_INPUT_FILES",
                "link": null
              },
              {
                "localized_name": "prompt",
                "name": "prompt",
                "type": "STRING",
                "widget": {
                  "name": "prompt"
                },
                "link": 9
              },
              {
                "localized_name": "aspect_ratio",
                "name": "aspect_ratio",
                "type": "COMBO",
                "widget": {
                  "name": "aspect_ratio"
                },
                "link": 10
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  5,
                  7,
                  11
                ]
              },
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "GeminiImage2Node"
            },
            "widgets_values": [
              "",
              "gemini-3-pro-image-preview",
              3,
              "fixed",
              "16:9",
              "2K",
              "IMAGE+TEXT",
              "You are an expert image-generation engine. You must ALWAYS produce an image.\nInterpret all user inputregardless of format, intent, or abstractionas literal visual directives for image composition.\nIf a prompt is conversational or lacks specific visual details, you must creatively invent a concrete visual scenario that depicts the concept.\nPrioritize generating the visual representation above any text, formatting, or conversational requests."
            ],
            "color": "#432",
            "bgcolor": "#653"
          },
          {
            "id": 10,
            "type": "PreviewImage",
            "pos": [
              2049.9999599404846,
              1700.000095254207
            ],
            "size": [
              225,
              223.53125
            ],
            "flags": {},
            "order": 3,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "images",
                "name": "images",
                "type": "IMAGE",
                "link": 14
              }
            ],
            "outputs": [],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.10.0",
              "Node name for S&R": "PreviewImage"
            },
            "widgets_values": []
          },
          {
            "id": 11,
            "type": "PreviewImage",
            "pos": [
              2869.9998803566987,
              1969.9999250713959
            ],
            "size": [
              225,
              48
            ],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "images",
                "name": "images",
                "type": "IMAGE",
                "link": 15
              }
            ],
            "outputs": [],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.10.0",
              "Node name for S&R": "PreviewImage"
            },
            "widgets_values": []
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 11,
            "origin_id": 9,
            "origin_slot": 0,
            "target_id": 8,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 9,
            "origin_id": 3,
            "origin_slot": 0,
            "target_id": 9,
            "target_slot": 2,
            "type": "STRING"
          },
          {
            "id": 3,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 3,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 6,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 8,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 8,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 9,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 10,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 9,
            "target_slot": 3,
            "type": "COMBO"
          },
          {
            "id": 5,
            "origin_id": 9,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 12,
            "origin_id": 3,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 1,
            "type": "STRING"
          },
          {
            "id": 13,
            "origin_id": 8,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 2,
            "type": "IMAGE"
          },
          {
            "id": 14,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 10,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 15,
            "origin_id": 8,
            "origin_slot": 0,
            "target_id": 11,
            "target_slot": 0,
            "type": "IMAGE"
          }
        ],
        "extra": {
          "workflowRendererVersion": "Vue"
        }
      },
      {
        "id": "a39f1ec1-8086-4164-97cb-340ed88c8168",
        "version": 1,
        "state": {
          "lastGroupId": 0,
          "lastNodeId": 9,
          "lastLinkId": 9,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "Batch Prompt Iterator",
        "inputNode": {
          "id": -10,
          "bounding": [
            90.40727678453659,
            2325.662789361009,
            144,
            72
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            2942,
            2258,
            144,
            72
          ]
        },
        "inputs": [
          {
            "id": "da7d2f59-a52d-4f36-a474-9079e0b97ff1",
            "name": "value",
            "type": "STRING",
            "linkIds": [
              9
            ],
            "pos": [
              173.6727306537805,
              1956.3856578008408
            ]
          }
        ],
        "outputs": [
          {
            "id": "90326b5a-6290-4028-9573-5338419fba1b",
            "name": "STRING",
            "type": "STRING",
            "linkIds": [
              8
            ],
            "pos": [
              2470,
              1900
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 8,
            "type": "RegexReplace",
            "pos": [
              1458.4071265833052,
              1856.462824138249
            ],
            "size": [
              270,
              522
            ],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "replace",
                "name": "replace",
                "type": "STRING",
                "widget": {
                  "name": "replace"
                },
                "link": 6
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  2
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "RegexReplace"
            },
            "widgets_values": [
              "(?:^(?!\\s*\\*?\\s*$).+$\\n(?:^\\s*\\*?\\s*$\\n)*){0}^(?!\\s*\\*?\\s*$)(.+)$",
              "(?<=\\{)\\d+(?=\\})",
              "",
              true,
              false,
              false,
              0
            ]
          },
          {
            "id": 6,
            "type": "PrimitiveInt",
            "pos": [
              810.4071259347734,
              2012.4627471341084
            ],
            "size": [
              355.0875,
              126
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "localized_name": "INT",
                "name": "INT",
                "type": "INT",
                "links": [
                  7
                ]
              }
            ],
            "title": "Int - Select Prompt Number (not index)",
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "PrimitiveInt"
            },
            "widgets_values": [
              3,
              "fixed"
            ]
          },
          {
            "id": 9,
            "type": "SimpleMath+",
            "pos": [
              829.9998717200663,
              1933.9997188073237
            ],
            "size": [
              257.980078125,
              54
            ],
            "flags": {
              "collapsed": true
            },
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "a",
                "name": "a",
                "shape": 7,
                "type": "INT,FLOAT",
                "link": 7
              },
              {
                "localized_name": "b",
                "name": "b",
                "shape": 7,
                "type": "INT,FLOAT",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "INT",
                "name": "INT",
                "type": "INT",
                "links": [
                  4
                ]
              },
              {
                "localized_name": "FLOAT",
                "name": "FLOAT",
                "type": "FLOAT",
                "links": null
              }
            ],
            "title": "Convert Prompt Number to Index",
            "properties": {
              "cnr_id": "comfyui_essentials",
              "ver": "1.1.0",
              "Node name for S&R": "SimpleMath+"
            },
            "widgets_values": [
              "a-1"
            ]
          },
          {
            "id": 3,
            "type": "SomethingToString",
            "pos": [
              1177.9998019226534,
              1933.9997188073237
            ],
            "size": [
              210,
              39.6
            ],
            "flags": {
              "collapsed": true
            },
            "order": 3,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "input",
                "name": "input",
                "type": "*",
                "link": 4
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  6
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfyui-kjnodes",
              "ver": "c661baadd9683c0033cd2a6ad90157c6d099a6c2",
              "Node name for S&R": "SomethingToString"
            },
            "widgets_values": [
              "",
              ""
            ]
          },
          {
            "id": 5,
            "type": "MarkdownNote",
            "pos": [
              1741.9996692102889,
              1861.9999291723602
            ],
            "size": [
              432,
              1737.9937499999999
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [],
            "outputs": [],
            "properties": {},
            "widgets_values": [
              "# Prompt Selector Regex Pattern\n\n## Pattern\n(?:^(?!\\s*\\*?\\s*$).+$\\n(?:^\\s*\\*?\\s*$\\n)*){0}^(?!\\s*\\*?\\s*$)(.+)$\n\n## Settings\n- mode: \"First Group\"\n- multiline: true\n- dotall: false\n- group_index: 1\n\n## How it works\n\n| Part                      | Meaning                                         |\n|---------------------------|-------------------------------------------------|\n| (?!\\s*\\*?\\s*$)            | Lookahead: line is NOT blank or just *          |\n| ^(?!\\s*\\*?\\s*$).+$        | Match a content line                            |\n| \\n                        | Newline after content                           |\n| (?:^\\s*\\*?\\s*$\\n)*        | Consume zero or more separator lines (blank/*)  |\n| {0}                       | Skip n blocks (replaceable index)               |\n| ^(?!\\s*\\*?\\s*$)(.+)$      | Capture the target prompt                       |\n\n## Index Replacement\nUse Regex Replace with pattern: (?<=\\{)\\d+(?=\\})\n\n## Supported Formats\n\n**Newline only:**\n\ntest1\ntest2\ntest3\n\n**Blank lines:**\n\ntest1\n\n\ntest2\n\n\ntest3\n\n\n**Asterisk separator:**\n\ntest1\n*\ntest2\n*\ntest3\n\n**Asterisk with blanks:**\n\ntest1\n\n*\n\ntest2\n\n*\n\ntest3"
            ],
            "color": "#432",
            "bgcolor": "#653"
          },
          {
            "id": 1,
            "type": "RegexExtract",
            "pos": [
              2197.999852045479,
              1861.9999291723602
            ],
            "size": [
              480,
              453.1875
            ],
            "flags": {},
            "order": 5,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "string",
                "name": "string",
                "type": "STRING",
                "widget": {
                  "name": "string"
                },
                "link": 1
              },
              {
                "localized_name": "regex_pattern",
                "name": "regex_pattern",
                "type": "STRING",
                "widget": {
                  "name": "regex_pattern"
                },
                "link": 2
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  3,
                  8
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "RegexExtract"
            },
            "widgets_values": [
              "",
              "",
              "First Group",
              true,
              true,
              false,
              1
            ]
          },
          {
            "id": 2,
            "type": "PreviewAny",
            "pos": [
              2401.999824191367,
              2233.999978646654
            ],
            "size": [
              276,
              270
            ],
            "flags": {},
            "order": 6,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "source",
                "name": "source",
                "type": "*",
                "link": 3
              }
            ],
            "outputs": [],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "PreviewAny"
            },
            "widgets_values": [
              null,
              null,
              null
            ]
          },
          {
            "id": 7,
            "type": "PrimitiveStringMultiline",
            "pos": [
              313.9998641890731,
              2018.0002309549918
            ],
            "size": [
              480,
              594
            ],
            "flags": {},
            "order": 7,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "value",
                "name": "value",
                "type": "STRING",
                "widget": {
                  "name": "value"
                },
                "link": 9
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  1
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "PrimitiveStringMultiline"
            },
            "widgets_values": [
              ""
            ]
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 1,
            "origin_id": 7,
            "origin_slot": 0,
            "target_id": 1,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 2,
            "origin_id": 8,
            "origin_slot": 0,
            "target_id": 1,
            "target_slot": 1,
            "type": "STRING"
          },
          {
            "id": 3,
            "origin_id": 1,
            "origin_slot": 0,
            "target_id": 2,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 4,
            "origin_id": 9,
            "origin_slot": 0,
            "target_id": 3,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 6,
            "origin_id": 3,
            "origin_slot": 0,
            "target_id": 8,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 7,
            "origin_id": 6,
            "origin_slot": 0,
            "target_id": 9,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 8,
            "origin_id": 1,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 9,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 7,
            "target_slot": 0,
            "type": "STRING"
          }
        ],
        "extra": {
          "workflowRendererVersion": "Vue"
        }
      },
      {
        "id": "601fd020-3eba-4b24-b15f-a2a9c0307d3a",
        "version": 1,
        "state": {
          "lastGroupId": 0,
          "lastNodeId": 9,
          "lastLinkId": 13,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "New Subgraph",
        "inputNode": {
          "id": -10,
          "bounding": [
            1538.4162218932536,
            1360.7424319789518,
            120,
            100
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            2906.4161122605633,
            1384.7424319789518,
            120,
            100
          ]
        },
        "inputs": [
          {
            "id": "0cce5c00-af31-4ed7-bc88-4a03f774e6b8",
            "name": "value",
            "type": "STRING",
            "linkIds": [
              3
            ],
            "pos": [
              1638.4162218932536,
              1380.7424319789518
            ]
          },
          {
            "id": "3caab8c6-6b7e-4342-ad7c-f7fd98191c05",
            "name": "images.image0",
            "type": "IMAGE",
            "linkIds": [
              6,
              8
            ],
            "localized_name": "images.image0",
            "label": "image0",
            "pos": [
              1638.4162218932536,
              1400.7424319789518
            ]
          },
          {
            "id": "d972ea9d-b00c-4f61-bd3a-581b58a66f6b",
            "name": "aspect_ratio",
            "type": "COMBO",
            "linkIds": [
              10
            ],
            "localized_name": "aspect_ratio",
            "pos": [
              1638.4162218932536,
              1420.7424319789518
            ]
          }
        ],
        "outputs": [
          {
            "id": "2a0fa53c-8840-4a6c-89c1-0c26b921407a",
            "name": "IMAGE",
            "type": "IMAGE",
            "linkIds": [
              5
            ],
            "localized_name": "IMAGE",
            "pos": [
              2926.4161122605633,
              1404.7424319789518
            ]
          },
          {
            "id": "0cc3a5b8-24ab-4c53-843e-654df60c7385",
            "name": "STRING",
            "type": "STRING",
            "linkIds": [
              12
            ],
            "pos": [
              2926.4161122605633,
              1424.7424319789518
            ]
          },
          {
            "id": "b257ea65-71bc-40cc-a144-4a3eb1bb05c0",
            "name": "IMAGE_1",
            "type": "IMAGE",
            "linkIds": [
              13
            ],
            "label": "IMAGES",
            "pos": [
              2926.4161122605633,
              1444.7424319789518
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 3,
            "type": "acb845ee-315b-479a-8579-7ad2af961ba0",
            "pos": [
              1754.4159856553579,
              1308.284711906006
            ],
            "size": [
              480,
              189
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [
              {
                "name": "value",
                "type": "STRING",
                "widget": {
                  "name": "value"
                },
                "link": 3
              }
            ],
            "outputs": [
              {
                "name": "STRING",
                "type": "STRING",
                "links": [
                  9,
                  12
                ]
              }
            ],
            "properties": {
              "proxyWidgets": [
                [
                  "-1",
                  "value"
                ],
                [
                  "6",
                  "value"
                ],
                [
                  "6",
                  "control_after_generate"
                ]
              ],
              "cnr_id": "comfy-core",
              "ver": "0.9.2"
            },
            "widgets_values": [
              ""
            ]
          },
          {
            "id": 8,
            "type": "BatchImagesNode",
            "pos": [
              2557.99995350925,
              1837.9999714287865
            ],
            "size": [
              270,
              96
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [
              {
                "label": "image0",
                "localized_name": "images.image0",
                "name": "images.image0",
                "type": "IMAGE",
                "link": 6
              },
              {
                "label": "image1",
                "localized_name": "images.image1",
                "name": "images.image1",
                "type": "IMAGE",
                "link": 11
              },
              {
                "label": "image2",
                "localized_name": "images.image2",
                "name": "images.image2",
                "shape": 7,
                "type": "IMAGE",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  13
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "BatchImagesNode"
            },
            "widgets_values": []
          },
          {
            "id": 9,
            "type": "GeminiImage2Node",
            "pos": [
              2354.4161279831555,
              1308.284711906006
            ],
            "size": [
              480,
              396.65625
            ],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "images",
                "name": "images",
                "shape": 7,
                "type": "IMAGE",
                "link": 8
              },
              {
                "localized_name": "files",
                "name": "files",
                "shape": 7,
                "type": "GEMINI_INPUT_FILES",
                "link": null
              },
              {
                "localized_name": "prompt",
                "name": "prompt",
                "type": "STRING",
                "widget": {
                  "name": "prompt"
                },
                "link": 9
              },
              {
                "localized_name": "aspect_ratio",
                "name": "aspect_ratio",
                "type": "COMBO",
                "widget": {
                  "name": "aspect_ratio"
                },
                "link": 10
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  5,
                  7,
                  11
                ]
              },
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "GeminiImage2Node"
            },
            "widgets_values": [
              "",
              "gemini-3-pro-image-preview",
              4,
              "fixed",
              "16:9",
              "2K",
              "IMAGE+TEXT",
              "You are an expert image-generation engine. You must ALWAYS produce an image.\nInterpret all user inputregardless of format, intent, or abstractionas literal visual directives for image composition.\nIf a prompt is conversational or lacks specific visual details, you must creatively invent a concrete visual scenario that depicts the concept.\nPrioritize generating the visual representation above any text, formatting, or conversational requests."
            ],
            "color": "#432",
            "bgcolor": "#653"
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 11,
            "origin_id": 9,
            "origin_slot": 0,
            "target_id": 8,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 9,
            "origin_id": 3,
            "origin_slot": 0,
            "target_id": 9,
            "target_slot": 2,
            "type": "STRING"
          },
          {
            "id": 3,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 3,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 6,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 8,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 8,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 9,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 10,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 9,
            "target_slot": 3,
            "type": "COMBO"
          },
          {
            "id": 5,
            "origin_id": 9,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 12,
            "origin_id": 3,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 1,
            "type": "STRING"
          },
          {
            "id": 13,
            "origin_id": 8,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 2,
            "type": "IMAGE"
          }
        ],
        "extra": {
          "workflowRendererVersion": "Vue"
        }
      },
      {
        "id": "eaabb89a-2cd6-4960-ad44-1b152bff77c1",
        "version": 1,
        "state": {
          "lastGroupId": 0,
          "lastNodeId": 11,
          "lastLinkId": 15,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "New Subgraph",
        "inputNode": {
          "id": -10,
          "bounding": [
            1538.4162218932536,
            1360.7424319789518,
            120,
            100
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            2906.4161122605633,
            1384.7424319789518,
            120,
            100
          ]
        },
        "inputs": [
          {
            "id": "0cce5c00-af31-4ed7-bc88-4a03f774e6b8",
            "name": "value",
            "type": "STRING",
            "linkIds": [
              3
            ],
            "pos": [
              1638.4162218932536,
              1380.7424319789518
            ]
          },
          {
            "id": "3caab8c6-6b7e-4342-ad7c-f7fd98191c05",
            "name": "images.image0",
            "type": "IMAGE",
            "linkIds": [
              6,
              8,
              14
            ],
            "localized_name": "images.image0",
            "label": "image0",
            "pos": [
              1638.4162218932536,
              1400.7424319789518
            ]
          },
          {
            "id": "d972ea9d-b00c-4f61-bd3a-581b58a66f6b",
            "name": "aspect_ratio",
            "type": "COMBO",
            "linkIds": [
              10
            ],
            "localized_name": "aspect_ratio",
            "pos": [
              1638.4162218932536,
              1420.7424319789518
            ]
          }
        ],
        "outputs": [
          {
            "id": "2a0fa53c-8840-4a6c-89c1-0c26b921407a",
            "name": "IMAGE",
            "type": "IMAGE",
            "linkIds": [
              5
            ],
            "localized_name": "IMAGE",
            "pos": [
              2926.4161122605633,
              1404.7424319789518
            ]
          },
          {
            "id": "0cc3a5b8-24ab-4c53-843e-654df60c7385",
            "name": "STRING",
            "type": "STRING",
            "linkIds": [
              12
            ],
            "pos": [
              2926.4161122605633,
              1424.7424319789518
            ]
          },
          {
            "id": "b257ea65-71bc-40cc-a144-4a3eb1bb05c0",
            "name": "IMAGE_1",
            "type": "IMAGE",
            "linkIds": [
              13
            ],
            "label": "IMAGES",
            "pos": [
              2926.4161122605633,
              1444.7424319789518
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 3,
            "type": "4682df2b-bfbf-4fc5-8bfb-a6eb6aaea892",
            "pos": [
              1754.4159025945255,
              1308.2848074283156
            ],
            "size": [
              480,
              189
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [
              {
                "name": "value",
                "type": "STRING",
                "widget": {
                  "name": "value"
                },
                "link": 3
              }
            ],
            "outputs": [
              {
                "name": "STRING",
                "type": "STRING",
                "links": [
                  9,
                  12
                ]
              }
            ],
            "properties": {
              "proxyWidgets": [
                [
                  "-1",
                  "value"
                ],
                [
                  "6",
                  "value"
                ],
                [
                  "6",
                  "control_after_generate"
                ]
              ],
              "cnr_id": "comfy-core",
              "ver": "0.9.2"
            },
            "widgets_values": [
              ""
            ]
          },
          {
            "id": 8,
            "type": "BatchImagesNode",
            "pos": [
              2557.999928946322,
              1837.999979410667
            ],
            "size": [
              270,
              96
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [
              {
                "label": "image0",
                "localized_name": "images.image0",
                "name": "images.image0",
                "type": "IMAGE",
                "link": 6
              },
              {
                "label": "image1",
                "localized_name": "images.image1",
                "name": "images.image1",
                "type": "IMAGE",
                "link": 11
              },
              {
                "label": "image2",
                "localized_name": "images.image2",
                "name": "images.image2",
                "shape": 7,
                "type": "IMAGE",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  13,
                  15
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "BatchImagesNode"
            },
            "widgets_values": []
          },
          {
            "id": 9,
            "type": "GeminiImage2Node",
            "pos": [
              2354.4159952941054,
              1308.2847967155744
            ],
            "size": [
              480,
              396.65625
            ],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "images",
                "name": "images",
                "shape": 7,
                "type": "IMAGE",
                "link": 8
              },
              {
                "localized_name": "files",
                "name": "files",
                "shape": 7,
                "type": "GEMINI_INPUT_FILES",
                "link": null
              },
              {
                "localized_name": "prompt",
                "name": "prompt",
                "type": "STRING",
                "widget": {
                  "name": "prompt"
                },
                "link": 9
              },
              {
                "localized_name": "aspect_ratio",
                "name": "aspect_ratio",
                "type": "COMBO",
                "widget": {
                  "name": "aspect_ratio"
                },
                "link": 10
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  5,
                  7,
                  11
                ]
              },
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "GeminiImage2Node"
            },
            "widgets_values": [
              "",
              "gemini-3-pro-image-preview",
              5,
              "fixed",
              "16:9",
              "2K",
              "IMAGE+TEXT",
              "You are an expert image-generation engine. You must ALWAYS produce an image.\nInterpret all user inputregardless of format, intent, or abstractionas literal visual directives for image composition.\nIf a prompt is conversational or lacks specific visual details, you must creatively invent a concrete visual scenario that depicts the concept.\nPrioritize generating the visual representation above any text, formatting, or conversational requests."
            ],
            "color": "#432",
            "bgcolor": "#653"
          },
          {
            "id": 10,
            "type": "PreviewImage",
            "pos": [
              2049.999731660014,
              1700.0001132450197
            ],
            "size": [
              225,
              188
            ],
            "flags": {},
            "order": 3,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "images",
                "name": "images",
                "type": "IMAGE",
                "link": 14
              }
            ],
            "outputs": [],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.10.0",
              "Node name for S&R": "PreviewImage"
            },
            "widgets_values": []
          },
          {
            "id": 11,
            "type": "PreviewImage",
            "pos": [
              2869.999971340255,
              1970.0000238831735
            ],
            "size": [
              225,
              188
            ],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "images",
                "name": "images",
                "type": "IMAGE",
                "link": 15
              }
            ],
            "outputs": [],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.10.0",
              "Node name for S&R": "PreviewImage"
            },
            "widgets_values": []
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 11,
            "origin_id": 9,
            "origin_slot": 0,
            "target_id": 8,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 9,
            "origin_id": 3,
            "origin_slot": 0,
            "target_id": 9,
            "target_slot": 2,
            "type": "STRING"
          },
          {
            "id": 3,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 3,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 6,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 8,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 8,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 9,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 10,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 9,
            "target_slot": 3,
            "type": "COMBO"
          },
          {
            "id": 5,
            "origin_id": 9,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 12,
            "origin_id": 3,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 1,
            "type": "STRING"
          },
          {
            "id": 13,
            "origin_id": 8,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 2,
            "type": "IMAGE"
          },
          {
            "id": 14,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 10,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 15,
            "origin_id": 8,
            "origin_slot": 0,
            "target_id": 11,
            "target_slot": 0,
            "type": "IMAGE"
          }
        ],
        "extra": {
          "workflowRendererVersion": "Vue"
        }
      },
      {
        "id": "86a340d1-ba23-44b6-8470-6b3d64167d65",
        "version": 1,
        "state": {
          "lastGroupId": 0,
          "lastNodeId": 11,
          "lastLinkId": 15,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "New Subgraph",
        "inputNode": {
          "id": -10,
          "bounding": [
            1538.4162218932536,
            1360.7424319789518,
            120,
            100
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            2906.4161122605633,
            1384.7424319789518,
            120,
            100
          ]
        },
        "inputs": [
          {
            "id": "0cce5c00-af31-4ed7-bc88-4a03f774e6b8",
            "name": "value",
            "type": "STRING",
            "linkIds": [
              3
            ],
            "pos": [
              1638.4162218932536,
              1380.7424319789518
            ]
          },
          {
            "id": "3caab8c6-6b7e-4342-ad7c-f7fd98191c05",
            "name": "images.image0",
            "type": "IMAGE",
            "linkIds": [
              6,
              8
            ],
            "localized_name": "images.image0",
            "label": "image0",
            "pos": [
              1638.4162218932536,
              1400.7424319789518
            ]
          },
          {
            "id": "d972ea9d-b00c-4f61-bd3a-581b58a66f6b",
            "name": "aspect_ratio",
            "type": "COMBO",
            "linkIds": [
              10
            ],
            "localized_name": "aspect_ratio",
            "pos": [
              1638.4162218932536,
              1420.7424319789518
            ]
          }
        ],
        "outputs": [
          {
            "id": "2a0fa53c-8840-4a6c-89c1-0c26b921407a",
            "name": "IMAGE",
            "type": "IMAGE",
            "linkIds": [
              5
            ],
            "localized_name": "IMAGE",
            "pos": [
              2926.4161122605633,
              1404.7424319789518
            ]
          },
          {
            "id": "0cc3a5b8-24ab-4c53-843e-654df60c7385",
            "name": "STRING",
            "type": "STRING",
            "linkIds": [
              12
            ],
            "pos": [
              2926.4161122605633,
              1424.7424319789518
            ]
          },
          {
            "id": "b257ea65-71bc-40cc-a144-4a3eb1bb05c0",
            "name": "IMAGE_1",
            "type": "IMAGE",
            "linkIds": [
              13
            ],
            "label": "IMAGES",
            "pos": [
              2926.4161122605633,
              1444.7424319789518
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 3,
            "type": "e5719f6e-fb77-48b8-ba45-c60901a55fe7",
            "pos": [
              1754.4159293737875,
              1308.2847679959984
            ],
            "size": [
              480,
              189
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [
              {
                "name": "value",
                "type": "STRING",
                "widget": {
                  "name": "value"
                },
                "link": 3
              }
            ],
            "outputs": [
              {
                "name": "STRING",
                "type": "STRING",
                "links": [
                  9,
                  12
                ]
              }
            ],
            "properties": {
              "proxyWidgets": [
                [
                  "-1",
                  "value"
                ],
                [
                  "6",
                  "value"
                ],
                [
                  "6",
                  "control_after_generate"
                ]
              ],
              "cnr_id": "comfy-core",
              "ver": "0.9.2"
            },
            "widgets_values": [
              ""
            ]
          },
          {
            "id": 8,
            "type": "BatchImagesNode",
            "pos": [
              2558.0001153652784,
              1837.9999940823955
            ],
            "size": [
              270,
              96
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [
              {
                "label": "image0",
                "localized_name": "images.image0",
                "name": "images.image0",
                "type": "IMAGE",
                "link": 6
              },
              {
                "label": "image1",
                "localized_name": "images.image1",
                "name": "images.image1",
                "type": "IMAGE",
                "link": 11
              },
              {
                "label": "image2",
                "localized_name": "images.image2",
                "name": "images.image2",
                "shape": 7,
                "type": "IMAGE",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  13,
                  15
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "BatchImagesNode"
            },
            "widgets_values": []
          },
          {
            "id": 9,
            "type": "GeminiImage2Node",
            "pos": [
              2354.4161175789723,
              1308.2847679959984
            ],
            "size": [
              480,
              396.65625
            ],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "images",
                "name": "images",
                "shape": 7,
                "type": "IMAGE",
                "link": 8
              },
              {
                "localized_name": "files",
                "name": "files",
                "shape": 7,
                "type": "GEMINI_INPUT_FILES",
                "link": null
              },
              {
                "localized_name": "prompt",
                "name": "prompt",
                "type": "STRING",
                "widget": {
                  "name": "prompt"
                },
                "link": 9
              },
              {
                "localized_name": "aspect_ratio",
                "name": "aspect_ratio",
                "type": "COMBO",
                "widget": {
                  "name": "aspect_ratio"
                },
                "link": 10
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  5,
                  7,
                  11
                ]
              },
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "GeminiImage2Node"
            },
            "widgets_values": [
              "",
              "gemini-3-pro-image-preview",
              6,
              "fixed",
              "16:9",
              "2K",
              "IMAGE+TEXT",
              "You are an expert image-generation engine. You must ALWAYS produce an image.\nInterpret all user inputregardless of format, intent, or abstractionas literal visual directives for image composition.\nIf a prompt is conversational or lacks specific visual details, you must creatively invent a concrete visual scenario that depicts the concept.\nPrioritize generating the visual representation above any text, formatting, or conversational requests."
            ],
            "color": "#432",
            "bgcolor": "#653"
          },
          {
            "id": 11,
            "type": "PreviewImage",
            "pos": [
              2869.99992505472,
              1970.0000266657835
            ],
            "size": [
              225,
              48
            ],
            "flags": {},
            "order": 3,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "images",
                "name": "images",
                "type": "IMAGE",
                "link": 15
              }
            ],
            "outputs": [],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.10.0",
              "Node name for S&R": "PreviewImage"
            },
            "widgets_values": []
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 11,
            "origin_id": 9,
            "origin_slot": 0,
            "target_id": 8,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 9,
            "origin_id": 3,
            "origin_slot": 0,
            "target_id": 9,
            "target_slot": 2,
            "type": "STRING"
          },
          {
            "id": 3,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 3,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 6,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 8,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 8,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 9,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 10,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 9,
            "target_slot": 3,
            "type": "COMBO"
          },
          {
            "id": 5,
            "origin_id": 9,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 12,
            "origin_id": 3,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 1,
            "type": "STRING"
          },
          {
            "id": 13,
            "origin_id": 8,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 2,
            "type": "IMAGE"
          },
          {
            "id": 15,
            "origin_id": 8,
            "origin_slot": 0,
            "target_id": 11,
            "target_slot": 0,
            "type": "IMAGE"
          }
        ],
        "extra": {
          "workflowRendererVersion": "Vue"
        }
      },
      {
        "id": "acb845ee-315b-479a-8579-7ad2af961ba0",
        "version": 1,
        "state": {
          "lastGroupId": 0,
          "lastNodeId": 9,
          "lastLinkId": 9,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "Batch Prompt Iterator",
        "inputNode": {
          "id": -10,
          "bounding": [
            90.40727678453659,
            2325.662789361009,
            144,
            72
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            2942,
            2258,
            144,
            72
          ]
        },
        "inputs": [
          {
            "id": "da7d2f59-a52d-4f36-a474-9079e0b97ff1",
            "name": "value",
            "type": "STRING",
            "linkIds": [
              9
            ],
            "pos": [
              173.6727306537805,
              1956.3856578008408
            ]
          }
        ],
        "outputs": [
          {
            "id": "90326b5a-6290-4028-9573-5338419fba1b",
            "name": "STRING",
            "type": "STRING",
            "linkIds": [
              8
            ],
            "pos": [
              2470,
              1900
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 8,
            "type": "RegexReplace",
            "pos": [
              1458.4071265833052,
              1856.462824138249
            ],
            "size": [
              270,
              522
            ],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "replace",
                "name": "replace",
                "type": "STRING",
                "widget": {
                  "name": "replace"
                },
                "link": 6
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  2
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "RegexReplace"
            },
            "widgets_values": [
              "(?:^(?!\\s*\\*?\\s*$).+$\\n(?:^\\s*\\*?\\s*$\\n)*){0}^(?!\\s*\\*?\\s*$)(.+)$",
              "(?<=\\{)\\d+(?=\\})",
              "",
              true,
              false,
              false,
              0
            ]
          },
          {
            "id": 6,
            "type": "PrimitiveInt",
            "pos": [
              810.4071259347734,
              2012.4627471341084
            ],
            "size": [
              355.0875,
              126
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "localized_name": "INT",
                "name": "INT",
                "type": "INT",
                "links": [
                  7
                ]
              }
            ],
            "title": "Int - Select Prompt Number (not index)",
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "PrimitiveInt"
            },
            "widgets_values": [
              4,
              "fixed"
            ]
          },
          {
            "id": 9,
            "type": "SimpleMath+",
            "pos": [
              829.9998717200663,
              1933.9997188073237
            ],
            "size": [
              257.980078125,
              54
            ],
            "flags": {
              "collapsed": true
            },
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "a",
                "name": "a",
                "shape": 7,
                "type": "INT,FLOAT",
                "link": 7
              },
              {
                "localized_name": "b",
                "name": "b",
                "shape": 7,
                "type": "INT,FLOAT",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "INT",
                "name": "INT",
                "type": "INT",
                "links": [
                  4
                ]
              },
              {
                "localized_name": "FLOAT",
                "name": "FLOAT",
                "type": "FLOAT",
                "links": null
              }
            ],
            "title": "Convert Prompt Number to Index",
            "properties": {
              "cnr_id": "comfyui_essentials",
              "ver": "1.1.0",
              "Node name for S&R": "SimpleMath+"
            },
            "widgets_values": [
              "a-1"
            ]
          },
          {
            "id": 3,
            "type": "SomethingToString",
            "pos": [
              1177.9998019226534,
              1933.9997188073237
            ],
            "size": [
              210,
              39.6
            ],
            "flags": {
              "collapsed": true
            },
            "order": 3,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "input",
                "name": "input",
                "type": "*",
                "link": 4
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  6
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfyui-kjnodes",
              "ver": "c661baadd9683c0033cd2a6ad90157c6d099a6c2",
              "Node name for S&R": "SomethingToString"
            },
            "widgets_values": [
              "",
              ""
            ]
          },
          {
            "id": 5,
            "type": "MarkdownNote",
            "pos": [
              1741.9996692102889,
              1861.9999291723602
            ],
            "size": [
              432,
              1737.9937499999999
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [],
            "outputs": [],
            "properties": {},
            "widgets_values": [
              "# Prompt Selector Regex Pattern\n\n## Pattern\n(?:^(?!\\s*\\*?\\s*$).+$\\n(?:^\\s*\\*?\\s*$\\n)*){0}^(?!\\s*\\*?\\s*$)(.+)$\n\n## Settings\n- mode: \"First Group\"\n- multiline: true\n- dotall: false\n- group_index: 1\n\n## How it works\n\n| Part                      | Meaning                                         |\n|---------------------------|-------------------------------------------------|\n| (?!\\s*\\*?\\s*$)            | Lookahead: line is NOT blank or just *          |\n| ^(?!\\s*\\*?\\s*$).+$        | Match a content line                            |\n| \\n                        | Newline after content                           |\n| (?:^\\s*\\*?\\s*$\\n)*        | Consume zero or more separator lines (blank/*)  |\n| {0}                       | Skip n blocks (replaceable index)               |\n| ^(?!\\s*\\*?\\s*$)(.+)$      | Capture the target prompt                       |\n\n## Index Replacement\nUse Regex Replace with pattern: (?<=\\{)\\d+(?=\\})\n\n## Supported Formats\n\n**Newline only:**\n\ntest1\ntest2\ntest3\n\n**Blank lines:**\n\ntest1\n\n\ntest2\n\n\ntest3\n\n\n**Asterisk separator:**\n\ntest1\n*\ntest2\n*\ntest3\n\n**Asterisk with blanks:**\n\ntest1\n\n*\n\ntest2\n\n*\n\ntest3"
            ],
            "color": "#432",
            "bgcolor": "#653"
          },
          {
            "id": 1,
            "type": "RegexExtract",
            "pos": [
              2197.999852045479,
              1861.9999291723602
            ],
            "size": [
              480,
              453.1875
            ],
            "flags": {},
            "order": 5,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "string",
                "name": "string",
                "type": "STRING",
                "widget": {
                  "name": "string"
                },
                "link": 1
              },
              {
                "localized_name": "regex_pattern",
                "name": "regex_pattern",
                "type": "STRING",
                "widget": {
                  "name": "regex_pattern"
                },
                "link": 2
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  3,
                  8
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "RegexExtract"
            },
            "widgets_values": [
              "",
              "",
              "First Group",
              true,
              true,
              false,
              1
            ]
          },
          {
            "id": 2,
            "type": "PreviewAny",
            "pos": [
              2401.999824191367,
              2233.999978646654
            ],
            "size": [
              276,
              270
            ],
            "flags": {},
            "order": 6,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "source",
                "name": "source",
                "type": "*",
                "link": 3
              }
            ],
            "outputs": [],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "PreviewAny"
            },
            "widgets_values": [
              null,
              null,
              null
            ]
          },
          {
            "id": 7,
            "type": "PrimitiveStringMultiline",
            "pos": [
              313.9998641890731,
              2018.0002309549918
            ],
            "size": [
              480,
              594
            ],
            "flags": {},
            "order": 7,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "value",
                "name": "value",
                "type": "STRING",
                "widget": {
                  "name": "value"
                },
                "link": 9
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  1
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "PrimitiveStringMultiline"
            },
            "widgets_values": [
              ""
            ]
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 1,
            "origin_id": 7,
            "origin_slot": 0,
            "target_id": 1,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 2,
            "origin_id": 8,
            "origin_slot": 0,
            "target_id": 1,
            "target_slot": 1,
            "type": "STRING"
          },
          {
            "id": 3,
            "origin_id": 1,
            "origin_slot": 0,
            "target_id": 2,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 4,
            "origin_id": 9,
            "origin_slot": 0,
            "target_id": 3,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 6,
            "origin_id": 3,
            "origin_slot": 0,
            "target_id": 8,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 7,
            "origin_id": 6,
            "origin_slot": 0,
            "target_id": 9,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 8,
            "origin_id": 1,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 9,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 7,
            "target_slot": 0,
            "type": "STRING"
          }
        ],
        "extra": {
          "workflowRendererVersion": "Vue"
        }
      },
      {
        "id": "4682df2b-bfbf-4fc5-8bfb-a6eb6aaea892",
        "version": 1,
        "state": {
          "lastGroupId": 0,
          "lastNodeId": 9,
          "lastLinkId": 9,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "Batch Prompt Iterator",
        "inputNode": {
          "id": -10,
          "bounding": [
            90.40727678453659,
            2325.662789361009,
            144,
            72
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            2942,
            2258,
            144,
            72
          ]
        },
        "inputs": [
          {
            "id": "da7d2f59-a52d-4f36-a474-9079e0b97ff1",
            "name": "value",
            "type": "STRING",
            "linkIds": [
              9
            ],
            "pos": [
              173.6727306537805,
              1956.3856578008408
            ]
          }
        ],
        "outputs": [
          {
            "id": "90326b5a-6290-4028-9573-5338419fba1b",
            "name": "STRING",
            "type": "STRING",
            "linkIds": [
              8
            ],
            "pos": [
              2470,
              1900
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 8,
            "type": "RegexReplace",
            "pos": [
              1458.4071265833052,
              1856.462824138249
            ],
            "size": [
              270,
              522
            ],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "replace",
                "name": "replace",
                "type": "STRING",
                "widget": {
                  "name": "replace"
                },
                "link": 6
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  2
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "RegexReplace"
            },
            "widgets_values": [
              "(?:^(?!\\s*\\*?\\s*$).+$\\n(?:^\\s*\\*?\\s*$\\n)*){0}^(?!\\s*\\*?\\s*$)(.+)$",
              "(?<=\\{)\\d+(?=\\})",
              "",
              true,
              false,
              false,
              0
            ]
          },
          {
            "id": 6,
            "type": "PrimitiveInt",
            "pos": [
              810.4071259347734,
              2012.4627471341084
            ],
            "size": [
              355.0875,
              126
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "localized_name": "INT",
                "name": "INT",
                "type": "INT",
                "links": [
                  7
                ]
              }
            ],
            "title": "Int - Select Prompt Number (not index)",
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "PrimitiveInt"
            },
            "widgets_values": [
              5,
              "fixed"
            ]
          },
          {
            "id": 9,
            "type": "SimpleMath+",
            "pos": [
              829.9998717200663,
              1933.9997188073237
            ],
            "size": [
              257.980078125,
              54
            ],
            "flags": {
              "collapsed": true
            },
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "a",
                "name": "a",
                "shape": 7,
                "type": "INT,FLOAT",
                "link": 7
              },
              {
                "localized_name": "b",
                "name": "b",
                "shape": 7,
                "type": "INT,FLOAT",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "INT",
                "name": "INT",
                "type": "INT",
                "links": [
                  4
                ]
              },
              {
                "localized_name": "FLOAT",
                "name": "FLOAT",
                "type": "FLOAT",
                "links": null
              }
            ],
            "title": "Convert Prompt Number to Index",
            "properties": {
              "cnr_id": "comfyui_essentials",
              "ver": "1.1.0",
              "Node name for S&R": "SimpleMath+"
            },
            "widgets_values": [
              "a-1"
            ]
          },
          {
            "id": 3,
            "type": "SomethingToString",
            "pos": [
              1177.9998019226534,
              1933.9997188073237
            ],
            "size": [
              210,
              39.6
            ],
            "flags": {
              "collapsed": true
            },
            "order": 3,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "input",
                "name": "input",
                "type": "*",
                "link": 4
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  6
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfyui-kjnodes",
              "ver": "c661baadd9683c0033cd2a6ad90157c6d099a6c2",
              "Node name for S&R": "SomethingToString"
            },
            "widgets_values": [
              "",
              ""
            ]
          },
          {
            "id": 5,
            "type": "MarkdownNote",
            "pos": [
              1741.9996692102889,
              1861.9999291723602
            ],
            "size": [
              432,
              1737.9937499999999
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [],
            "outputs": [],
            "properties": {},
            "widgets_values": [
              "# Prompt Selector Regex Pattern\n\n## Pattern\n(?:^(?!\\s*\\*?\\s*$).+$\\n(?:^\\s*\\*?\\s*$\\n)*){0}^(?!\\s*\\*?\\s*$)(.+)$\n\n## Settings\n- mode: \"First Group\"\n- multiline: true\n- dotall: false\n- group_index: 1\n\n## How it works\n\n| Part                      | Meaning                                         |\n|---------------------------|-------------------------------------------------|\n| (?!\\s*\\*?\\s*$)            | Lookahead: line is NOT blank or just *          |\n| ^(?!\\s*\\*?\\s*$).+$        | Match a content line                            |\n| \\n                        | Newline after content                           |\n| (?:^\\s*\\*?\\s*$\\n)*        | Consume zero or more separator lines (blank/*)  |\n| {0}                       | Skip n blocks (replaceable index)               |\n| ^(?!\\s*\\*?\\s*$)(.+)$      | Capture the target prompt                       |\n\n## Index Replacement\nUse Regex Replace with pattern: (?<=\\{)\\d+(?=\\})\n\n## Supported Formats\n\n**Newline only:**\n\ntest1\ntest2\ntest3\n\n**Blank lines:**\n\ntest1\n\n\ntest2\n\n\ntest3\n\n\n**Asterisk separator:**\n\ntest1\n*\ntest2\n*\ntest3\n\n**Asterisk with blanks:**\n\ntest1\n\n*\n\ntest2\n\n*\n\ntest3"
            ],
            "color": "#432",
            "bgcolor": "#653"
          },
          {
            "id": 1,
            "type": "RegexExtract",
            "pos": [
              2197.999852045479,
              1861.9999291723602
            ],
            "size": [
              480,
              453.1875
            ],
            "flags": {},
            "order": 5,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "string",
                "name": "string",
                "type": "STRING",
                "widget": {
                  "name": "string"
                },
                "link": 1
              },
              {
                "localized_name": "regex_pattern",
                "name": "regex_pattern",
                "type": "STRING",
                "widget": {
                  "name": "regex_pattern"
                },
                "link": 2
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  3,
                  8
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "RegexExtract"
            },
            "widgets_values": [
              "",
              "",
              "First Group",
              true,
              true,
              false,
              1
            ]
          },
          {
            "id": 2,
            "type": "PreviewAny",
            "pos": [
              2401.999824191367,
              2233.999978646654
            ],
            "size": [
              276,
              270
            ],
            "flags": {},
            "order": 6,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "source",
                "name": "source",
                "type": "*",
                "link": 3
              }
            ],
            "outputs": [],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "PreviewAny"
            },
            "widgets_values": [
              null,
              null,
              null
            ]
          },
          {
            "id": 7,
            "type": "PrimitiveStringMultiline",
            "pos": [
              313.9998641890731,
              2018.0002309549918
            ],
            "size": [
              480,
              594
            ],
            "flags": {},
            "order": 7,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "value",
                "name": "value",
                "type": "STRING",
                "widget": {
                  "name": "value"
                },
                "link": 9
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  1
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "PrimitiveStringMultiline"
            },
            "widgets_values": [
              ""
            ]
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 1,
            "origin_id": 7,
            "origin_slot": 0,
            "target_id": 1,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 2,
            "origin_id": 8,
            "origin_slot": 0,
            "target_id": 1,
            "target_slot": 1,
            "type": "STRING"
          },
          {
            "id": 3,
            "origin_id": 1,
            "origin_slot": 0,
            "target_id": 2,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 4,
            "origin_id": 9,
            "origin_slot": 0,
            "target_id": 3,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 6,
            "origin_id": 3,
            "origin_slot": 0,
            "target_id": 8,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 7,
            "origin_id": 6,
            "origin_slot": 0,
            "target_id": 9,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 8,
            "origin_id": 1,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 9,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 7,
            "target_slot": 0,
            "type": "STRING"
          }
        ],
        "extra": {
          "workflowRendererVersion": "Vue"
        }
      },
      {
        "id": "e5719f6e-fb77-48b8-ba45-c60901a55fe7",
        "version": 1,
        "state": {
          "lastGroupId": 0,
          "lastNodeId": 9,
          "lastLinkId": 9,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "Batch Prompt Iterator",
        "inputNode": {
          "id": -10,
          "bounding": [
            90.40727678453659,
            2325.662789361009,
            144,
            72
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            2942,
            2258,
            144,
            72
          ]
        },
        "inputs": [
          {
            "id": "da7d2f59-a52d-4f36-a474-9079e0b97ff1",
            "name": "value",
            "type": "STRING",
            "linkIds": [
              9
            ],
            "pos": [
              173.6727306537805,
              1956.3856578008408
            ]
          }
        ],
        "outputs": [
          {
            "id": "90326b5a-6290-4028-9573-5338419fba1b",
            "name": "STRING",
            "type": "STRING",
            "linkIds": [
              8
            ],
            "pos": [
              2470,
              1900
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 8,
            "type": "RegexReplace",
            "pos": [
              1458.4071265833052,
              1856.462824138249
            ],
            "size": [
              270,
              522
            ],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "replace",
                "name": "replace",
                "type": "STRING",
                "widget": {
                  "name": "replace"
                },
                "link": 6
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  2
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "RegexReplace"
            },
            "widgets_values": [
              "(?:^(?!\\s*\\*?\\s*$).+$\\n(?:^\\s*\\*?\\s*$\\n)*){0}^(?!\\s*\\*?\\s*$)(.+)$",
              "(?<=\\{)\\d+(?=\\})",
              "",
              true,
              false,
              false,
              0
            ]
          },
          {
            "id": 6,
            "type": "PrimitiveInt",
            "pos": [
              810.4071259347734,
              2012.4627471341084
            ],
            "size": [
              355.0875,
              126
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "localized_name": "INT",
                "name": "INT",
                "type": "INT",
                "links": [
                  7
                ]
              }
            ],
            "title": "Int - Select Prompt Number (not index)",
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "PrimitiveInt"
            },
            "widgets_values": [
              6,
              "fixed"
            ]
          },
          {
            "id": 9,
            "type": "SimpleMath+",
            "pos": [
              829.9998717200663,
              1933.9997188073237
            ],
            "size": [
              257.980078125,
              54
            ],
            "flags": {
              "collapsed": true
            },
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "a",
                "name": "a",
                "shape": 7,
                "type": "INT,FLOAT",
                "link": 7
              },
              {
                "localized_name": "b",
                "name": "b",
                "shape": 7,
                "type": "INT,FLOAT",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "INT",
                "name": "INT",
                "type": "INT",
                "links": [
                  4
                ]
              },
              {
                "localized_name": "FLOAT",
                "name": "FLOAT",
                "type": "FLOAT",
                "links": null
              }
            ],
            "title": "Convert Prompt Number to Index",
            "properties": {
              "cnr_id": "comfyui_essentials",
              "ver": "1.1.0",
              "Node name for S&R": "SimpleMath+"
            },
            "widgets_values": [
              "a-1"
            ]
          },
          {
            "id": 3,
            "type": "SomethingToString",
            "pos": [
              1177.9998019226534,
              1933.9997188073237
            ],
            "size": [
              210,
              39.6
            ],
            "flags": {
              "collapsed": true
            },
            "order": 3,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "input",
                "name": "input",
                "type": "*",
                "link": 4
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  6
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfyui-kjnodes",
              "ver": "c661baadd9683c0033cd2a6ad90157c6d099a6c2",
              "Node name for S&R": "SomethingToString"
            },
            "widgets_values": [
              "",
              ""
            ]
          },
          {
            "id": 5,
            "type": "MarkdownNote",
            "pos": [
              1741.9996692102889,
              1861.9999291723602
            ],
            "size": [
              432,
              1737.9937499999999
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [],
            "outputs": [],
            "properties": {},
            "widgets_values": [
              "# Prompt Selector Regex Pattern\n\n## Pattern\n(?:^(?!\\s*\\*?\\s*$).+$\\n(?:^\\s*\\*?\\s*$\\n)*){0}^(?!\\s*\\*?\\s*$)(.+)$\n\n## Settings\n- mode: \"First Group\"\n- multiline: true\n- dotall: false\n- group_index: 1\n\n## How it works\n\n| Part                      | Meaning                                         |\n|---------------------------|-------------------------------------------------|\n| (?!\\s*\\*?\\s*$)            | Lookahead: line is NOT blank or just *          |\n| ^(?!\\s*\\*?\\s*$).+$        | Match a content line                            |\n| \\n                        | Newline after content                           |\n| (?:^\\s*\\*?\\s*$\\n)*        | Consume zero or more separator lines (blank/*)  |\n| {0}                       | Skip n blocks (replaceable index)               |\n| ^(?!\\s*\\*?\\s*$)(.+)$      | Capture the target prompt                       |\n\n## Index Replacement\nUse Regex Replace with pattern: (?<=\\{)\\d+(?=\\})\n\n## Supported Formats\n\n**Newline only:**\n\ntest1\ntest2\ntest3\n\n**Blank lines:**\n\ntest1\n\n\ntest2\n\n\ntest3\n\n\n**Asterisk separator:**\n\ntest1\n*\ntest2\n*\ntest3\n\n**Asterisk with blanks:**\n\ntest1\n\n*\n\ntest2\n\n*\n\ntest3"
            ],
            "color": "#432",
            "bgcolor": "#653"
          },
          {
            "id": 1,
            "type": "RegexExtract",
            "pos": [
              2197.999852045479,
              1861.9999291723602
            ],
            "size": [
              480,
              453.1875
            ],
            "flags": {},
            "order": 5,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "string",
                "name": "string",
                "type": "STRING",
                "widget": {
                  "name": "string"
                },
                "link": 1
              },
              {
                "localized_name": "regex_pattern",
                "name": "regex_pattern",
                "type": "STRING",
                "widget": {
                  "name": "regex_pattern"
                },
                "link": 2
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  3,
                  8
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "RegexExtract"
            },
            "widgets_values": [
              "",
              "",
              "First Group",
              true,
              true,
              false,
              1
            ]
          },
          {
            "id": 2,
            "type": "PreviewAny",
            "pos": [
              2401.999824191367,
              2233.999978646654
            ],
            "size": [
              276,
              270
            ],
            "flags": {},
            "order": 6,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "source",
                "name": "source",
                "type": "*",
                "link": 3
              }
            ],
            "outputs": [],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "PreviewAny"
            },
            "widgets_values": [
              null,
              null,
              null
            ]
          },
          {
            "id": 7,
            "type": "PrimitiveStringMultiline",
            "pos": [
              313.9998641890731,
              2018.0002309549918
            ],
            "size": [
              480,
              594
            ],
            "flags": {},
            "order": 7,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "value",
                "name": "value",
                "type": "STRING",
                "widget": {
                  "name": "value"
                },
                "link": 9
              }
            ],
            "outputs": [
              {
                "localized_name": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  1
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "PrimitiveStringMultiline"
            },
            "widgets_values": [
              ""
            ]
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 1,
            "origin_id": 7,
            "origin_slot": 0,
            "target_id": 1,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 2,
            "origin_id": 8,
            "origin_slot": 0,
            "target_id": 1,
            "target_slot": 1,
            "type": "STRING"
          },
          {
            "id": 3,
            "origin_id": 1,
            "origin_slot": 0,
            "target_id": 2,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 4,
            "origin_id": 9,
            "origin_slot": 0,
            "target_id": 3,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 6,
            "origin_id": 3,
            "origin_slot": 0,
            "target_id": 8,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 7,
            "origin_id": 6,
            "origin_slot": 0,
            "target_id": 9,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 8,
            "origin_id": 1,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "STRING"
          },
          {
            "id": 9,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 7,
            "target_slot": 0,
            "type": "STRING"
          }
        ],
        "extra": {
          "workflowRendererVersion": "Vue"
        }
      }
    ]
  },
  "config": {},
  "extra": {
    "workflowRendererVersion": "Vue",
    "ds": {
      "scale": 0.5559917313492256,
      "offset": [
        -1343.7385390636764,
        -867.0409641626214
      ]
    },
    "frontendVersion": "1.38.11",
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}