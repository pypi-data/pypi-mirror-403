# --- vendor markers
bytes:
  - '/DocuSign'
  - '/DSS'
  - '/DocTimeStamp'
  - '/Adobe\.PPKLite'

text:
  - 'DocuSign\s+Envelope\s+ID'
  - 'Signature\s+Certificate'
  - 'PandaDoc'
  - 'Signed\s+with\s+PandaDoc'
  - 'Reference\s+number'

# --- labels near signature lines/boxes ---
labels:
  client: '(client\s*signature|name\s+of\s+client|client\s+print\s+name|client\s+signature:)'
  firm: '(signature\s+of\s+(the\s+)?attorney|attorney''?s?\s+signature|counsel\s+signature|by:\s+.*(llp|llc|law|attorney|esq))'
  patient: '(client\s*signature|name\s+of\s+client|client\s+print\s+name|client\s+signature:)'
  representative: '(parent\s*/\s*guardian|guardian\s+signature|parent\s+signature)'
  attorney: '(signature\s+of\s+(the\s+)?attorney|attorney''?s?\s+signature|counsel\s+signature|by:\s+.*(llp|llc|law|attorney|esq))'

# --- general tokens allowed across a page ---
general:
  client: '\bclient\b|\bclient''?s\b'
  firm: '\besq\.?\b|\battorney\b|\blaw\s*f(?:irm)?\b|\bllp\b|\bllc\b|\bpartner\b'
  patient: '\bclient\b|\bclient''?s\b'
  representative: '\brepresentative\b|\bguardian\b|\bparent\b'
  attorney: '\besq\.?\b|\battorney\b|\blaw\s*f(?:irm)?\b|\bllp\b|\bllc\b|\bpartner\b'

# --- field-name hints (/T, /TU, /TM) ---
field_hints:
  client: ['client', 'clientname', 'clientsignature', 'name_of_client', 'client_signature']
  firm: ['attorney', 'lawyer', 'counsel', 'firm', 'partner']
  patient: ['client', 'clientname', 'clientsignature', 'name_of_client', 'client_signature']
  representative: ['parent', 'guardian', 'representative']
  attorney: ['attorney', 'lawyer', 'counsel', 'firm', 'partner']

# --- doc-level rules  ---
doc_hard:
  rel_label: 'relationship\s+to\s+(patient|client)'
  kin: '\b(mother|father|mom|dad|child|son|daughter|spouse|husband|wife|guardian|parent|grandmother|grandfather|grandparent|step[-\s]?parent|stepmother|stepfather|next\s+of\s+kin|conservator|custodian|caregiver)\b'
  minor: '\bminor\b|patient\s+was\s+unable\s+to\s+sign|unable\s+to\s+sign'
  first_person: 'I\s*,?\s*[A-Za-z.\-''\s]{1,80}\s*,?\s+authorize\b'

# --- weights  ---
weights:
  field: 3
  page_label: 2
  general: 1
  doc_hint_strong: 3
  doc_hint_weak: 2

# --- retainer-only helpers: used to pick the most likely signature pages ---
retain:
  signature_zone: '(signature\b|signed\s*:|by\s*:|date\b)'
  exclude_page: '(signature\s+certificate|pandadoc)'

markers:
  client: 'client\\s*(printed\\s*)?signature|signature\\s*:\\s*client'
  firm:   'law\\s*firm|attorney\\s*signature|quinn\\s+emanuel|ventur[a|o]\\s+law'
