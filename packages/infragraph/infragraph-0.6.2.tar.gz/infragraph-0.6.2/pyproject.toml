[project]
name = "infragraph"
description = "Infrastructure as a Graph"
requires-python = ">=3.8"
dependencies = [
    "networkx",
    "semantic_version",
    "pyyaml",
    "requests",
    "grpcio",
    "protobuf",
]
authors = [
    {name = "TBD", email = "tbd@infragraph.org"}
]
license = {text = "MIT"}
readme = "README.md"
keywords = ["infrastructure", "graph", "chakra", "astrasim"]
classifiers = [
    "Programming Language :: Python :: 3",
    "License :: OSI Approved :: MIT License",
    "Operating System :: OS Independent"
]
dynamic = ["version"]

[project.urls]
"Homepage" = "https://infragraph.dev/"
"Repository" = "https://github.com/Keysight/infragraph"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.version]
path="api/info.yaml"
pattern="version:\\s*(?P<version>(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-[0-9A-Za-z-]+(\\.[0-9A-Za-z-]+)*)?(?:\\+[0-9A-Za-z-]+(\\.[0-9A-Za-z-]+)*)?)"

[tool.hatch.build.sources]
"artifacts/infragraph" = "infragraph"
"src/infragraph" = "infragraph"
"src/tests" = "infragraph/tests"
"src/docs" = "infragraph/docs"
"src/infragraph/blueprints/fabrics" = "infragraph/blueprints/fabrics"
"src/infragraph/blueprints/devices" = "infragraph/blueprints/devices"

[tool.hatch.build.targets.sdist]
exclude = [
    "**/*",
    "!pyproject.toml",
    "!README.md",
    "!src/**/*.py",
    "!src/docs/*.*",
]

[tool.hatch.build.targets.wheel.sources]
"src/**" = "infragraph"

