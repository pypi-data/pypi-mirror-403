# AI Agent PM Coordinator - Default Configuration
# このファイルはデフォルト設定を定義します
# テスト時は -c オプションで上書き可能

# Polling settings
polling_interval: 10
max_concurrent: 3

# MCP connection (default socket path)
# mcp_socket_path: ~/Library/Application Support/AIAgentPM/mcp.sock

# AI providers - how to launch each AI type
ai_providers:
  claude:
    cli_command: claude
    cli_args:
      - "--dangerously-skip-permissions"
      - "--max-turns"
      - "50"
      - "--verbose"  # 人間向け詳細ログ出力

  gemini:
    cli_command: gemini
    cli_args:
      - "-y"  # YOLO mode: auto-approve all tool calls
      - "-d"  # Debug mode: 詳細ログ出力

# Agents configuration
# 本番環境では環境変数または別ファイルでpasskeyを管理
# agents:
#   agt_example:
#     passkey: ${AGENT_PASSKEY}

# Logging (optional)
# log_directory: /tmp/coordinator_logs

# Log upload configuration (for multi-device environments)
# 参照: docs/design/LOG_TRANSFER_DESIGN.md
log_upload:
  enabled: false  # デフォルトは無効
  endpoint: "http://localhost:8080/api/v1/execution-logs/upload"
  max_file_size_mb: 10  # 最大ファイルサイズ（MB）
  retry_count: 3        # リトライ回数
  retry_delay_seconds: 1.0  # リトライ間隔（秒）

# Error protection configuration (spawn cooldown)
# 参照: docs/design/SPAWN_ERROR_PROTECTION.md
error_protection:
  enabled: true                     # エラー保護機能の有効/無効
  default_cooldown_seconds: 60      # 通常エラー時のクールダウン時間（秒）
  max_cooldown_seconds: 3600        # 最大クールダウン時間（秒）- 1時間
  quota_detection_enabled: true     # クォータエラー検出の有効/無効
  quota_margin_percent: 10          # クォータ待機時間への安全マージン（%）
