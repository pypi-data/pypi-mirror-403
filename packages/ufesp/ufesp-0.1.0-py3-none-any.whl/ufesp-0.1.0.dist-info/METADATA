Metadata-Version: 2.4
Name: ufesp
Version: 0.1.0
Summary: Série Temporal da Unidade Fiscal do Estado de São Paulo e métodos para recuperar informações da UFESP
Author-email: Michel Metran <michelmetran@gmail.com>
License-File: LICENSE
Keywords: finance,python,ufesp
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Natural Language :: Portuguese
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Requires-Python: >=3.11
Requires-Dist: lxml>=6.0.0
Requires-Dist: pandas>=2.0.0
Description-Content-Type: text/markdown

# Unidade Fiscal do Estado de São Paulo (UFESP)

[![Repo](https://img.shields.io/badge/GitHub-repo-blue?logo=github&logoColor=f5f5f5)](https://github.com/gaemapiracicaba/sp_sefaz_ufesp)
[![PyPI - Version](https://img.shields.io/pypi/v/ufesp?logo=pypi&label=PyPI&color=blue)](https://pypi.org/project/ufesp/)
[![TestPyPI - Version](https://img.shields.io/pypi/v/ufesp?server=test&label=TestPyPI&color=orange)](https://test.pypi.org/project/ufesp/)<br>
[![Publish Python to PyPI](https://github.com/gaemapiracicaba/sp_sefaz_ufesp/actions/workflows/publish-to-pypi-uv.yml/badge.svg)](https://github.com/gaemapiracicaba/sp_sefaz_ufesp/actions/workflows/publish-to-pypi-uv.yml)

A Unidade Fiscal do Estado de São Paulo (UFESP) é utilizada, dentre outras funções, para calcular as multas ambientais do estado de São Paulo. É definida pela Secretaria da Fazenda do Estado de São Paulo ([SEFAZ](https://portal.fazenda.sp.gov.br/)).

Com objetivo de obter os dados, para cálculos de multas, inicialmente vi o código apresentado em [Medium: Web Scraping: aquisição de dados em páginas web com Python](https://medium.com/data-hackers/web-scraping-aquisi%C3%A7%C3%A3o-de-dados-em-p%C3%A1ginas-web-com-python-ec6e33e9e452), porém optei por fazer d'outro jeito a aquisição dos dados.

Optei por utilizar o [_site_ oficial](https://legislacao.fazenda.sp.gov.br/Paginas/ValoresDaUFESP.aspx) da SEFAZ com as informações. Fiz a partir de 1997 apenas.

<br>

---

## Como Instalar?

```python
# Instala
!pip3 install ufesp --upgrade
```

<br>

---

## Como Usar?

Para testar fiz um [Google Colab](https://colab.research.google.com/drive/1NwV9mGUlPOlYFcZ6-ieEXL4HVPShO928?usp=sharing).

```python
import ufesp

# Pega UFESP para um dado dia
ufesp.get_ufesp_from_date(date='2025-04-02')

# Pega UFESP para um dado ano
dados = ufesp.get_ufesp_from_year(year=2024)
```

<br>

Outros métodos (que poderiam ser privados).

```python
# Pega Tabela Inteira
ufesp.get_table()

# Atualiza Tabela
ufesp.update_table()
```

<br>

A partir da versão 0.0.16, com contribuição de [ubalklen](https://github.com/ubalklen), o pacote busca os dados mais recentes do _site_ da SEFAZ-SP automaticamente.
