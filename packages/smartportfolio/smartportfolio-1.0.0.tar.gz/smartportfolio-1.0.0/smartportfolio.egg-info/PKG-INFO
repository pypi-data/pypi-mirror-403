Metadata-Version: 2.4
Name: smartportfolio
Version: 1.0.0
Summary: GNN + Prophet + DRL Portfolio Optimization TUI - A terminal-based intelligent asset allocation system
Author: Akash Upadhyay, Asma Shaikh, Dhruvi Shah
License: MIT
Project-URL: Homepage, https://github.com/smartportfolio/smartportfolio
Project-URL: Documentation, https://github.com/smartportfolio/smartportfolio#readme
Project-URL: Repository, https://github.com/smartportfolio/smartportfolio
Keywords: portfolio-optimization,graph-neural-network,reinforcement-learning,prophet,tui,terminal,finance,asset-allocation
Classifier: Development Status :: 5 - Production/Stable
Classifier: Environment :: Console
Classifier: Intended Audience :: Financial and Insurance Industry
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Office/Business :: Financial :: Investment
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: numpy>=1.24.0
Requires-Dist: pandas>=2.0.0
Requires-Dist: scipy>=1.10.0
Requires-Dist: networkx>=3.0
Requires-Dist: scikit-learn>=1.3.0
Requires-Dist: textual>=0.40.0
Requires-Dist: rich>=13.0.0
Requires-Dist: yfinance>=0.2.30
Requires-Dist: openpyxl>=3.1.0
Requires-Dist: prophet>=1.1.0
Requires-Dist: stable-baselines3>=2.0.0
Requires-Dist: gymnasium>=0.29.0
Requires-Dist: torch>=2.0.0
Requires-Dist: matplotlib>=3.7.0
Requires-Dist: plotext>=5.2.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0.0; extra == "dev"
Requires-Dist: black>=23.0.0; extra == "dev"
Requires-Dist: ruff>=0.1.0; extra == "dev"
Dynamic: license-file

<div align="center">

# ğŸ“Š SmartPortfolio

**Intelligent Portfolio Optimization using Graph Neural Networks, Prophet Forecasting, and Deep Reinforcement Learning**

[![Python 3.10+](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)

![Terminal UI Preview](https://img.shields.io/badge/Interface-Terminal%20TUI-orange)

</div>

---

## ğŸš€ Overview

SmartPortfolio is a terminal-based portfolio optimization system that combines cutting-edge machine learning techniques to generate intelligent asset allocations:

- **ğŸ”— Graph Neural Networks (GAT)** â€” Model complex asset relationships and correlations
- **ğŸ“ˆ Prophet Forecasting** â€” Time series predictions with seasonality awareness
- **ğŸ¤– Deep Reinforcement Learning (PPO)** â€” Dynamic allocation via hierarchical agents
- **ğŸ’» Neural Terminal TUI** â€” Beautiful, Bloomberg-inspired terminal interface

## âœ¨ Features

| Feature | Description |
|---------|-------------|
| **PyTorch GAT** | Pure PyTorch Graph Attention Network for asset embeddings |
| **Correlation Graphs** | Dynamic asset relationship visualization |
| **Live Prices** | Real-time market data via yfinance |
| **Portfolio Metrics** | Expected return, volatility, Sharpe ratio |
| **Plot Export** | Save allocation charts (pie, bar, dashboard) |
| **8GB RAM Optimized** | Memory-efficient for consumer hardware |

## ğŸ“¦ Installation

### Prerequisites

- Python 3.10 or higher
- pip package manager

### Quick Install

```bash
# Clone the repository
git clone https://github.com/yourusername/smartportfolio.git
cd smartportfolio

# Create virtual environment
python -m venv .venv
.venv\Scripts\activate  # Windows
source .venv/bin/activate  # Linux/Mac

# Install package
pip install -e .
```

### Dependencies

Core dependencies are automatically installed:
- `torch` â€” PyTorch for neural networks
- `networkx` â€” Graph operations
- `prophet` â€” Time series forecasting
- `stable-baselines3` â€” Reinforcement learning
- `textual` â€” Terminal user interface
- `yfinance` â€” Market data

## ğŸ® Usage

### Launch the TUI

```bash
# Start with default tickers
smartportfolio

# Start with custom ticker file
smartportfolio --tickers my_tickers.csv
```

### TUI Commands

| Command | Description |
|---------|-------------|
| `LOAD <file>` | Load tickers from CSV/XLSX file |
| `LOADWEIGHTS <file>` | Load previous portfolio weights |
| `RUN` | Execute optimization pipeline |
| `STATUS` | Show current system status |
| `EXPORT` | Export weights to CSV |
| `PLOT` | Save allocation charts |
| `GRAPH` | Save correlation graph visualization |
| `HELP` | Display help information |
| `CLEAR` | Reset all state |

### Keyboard Shortcuts

| Key | Action |
|-----|--------|
| `q` | Quit application |
| `r` | Run optimization |
| `l` | Load tickers |
| `e` | Export results |
| `h` | Show help |
| `Esc` | Focus command bar |

### Ticker File Format

```csv
ticker
AAPL
MSFT
GOOGL
AMZN
META
```

## ğŸ“Š Output Files

All outputs are saved to the `outputs/` directory with timestamp-UUID naming:

| File Pattern | Description |
|--------------|-------------|
| `*_portfolio_weights.csv` | Asset weights allocation |
| `*_allocation_pie.png` | Pie chart visualization |
| `*_allocation_bar.png` | Bar chart visualization |
| `*_correlation_graph.png` | Asset relationship graph |
| `*_dashboard.png` | Combined metrics dashboard |

## ğŸ—ï¸ Architecture

```
smartportfolio/
â”œâ”€â”€ __init__.py          # Package initialization
â”œâ”€â”€ __main__.py          # CLI entry point
â”œâ”€â”€ app.py               # Main TUI application
â”œâ”€â”€ config.py            # Configuration management
â”œâ”€â”€ visualization.py     # Matplotlib plotting
â”œâ”€â”€ data/                # Data handling modules
â”‚   â”œâ”€â”€ fetcher.py       # Yahoo Finance data fetcher
â”‚   â”œâ”€â”€ features.py      # Feature engineering
â”‚   â””â”€â”€ storage.py       # Local file storage
â”œâ”€â”€ graph/               # Graph neural network modules
â”‚   â”œâ”€â”€ builder.py       # Dynamic graph construction
â”‚   â”œâ”€â”€ gat.py           # NumPy GAT implementation
â”‚   â””â”€â”€ torch_gat.py     # PyTorch GAT implementation
â”œâ”€â”€ forecasting/         # Time series forecasting
â”‚   â””â”€â”€ prophet_model.py # Prophet integration
â”œâ”€â”€ rl/                  # Reinforcement learning
â”‚   â”œâ”€â”€ environment.py   # Gymnasium environment
â”‚   â””â”€â”€ agent.py         # PPO agent
â””â”€â”€ components/          # TUI widgets
    â”œâ”€â”€ header.py        # App header
    â”œâ”€â”€ sidebar.py       # Watchlist sidebar
    â””â”€â”€ main_content.py  # Portfolio overview
```

## ğŸ”§ Configuration

Configuration is managed via `smartportfolio/config.py`:

```python
# Model parameters
gat_embedding_dim = 32
gat_num_heads = 4
gat_dropout = 0.1

# Data parameters
default_period = "2y"
correlation_threshold = 0.3

# RL parameters
rl_learning_rate = 0.0003
train_episodes = 100
```

## ğŸ§ª Development

### Setup Development Environment

```bash
# Install with dev dependencies
pip install -e ".[dev]"

# Run tests
pytest

# Format code
black smartportfolio/

# Lint code
ruff check smartportfolio/
```

### Running Tests

```bash
pytest tests/ -v --cov=smartportfolio
```

## ğŸ“ˆ Performance

Tested on consumer hardware (8GB RAM):

| Operation | Time | Memory |
|-----------|------|--------|
| Data fetch (10 tickers) | ~5s | ~200MB |
| Graph construction | <1s | ~50MB |
| GAT embedding | ~2s | ~300MB |
| Full pipeline | ~15s | ~500MB |

## ğŸ¤ Contributing

We welcome contributions! Please see our [Contributing Guide](CONTRIBUTING.md) for details.

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## ğŸ“œ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ” Security

For security concerns, please see our [Security Policy](SECURITY.md).

## ğŸ“ Support

- ğŸ“– [Documentation](https://github.com/yourusername/smartportfolio#readme)
- ğŸ› [Issue Tracker](https://github.com/yourusername/smartportfolio/issues)
- ğŸ’¬ [Discussions](https://github.com/yourusername/smartportfolio/discussions)

## ğŸ™ Acknowledgments

- [Textual](https://github.com/Textualize/textual) â€” Terminal UI framework
- [Prophet](https://facebook.github.io/prophet/) â€” Time series forecasting
- [Stable-Baselines3](https://stable-baselines3.readthedocs.io/) â€” RL algorithms
- [yfinance](https://github.com/ranaroussi/yfinance) â€” Market data

---

<div align="center">

**Made with â¤ï¸ by Akash Upadhyay, Asma Shaikh & Dhruvi Shah**

</div>
