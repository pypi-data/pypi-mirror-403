# This file is auto-generated by the CDP protocol generator.
# Do not edit this file manually as your changes will be overwritten.
# Generated from Chrome DevTools Protocol specifications.

from dataclasses import dataclass
from enum import StrEnum
from cdpify.shared.models import CDPModel

from .types import (
    SessionID,
    TargetID,
    TargetInfo,
)


class TargetEvent(StrEnum):
    ATTACHED_TO_TARGET = "Target.attachedToTarget"
    DETACHED_FROM_TARGET = "Target.detachedFromTarget"
    RECEIVED_MESSAGE_FROM_TARGET = "Target.receivedMessageFromTarget"
    TARGET_CREATED = "Target.targetCreated"
    TARGET_DESTROYED = "Target.targetDestroyed"
    TARGET_CRASHED = "Target.targetCrashed"
    TARGET_INFO_CHANGED = "Target.targetInfoChanged"


@dataclass(kw_only=True)
class AttachedToTargetEvent(CDPModel):
    """
    Issued when attached to target because of auto-attach or `attachToTarget` command.
    """

    session_id: SessionID
    target_info: TargetInfo
    waiting_for_debugger: bool


@dataclass(kw_only=True)
class DetachedFromTargetEvent(CDPModel):
    """
    Issued when detached from target for any reason (including `detachFromTarget`
    command). Can be issued multiple times per target if multiple sessions have been
    attached to it.
    """

    session_id: SessionID
    target_id: TargetID | None | None = None


@dataclass(kw_only=True)
class ReceivedMessageFromTargetEvent(CDPModel):
    """
    Notifies about a new protocol message received from the session (as reported in
    `attachedToTarget` event).
    """

    session_id: SessionID
    message: str
    target_id: TargetID | None | None = None


@dataclass(kw_only=True)
class TargetCreatedEvent(CDPModel):
    """
    Issued when a possible inspection target is created.
    """

    target_info: TargetInfo


@dataclass(kw_only=True)
class TargetDestroyedEvent(CDPModel):
    """
    Issued when a target is destroyed.
    """

    target_id: TargetID


@dataclass(kw_only=True)
class TargetCrashedEvent(CDPModel):
    """
    Issued when a target has crashed.
    """

    target_id: TargetID
    status: str
    error_code: int


@dataclass(kw_only=True)
class TargetInfoChangedEvent(CDPModel):
    """
    Issued when some information about a target has changed. This only happens between
    `targetCreated` and `targetDestroyed`.
    """

    target_info: TargetInfo
