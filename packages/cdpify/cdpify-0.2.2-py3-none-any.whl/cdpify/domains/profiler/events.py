# This file is auto-generated by the CDP protocol generator.
# Do not edit this file manually as your changes will be overwritten.
# Generated from Chrome DevTools Protocol specifications.

from __future__ import annotations

from typing import TYPE_CHECKING
from dataclasses import dataclass
from enum import StrEnum
from cdpify.shared.models import CDPModel

from .types import (
    Profile,
    ScriptCoverage,
)

if TYPE_CHECKING:
    from cdpify.domains import debugger


class ProfilerEvent(StrEnum):
    CONSOLE_PROFILE_FINISHED = "Profiler.consoleProfileFinished"
    CONSOLE_PROFILE_STARTED = "Profiler.consoleProfileStarted"
    PRECISE_COVERAGE_DELTA_UPDATE = "Profiler.preciseCoverageDeltaUpdate"


@dataclass(kw_only=True)
class ConsoleProfileFinishedEvent(CDPModel):
    id: str
    location: debugger.Location
    profile: Profile
    title: str | None | None = None


@dataclass(kw_only=True)
class ConsoleProfileStartedEvent(CDPModel):
    """
    Sent when new profile recording is started using console.profile() call.
    """

    id: str
    location: debugger.Location
    title: str | None | None = None


@dataclass(kw_only=True)
class PreciseCoverageDeltaUpdateEvent(CDPModel):
    """
    Reports coverage delta since the last poll (either from an event like this, or from
    `takePreciseCoverage` for the current isolate. May only be sent if precise code
    coverage has been started. This event can be trigged by the embedder to, for
    example, trigger collection of coverage data immediately at a certain point in time.
    """

    timestamp: float
    occasion: str
    result: list[ScriptCoverage]
