# This file is auto-generated by the CDP protocol generator.
# Do not edit this file manually as your changes will be overwritten.
# Generated from Chrome DevTools Protocol specifications.

from typing import Literal
from dataclasses import dataclass
from enum import StrEnum
from cdpify.shared.models import CDPModel

from .types import (
    AdScriptAncestry,
    AppManifestError,
    AppManifestParsedProperties,
    CompilationCacheParams,
    FontFamilies,
    FontSizes,
    FrameId,
    FrameResourceTree,
    FrameTree,
    InstallabilityError,
    LayoutViewport,
    NavigationEntry,
    OriginTrial,
    PermissionsPolicyFeatureState,
    ReferrerPolicy,
    ScriptFontFamilies,
    ScriptIdentifier,
    TransitionType,
    Viewport,
    VisualViewport,
    WebAppManifest,
)

from cdpify.domains import debugger
from cdpify.domains import dom
from cdpify.domains import emulation
from cdpify.domains import io
from cdpify.domains import network
from cdpify.domains import runtime


class PageCommand(StrEnum):
    ADD_SCRIPT_TO_EVALUATE_ON_LOAD = "Page.addScriptToEvaluateOnLoad"
    ADD_SCRIPT_TO_EVALUATE_ON_NEW_DOCUMENT = "Page.addScriptToEvaluateOnNewDocument"
    BRING_TO_FRONT = "Page.bringToFront"
    CAPTURE_SCREENSHOT = "Page.captureScreenshot"
    CAPTURE_SNAPSHOT = "Page.captureSnapshot"
    CLEAR_DEVICE_METRICS_OVERRIDE = "Page.clearDeviceMetricsOverride"
    CLEAR_DEVICE_ORIENTATION_OVERRIDE = "Page.clearDeviceOrientationOverride"
    CLEAR_GEOLOCATION_OVERRIDE = "Page.clearGeolocationOverride"
    CREATE_ISOLATED_WORLD = "Page.createIsolatedWorld"
    DELETE_COOKIE = "Page.deleteCookie"
    DISABLE = "Page.disable"
    ENABLE = "Page.enable"
    GET_APP_MANIFEST = "Page.getAppManifest"
    GET_INSTALLABILITY_ERRORS = "Page.getInstallabilityErrors"
    GET_MANIFEST_ICONS = "Page.getManifestIcons"
    GET_APP_ID = "Page.getAppId"
    GET_AD_SCRIPT_ANCESTRY = "Page.getAdScriptAncestry"
    GET_FRAME_TREE = "Page.getFrameTree"
    GET_LAYOUT_METRICS = "Page.getLayoutMetrics"
    GET_NAVIGATION_HISTORY = "Page.getNavigationHistory"
    RESET_NAVIGATION_HISTORY = "Page.resetNavigationHistory"
    GET_RESOURCE_CONTENT = "Page.getResourceContent"
    GET_RESOURCE_TREE = "Page.getResourceTree"
    HANDLE_JAVA_SCRIPT_DIALOG = "Page.handleJavaScriptDialog"
    NAVIGATE = "Page.navigate"
    NAVIGATE_TO_HISTORY_ENTRY = "Page.navigateToHistoryEntry"
    PRINT_TO_PDF = "Page.printToPDF"
    RELOAD = "Page.reload"
    REMOVE_SCRIPT_TO_EVALUATE_ON_LOAD = "Page.removeScriptToEvaluateOnLoad"
    REMOVE_SCRIPT_TO_EVALUATE_ON_NEW_DOCUMENT = (
        "Page.removeScriptToEvaluateOnNewDocument"
    )
    SCREENCAST_FRAME_ACK = "Page.screencastFrameAck"
    SEARCH_IN_RESOURCE = "Page.searchInResource"
    SET_AD_BLOCKING_ENABLED = "Page.setAdBlockingEnabled"
    SET_BYPASS_CSP = "Page.setBypassCSP"
    GET_PERMISSIONS_POLICY_STATE = "Page.getPermissionsPolicyState"
    GET_ORIGIN_TRIALS = "Page.getOriginTrials"
    SET_DEVICE_METRICS_OVERRIDE = "Page.setDeviceMetricsOverride"
    SET_DEVICE_ORIENTATION_OVERRIDE = "Page.setDeviceOrientationOverride"
    SET_FONT_FAMILIES = "Page.setFontFamilies"
    SET_FONT_SIZES = "Page.setFontSizes"
    SET_DOCUMENT_CONTENT = "Page.setDocumentContent"
    SET_DOWNLOAD_BEHAVIOR = "Page.setDownloadBehavior"
    SET_GEOLOCATION_OVERRIDE = "Page.setGeolocationOverride"
    SET_LIFECYCLE_EVENTS_ENABLED = "Page.setLifecycleEventsEnabled"
    SET_TOUCH_EMULATION_ENABLED = "Page.setTouchEmulationEnabled"
    START_SCREENCAST = "Page.startScreencast"
    STOP_LOADING = "Page.stopLoading"
    CRASH = "Page.crash"
    CLOSE = "Page.close"
    SET_WEB_LIFECYCLE_STATE = "Page.setWebLifecycleState"
    STOP_SCREENCAST = "Page.stopScreencast"
    PRODUCE_COMPILATION_CACHE = "Page.produceCompilationCache"
    ADD_COMPILATION_CACHE = "Page.addCompilationCache"
    CLEAR_COMPILATION_CACHE = "Page.clearCompilationCache"
    SET_SPC_TRANSACTION_MODE = "Page.setSPCTransactionMode"
    SET_RPH_REGISTRATION_MODE = "Page.setRPHRegistrationMode"
    GENERATE_TEST_REPORT = "Page.generateTestReport"
    WAIT_FOR_DEBUGGER = "Page.waitForDebugger"
    SET_INTERCEPT_FILE_CHOOSER_DIALOG = "Page.setInterceptFileChooserDialog"
    SET_PRERENDERING_ALLOWED = "Page.setPrerenderingAllowed"
    GET_ANNOTATED_PAGE_CONTENT = "Page.getAnnotatedPageContent"


@dataclass(kw_only=True)
class AddScriptToEvaluateOnLoadParams(CDPModel):
    """
    Deprecated, please use addScriptToEvaluateOnNewDocument instead.
    """

    script_source: str


@dataclass(kw_only=True)
class AddScriptToEvaluateOnLoadResult(CDPModel):
    identifier: ScriptIdentifier


@dataclass(kw_only=True)
class AddScriptToEvaluateOnNewDocumentParams(CDPModel):
    """
    Evaluates given script in every frame upon creation (before loading frame's
    scripts).
    """

    source: str
    world_name: str | None | None = None
    include_command_line_api: bool | None | None = None
    run_immediately: bool | None | None = None


@dataclass(kw_only=True)
class AddScriptToEvaluateOnNewDocumentResult(CDPModel):
    identifier: ScriptIdentifier


@dataclass(kw_only=True)
class CaptureScreenshotParams(CDPModel):
    """
    Capture page screenshot.
    """

    format: Literal["jpeg", "png", "webp"] | None | None = None
    quality: int | None | None = None
    clip: Viewport | None | None = None
    from_surface: bool | None | None = None
    capture_beyond_viewport: bool | None | None = None
    optimize_for_speed: bool | None | None = None


@dataclass(kw_only=True)
class CaptureScreenshotResult(CDPModel):
    data: str


@dataclass(kw_only=True)
class CaptureSnapshotParams(CDPModel):
    """
    Returns a snapshot of the page as a string. For MHTML format, the serialization
    includes iframes, shadow DOM, external resources, and element-inline styles.
    """

    format: Literal["mhtml"] | None | None = None


@dataclass(kw_only=True)
class CaptureSnapshotResult(CDPModel):
    data: str


@dataclass(kw_only=True)
class CreateIsolatedWorldParams(CDPModel):
    """
    Creates an isolated world for the given frame.
    """

    frame_id: FrameId
    world_name: str | None | None = None
    grant_univeral_access: bool | None | None = None


@dataclass(kw_only=True)
class CreateIsolatedWorldResult(CDPModel):
    execution_context_id: runtime.ExecutionContextId


@dataclass(kw_only=True)
class DeleteCookieParams(CDPModel):
    """
    Deletes browser cookie with given name, domain and path.
    """

    cookie_name: str
    url: str


@dataclass(kw_only=True)
class EnableParams(CDPModel):
    """
    Enables page domain notifications.
    """

    enable_file_chooser_opened_event: bool | None | None = None


@dataclass(kw_only=True)
class GetAppManifestParams(CDPModel):
    """
    Gets the processed manifest for this current document. This API always waits for
    the manifest to be loaded. If manifestId is provided, and it does not match the
    manifest of the current document, this API errors out. If there is not a loaded
    page, this API errors out immediately.
    """

    manifest_id: str | None | None = None


@dataclass(kw_only=True)
class GetAppManifestResult(CDPModel):
    url: str
    errors: list[AppManifestError]
    data: str | None | None = None
    parsed: AppManifestParsedProperties | None | None = None
    manifest: WebAppManifest


@dataclass(kw_only=True)
class GetInstallabilityErrorsResult(CDPModel):
    installability_errors: list[InstallabilityError]


@dataclass(kw_only=True)
class GetManifestIconsResult(CDPModel):
    primary_icon: str | None | None = None


@dataclass(kw_only=True)
class GetAppIdResult(CDPModel):
    app_id: str | None | None = None
    recommended_id: str | None | None = None


@dataclass(kw_only=True)
class GetAdScriptAncestryParams(CDPModel):
    frame_id: FrameId


@dataclass(kw_only=True)
class GetAdScriptAncestryResult(CDPModel):
    ad_script_ancestry: AdScriptAncestry | None | None = None


@dataclass(kw_only=True)
class GetFrameTreeResult(CDPModel):
    frame_tree: FrameTree


@dataclass(kw_only=True)
class GetLayoutMetricsResult(CDPModel):
    layout_viewport: LayoutViewport
    visual_viewport: VisualViewport
    content_size: dom.Rect
    css_layout_viewport: LayoutViewport
    css_visual_viewport: VisualViewport
    css_content_size: dom.Rect


@dataclass(kw_only=True)
class GetNavigationHistoryResult(CDPModel):
    current_index: int
    entries: list[NavigationEntry]


@dataclass(kw_only=True)
class GetResourceContentParams(CDPModel):
    """
    Returns content of the given resource.
    """

    frame_id: FrameId
    url: str


@dataclass(kw_only=True)
class GetResourceContentResult(CDPModel):
    content: str
    base64_encoded: bool


@dataclass(kw_only=True)
class GetResourceTreeResult(CDPModel):
    frame_tree: FrameResourceTree


@dataclass(kw_only=True)
class HandleJavaScriptDialogParams(CDPModel):
    """
    Accepts or dismisses a JavaScript initiated dialog (alert, confirm, prompt, or
    onbeforeunload).
    """

    accept: bool
    prompt_text: str | None | None = None


@dataclass(kw_only=True)
class NavigateParams(CDPModel):
    """
    Navigates current page to the given URL.
    """

    url: str
    referrer: str | None | None = None
    transition_type: TransitionType | None | None = None
    frame_id: FrameId | None | None = None
    referrer_policy: ReferrerPolicy | None | None = None


@dataclass(kw_only=True)
class NavigateResult(CDPModel):
    frame_id: FrameId
    loader_id: network.LoaderId | None = None
    error_text: str | None | None = None
    is_download: bool | None | None = None


@dataclass(kw_only=True)
class NavigateToHistoryEntryParams(CDPModel):
    """
    Navigates current page to the given history entry.
    """

    entry_id: int


@dataclass(kw_only=True)
class PrintToPDFParams(CDPModel):
    """
    Print page as PDF.
    """

    landscape: bool | None | None = None
    display_header_footer: bool | None | None = None
    print_background: bool | None | None = None
    scale: float | None | None = None
    paper_width: float | None | None = None
    paper_height: float | None | None = None
    margin_top: float | None | None = None
    margin_bottom: float | None | None = None
    margin_left: float | None | None = None
    margin_right: float | None | None = None
    page_ranges: str | None | None = None
    header_template: str | None | None = None
    footer_template: str | None | None = None
    prefer_css_page_size: bool | None | None = None
    transfer_mode: Literal["ReturnAsBase64", "ReturnAsStream"] | None | None = None
    generate_tagged_pdf: bool | None | None = None
    generate_document_outline: bool | None | None = None


@dataclass(kw_only=True)
class PrintToPDFResult(CDPModel):
    data: str
    stream: io.StreamHandle | None = None


@dataclass(kw_only=True)
class ReloadParams(CDPModel):
    """
    Reloads given page optionally ignoring the cache.
    """

    ignore_cache: bool | None | None = None
    script_to_evaluate_on_load: str | None | None = None
    loader_id: network.LoaderId | None = None


@dataclass(kw_only=True)
class RemoveScriptToEvaluateOnLoadParams(CDPModel):
    """
    Deprecated, please use removeScriptToEvaluateOnNewDocument instead.
    """

    identifier: ScriptIdentifier


@dataclass(kw_only=True)
class RemoveScriptToEvaluateOnNewDocumentParams(CDPModel):
    """
    Removes given script from the list.
    """

    identifier: ScriptIdentifier


@dataclass(kw_only=True)
class ScreencastFrameAckParams(CDPModel):
    """
    Acknowledges that a screencast frame has been received by the frontend.
    """

    session_id: int


@dataclass(kw_only=True)
class SearchInResourceParams(CDPModel):
    """
    Searches for given string in resource content.
    """

    frame_id: FrameId
    url: str
    query: str
    case_sensitive: bool | None | None = None
    is_regex: bool | None | None = None


@dataclass(kw_only=True)
class SearchInResourceResult(CDPModel):
    result: list[debugger.SearchMatch]


@dataclass(kw_only=True)
class SetAdBlockingEnabledParams(CDPModel):
    """
    Enable Chrome's experimental ad filter on all sites.
    """

    enabled: bool


@dataclass(kw_only=True)
class SetBypassCSPParams(CDPModel):
    """
    Enable page Content Security Policy by-passing.
    """

    enabled: bool


@dataclass(kw_only=True)
class GetPermissionsPolicyStateParams(CDPModel):
    """
    Get Permissions Policy state on given frame.
    """

    frame_id: FrameId


@dataclass(kw_only=True)
class GetPermissionsPolicyStateResult(CDPModel):
    states: list[PermissionsPolicyFeatureState]


@dataclass(kw_only=True)
class GetOriginTrialsParams(CDPModel):
    """
    Get Origin Trials on given frame.
    """

    frame_id: FrameId


@dataclass(kw_only=True)
class GetOriginTrialsResult(CDPModel):
    origin_trials: list[OriginTrial]


@dataclass(kw_only=True)
class SetDeviceMetricsOverrideParams(CDPModel):
    """
    Overrides the values of device screen dimensions (window.screen.width,
    window.screen.height, window.innerWidth, window.innerHeight, and
    "device-width"/"device-height"-related CSS media query results).
    """

    width: int
    height: int
    device_scale_factor: float
    mobile: bool
    scale: float | None | None = None
    screen_width: int | None | None = None
    screen_height: int | None | None = None
    position_x: int | None | None = None
    position_y: int | None | None = None
    dont_set_visible_size: bool | None | None = None
    screen_orientation: emulation.ScreenOrientation | None = None
    viewport: Viewport | None | None = None


@dataclass(kw_only=True)
class SetDeviceOrientationOverrideParams(CDPModel):
    """
    Overrides the Device Orientation.
    """

    alpha: float
    beta: float
    gamma: float


@dataclass(kw_only=True)
class SetFontFamiliesParams(CDPModel):
    """
    Set generic font families.
    """

    font_families: FontFamilies
    for_scripts: list[ScriptFontFamilies] | None | None = None


@dataclass(kw_only=True)
class SetFontSizesParams(CDPModel):
    """
    Set default font sizes.
    """

    font_sizes: FontSizes


@dataclass(kw_only=True)
class SetDocumentContentParams(CDPModel):
    """
    Sets given markup as the document's HTML.
    """

    frame_id: FrameId
    html: str


@dataclass(kw_only=True)
class SetDownloadBehaviorParams(CDPModel):
    """
    Set the behavior when downloading a file.
    """

    behavior: Literal["deny", "allow", "default"]
    download_path: str | None | None = None


@dataclass(kw_only=True)
class SetGeolocationOverrideParams(CDPModel):
    """
    Overrides the Geolocation Position or Error. Omitting any of the parameters
    emulates position unavailable.
    """

    latitude: float | None | None = None
    longitude: float | None | None = None
    accuracy: float | None | None = None


@dataclass(kw_only=True)
class SetLifecycleEventsEnabledParams(CDPModel):
    """
    Controls whether page will emit lifecycle events.
    """

    enabled: bool


@dataclass(kw_only=True)
class SetTouchEmulationEnabledParams(CDPModel):
    """
    Toggles mouse event-based touch event emulation.
    """

    enabled: bool
    configuration: Literal["mobile", "desktop"] | None | None = None


@dataclass(kw_only=True)
class StartScreencastParams(CDPModel):
    """
    Starts sending each frame using the `screencastFrame` event.
    """

    format: Literal["jpeg", "png"] | None | None = None
    quality: int | None | None = None
    max_width: int | None | None = None
    max_height: int | None | None = None
    every_nth_frame: int | None | None = None


@dataclass(kw_only=True)
class SetWebLifecycleStateParams(CDPModel):
    """
    Tries to update the web lifecycle state of the page. It will transition the page to
    the given state according to: https://github.com/WICG/web-lifecycle/
    """

    state: Literal["frozen", "active"]


@dataclass(kw_only=True)
class ProduceCompilationCacheParams(CDPModel):
    """
    Requests backend to produce compilation cache for the specified scripts. `scripts`
    are appended to the list of scripts for which the cache would be produced. The list
    may be reset during page navigation. When script with a matching URL is encountered,
    the cache is optionally produced upon backend discretion, based on internal
    heuristics. See also: `Page.compilationCacheProduced`.
    """

    scripts: list[CompilationCacheParams]


@dataclass(kw_only=True)
class AddCompilationCacheParams(CDPModel):
    """
    Seeds compilation cache for given url. Compilation cache does not survive
    cross-process navigation.
    """

    url: str
    data: str


@dataclass(kw_only=True)
class SetSPCTransactionModeParams(CDPModel):
    """
    Sets the Secure Payment Confirmation transaction mode.
    https://w3c.github.io/secure-payment-confirmation/#sctn-automation-set-spc-transaction-mode
    """

    mode: Literal[
        "none", "autoAccept", "autoChooseToAuthAnotherWay", "autoReject", "autoOptOut"
    ]


@dataclass(kw_only=True)
class SetRPHRegistrationModeParams(CDPModel):
    """
    Extensions for Custom Handlers API:
    https://html.spec.whatwg.org/multipage/system-state.html#rph-automation
    """

    mode: Literal["none", "autoAccept", "autoReject"]


@dataclass(kw_only=True)
class GenerateTestReportParams(CDPModel):
    """
    Generates a report for testing.
    """

    message: str
    group: str | None | None = None


@dataclass(kw_only=True)
class SetInterceptFileChooserDialogParams(CDPModel):
    """
    Intercept file chooser requests and transfer control to protocol clients. When file
    chooser interception is enabled, native file chooser dialog is not shown. Instead, a
    protocol event `Page.fileChooserOpened` is emitted.
    """

    enabled: bool
    cancel: bool | None | None = None


@dataclass(kw_only=True)
class SetPrerenderingAllowedParams(CDPModel):
    """
    Enable/disable prerendering manually. This command is a short-term solution for
    https://crbug.com/1440085. See
    https://docs.google.com/document/d/12HVmFxYj5Jc-eJr5OmWsa2bqTJsbgGLKI6ZIyx0_wpA for
    more details. TODO(https://crbug.com/1440085): Remove this once Puppeteer supports
    tab targets.
    """

    is_allowed: bool


@dataclass(kw_only=True)
class GetAnnotatedPageContentParams(CDPModel):
    """
    Get the annotated page content for the main frame. This is an experimental command
    that is subject to change.
    """

    include_actionable_information: bool | None | None = None


@dataclass(kw_only=True)
class GetAnnotatedPageContentResult(CDPModel):
    content: str
