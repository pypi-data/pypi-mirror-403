import{_ as F}from"./logo-BiWG9_W5.js";import{_ as I}from"./AbstraButton.vue_vue_type_script_setup_true_lang-60wd7w0p.js";import{A as G}from"./constants-DtajWhvQ.js";import{a as w,r as z,k as h,b as g,f as n,g as p,h as t,t as u,u as e,b3 as R,bM as B,a0 as U,aK as A,af as L,c as N,a8 as T,w as a,i as v,bf as P,n as y,T as K,bh as D,B as x,bi as E,R as $,$ as O,bj as C,c5 as j,l as q,J as H,c6 as J,ac as Q,ba as W,b5 as X,e as V,c7 as Y}from"./jwt-decode.esm-Dw_OlTCW.js";import{G as Z}from"./PhNotePencil.vue-aGTzqjqf.js";import{G as ee,F as ae,a as te,b as ne}from"./PhTranslate.vue-DNVQd2KV.js";import{F as oe}from"./PhSignOut.vue-DXIoBRl-.js";import{a as M,C as le}from"./router-DzczyMew.js";import{S as se,B as re,A as ie}from"./index-BNW_czQY.js";import{A as ue}from"./index-CKBppVEa.js";import{u as ce}from"./organizationSwitcher-DaZJIspe.js";import{O as de}from"./organization-CyPzXZ9t.js";import"./tables-CkY-LQhC.js";import{I as pe}from"./PhPlus.vue-DwQCqGHA.js";import{u as me}from"./omniChatStore-GzvmxXJk.js";import{G as fe}from"./PhSparkle.vue-C3CEst2D.js";import{A as ge}from"./index-BkFmLeP_.js";(function(){try{var o=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_=new Error().stack;_&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[_]="e6812681-77ee-49fb-ada5-5a9e262ada4e",o._sentryDebugIdIdentifier="sentry-dbid-e6812681-77ee-49fb-ada5-5a9e262ada4e")}catch{}})();const _e=w({__name:"EditableBreadcrumbItem",props:{modelValue:{}},emits:["update:modelValue"],setup(o,{emit:_}){const r=o,m=_,c=z(!1),i=z(""),l=z(null);function s(){i.value=r.modelValue,c.value=!0,U(()=>{l.value?.focus?.()})}function f(){i.value.trim()&&i.value!==r.modelValue&&m("update:modelValue",i.value.trim()),c.value=!1}function d(){c.value=!1}return(k,b)=>c.value?(n(),g(e(R),{key:1,ref_key:"inputRef",ref:l,value:i.value,"onUpdate:value":b[0]||(b[0]=S=>i.value=S),size:"small",class:"edit-input",onBlur:f,onKeydown:[B(f,["enter"]),B(d,["escape"])]},null,8,["value"])):(n(),h("span",{key:0,class:"editable-item",onClick:s},[p(u(o.modelValue)+" ",1),t(e(Z),{class:"edit-icon",size:"14"})]))}}),be=A(_e,[["__scopeId","data-v-e67e9e4c"]]),ve={key:0,style:{display:"flex","align-items":"center",gap:"16px"}},ye={style:{display:"flex","flex-direction":"column",gap:"10px"}},ke={style:{display:"flex",gap:"5px"}},he={style:{display:"flex",gap:"5px"}},ze=w({__name:"LoginBlock",setup(o){function _(l){const s=l.split("@")[0];return q.kebabCase(s).toUpperCase().split("-").slice(0,2).map(f=>f[0]).join("")}const r=L(),m=N(()=>M.getAuthor());async function c(){await M.logout(),le.shutdown(),r.push({name:"login"})}function i(l){localStorage.setItem("locale",String(l.key)),window.location.reload()}return(l,s)=>{const f=T("RouterLink");return m.value?(n(),h("div",ve,[t(I,{class:"intercom-launcher",target:"_blank",type:"link",size:"small"},{default:a(()=>[t(e(ee)),p(" "+u(e(v).translate("i18n_loginblock_support")),1)]),_:1}),t(e(P),{placement:"bottomRight"},{content:a(()=>[y("div",ye,[t(e(K),{size:"small",type:"secondary"},{default:a(()=>[p(u(m.value.claims.email),1)]),_:1}),t(e(D),{trigger:["click"]},{overlay:a(()=>[t(e(E),{onClick:i},{default:a(()=>[(n(!0),h($,null,O(e(j),d=>(n(),g(e(C),{key:d.key},{default:a(()=>[p(u(d.value),1)]),_:2},1024))),128))]),_:1})]),default:a(()=>[t(e(x),{type:"text"},{default:a(()=>[y("div",ke,[t(e(ae),{size:"20"}),p(" "+u(e(v).translate("i18n_loginblock_language")),1)])]),_:1})]),_:1}),t(e(x),{type:"text",onClick:c},{default:a(()=>[y("div",he,[t(e(oe),{size:"20"}),p(" "+u(e(v).translate("i18n_loginblock_logout")),1)])]),_:1})])]),default:a(()=>[t(e(se),{align:"center",style:{cursor:"pointer"}},{default:a(()=>[t(e(ue),{shape:"square"},{default:a(()=>[p(u(_(m.value.claims.email)),1)]),_:1})]),_:1})]),_:1})])):(n(),g(e(x),{key:1},{default:a(()=>[t(f,{to:"/login"},{default:a(()=>[p(u(e(v).translate("i18n_loginblock_login")),1)]),_:1})]),_:1}))}}}),we={class:"organization-switcher ant-dropdown-trigger"},xe={class:"create-item"},Ie=w({__name:"OrganizationSwitcher",props:{organizationId:{}},setup(o){const _=o,r=ce(),m=z(!1),c=z("");H(()=>{r.organizations.length===0&&r.fetchOrganizations()});const i=N(()=>r.organizations.find(k=>k.id===_.organizationId)?.name||"Select Organization"),l=d=>{r.selectOrganization(d)},s=()=>{c.value="",m.value=!0},f=async()=>{if(c.value)try{const d=await de.create(c.value);await r.fetchOrganizations(),r.selectOrganization(d.id),m.value=!1}catch(d){console.error("Failed to create organization",d)}};return(d,k)=>(n(),h("span",null,[t(e(D),{trigger:["click"]},{overlay:a(()=>[t(e(E),{"selected-keys":o.organizationId?[o.organizationId]:[]},{default:a(()=>[(n(!0),h($,null,O(e(r).organizations,b=>(n(),g(e(C),{key:b.id,onClick:S=>l(b.id)},{default:a(()=>[p(u(b.name),1)]),_:2},1032,["onClick"]))),128)),t(e(J)),t(e(C),{onClick:s},{default:a(()=>[y("div",xe,[t(e(pe)),p(" "+u(e(v).translate("i18n_organizations_create_organization")),1)])]),_:1})]),_:1},8,["selected-keys"])]),default:a(()=>[y("span",we,[p(u(i.value)+" ",1),t(e(te),{class:"icon"})])]),_:1}),t(e(Q),{open:m.value,"onUpdate:open":k[1]||(k[1]=b=>m.value=b),title:e(v).translate("i18n_organizations_create_organization"),onOk:f},{default:a(()=>[t(e(W),{layout:"vertical"},{default:a(()=>[t(e(X),{label:e(v).translate("i18n_organizations_organization_name")},{default:a(()=>[t(e(R),{value:c.value,"onUpdate:value":k[0]||(k[0]=b=>c.value=b),onPressEnter:f},null,8,["value"])]),_:1},8,["label"])]),_:1})]),_:1},8,["open","title"])]))}}),Ce=A(Ie,[["__scopeId","data-v-400bedd9"]]),Ae={key:3},$e={class:"extra"},Oe=w({__name:"Navbar",props:{breadcrumb:{},showAiSparkles:{type:Boolean}},emits:["update:breadcrumb-label"],setup(o){const _=o,r=me(),m=L();function c(){const i=_.breadcrumb?.find(l=>l.type==="organization-switcher");i?.organizationId?m.push(`/organizations/${i.organizationId}`):m.push("/")}return(i,l)=>(n(),g(e(ge),{style:{padding:"5px 25px",border:"1px solid #f0f0f0"},"back-icon":null},{title:a(()=>[y("div",{class:"logo-container",onClick:c},[...l[1]||(l[1]=[y("img",{src:F,alt:"Abstra Logo",class:"logo"},null,-1),y("span",{class:"logo-text"},"Abstra",-1)])])]),subTitle:a(()=>[o.breadcrumb?(n(),g(e(re),{key:0},{default:a(()=>[(n(!0),h($,null,O(o.breadcrumb,(s,f)=>(n(),g(e(ie),{key:f},{default:a(()=>[s.type==="organization-switcher"?(n(),g(Ce,{key:0,"organization-id":s.organizationId},null,8,["organization-id"])):s.type==="editable"?(n(),g(be,{key:1,"model-value":s.label,"onUpdate:modelValue":d=>i.$emit("update:breadcrumb-label",{index:f,label:d})},null,8,["model-value","onUpdate:modelValue"])):s.path?(n(),g(e(Y),{key:2,to:s.path},{default:a(()=>[p(u(s.label),1)]),_:2},1032,["to"])):(n(),h("span",Ae,u(s.label),1))]),_:2},1024))),128))]),_:1})):V("",!0)]),extra:a(()=>[y("div",$e,[o.showAiSparkles?(n(),g(I,{key:0,type:"link",onClick:l[0]||(l[0]=s=>e(r).toggle())},{default:a(()=>[t(e(fe)),p(" "+u(e(v).translate("i18n_consolenavbar_ai_assistant")),1)]),_:1})):V("",!0),t(I,{href:e(G).DOCS,target:"_blank",type:"link"},{default:a(()=>[t(e(ne)),p(" "+u(e(v).translate("i18n_consolenavbar_docs")),1)]),_:1},8,["href"]),t(ze)])]),_:1}))}}),He=A(Oe,[["__scopeId","data-v-32a6ae24"]]);export{He as N};
//# sourceMappingURL=Navbar-CcoGTcBg.js.map
