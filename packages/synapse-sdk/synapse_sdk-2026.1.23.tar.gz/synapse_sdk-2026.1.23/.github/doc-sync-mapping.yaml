# Code-to-Documentation Mapping Configuration
# Used by doc-sync to identify which documentation files may need updates
# when specific code files are changed.

mappings:
  # 1:1 API Reference mapping (direct mirror of code structure)
  api_reference:
    pattern: "synapse_sdk/{module}/**/*.py"
    docs: "docs/docs/developer-guides/reference/synapse_sdk/{module}/**/*.md"
    priority: 1

  # Conceptual documentation mapping (N:M relationship)
  conceptual:
    # Plugin system
    - sources:
        - "synapse_sdk/plugins/action.py"
        - "synapse_sdk/plugins/decorators.py"
      docs:
        - "docs/docs/plugins/index.md"
        - "docs/docs/plugins/defining-actions.md"
      priority: 2

    - sources:
        - "synapse_sdk/plugins/context/*.py"
      docs:
        - "docs/docs/plugins/runtime-context.md"
      priority: 2

    - sources:
        - "synapse_sdk/plugins/executors/**/*.py"
      docs:
        - "docs/docs/plugins/execution/*.md"
      priority: 2

    - sources:
        - "synapse_sdk/plugins/runner.py"
      docs:
        - "docs/docs/plugins/index.md"
        - "docs/docs/quickstart.md"
      priority: 2

    # Client classes
    - sources:
        - "synapse_sdk/clients/base.py"
        - "synapse_sdk/clients/agent/*.py"
      docs:
        - "docs/docs/api/clients/*.md"
      priority: 2

    # Loggers and utilities
    - sources:
        - "synapse_sdk/loggers.py"
      docs:
        - "docs/docs/utils/logging.md"
      priority: 2

    - sources:
        - "synapse_sdk/types.py"
      docs:
        - "docs/docs/developer-guides/reference/synapse_sdk/types.md"
      priority: 2

  # Project-level documentation (README, AGENT.md)
  project:
    sources:
      - "synapse_sdk/**/*.py"
    docs:
      - "AGENT.md"
      - "README.md"
    priority: 3
    # Only trigger for public API changes
    filter:
      is_public: true
      element_types:
        - "class"
        - "function"

# File patterns to ignore
ignore:
  - "synapse_sdk/**/__pycache__/**"
  - "synapse_sdk/**/tests/**"
  - "tests/**"  # Test files
  - "scripts/**"  # Internal scripts
  - "**/_*.py"  # Private modules
  - "**/__init__.py"  # Re-export only files

# Style guide references (relative to repository root)
style_guides:
  tech_docs: ".github/doc-sync/styles/tech-docs-style-guide.md"
  docusaurus: ".github/doc-sync/styles/docusaurus-recommendation.md"
