# Snippet registrations for the Users Core module
snippets:
  - id: users_core_env
    target: .env,.env.example,.env.dev,.env.prod
    anchor: "# <<<inject:module-env>>>"
    template: users_core.snippet.j2
    features: [users_core]
    profiles: [fastapi/standard, fastapi/ddd, nestjs/standard]
    description: Inject Users Core environment guidance and defaults.
    version: "0.1.0"
    priority: 15
    dependencies: []
    context:
      fragment: env
    schema:
      type: object
      properties:
        USERS_DEFAULT_LOCALE:
          type: string
          default: en
          description: Default locale assigned to new users.
        USERS_ALLOW_REGISTRATION:
          type: boolean
          default: true
          description: Toggle whether public sign-up is enabled.
      additionalProperties: true
      required: []
    metadata:
      author: "RapidKit Core Team"
      created_at: "2025-10-29"
      last_modified: "2025-10-29"
    conflict_resolution: merge

  - id: users_core_settings_fields
    target: src/modules/free/essentials/settings/settings.py
    anchor: "# <<<inject:settings-fields>>>"
    template: users_core.snippet.j2
    features: [users_core, extendable_settings]
    profiles: [fastapi/standard, fastapi/ddd]
    description: Extend application settings with Users Core configuration section.
    version: "0.1.0"
    priority: 20
    dependencies: []
    context:
      fragment: settings
    schema:
      type: object
      properties: {}
      additionalProperties: true
      required: []
    metadata:
      author: "RapidKit Core Team"
      created_at: "2025-10-29"
      last_modified: "2025-10-29"
    conflict_resolution: merge
