"""Protocol definitions for extensible file system providers."""

# AUTOGENERATED! DO NOT EDIT! File to edit: ../../nbs/core/protocols.ipynb.

# %% auto #0
__all__ = ['FileSystemProvider']

# %% ../../nbs/core/protocols.ipynb #c3d4e5f6
from typing import Optional, Protocol, Tuple, runtime_checkable

from cjm_file_discovery.core.models import FileInfo
from .models import DirectoryListing

# %% ../../nbs/core/protocols.ipynb #e5f6a7b8
@runtime_checkable
class FileSystemProvider(Protocol):
    """Protocol for file system access backends."""

    @property
    def name(self) -> str:  # Provider identifier (e.g., 'local', 's3', 'gdrive')
        """Provider identifier."""
        ...

    @property
    def root_path(self) -> str:  # Root path for this provider
        """Root path for this provider."""
        ...

    @property
    def path_separator(self) -> str:  # Path separator character
        """Path separator character."""
        ...

    def list_directory(
        self,
        path: str  # Directory path to list
    ) -> DirectoryListing:  # Directory contents and metadata
        """List contents of a directory."""
        ...

    async def list_directory_async(
        self,
        path: str  # Directory path to list
    ) -> DirectoryListing:  # Directory contents and metadata
        """Async list contents of a directory."""
        ...

    def get_file_info(
        self,
        path: str  # Path to file/directory
    ) -> Optional[FileInfo]:  # FileInfo or None if not found
        """Get metadata for a single file/directory."""
        ...

    def get_parent_path(
        self,
        path: str  # Current path
    ) -> Optional[str]:  # Parent path, or None if at root
        """Get parent directory path."""
        ...

    def join_path(
        self,
        base: str,   # Base path
        *parts: str  # Path parts to join
    ) -> str:  # Joined path
        """Join path components."""
        ...

    def normalize_path(
        self,
        path: str  # Path to normalize
    ) -> str:  # Normalized/resolved path
        """Normalize/resolve a path."""
        ...

    def is_valid_path(
        self,
        path: str  # Path to validate
    ) -> Tuple[bool, Optional[str]]:  # (valid, error_message)
        """Validate path, return (valid, error_message)."""
        ...

    def path_exists(
        self,
        path: str  # Path to check
    ) -> bool:  # True if path exists
        """Check if path exists."""
        ...

    def is_directory(
        self,
        path: str  # Path to check
    ) -> bool:  # True if path is a directory
        """Check if path is a directory."""
        ...
