var supplier_order;(()=>{var e,t={7631:(e,t,n)=>{"use strict";var i=n(74692),o=n.n(i),l=n(83719),s=n(78603),a=n.n(s),r=n(21391),c=n.n(r),d=n(65521),u=n(35804),h=n.n(u),p=n(15065);const m=n(79150).A.extend();var f=n(82405),v=n.n(f),g=n(35159);n(57776);const w=a().View.extend({tagName:"tr",ui:{edit:"button.edit",delete:"button.delete",duplicate:"button.duplicate"},triggers:{"click @ui.edit":"edit","click @ui.delete":"delete","click @ui.duplicate":"duplicate"},modelEvents:{change:"render"},template:n(51694),templateContext:function(){var e=this.model.total(),t=h().channel("config"),n=t.request("get:options","supplier_orders");return console.log(t),{edit:this.getOption("edit"),delete:this.getOption("delete"),duplicate:this.getOption("add")&&n.length>0,total:(0,g.ej)(e),ht_label:(0,g.ej)(this.model.get("ht")),tva_label:(0,g.ej)(this.model.get("tva"))}}}),b=a().View.extend({template:n(86965),templateContext:function(){var e=this.getOption("colspan");return this.getOption("edit")&&(e+=1),{colspan:e}}}),_=a().CollectionView.extend({tagName:"tbody",childViewTriggers:{edit:"line:edit",delete:"line:delete",bookmark:"bookmark:add",duplicate:"line:duplicate"},childView:w,emptyView:b,emptyViewOptions:function(){return{colspan:6,edit:this.getOption("section").edit}},childViewOptions:function(){return this.getOption("section")}});var y=n(20649);const x=a().View.extend({template:n(94140),regions:{lines:{el:"tbody",replaceElement:!0},errors:".group-errors"},ui:{add_btn:"button.add",total_ht:".total_ht",total_tva:".total_tva",total_ttc:".total_ttc"},triggers:{"click @ui.add_btn":"line:add"},childViewTriggers:{"line:edit":"line:edit","line:delete":"line:delete","line:duplicate":"line:duplicate"},initialize:function(e){var t=h().channel("facade");this.totalmodel=t.request("get:model","total"),this.config=h().channel("config"),this.listenTo(t,"change:lines",this.showTotals.bind(this)),this.collection=e.collection,this.listenTo(this.collection,"validated:invalid",this.showErrors),this.listenTo(this.collection,"validated:valid",this.hideErrors.bind(this)),this.listenTo(t,"bind:validation",this.bindValidation),this.listenTo(t,"unbind:validation",this.unbindValidation)},bindValidation:function(){v().bind(this)},unbindValidation:function(){v().unbind(this)},showErrors:function(e,t){this.detachChildView("errors"),this.showChildView("errors",new y.A({errors:t})),this.$el.addClass("error")},hideErrors:function(e){this.detachChildView("errors"),this.$el.removeClass("error")},showTotals:function(){},templateContext:function(){return{edit:this.getOption("section").edit,add:this.getOption("section").add}},onRender:function(){var e=new _({collection:this.collection,section:this.getOption("section")});this.showChildView("lines",e)},onAttach:function(){this.showTotals()}});var C=n(64996),V=n(22722),O=n(49083),A=n(77719),T=n(29179);const k=a().View.extend({id:"mainform-container",behaviors:[O.A],template:n(71928),regions:{type_id:".type_id",description:".description",ht:".ht",tva:".tva"},childViewTriggers:{change:"data:modified"},onBeforeSync:d.ro,onFormSubmitted:d.yr,initialize:function(){this.channel=h().channel("config"),this.type_options=this.getTypeOptions();var e=h().channel("facade");this.listenTo(e,"bind:validation",this.bindValidation),this.listenTo(e,"unbind:validation",this.unbindValidation)},bindValidation:function(){v().bind(this)},unbindValidation:function(){v().unbind(this)},getTypeOptions:function(){return this.channel.request("get:typeOptions","purchase")},onRender:function(){var e;e=new A.A({value:this.model.get("description"),title:"Description",field_name:"description"}),this.showChildView("description",e);var t=this.channel.request("get:form_section","lines:ht").edit;e=new A.A({value:this.model.get("ht"),title:"Montant HT",field_name:"ht",addon:"€",required:t,editable:t}),this.showChildView("ht",e);var n=this.channel.request("get:form_section","lines:tva").edit;e=new A.A({value:this.model.get("tva"),title:"Montant TVA",field_name:"tva",addon:"€",required:n,editable:n}),this.showChildView("tva",e),e=new T.A({value:this.model.get("type_id"),title:"Type de dépense",field_name:"type_id",options:this.type_options,id_key:"id"}),this.showChildView("type_id",e)},templateContext:function(){return{title:this.getOption("title"),add:this.getOption("add")}}});var M=n(84095);const S=a().View.extend({behaviors:[C.A],id:"supplierorderline-form-popup-modal",template:n(47992),regions:{form:{el:".form-component",replaceElement:!0},preview:{el:".preview",replaceElement:!0},loader:{el:".loader",replaceElement:!0}},ui:{modalbody:"header"},childViewEvents:{"success:sync":"onSuccessSync","loader:start":"showLoader","loader:stop":"hideLoader","files:changed":"onFilesChanged"},childViewTriggers:{"cancel:form":"modal:close"},onBeforeSync:d.ro,onFormSubmitted:d.yr,initialize:function(){this.add=this.getOption("add");var e=h().channel("facade");this.files=e.request("get:collection","attachments")},onSuccessSync:function(){this.add?this.triggerMethod("modal:notifySuccess"):this.triggerMethod("modal:close")},onModalAfterNotifySuccess:function(){this.triggerMethod("line:add")},onModalBeforeClose:function(){this.model.rollback()},refreshForm:function(){this.showForm()},shouldShowPreview:function(){var e=h().channel("preview");if(this.files.length>=1){var t=this.files.models[0];return""!==t.get("id")&&e.request("is:previewable",t)}return!1},showPreview:function(){var e=this.files.models[0],t=V.A.getViewer(e,{title:"Justificatifs",footerText:"Pour les PDF originaux, le copier-coller est possible."});t&&this.showChildView("preview",t)},showForm:function(){var e=new k({model:this.model,destCollection:this.getOption("destCollection"),title:this.getOption("title"),add:this.add});this.showChildView("form",e)},templateContext:function(){return{title:this.getOption("title"),add:this.add}},onRender:function(){this.refreshForm(),this.shouldShowPreview()&&this.showPreview()},showLoader:function(){var e=new M.A;this.showChildView("loader",e)},hideLoader:function(){this.getRegion("loader").empty()}});var q=n(8308);const F=a().View.extend({tagName:"div",behaviors:[O.A],template:n(61550),regions:{name:".name",advance_percent:".advance_percent",supplier_id:".supplier_id"},childViewEvents:{finish:"onFinish",change:"onChange"},initialize:function(){this.config=h().channel("config"),this.suppliers_options=this.config.request("get:options","suppliers")},onChange:function(e,t){this.model.set(e,t),this.triggerMethod("order:modified",e,t),this.triggerMethod("data:modified",e,t)},onFinish:function(e,t){this.model.set(e,t),this.triggerMethod("order:modified",e,t),this.triggerMethod("data:persist",e,t)},showSupplierId:function(){var e=this.config.request("get:form_section","general:supplier_id").edit,t={options:this.suppliers_options,title:"Fournisseur",field_name:"supplier_id",editable:e,value:this.model.get("supplier_id")};this.model.has("supplier_id")||(t.placeholder="Sélectionner");var n=new T.A(t);this.showChildView("supplier_id",n)},showCaePercentage:function(){var e=this.config.request("get:form_section","general:cae_percentage").edit,t=new q.A({value:this.model.get("cae_percentage"),title:"Part de paiement direct par la CAE",field_name:"cae_percentage",editable:e});this.showChildView("advance_percent",t)},showName:function(){var e=this.config.request("get:form_section","general").edit,t=new A.A({value:this.model.get("name"),title:"Nom",field_name:"name",editable:e});this.showChildView("name",t)},onRender:function(){this.config.request("has:form_section","general:cae_percentage")&&this.showCaePercentage(),this.config.request("has:form_section","general:supplier_id")&&this.showSupplierId(),this.showName()},onSuccessSync:function(){h().channel("facade").trigger("navigate","index")}}),D=a().View.extend({id:"supplierorderline-duplicate-form",behaviors:[C.A],template:n(98827),regions:{select:".select"},ui:{cancel_btn:"button[type=reset]",form:"form"},events:{"submit @ui.form":"onSubmit","click @ui.cancel_btn":"onCancelClick"},initialize:function(){var e=h().channel("config");this.options=e.request("get:options","supplier_orders")},onCancelClick:function(){this.triggerMethod("modal:close")},templateContext:function(){var e=this.model.getHT(),t=this.model.getTva(),n=this.model.total();return{ht:(0,g.ej)(e),tva:(0,g.ej)(t),ttc:(0,g.ej)(n),type_id:this.model.get("type_id")}},onRender:function(){var e=new T.A({options:this.options,title:"Commande fournisseur vers laquelle dupliquer",id_key:"id",field_name:"supplier_order_id",value:this.model.get("supplier_order_id")});this.showChildView("select",e)},onSubmit:function(e){e.preventDefault();var t=(0,d.n_)(this.getUI("form")),n=this.model.duplicate(t),i=this;n.done((function(){i.triggerMethod("modal:close")}))}}),j=a().View.extend({tagName:"div",template:n(55190),modelEvents:{"change:ttc":"render","change:ht":"render","change:tva":"render","change:ttc_cae":"render","change:ttc_worker":"render"},templateContext:function(){return{ht:(0,g.ej)(this.model.get("ht")),tva:(0,g.ej)(this.model.get("tva")),ttc:(0,g.ej)(this.model.get("ttc")),ttc_cae:(0,g.ej)(this.model.get("ttc_cae")),ttc_worker:(0,g.ej)(this.model.get("ttc_worker"))}}});var E=n(73864),P=n(9498),R=n(55872),L=n(74125),z=n(74692);const N=a().View.extend({className:"container-fluid page-content",template:n(80099),regions:{modalRegion:".modalRegion",files:".files",supplierOrderForm:".supplier-order",linesRegion:".lines-region",totals:".totals",messages:{el:".messages-container",replaceElement:!0},errors:".group-errors"},ui:{modal:".modalRegion"},childViewEvents:{"line:add":"onLineAdd","line:edit":"onLineEdit","line:delete":"onLineDelete","order:modified":"onDataModified","line:duplicate":"onLineDuplicate","status:change":"onStatusChange"},initialize:function(){this.facade=h().channel("facade"),this.config=h().channel("config"),this.listenTo(this.facade,"status:change",this.onStatusChange)},onDataModified:function(e,t){"supplier_id"==e&&this.onSupplierModified(t);var n=this.facade.request("get:model","total"),i=this.facade.request("get:model","supplierOrder"),o=n.get("ttc"),l=(0,g.Os)(o,i.get("cae_percentage")),s=o-l;n.set("ttc_cae",l),n.set("ttc_worker",s)},onSupplierModified:function(e){var t=this.config.request("get:options","suppliers"),n=L.find(t,(function(t){return t.value==e})),i=z("[data-backbone-var=supplier_id]");i.text(n.label),i.attr("href","/suppliers/".concat(e))},showSupplierOrderForm:function(){var e=this.config.request("get:form_section","general").edit,t=this.facade.request("get:model","supplierOrder"),n=new F({model:t,edit:e});this.showChildView("supplierOrderForm",n)},onLineAdd:function(e){var t=new m({});this.showLineForm(t,!0,"Ajouter un achat")},onLineEdit:function(e){this.showLineForm(e.model,!1,"Modifier un achat")},onLineDuplicate:function(e){this.showDuplicateForm(e.model)},onDeleteSuccess:function(){(0,l.DR)("Vos données ont bien été supprimées")},onDeleteError:function(){(0,l.Ix)("Une erreur a été rencontrée lors de la suppression de cet élément")},onLineDelete:function(e){window.confirm("Êtes-vous sûr de vouloir supprimer cette ligne ?")&&e.model.destroy({success:this.onDeleteSuccess,error:this.onDeleteError})},showModal:function(e,t){void 0===t&&(t="middle"),this.resizeModal(t),this.showChildView("modalRegion",e)},resizeModal:function(e){this.ui.modal.removeClass("size_small size_middle size_extralarge size_large size_full").addClass("size_".concat(e))},showFilesRegion:function(){var e=this,t=this.config.request("get:form_section","general").edit,n=this.facade.request("get:collection","attachments"),i=new R.A({collection:n,edit:t,addCallback:function(){return e.facade.trigger("file:updated")}});this.showChildView("files",i)},showLinesRegion:function(){var e=this.config.request("get:form_section","lines"),t=this.facade.request("get:collection","lines"),n=new x({collection:t,section:e});this.showChildView("linesRegion",n)},showMessages:function(){var e=new(c().Model),t=new E.A({model:e});this.showChildView("messages",t)},showTotals:function(){var e=this.facade.request("get:model","total"),t=new j({model:e});this.showChildView("totals",t)},showLineForm:function(e,t,n){var i=new S({title:n,add:t,model:e,destCollection:this.facade.request("get:collection","lines")}),o=this.facade.request("get:collection","attachments").length>0?"full":"middle";this.showModal(i,o)},showDuplicateForm:function(e){var t=new D({model:e});this.showChildView("modalRegion",t)},showLogin:function(){var e=new P.A({});this.showChildView("modalRegion",e)},onRender:function(){this.showFilesRegion(),this.showSupplierOrderForm(),this.showLinesRegion(),this.showTotals(),this.showMessages()},_showStatusModal:function(e){console.log("Showing the status modal");var t=new p.A({action:e});this.showChildView("modalRegion",t)},formOk:function(){console.log("Checking that form is OK");var e=!0,t=this.facade.request("is:valid");return L.isEmpty(t)?this.detachChildView("errors"):(console.log(t),this.showChildView("errors",new y.A({errors:t})),e=!1),e},onStatusChange:function(e){var t=this;if(console.log("Status changed asked"),this.config.request("get:form_section","general").edit){if(!e.get("status"))return;if((0,d.ro)(),"draft"!=e.get("status")&&(console.log("Status is not draft"),!this.formOk()))return document.body.scrollTop=document.documentElement.scrollTop=0,void(0,d.yr)();this.facade.request("save:all").then((function(){(0,d.yr)(),t._showStatusModal(e)}),(function(){(0,d.yr)(),(0,l.Ix)("Erreur pendant la sauvegarde")}))}else this._showStatusModal(e)}}),H=a().Object.extend({initialize:function(e){this.facade=h().channel("facade"),console.log("Controller.initialize"),this.rootView=e.rootView}}),I=n(33588).A.extend({appRoutes:{}});var B=n(66536),U=n(17751);const $=new(a().Application.extend({region:"#js-main-area",onBeforeStart:function(e,t){console.log("AppClass.onBeforeStart"),this.rootView=new N,this.controller=new H({rootView:this.rootView}),this.router=new I({controller:this.controller}),console.log("AppClass.onBeforeStart finished"),U.A.setFormConfig(B.A.form_config)},onStart:function(e,t){this.showView(this.rootView),console.log("Starting the history"),(0,d.yr)(),c().history.start()}}));var J=n(30354);const K=c().Model.extend({isLocalModel:!0});var Q=n(76004),Y=n(10666);const G=Q.A.extend(Y.A).extend({props:["id","name","cae_percentage","supplier_id"],validation:{name:{required:!0},cae_percentage:{required:!0}}});var W=n(57019),X=n(74125);const Z=W.A.extend({model:m,validate:function(){console.log("Validating");var e={};return this.each((function(t){var n=t.validate();n&&X.extend(e,n)})),0==this.models.length&&(e.lines="Veuillez ajouter au moins un produit",this.trigger("validated:invalid",this,{lines:"Veuillez ajouter au moins un produit"})),e}});var ee=n(46174),te=n(1052);const ne=new(a().Object.extend(ee.A).extend({channelName:"facade",radioEvents:{"changed:line":"computeLineTotal","changed:totals":"computeFundingTotals","changed:order.cae_percentage":"computeFundingTotals","file:updated":"onFileUpdated"},radioRequests:{"get:collection":"getCollectionRequest","get:model":"getModelRequest","is:valid":"isDataValid","save:all":"saveAll"},initialize:function(e){this.models={},this.collections={}},start:function(){return console.log("Starting the facade"),(0,d.m)(this.url).then(this.setupModels.bind(this))},setup:function(e){console.log("Facade.setup"),console.table(e),this.mergeOptions(e,["edit"]),this.url=e.context_url},setupModels:function(e){this.models.total=new K;var t=e.lines;this.collections.lines=new Z(t),this.collections.attachments=new J.A(e.attachments),this.collections.attachments.url="/api/v1/nodes/".concat(e.id,"/files"),this.collections.status_history=new te.A(e.status_history),this.models.supplierOrder=new G(e),this.setModelUrl("supplierOrder",AppOption.context_url),this.computeLineTotal(),this.computeFundingTotals()},onFileUpdated:function(){this.collections.attachments.fetch()},computeLineTotal:function(){var e=this.collections.lines,t={};t.ht=e.total_ht(),t.tva=e.total_tva(),t.ttc=e.total(),this.getChannel().trigger("change:lines"),this.models.total.set(t),this.computeFundingTotals()},computeFundingTotals:function(){var e=this.models.supplierOrder,t={},n=this.models.total.get("ttc"),i=e.get("cae_percentage");t.ttc_cae=(0,g.Os)(n,i),t.ttc_worker=n-t.ttc_cae,this.models.total.set(t)}}));var ie=n(36370),oe=n(75927),le=n(48004),se=new ie.A;o()((function(){(0,l.YQ)(AppOption,$,ne,{actionsApp:se,statusHistoryApp:oe.A,customServices:[U.A,le.A]})}))},80099:(e,t,n)=>{var i=n(93633);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return"<div class=\"files separate_top content_vertical_padding\"></div>\n<div class=\"separate_top\">\n    <div class='messages-container'></div>\n    <div class='group-errors'></div>\n    <div class='totals grand-total'></div>\n    <div class='form-section'>\n        <div class='content'>\n            <div class='form-section'>\n                <div class='content'>\n                    <div class=\"supplier-order\">\n                    </div>\n                    <div class='lines-region'>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<section id=\"supplierorderline_form\" class=\"modalRegion modal_view size_full\"></section>"},useData:!0})},61550:(e,t,n)=>{var i=n(93633);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return'<div class="separate_top content_vertical_padding">\n    <h3>Propriétés de la commande</h3>\n    <form class="form">\n        <div class="form-section">\n            <div class="layout flex two_cols">\n                <div class=\'advance_percent\'></div>\n                <div class=\'name\'></div>\n            </div>\n            <div class="row form-row">\n                <div class=\'col-md-6 supplier_id\'></div>\n            </div>\n        </div>\n    </form>\n</div>\n'},useData:!0})},98827:(e,t,n)=>{var i=n(93633);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var l,s,a=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c="function",d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div role="dialog" id="supplierorderline-forms" aria-modal="true" aria-labelledby="supplierorderline-forms_title">\n    <form>\n        <div class="modal_layout">\n            <header>\n                <button tabindex=\'-1\' type="button" class="icon only unstyled close" title="Fermer cette fenêtre" aria-label="Fermer cette fenêtre">\n                    <svg><use href="/static/icons/icones.svg#times"></use></svg>\n                </button>\n                <h2 id="supplierorderline-forms_title">Dupliquer une ligne de commande fournisseur</h2>\n            </header>\n            <div class="modal_content_layout">\n                <div class="modal_content">\n                    <div class=\'separate_bottom\'>\n                        <h3>Ligne</h3>\n                        '+e.escapeExpression(typeof(s=null!=(s=d(n,"description")||(null!=t?d(t,"description"):t))?s:r)===c?s.call(a,{name:"description",hash:{},data:o,loc:{start:{line:14,column:24},end:{line:14,column:39}}}):s)+"<br />\n                        <div class='expense_totals'>\n                            <div class=\"layout flex two_cols\">\n                                <div>\n                                    <p>HT&nbsp;: "+(null!=(l=typeof(s=null!=(s=d(n,"ht")||(null!=t?d(t,"ht"):t))?s:r)===c?s.call(a,{name:"ht",hash:{},data:o,loc:{start:{line:18,column:49},end:{line:18,column:59}}}):s)?l:"")+'</p>\n                                </div>\n                            </div>\n                            <div class="layout flex two_cols">\n                                <div>\n                                    <p>TVA&nbsp;: '+(null!=(l=typeof(s=null!=(s=d(n,"tva")||(null!=t?d(t,"tva"):t))?s:r)===c?s.call(a,{name:"tva",hash:{},data:o,loc:{start:{line:23,column:50},end:{line:23,column:61}}}):s)?l:"")+"</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class='select layout'></div>\n                </div>\n                <footer>\n                    <button\n                        class='btn btn-success btn-primary'\n                        type='submit'\n                        value='submit'>\n                        Dupliquer\n                    </button>\n                    <button\n                        class='btn'\n                        type='reset'\n                        value='submit'>\n                        Annuler\n                    </button>\n                </footer>\n            </div>\n        </div>\x3c!-- /.modal_layout --\x3e\n    </form>\n</div>\x3c!-- /#supplierorderline-forms --\x3e\n\n"},useData:!0})},86965:(e,t,n)=>{var i=n(93633);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var l,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<td colspan='"+e.escapeExpression("function"==typeof(l=null!=(l=s(n,"colspan")||(null!=t?s(t,"colspan"):t))?l:e.hooks.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"colspan",hash:{},data:o,loc:{start:{line:1,column:13},end:{line:1,column:26}}}):l)+"'><em>Aucun achat n’a été renseigné</em></td>\n"},useData:!0})},47992:(e,t,n)=>{var i=n(93633);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var l,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div role="dialog" id="supplierorderline-forms" aria-modal="true" aria-labelledby="supplierorderline-forms_title">\n    <div class="modal_layout">\n        <header>\n            <button tabindex=\'-1\' type="button" class="icon only unstyled close" title="Fermer cette fenêtre">\n                <svg>\n                    <use href="/static/icons/icones.svg#times"></use>\n                </svg>\n            </button>\n            <h2 id="supplierorderline-forms_title">'+e.escapeExpression("function"==typeof(l=null!=(l=s(n,"title")||(null!=t?s(t,"title"):t))?l:e.hooks.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:o,loc:{start:{line:9,column:51},end:{line:9,column:62}}}):l)+'</h2>\n        </header>\n        <div class="tab-content">\n            <div role="tabpanel" class="tab-pane fade in active layout" aria-labelledby="mainform-tabtitle">\n                <div class="layout flex two_cols pdf_viewer">\n                    <div class="preview" style="display: none"></div>\n                    <div class="form-component"></div>\n                    <div class="loader" style="display: none"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n</div>'},useData:!0})},71928:(e,t,n)=>{var i=n(93633);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var l,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<form class='modal_content_layout layout'>\n    <div class=\"modal_content\">\n        <div class='row form-row'>\n            <div class='date required col-md-6'></div>\n            <div class='category col-md-6'></div>\n        </div>\n        <div class='row form-row'>\n            <div class='type_id required col-md-12'></div>\n        </div>\n        <div class='row form-row'>\n            <div class='description required col-md-12'></div>\n        </div>\n        <div class='row form-row'>\n            <div class='ht col-md-6'></div>\n            <div class='tva col-md-6'></div>\n        </div>\n        <div class='row form-row'>\n            <div class='business_link col-md-12'></div>\n        </div>\n    </div>\n    <footer>\n        <button class='btn btn-success btn-primary' type='submit' value='submit' formnovalidate>\n            "+e.escapeExpression("function"==typeof(l=null!=(l=s(n,"title")||(null!=t?s(t,"title"):t))?l:e.hooks.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:o,loc:{start:{line:23,column:12},end:{line:23,column:23}}}):l)+"\n        </button>\n        <button class='btn btn-default secondary-action' type='reset' value='submit'>\n            Fermer\n        </button>\n    </footer>\n</form>"},useData:!0})},94140:(e,t,n)=>{var i=n(93633);e.exports=(i.default||i).template({1:function(e,t,n,i,o){return'\t\t\t\t\t<th scope="col" class="col_actions" title="Actions"><span class="screen-reader-text">Actions</span></th>\n'},3:function(e,t,n,i,o){return'\t\t\t\t<tr>\n\t\t\t\t\t<td class="col_actions" colspan="5">\n\t\t\t\t\t\t<button class=\'btn add\'>\n\t\t\t\t\t\t\t<svg><use href="/static/icons/icones.svg#plus"></use></svg>Ajouter un achat\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var l,s,a,r=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,d="function",u=e.hooks.blockHelperMissing,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},p='<div class="content_vertical_padding separate_top">\n    <h2>Détail de la commande</h2>\n\t<div class=\'group-errors\'></div>\n\t<div class="table_container">\n\t\t<table class="opa hover_table">\n\t\t\t<thead>\n\t\t\t\t<th scope="col" class="col_text">Description</th>\n                <th scope="col" class="col_number" title="Montant Hors Taxes"><span class="screen-reader-text">Montant </span>H<span class="screen-reader-text">ors </span>T<span class="screen-reader-text">axes</span></th>\n                <th scope="col" class="col_number" title="Taux de TVA"><span class="screen-reader-text">Taux de </span>TVA</th>\n\t\t\t\t<th scope="col" class="col_number">Total TTC</th>\n';return s=null!=(s=h(n,"edit")||(null!=t?h(t,"edit"):t))?s:c,a={name:"edit",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:11,column:4},end:{line:13,column:13}}},l=typeof s===d?s.call(r,a):s,h(n,"edit")||(l=u.call(t,l,a)),null!=l&&(p+=l),p+="\t\t\t</thead>\n\t\t\t<tbody class='lines'>\n\t\t\t</tbody>\n\t\t\t<tfoot>\n",s=null!=(s=h(n,"add")||(null!=t?h(t,"add"):t))?s:c,a={name:"add",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:18,column:4},end:{line:26,column:12}}},l=typeof s===d?s.call(r,a):s,h(n,"add")||(l=u.call(t,l,a)),null!=l&&(p+=l),p+"\t\t\t</tfoot>\n\t\t</table>\n\t</div>\n</div>\n"},useData:!0})},51694:(e,t,n)=>{var i=n(93633);e.exports=(i.default||i).template({1:function(e,t,n,i,o){var l,s,a,r=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,d="function",u=e.hooks.blockHelperMissing,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},p="<td class='col_actions width_three'>\n\t<ul>\n\t\t<li>\n            <button class='btn icon only edit' title='Modifier' aria-label='Modifier'>\n                <svg><use href=\"/static/icons/icones.svg#pen\"></use></svg>\n            </button>\n        </li>\n";return s=null!=(s=h(n,"duplicate")||(null!=t?h(t,"duplicate"):t))?s:c,a={name:"duplicate",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:13,column:8},end:{line:19,column:22}}},l=typeof s===d?s.call(r,a):s,h(n,"duplicate")||(l=u.call(t,l,a)),null!=l&&(p+=l),s=null!=(s=h(n,"delete")||(null!=t?h(t,"delete"):t))?s:c,a={name:"delete",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o,loc:{start:{line:20,column:8},end:{line:26,column:19}}},l=typeof s===d?s.call(r,a):s,h(n,"delete")||(l=u.call(t,l,a)),null!=l&&(p+=l),p+"    </ul>\n</td>\n"},2:function(e,t,n,i,o){return"\t\t<li>\n            <button class='btn icon only duplicate' title='Dupliquer' aria-label='Dupliquer'>\n                <svg><use href=\"/static/icons/icones.svg#copy\"></use></svg></button>\n            </button>\n        </li>\n"},4:function(e,t,n,i,o){return"\t\t<li>\n            <button class='btn icon only negative delete'>\n                <svg><use href=\"/static/icons/icones.svg#trash-alt\"></use></svg>\n            </button>\n        </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var l,s,a,r=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,d="function",u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},h='<td class="col_text">'+e.escapeExpression(typeof(s=null!=(s=u(n,"description")||(null!=t?u(t,"description"):t))?s:c)===d?s.call(r,{name:"description",hash:{},data:o,loc:{start:{line:1,column:21},end:{line:1,column:38}}}):s)+'</td>\n<td class="col_number">'+(null!=(l=typeof(s=null!=(s=u(n,"ht_label")||(null!=t?u(t,"ht_label"):t))?s:c)===d?s.call(r,{name:"ht_label",hash:{},data:o,loc:{start:{line:2,column:23},end:{line:2,column:39}}}):s)?l:"")+'</td>\n<td class="col_number">'+(null!=(l=typeof(s=null!=(s=u(n,"tva_label")||(null!=t?u(t,"tva_label"):t))?s:c)===d?s.call(r,{name:"tva_label",hash:{},data:o,loc:{start:{line:3,column:23},end:{line:3,column:40}}}):s)?l:"")+'</td>\n<td class="col_number">'+(null!=(l=typeof(s=null!=(s=u(n,"total")||(null!=t?u(t,"total"):t))?s:c)===d?s.call(r,{name:"total",hash:{},data:o,loc:{start:{line:4,column:23},end:{line:4,column:36}}}):s)?l:"")+"</td>\n";return s=null!=(s=u(n,"edit")||(null!=t?u(t,"edit"):t))?s:c,a={name:"edit",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:5,column:0},end:{line:29,column:9}}},l=typeof s===d?s.call(r,a):s,u(n,"edit")||(l=e.hooks.blockHelperMissing.call(t,l,a)),null!=l&&(h+=l),h},useData:!0})},55190:(e,t,n)=>{var i=n(93633);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var l,s,a=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c="function",d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="layout flex">\n    <div>\n        <h4 class="content_vertical_padding">Règlements</h4>\n    \t<table class="top_align_table">\n    \t\t<tbody>\n    \t\t\t<tr>\n    \t\t\t\t<th scope="row">CAE</th>\n    \t\t\t\t<td class="col_number">'+(null!=(l=typeof(s=null!=(s=d(n,"ttc_cae")||(null!=t?d(t,"ttc_cae"):t))?s:r)===c?s.call(a,{name:"ttc_cae",hash:{},data:o,loc:{start:{line:8,column:31},end:{line:8,column:46}}}):s)?l:"")+'</td>\n    \t\t\t</tr>\n    \t\t\t<tr>\n    \t\t\t\t<th scope="row">Entrepreneur</th>\n    \t\t\t\t<td class="col_number">'+(null!=(l=typeof(s=null!=(s=d(n,"ttc_worker")||(null!=t?d(t,"ttc_worker"):t))?s:r)===c?s.call(a,{name:"ttc_worker",hash:{},data:o,loc:{start:{line:12,column:31},end:{line:12,column:49}}}):s)?l:"")+'</td>\n    \t\t\t</tr>\n    \t\t</tbody>\n    \t</table>\n    </div>\n\t<div>\n    \t<h4 class="content_vertical_padding">Totaux</h4>\n    \t<table class="top_align_table">\n    \t\t<tbody>\n    \t\t\t<tr>\n    \t\t\t\t<th scope="row">Total HT</th>\n    \t\t\t\t<td class="col_number">'+(null!=(l=typeof(s=null!=(s=d(n,"ht")||(null!=t?d(t,"ht"):t))?s:r)===c?s.call(a,{name:"ht",hash:{},data:o,loc:{start:{line:23,column:31},end:{line:23,column:41}}}):s)?l:"")+'</td>\n    \t\t\t</tr>\n    \t\t\t<tr>\n    \t\t\t\t<th scope="row">Total TVA</th>\n    \t\t\t\t<td class="col_number">'+(null!=(l=typeof(s=null!=(s=d(n,"tva")||(null!=t?d(t,"tva"):t))?s:r)===c?s.call(a,{name:"tva",hash:{},data:o,loc:{start:{line:27,column:31},end:{line:27,column:42}}}):s)?l:"")+'</td>\n    \t\t\t</tr>\n    \t\t\t<tr>\n    \t\t\t\t<th scope="row">Total TTC</th>\n    \t\t\t\t<td class="col_number">'+(null!=(l=typeof(s=null!=(s=d(n,"ttc")||(null!=t?d(t,"ttc"):t))?s:r)===c?s.call(a,{name:"ttc",hash:{},data:o,loc:{start:{line:31,column:31},end:{line:31,column:42}}}):s)?l:"")+"</td>\n    \t\t\t</tr>\n    \t\t</tbody>\n    \t</table>\n\t</div>\n</div>\n"},useData:!0})}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var l=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(l.exports,l,l.exports,i),l.loaded=!0,l.exports}i.m=t,e=[],i.O=(t,n,o,l)=>{if(!n){var s=1/0;for(d=0;d<e.length;d++){for(var[n,o,l]=e[d],a=!0,r=0;r<n.length;r++)(!1&l||s>=l)&&Object.keys(i.O).every((e=>i.O[e](n[r])))?n.splice(r--,1):(a=!1,l<s&&(s=l));if(a){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[n,o,l]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.j=734,(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=n[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={734:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var o,l,[s,a,r]=n,c=0;if(s.some((t=>0!==e[t]))){for(o in a)i.o(a,o)&&(i.m[o]=a[o]);if(r)var d=r(i)}for(t&&t(n);c<s.length;c++)l=s[c],i.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return i.O(d)},n=self.webpackChunkenDI=self.webpackChunkenDI||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=i.O(void 0,[121],(()=>i(7631)));o=i.O(o),supplier_order=o})();