[build-system]
requires = ["setuptools>=77.0", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "structure-features"
version = "0.1.0"
description = "Structuring Hidden Features via Clustering of Unit-Level Activation"
readme = "README.md"
requires-python = ">=3.11"
license = { file = "LICENSE" }
authors = [{ name = "Sejik Park" }]
dependencies = [
    "torch>=2.8",
    "torchvision",
    "scipy",
    "opencv-python",
    "pandas",
    "grad-cam"
]

[project.optional-dependencies]
dev = [
    "build",
    "twine",
    "mkdocs",
    "mkdocstrings[python]",
    "mkdocs-material",
    "mkdocs-gen-files",
    "mkdocs-literate-nav",
    "mkdocs-section-index",
    "pytest",
    "pytest-benchmark",
    "pytest-timeout"
]

[tool.setuptools]
package-dir = {"" = "src"}

[tool.setuptools.packages.find]
where = ["src"]                # Only search for packages inside src/
exclude = ["tests*", "docs*"]  # Exclude tests and docs even if inside the package

[tool.pytest.ini_options]
markers = [
    "base: basic tests",
    "structure: structure tests",
    "structure_analysis: structure_analysis tests",
]

[project.urls]
Paper = "https://openreview.net/forum?id=zgNQGoqKS4"
Source = "https://github.com/Sejik/structure-features"