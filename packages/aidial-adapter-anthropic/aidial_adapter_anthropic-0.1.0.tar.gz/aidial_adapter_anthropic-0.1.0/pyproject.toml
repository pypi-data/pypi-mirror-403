[project]
name = "aidial-adapter-anthropic"
version = "0.1.0"
description = "Package implementing adapter from DIAL Chat Completions API to Anthropic API"
authors = [{ name = "EPAM RAIL", email = "SpecialEPM-DIALDevTeam@epam.com" }]
license = "Apache-2.0"
readme = "README.md"
keywords = ["ai"]
classifiers = ["Topic :: Software Development :: Libraries :: Python Modules"]
requires-python = ">=3.11,<4.0"
dependencies = [
  "aidial-sdk (>=0.28.0,<1)",
  "anthropic (>=0.75.0,<1)",
  "pydantic (>=1.10.17,<3)",
  "pillow (>=10.4.0,<11)",
  "aiohttp (>=3.13.3,<4)",
]

[project.urls]
Homepage = "https://epam-rail.com"
Documentation = "https://epam-rail.com/dial_api"
Repository = "https://github.com/epam/ai-dial-adapter-anthropic/"

[tool.poetry.group.test.dependencies]
pytest-asyncio = "0.21.1"
pytest = "7.4.0"
python-dotenv = "1.0.0"
pytest-dotenv = "^0.5.2"
pytest-xdist = "^3.5.0"
pytest-html = "^4.1.1"
pytest-sugar = "^1.0.0"
pytest-timeout = "^2.3.1"
respx = "^0.22.0"

[tool.poetry.group.lint.dependencies]
pyright = "1.1.389"
black = "24.3.0"
isort = "5.12.0"
autoflake = "2.2.0"
flake8 = "6.0.0"

[tool.poetry.group.dev.dependencies]
nox = "^2023.4.22"

[tool.pytest.ini_options]
addopts = "-n=auto --asyncio-mode=auto --self-contained-html --html=pytest.html --timeout=60"
generate_report_on_test = true
env_override_existing_values = 1
testpaths = ["tests"]
filterwarnings = ["error"]

[tool.pyright]
typeCheckingMode = "basic"
reportDeprecated = "error"
reportUnusedVariable = "error"
reportIncompatibleMethodOverride = "error"
exclude = [".git", ".venv", ".nox", "**/__pycache__", "build"]

[tool.black]
line-length = 80
exclude = '''
/(
    \.git
  | \.venv
  | \.nox
  | \.__pycache__
  | build
)/
'''

[tool.isort]
line_length = 80
profile = "black"
skip = [".venv", ".nox", "build"]

[tool.autoflake]
ignore_init_module_imports = true
remove_all_unused_imports = true
in_place = true
recursive = true
quiet = true
exclude = ["\\.venv", "\\.nox", "build"]
