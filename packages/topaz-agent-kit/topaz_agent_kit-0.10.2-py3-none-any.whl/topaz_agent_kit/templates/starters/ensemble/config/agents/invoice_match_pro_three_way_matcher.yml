# =============================================================================
# THREE-WAY MATCHER AGENT CONFIGURATION
# =============================================================================
#
# This agent performs a three-way match by comparing invoice data against
# Purchase Order and SOW/Receipt data using 8 match rules to determine match
# status, score, recommendation, and issues.
#
# =============================================================================
id: invoice_match_pro_three_way_matcher
type: adk
model: azure_openai
run_mode: local

# =============================================================================
# REMOTE EXECUTION CONFIGURATION
# =============================================================================
remote:
  url: http://127.0.0.1:8100/invoice_match_pro_three_way_matcher
  timeout: 30000
  retry_attempts: 3
# =============================================================================
# PROMPT CONFIGURATION
# =============================================================================
prompt:
  instruction:
    jinja: prompts/invoice_match_pro_three_way_matcher.jinja
  inputs:
    inline: |
      Invoice Data:
      Invoice Number: {{invoice_number}}
      Vendor Name: {{vendor_name}}
      Invoice Date: {{invoice_date}}
      Due Date: {{due_date}}
      Total Amount: {{total_amount}}
      Currency: {{currency}}
      PO Reference: {{po_reference}}
      Invoice Line Items: {{line_items}}
      
      PO Data:
      PO Number: {{po_number}}
      PO Date: {{po_date}}
      PO Vendor: {{vendor_name}}
      PO Total: {{total_amount}}
      PO Status: {{status}}
      PO Line Items: {{line_items}}
      PO Found: {{found}}
      
      SOW Data:
      SOW Number: {{sow_number}}
      SOW PO Number: {{po_number}}
      Receipt Date: {{receipt_date}}
      SOW Total: {{total_amount}}
      SOW Status: {{status}}
      SOW Line Items: {{line_items}}
      SOW Found: {{found}}


