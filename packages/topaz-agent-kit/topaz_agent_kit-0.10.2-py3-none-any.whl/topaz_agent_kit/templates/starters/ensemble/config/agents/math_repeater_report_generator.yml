# =============================================================================
# REPORT GENERATOR AGENT CONFIGURATION
# =============================================================================
#
# This agent aggregates all math problem solutions and generates a comprehensive
# report with all problems and their solutions.
#
# =============================================================================
id: math_repeater_report_generator
type: langgraph
model: "azure_openai"
run_mode: "local"

remote:
  url: http://127.0.0.1:8100/math_repeater_report_generator
  timeout: 30000
  retry_attempts: 3

# =============================================================================
# PROMPT CONFIGURATION
# =============================================================================
prompt:
  instruction:
    file: prompts/math_repeater_report_generator.jinja
  inputs:
    inline: |
      Problem Parser Results:
        Problem Count: {{math_repeater_parser.problem_count}}
        All Problems: {{math_repeater_parser.problems}}
      
      {% if math_repeater_solver_instances %}
      Solver Instance Results:
      {% for instance_id, solver_data in math_repeater_solver_instances.items() %}
      - {{instance_id}}:
        Problem Text: {{solver_data.problem_text if solver_data.problem_text else 'N/A'}}
        Problem Index: {{solver_data.problem_index if solver_data.problem_index is defined else 'N/A'}}
        Expression: {{solver_data.expression if solver_data.expression else 'N/A'}}
        Answer: {{solver_data.answer if solver_data.answer else 'N/A'}}
        Explanation: {{solver_data.explanation if solver_data.explanation else 'N/A'}}
        Error: {{solver_data.error if solver_data.error else 'N/A'}}
      {% endfor %}
      {% endif %}

