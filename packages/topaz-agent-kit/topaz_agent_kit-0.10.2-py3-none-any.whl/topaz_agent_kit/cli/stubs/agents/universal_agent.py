# Universal Agent Template - Single template for all frameworks
UNIVERSAL_AGENT_TEMPLATE = '''
from typing import Any, Dict

from topaz_agent_kit.agents.base import {{BaseAgentClass}}


class {{ClassName}}({{BaseAgentClass}}):
    """
    Generated {{FrameworkName}} agent for {{ClassName}}.
    Inherits from {{BaseAgentClass}} and provides custom variable handling.
    """
    
    def __init__(self, agent_id: str, **kwargs):
        super().__init__(agent_id, **kwargs)
        # Logger is already created by parent class
        

    def get_agent_variables(self, context: Dict[str, Any]) -> Dict[str, Any]:
        """
        Get agent-specific variables for prompt population.
        Generated based on YAML configuration analysis.
        
        This method is automatically generated by Prompt Variables Intelligence Engine based on:
        - Variables detected in your prompt templates (e.g., {{user_text}})
        - Upstream agent outputs that this agent needs
        - Custom variable requirements from your pipeline configuration
        """
        {{agent_variables_code}}
        
        # Log all variables for debugging
        self.logger.debug(f"{self.__class__.__name__} Variables: {variables}")
        
        # Log only input variables (from inputs section) for UI display
        # self._inputs_section_variables is set above by the generated code
        if hasattr(self, '_inputs_section_variables') and self._inputs_section_variables:
            for var_name in self._inputs_section_variables:
                if var_name in variables:
                    self.logger.input(f"{self.__class__.__name__} {var_name.title()}: {variables[var_name]}")
        
        return variables
    '''