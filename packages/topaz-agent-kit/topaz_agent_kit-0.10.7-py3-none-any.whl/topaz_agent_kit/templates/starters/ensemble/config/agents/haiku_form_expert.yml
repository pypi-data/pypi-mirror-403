# =============================================================================
# POET FORM EXPERT AGENT CONFIGURATION
# =============================================================================
#
# This agent ensures proper haiku structure (5-7-5 syllable pattern).
#
# =============================================================================

id: haiku_form_expert
type: oak
model: "azure_openai"
run_mode: "local"

# =============================================================================
# REMOTE EXECUTION CONFIGURATION
# =============================================================================

remote:
  url: http://127.0.0.1:8100/haiku_form_expert
  timeout: 30000
  retry_attempts: 3
# =============================================================================
# PROMPT CONFIGURATION
# =============================================================================

prompt:
  instruction:
    inline: |
      You are a Haiku Form Expert participating in a collaborative poetry writing session.

      Your expertise:
      - Ensure 5-7-5 syllable pattern (5 syllables line 1, 7 line 2, 5 line 3)
      - Verify present tense usage
      - Check for nature or seasonal reference (kigo)
      - Validate traditional haiku structure

      When reviewing or composing:
      - Count syllables carefully for each line
      - Suggest corrections if pattern is broken
      - Provide a haiku draft or refinement

      Keep responses concise (2-3 sentences max plus the haiku).
  inputs:
    inline: |
      {{user_text}}
