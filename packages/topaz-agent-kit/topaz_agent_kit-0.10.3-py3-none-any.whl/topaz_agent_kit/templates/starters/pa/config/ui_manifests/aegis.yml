# =============================================================================
# MAIN SECTION 
# =============================================================================
#
# - title (str, required): human-readable pipeline name
# - subtitle (str, required): detailed description of pipeline purpose
#
# =============================================================================
title: "Aegis"
subtitle: "Aegis is an automated invoice processing pipeline that acts as a protective shield for invoice validation. Like the mythological aegis that protected the gods, this pipeline scans for pending invoices, extracts structured data from invoices and evidence documents, validates against rate cards and commercial terms, detects exceptions (missing evidence, rate violations, retention/LD issues, milestone caps), and routes invoices to straight-through processing or async human review for exceptions. Async human reviews can be viewed and acted upon in the Operations Center, ensuring only valid invoices proceed while catching anomalies before they impact the business."

# =============================================================================
# AGENTS SECTION
# =============================================================================
#
# - agents (list[object], required): list of agents in the pipeline
#   - agents[].id (str, required): agent identifier
#   - agents[].title (str, required): human-readable agent name
#   - agents[].subtitle (str, required): agent description
#   - agents[].icon (str, required): path to icon SVG file (relative to ui/static/)
#
# =============================================================================
agents:
  - id: "aegis_pending_invoice_scanner"
    title: "Pending Invoice Scanner"
    subtitle: "Queries the database for all pending invoices awaiting processing"
    icon: "assets/aegis_pending_invoice_scanner.svg"
  
  - id: "aegis_invoice_extractor"
    title: "Invoice Extractor"
    subtitle: "Extracts structured data from invoice PDF files including invoice number, vendor, amounts, line items, retention, LD, and evidence references"
    icon: "assets/aegis_invoice_extractor.svg"
  
  - id: "aegis_translator"
    title: "Translation Agent"
    subtitle: "Translates extracted invoice and evidence data from non-English languages to English when needed"
    icon: "assets/aegis_translator.svg"
  
  - id: "aegis_rate_card_validator"
    title: "Rate Card Validator"
    subtitle: "Validates invoice line item rates against rate cards from the database"
    icon: "assets/aegis_rate_card_validator.svg"
  
  - id: "aegis_retention_validator"
    title: "Retention Validator"
    subtitle: "Validates that retention has been applied correctly according to the SOW's retention percentage"
    icon: "assets/aegis_retention_validator.svg"
  
  - id: "aegis_ld_validator"
    title: "LD Validator"
    subtitle: "Validates that liquidated damages (LD) have been applied correctly according to the SOW's LD terms"
    icon: "assets/aegis_ld_validator.svg"
  
  - id: "aegis_wbs_budget_validator"
    title: "WBS Budget Validator"
    subtitle: "Validates that invoice amounts do not exceed WBS budget allocations"
    icon: "assets/aegis_wbs_budget_validator.svg"
  
  - id: "aegis_evidence_validator"
    title: "Evidence Validator"
    subtitle: "Validates that all required evidence documents are present and complete using pre-extracted evidence data"
    icon: "assets/aegis_evidence_validator.svg"
  
  - id: "aegis_anomaly_validator"
    title: "Anomaly Validator"
    subtitle: "Detects abnormal spikes in invoice amounts by comparing them to historical patterns for the same vendor/SOW"
    icon: "assets/aegis_anomaly_validator.svg"
  
  - id: "aegis_exception_detector"
    title: "Exception Detector"
    subtitle: "Aggregates validation results from all validators and identifies exceptions"
    icon: "assets/aegis_exception_detector.svg"
  
  - id: "aegis_decision_router"
    title: "Decision Router"
    subtitle: "Determines routing path based on exceptions and generates dynamic HITL gate options with recommendations"
    icon: "assets/aegis_decision_router.svg"
  
  - id: "aegis_results_recorder"
    title: "Results Recorder"
    subtitle: "Saves processing results to database including validation results, exceptions, and HITL decisions"
    icon: "assets/aegis_results_recorder.svg"
  
  - id: "aegis_summary_reporter"
    title: "Summary Reporter"
    subtitle: "Generates comprehensive summary report of all processed invoices with saved report files and links"
    icon: "assets/aegis_summary_reporter.svg"

# =============================================================================
# INTERACTION DIAGRAM SECTION
# =============================================================================
#
# - interaction_diagram (str, required): path to workflow diagram SVG file
#   (relative to ui/static/)
#
# =============================================================================
interaction_diagram: "assets/aegis_workflow.svg"
