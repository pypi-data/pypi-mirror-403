# =============================================================================
# CASE CONFIGURATION - Math Batch Solver
# =============================================================================
#
# Defines how cases are displayed and managed for the batch math solver pipeline.
# Each problem in the batch is tracked as an individual case.
#
# =============================================================================

identity:
  # Each problem in the batch gets its own case ID
  # Simple format: BATCH-ABC12345 (prefix + UUID)
  # The expression/data is stored in case_data, not in the ID
  prefix: "BATCH"
  uniqueness: "uuid_suffix"  # Ensures unique case IDs

# =============================================================================
# DETAIL VIEW - Case Detail Display
# =============================================================================

detail_view:
  sections:
    - name: "Problem Details"
      fields:
        - field: "current_problem.index"
          label: "Problem Number"
          type: number
        - field: "current_problem.expression"
          label: "Expression"
          type: text
    
    - name: "Strategy Analysis"
      fields:
        - field: "math_strategist.expression"
          label: "Parsed Expression"
          type: text
        - field: "math_strategist.steps"
          label: "Solution Steps"
          type: list
    
    - name: "Calculation"
      fields:
        - field: "math_calculator.result"
          label: "Result"
          type: text
        - field: "math_calculator.rationale"
          label: "Rationale"
          type: multiline
    
    - name: "Audit"
      condition: "math_auditor IS NOT NULL"
      fields:
        - field: "math_auditor.strategist_validated"
          label: "Strategist Validated"
          type: boolean
        - field: "math_auditor.strategist_validation_message"
          label: "Strategist Validation Message"
          type: multiline
        - field: "math_auditor.calculator_validated"
          label: "Calculator Validated"
          type: boolean  
        - field: "math_auditor.calculator_validation_message"
          label: "Calculator Validation Message"
          type: multiline
        - field: "math_auditor.final_answer"
          label: "Final Answer"
          type: multiline
