"""Core inference logic for Datasculpt."""

from datasculpt.core.grain import (
    KeyCandidate,
    calculate_confidence,
    calculate_grain_diagnostics,
    calculate_uniqueness_ratio,
    detect_pseudo_key_signals,
    has_stable_grain,
    infer_grain,
    minimize_key,
    rank_key_candidates,
    score_key_combo,
    search_composite_keys,
    test_single_column_uniqueness,
)
from datasculpt.core.shapes import (
    ShapeResult,
    compare_hypotheses,
    detect_shape,
    generate_explanation,
    score_long_indicators,
    score_long_observations,
    score_series_column,
    score_wide_observations,
    score_wide_time_columns,
)
from datasculpt.core.special import (
    SpecialColumnCandidate,
    SpecialColumnFlag,
    SpecialColumnResult,
    SpecialColumnStatus,
    SpecialColumnType,
    ValueDistribution,
    compute_null_correlation,
    compute_value_distribution,
    detect_rate_columns,
    detect_special_columns,
    flag_column,
    get_special_columns,
    score_denominator_candidate,
    score_quality_candidate,
    score_suppression_candidate,
    score_weight_candidate,
)
from datasculpt.core.time import (
    GranularityResult,
    GridFitEvidence,
    HeaderGridResult,
    ParsedTimeHeader,
    SeriesFrequencyResult,
    SeriesMetadataConsistency,
    TimeAxisCandidate,
    TimeAxisResult,
    TimeGranularity,
    TimeRangeResult,
    check_header_grid_coherence,
    detect_granularity,
    detect_granularity_from_name,
    detect_granularity_from_values,
    extract_time_axis,
    extract_time_axis_from_headers,
    extract_time_range,
    extract_time_ranges,
    infer_series_frequency,
    parse_time_header,
    parse_time_headers,
    rank_time_axis_candidates,
)
from datasculpt.core.types import (
    ColumnEvidence,
    ColumnSpec,
    DatasetKind,
    DecisionRecord,
    GrainDiagnostics,
    GrainInference,
    HypothesisScore,
    InferenceConfig,
    InvariantProposal,
    PrimitiveType,
    PseudoKeySignals,
    Question,
    Role,
    ShapeHypothesis,
    StructuralType,
)

__all__ = [
    # Special column detection
    "SpecialColumnCandidate",
    "SpecialColumnFlag",
    "SpecialColumnResult",
    "SpecialColumnStatus",
    "SpecialColumnType",
    "ValueDistribution",
    "compute_null_correlation",
    "compute_value_distribution",
    "detect_rate_columns",
    "detect_special_columns",
    "flag_column",
    "get_special_columns",
    "score_denominator_candidate",
    "score_quality_candidate",
    "score_suppression_candidate",
    "score_weight_candidate",
    # Types
    "ColumnEvidence",
    "ColumnSpec",
    "DatasetKind",
    "DecisionRecord",
    "GrainDiagnostics",
    "GrainInference",
    "HypothesisScore",
    "InferenceConfig",
    "InvariantProposal",
    "PrimitiveType",
    "PseudoKeySignals",
    "Question",
    "Role",
    "ShapeHypothesis",
    "StructuralType",
    # Grain inference
    "KeyCandidate",
    "calculate_confidence",
    "calculate_grain_diagnostics",
    "calculate_uniqueness_ratio",
    "detect_pseudo_key_signals",
    "has_stable_grain",
    "infer_grain",
    "minimize_key",
    "rank_key_candidates",
    "score_key_combo",
    "search_composite_keys",
    "test_single_column_uniqueness",
    # Shape detection
    "ShapeResult",
    "compare_hypotheses",
    "detect_shape",
    "generate_explanation",
    "score_long_indicators",
    "score_long_observations",
    "score_series_column",
    "score_wide_observations",
    "score_wide_time_columns",
    # Time axis interpretation
    "GranularityResult",
    "GridFitEvidence",
    "HeaderGridResult",
    "ParsedTimeHeader",
    "SeriesFrequencyResult",
    "SeriesMetadataConsistency",
    "TimeAxisCandidate",
    "TimeAxisResult",
    "TimeGranularity",
    "TimeRangeResult",
    "check_header_grid_coherence",
    "detect_granularity",
    "detect_granularity_from_name",
    "detect_granularity_from_values",
    "extract_time_axis",
    "extract_time_axis_from_headers",
    "extract_time_range",
    "extract_time_ranges",
    "infer_series_frequency",
    "parse_time_header",
    "parse_time_headers",
    "rank_time_axis_candidates",
]
