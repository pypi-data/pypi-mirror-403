{
  "summary":{
    "type":"FOR",
    "entities":"{{entities}}",
		"for_interval":3, # interval between each entity
  },

  "browser":{
    "config":"{{browser_config}}",
    "options":"{{browser_options}}",
  },

  # login by cookie
  "head_crawl":[
    {
      "_kind":"open",
      "url":"{{login_url}}", 
    },
    {
      "_kind":"br_cookie",
      "value":"__sentinel__", # if it's empty, read from cookie file automatically
    },
  ],

  "crawler":{
    "form":[ 
      # open the publish page
      {
        "_kind":"open",
        "url":"{{publish_url}}",
      },
      # input the content
      {
        include "./parts/text.conf",
      },

      # hide the mask
      {
        "_kind":"css",
        "loc_or_elem":"{{hide_mask_selector}}",
        "value":{
          "display":"none",
        },
      },

      # input the images
      include "./parts/image.conf",
      
      # publish
      {
        "_kind":"click",
        "loc_or_elem":"{{publish_article_selector}}",
        "skip":"{{publish_article_skip}}",
        "timeout":"{{preview_wait_time:-5}}",
      },
    ],

    # output
    "data":{
      "mat_id":"{{mat_id}}", # biz field
      "mat_title":"{{mat_title}}", # biz field
      "pub_time":"{{pub_time}}", # biz func field
      # convert bool to 'success' or 'failure'
      "pub_stat":{
        "_kind":"ele_absents",
        "loc_or_elem":"{{publish_article_selector}}", # check by the element in form page
        "wait_time":"{{submit_wait_time:-5}}", # by default is 3 sconeds
        "after_invoked":[
          {
            "kind":"func",
            "value":"lambda value: 'success' if value else 'failure'",
          }
        ],
      },
      "pub_shot":{
        "_kind":"screenshot",
      }
    },
  },
}

