{
  "open":{
    "name":"open",
    "options":{
      "value":"{{login_url}}",
    },
  },
  "switch":{
    "name":"cast",
    "options":{
      "condition":{
        "skip_unless":"{{frame_loc}}",
      },
      "children":[
        {
          "name":"switch_to_frame",
          "options":{
            "target":"{{frame_loc}}",
          },
        }
      ]
    }
  },
  "toggle":{
    "name":"cast_order",
    "options":{
      "condition":{
        "skip_unless":"{{toggle_loc}}",
      },
      "loop":{
        "method":"click",
      },
      "children":[
        { "target":"{{toggle_loc}}", "timeout":"{{timeout:-1}}" },
      ]
    }
  },
  "perform":{
    "name":"cast",
    "options":{
      "children":[
        {
          "name":"clear_and_send_keys",
          "options":{
            "value":"{{name}}",
            "target":"{{name_loc}}",
          },
        },
        {
          "name":"clear_and_send_keys",
          "options":{
            "value":"{{password}}",
            "target":"{{password_loc}}",
          },
        },
        {
          "name":"click",
          "options":{
            "target":"{{remember_loc}}",
            "timeout":"{{timeout:-0.5}}"
          },
        },
        {
          "name":"click",
          "options":{
            "target":"{{submit_loc}}",
          },
        },
      ],
    }, 
  },
  "success":{
    "name":"element_to_be_visible",
    "options":{
      "condition":{
        "break_unless":true, # break the next abilities if login failed
      },
      "target":"{{loggedin_loc}}",
      "timeout":"{{login_timeout:-5}}",
    },
  },
  "save":{
    "name":"get_and_save_cookies",
  }
}