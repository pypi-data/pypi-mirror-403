[project]
# 项目名称（必须与 src 下的包名一致，如 src/sap/ 则 name = "sap"）
name = "blues_lib"
# 版本号（从原 setup.py 或 setup.cfg 迁移）
version = "1.11.3"
description = "Blues's core library"
# 项目说明文件
readme = "README.md"
# 作者信息
authors = [
  { name = "Blues Liu", email = "1121557826@qq.com" }
]
# 支持的 Python 版本（从原配置迁移）
requires-python = ">=3.11"

# 依赖项（从原 setup.py 的 install_requires 或 requirements.txt 迁移）
dependencies = [
  "pillow>=10.3.0",
  "requests>=2.31.0",
  "selenium>=4.25.0",
  "tld==0.13",
  "pymysql==1.0.2",
  "beautifulsoup4==4.9.3",
  "pyperclip==1.9.0",
  "undetected-chromedriver==3.5.5",
  "pyyaml==6.0.2",
  "pytest==8.3.5",
  "pytest-html==4.1.1",
  "jsonschema==4.21.1",
  "json5==0.12.0",
  "pyhocon==0.3.61",
  "tiktoken>=0.5.1",
  "pytest-bdd>=8.1.0",
  "openai>=2.3.0",
  "python-dotenv>=1.1.1",
  "setuptools>=80.9.0",
  "mergedeep>=1.3.4",
]

# 可选：开发依赖（如测试工具、格式化工具等，原 setup.py 的 extras_require 中的 dev 依赖）
[project.optional-dependencies]
dev = []

[tool.pytest.ini_options]
testpaths = ["tests"]
# 测试文件目录
pythonpath = ["src"]
# 告诉 pytest 从 src 目录找包
addopts = "-v"
# 显示详细测试日志

# UV 配置（镜像源、构建等）
[tool.uv]
# 设置镜像源（加速依赖下载）
index-url = "https://mirrors.aliyun.com/pypi/simple/"

# 构建系统配置（UV 专属构建后端，必须添加）
[build-system]
requires = ["uv_build>=0.8.17,<0.9.0"]
# UV 构建依赖
build-backend = "uv_build"
# 使用 UV 的构建后端

# 添加工具配置，确保JSON模板文件被包含在构建包中(包含子目录)
[tool.setuptools.package-data]
blues_lib = ["metastore/**","schema/templates/**","util/mock/**"]
    