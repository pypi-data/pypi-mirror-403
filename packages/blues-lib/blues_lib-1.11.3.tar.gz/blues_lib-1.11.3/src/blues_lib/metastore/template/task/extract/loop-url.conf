{
  "task_id":"loop-extract-url",
  "command":"command.llm.loop",
  "retries":1,
  "retry_delay":2, # seconds

  "loop":{
    "entities":"{{loop_entities}}",
    "map":"{{loop_map}}",
    "count":"{{loop_count}}",
  },

  "input":"{{input}}",
  "before_invoked":null,
  "meta":"%{include template.metadata.llm.base}",
  "after_invoked":[
    {
      "kind":"class",
      "value":"MatDeduplicator", # skip this command
      "proc":{
        "rule":{
          "field":"mat_url", # the field in the db table
          "key":"url", # the field in the entity
        }
      }
    }
  ],
  "except":"%{include schema.except.stdout.200_list}",
}