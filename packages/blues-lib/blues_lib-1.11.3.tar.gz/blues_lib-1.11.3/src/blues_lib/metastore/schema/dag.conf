{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "the config for the dag",
  "type": "object",
  "required": ["dag_id","tasks"],
  "properties": {
    "dag_id": {
      "type": "string",
      "minLength": 1,
      "description": "dag's id"
    },
    "description": { 
      "type": "string",
      "minLength": 1,
      "description": "the description of the dag"
    },
    "start_date": { 
      "type": "array", 
      "minItems": 3,
      "maxItems": 3,
      "items":{ "type":"integer"},
      "description": "the dag's start date, such as [2023, 1, 1]"
    },
    "end_date": { 
      "type": "array", 
      "minItems": 3,
      "maxItems": 3,
      "items":{ "type":"integer"},
      "description": "the dag's end date, such as [2023, 11, 1]"
    },
    "schedule": {
      "type": ["string","null"],
      "minLength": 1,
      "description": "the schedule for the dag, such as '0 8-22/2 * * *'"
    },
    "catchup": {
      "type": "boolean",
      "description": "whether to catch up the dag"
    },
    "tasks": {
      "type": "array",
      "minItems": 1,
      "items":{ "type":"object"},
      "description": "the tasks config for the dag"
    }
  },
  "oneOf": [
    {
      "required": ["start_date", "end_date", "schedule", "catchup"]
    },
    {
      "not": {
        "anyOf": [ 
          { "required": ["start_date"] },
          { "required": ["end_date"] },
          { "required": ["schedule"] },
          { "required": ["catchup"] }
        ]
      }
    }
  ],
  "additionalProperties": false
}