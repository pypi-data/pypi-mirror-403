{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "the hook for the task",
  "type": "array",
  "items": {
    "type": "object",
    "oneOf": [
      {
        "$comment": "Class type: kind/value are required, proc is optional",
        "properties": {
          "kind": { "type": "string", "const": "class" },
          "value": { "type": "string", "minLength": 1, "$comment": "Value for class type (e.g. 'Blocker')" },
          "proc": { "type": "object", "$comment": "Optional config object, no restrictions on internal properties" }
        },
        "required": ["kind", "value"],
        "additionalProperties": false
      },
      {
        "$comment": "Func type: only kind/value are required, proc field is not allowed",
        "properties": {
          "kind": { "type": "string", "const": "func" },
          "value": { 
            "type": "string", 
            "pattern": "^lambda\\s+[a-zA-Z_][a-zA-Z0-9_]*:\\s+.+$", 
            "$comment": "Value for func type (e.g. 'lambda x: not x')" 
          }
        },
        "required": ["kind", "value"],
        "additionalProperties": false
      }
    ]
  },
  "minItems": 1,
  "uniqueItems": true
}