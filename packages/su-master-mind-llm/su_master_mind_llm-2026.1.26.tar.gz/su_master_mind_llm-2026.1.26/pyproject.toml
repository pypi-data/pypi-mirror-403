[build-system]
requires = ["hatchling", "hatch-calver"]
build-backend = "hatchling.build"

[tool.hatch.build.targets.wheel]
packages = ["su_master_mind_llm"]

[tool.hatch.version]
path = "su_master_mind_llm/__version__.py"
scheme = "calver"
calver-format = "YYYY.MM.DD.MICRO"

[project]
name = "su-master-mind-llm"
dynamic = ["version"]
description = "Sorbonne University Master MIND - Large Language Models course plugin"
authors = [
    { name = "Benjamin Piwowarski", email = "benjamin@piwowarski.fr" }
]
requires-python = ">= 3.10"
dependencies = [
    # Core dependency on master-mind
    "su-master-mind[deep]>=2026.1.25.4,<2026.8.1",

    # General practical dependencies
    "ipywidgets>=8.1.8",
    "scikit-learn>=1.7.2",
    "seaborn>=0.13.2",

    # LLM-specific dependencies
    "datasets>=4.4.1",
    "accelerate>=1.12.0",
    "outlines>=1.2.9",
    "peft>=0.13.2",

    "evaluate>=0.4.6",
    "gensim>=4.4.0",
    "ir-datasets>=0.5.0",
    "pyterrier>=1",
    "sentence-transformers>=3.0.0",
    "transformers>=4.56.1",

    # Interpretability
    "bertviz>=1.4.1",
    "sae-lens>=4.0.0",
    "transformer-lens>=2.0.0",

    # Quantized model support (Linux only - triton dependency)
    "auto-gptq>=0.7.0; sys_platform == 'linux'",
    "autoawq>=0.2.0; sys_platform == 'linux'",

    # Evaluation practical dependencies
    "rouge-score>=0.1.2",
    "ir-measures>=0.4.3",
    "bert-score>=0.3.13",

    # Multimodal practical dependencies
    "pillow>=10.0.0",
    "requests>=2.31.0",

    # Responsible AI practical dependencies
    "codecarbon>=2.3.0",
]

[project.entry-points."master_mind.courses"]
llm = "su_master_mind_llm.plugin:LLMCoursePlugin"
