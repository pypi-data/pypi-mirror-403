https://hub.docker.com/r/metacubex/mihomo/tags
https://github.com/MetaCubeX/metacubexd/blob/main/docs/docker-compose.yml

教程
https://zhichao.org/posts/c4fc1f
https://wiki.metacubex.one/config/



# mihomo的端口是 7890
# 真的很蛋疼  metacube 的连接地址是 external-controller 设置的地址 
# secret 也要写对 才行 

# 他的配置文件挺难用的 
# 最后发现 clash 订阅得到的配置文件 直接粘贴进来就行了 

# 还有个蛋疼的问题就是 还需容器起来之后还需要手动配置代理 
export http_proxy="http://127.0.0.1:7890"
export https_proxy="http://127.0.0.1:7890"
export all_proxy="socks5://127.0.0.1:7890"
export no_proxy="localhost,127.*,10.*,172.16.*,172.17.*,172.18.*,172.19.*,172.20.*,172.21.*,172.22.*,172.23.*,172.24.*,172.25.*,172.26.*,172.27.*,172.28.*,172.29.*,172.30.*,172.31.*,192.168.*"




# 后面可以试试 多个配置文件协同工作 
# 如果能用 vless+vision+reality 节点那就更好了 v2raya 好像不能用这种节点 


# docker 启动TUN模式之后 必须配置
vim /etc/sysctl.conf
net.ipv4.ip_forward=1
net.ipv6.conf.all.forwarding=1
sysctl -p


# 突然发现一个问题 就是 mihomo 容器虽然起来但是无法翻墙还是需要仔细看一下日志 
# 有时候是 github下载东西下不下来导致的  https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.metadb 
# 以后还是需要仔细测试下这个东西 
# 经过测试 发现 mihomo的TUN模式还是可用的 容器里面也是可用 的 
