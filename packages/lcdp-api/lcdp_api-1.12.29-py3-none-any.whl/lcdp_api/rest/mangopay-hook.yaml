# Auth Based on OAuth 2.0
# https://tools.ietf.org/html/rfc6749

openapi: '3.0.0'
servers:
  - url: 'https://www.lcdp.ovh/api/v1'
  - url: 'https://www.lecomptoirdespharmacies.fr/api/v1'
  - url: 'http://www.lcdp.localhost/api/v1'
  - url: 'http://localhost:7072/api/v1'
info:
  description: 'This is the REST API of LCDP Mangopay hook'
  version: '1.0.0'
  title: 'lcdp-monolith-service'
  termsOfService: 'https://www.lecomptoirdespharmacies.fr/mentions-legales'
  contact:
    email: 'contact@lecomptoirdespharmacies.fr'
  license:
    name: 'Apache 2.0'
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
tags:
  - name: 'mangopayHook'
    description: 'Mangopay hook : https://docs.mangopay.com/endpoints/v2/hooks#e246_the-hook-object'
paths:
  /mangopay-hooks:
    get:
      tags:
        - 'mangopayHook'
      summary: 'Call mangopay hook'
      description: ''
      operationId: 'hook'
      parameters:
        - in: 'query'
          name: 'EventType'
          description: 'Mangopay event type'
          required: true
          schema:
            type: string
        - in: 'query'
          name: 'RessourceId'
          description: 'Mangopay ressource identifier'
          required: true
          schema:
            type: string
        - in: 'query'
          name: 'Date'
          description: 'Current timestamp'
          required: false
          example: 1615909631
          schema:
            type: string
      responses:
        200:
          description: 'Mangopay hook'
        5XX:
          description: 'Server error'
          content:
            application/json:
              schema:
                $ref: 'common.yaml#/components/schemas/RestError'
