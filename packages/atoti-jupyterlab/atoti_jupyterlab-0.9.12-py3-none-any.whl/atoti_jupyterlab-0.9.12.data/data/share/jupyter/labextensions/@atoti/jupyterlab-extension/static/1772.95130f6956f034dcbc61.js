(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[1772,2616,235,6163,9529],{7660:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});var o=n(31529),r=n(93345),l=n(62795),i=n(20743);const s={isLoading:!0};function a(e,t){const n=(0,i.mF)(e);(0,l.useAsyncAbortable)((async e=>{if(!n?.drillthroughColumns[t])return n?.loadDrillthroughColumns(t,{signal:e})}),[n,t]);const{drillthroughColumns:a,isLoading:u,error:d}=(0,r.useSyncExternalStore)((e=>n?.subscribeToDrillthroughColumns(t,e)??o.noop),(()=>n?.drillthroughColumns[t]??s)),c=(0,r.useMemo)((()=>a?.filter((({visible:e})=>e))),[a]);return e?[c,{isLoading:u,error:d}]:void 0}},17981:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var o=n(31529),r=n(93345),l=n(20743);function i({serverKey:e,queryId:t}){const n=(0,l.mF)(e);return(0,r.useSyncExternalStore)(n&&t?e=>n.subscribeToQuery(t,e):()=>o.noop,(()=>n&&t?n.getQuery(t):void 0))}},41590:(e,t,n)=>{"use strict";n.d(t,{j:()=>d});var o=n(74389),r=n(97059),l=n(93345),i=n(47357),s=n(57339);const a=(0,l.lazy)((()=>Promise.all([n.e(8655),n.e(6245),n.e(518),n.e(7628)]).then(n.bind(n,80518)))),u=()=>{const{formatMessage:e}=(0,i.useIntl)();return(0,o.Y)(s.s,{sections:{conditionalStyle:{caption:e({id:"aui.conditionalStyle.title"}),tiles:[{caption:(0,o.Y)(r.Skeleton,{active:!0,css:{".ant-skeleton-paragraph":{margin:"5px 0px"}},paragraph:{rows:1,width:"100%"},title:!1})}]}}})},d=e=>(0,o.Y)(l.Suspense,{fallback:(0,o.Y)(u,{}),children:(0,o.Y)(a,{...e})})},36899:(e,t,n)=>{"use strict";n.d(t,{H:()=>i,_:()=>l});var o=n(93345);const r=(0,o.createContext)({}),l=r.Provider;function i(){return(0,o.useContext)(r)}},54316:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});const o=.3},78176:(e,t,n)=>{"use strict";n.d(t,{H:()=>l});var o=n(90147),r=n(67985);function l(e,t){return(0,o.produce)(e,(n=>{const o=t.key||(0,r.z)(e.pagesOrder);n.pagesOrder.splice(t.index??n.pagesOrder.length,0,o),n.pages[o]=t.page}))}},67985:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var o=n(31529);const r=e=>Number.parseInt(e.substring(2));function l(e){return`p-${function(e){const t=(0,o.maxBy)(e,r);return t?r(t)+1:0}(e)}`}},93451:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var o=n(86533);function r(e,{pageKey:t,leafKey:n},r){return(0,o.y)(e,["pages",t,"content",n],r)}},55194:(e,t,n)=>{"use strict";function o(e){return"dimension"===e.type}n.d(t,{t:()=>o})},80865:(e,t,n)=>{"use strict";function o(e){return"hierarchy"===e.type}n.d(t,{y:()=>o})},97492:(e,t,n)=>{"use strict";n.d(t,{r:()=>r});var o=n(66318);function r(e,t){return"level"===e.type&&(!t||(0,o.q)(t,{dimensionName:e.dimension.name,hierarchyName:e.hierarchy.name}))}},90506:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});class o extends Error{dimensionName;cubeName;constructor(e,t){super(`The dimension [${e}] was not found in the data model of cube "${t}".`),this.dimensionName=e,this.cubeName=t}}},69275:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});class o extends Error{hierarchyCoordinates;cubeName;constructor(e,t){super(`The hierarchy [${e.dimensionName}].[${e.hierarchyName}] was not found in the data model of cube "${t}".`),this.hierarchyCoordinates=e,this.cubeName=t}}},46116:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});class o extends Error{levelCoordinates;cubeName;constructor(e,t){super(`The level [${e.dimensionName}].[${e.hierarchyName}].[${e.levelName}] was not found in the data model of cube "${t}".`),this.levelCoordinates=e,this.cubeName=t}}},25097:(e,t,n)=>{"use strict";n.d(t,{D:()=>r});var o=n(90506);function r(e,t){const n=t.dimensions[e];if(!n)throw new o.O(e,t.name);return n}},50466:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var o=n(69275),r=n(25097);function l(e,t){const n=(0,r.D)(e.dimensionName,t),l=e.hierarchyName,i=n.hierarchies[l];if(!i)throw new o.h(e,t.name);return i}},57019:(e,t,n)=>{"use strict";n.d(t,{r:()=>l});var o=n(46116),r=n(50466);function l(e,t){const n=(0,r.q)(e,t),l=e.levelName,i=n.levels[l];if(!i)throw new o.W(e,t.name);return i}},76904:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var o=n(31529);function r({dimension:e,hierarchy:t,level:n}){if(n&&t)return{dimensionName:e.name,hierarchyName:t.name,levelName:n.name};if(t){const n=t.slicing?0:1;return r({dimension:e,hierarchy:t,level:(0,o.sortBy)(Object.values(t.levels),"index")[n]})}const l=e.defaultHierarchy,i=e.hierarchies[l];return i.visible?r({dimension:e,hierarchy:i}):r({dimension:e,hierarchy:Object.values(e.hierarchies).find((e=>e.visible))})}},86189:(e,t,n)=>{"use strict";function o(e){return"Measures"===(function(e){return"dimensionName"in e}(e)?e.dimensionName:e.dimension)}n.d(t,{t:()=>o})},47676:(e,t,n)=>{"use strict";function o({type:e}){return"TIME"===e}n.d(t,{K:()=>o})},56257:(e,t,n)=>{"use strict";n.d(t,{z:()=>x});var o=n(74389),r=n(97059),l=n(47357),i=n(76194),s=n(24366),a=n(93345),u=n.n(a);const d=s.A.default??s.A,c=i.A.default??i.A,m=u().forwardRef(((e,t)=>(0,o.Y)(d,{...e,ref:t,icon:c})));var f=n(57418);const h=s.A.default??s.A,p=f.A.default??f.A,g=u().forwardRef(((e,t)=>(0,o.Y)(h,{...e,ref:t,icon:p})));var b=n(50493);const w=s.A.default??s.A,y=b.A.default??b.A,C=u().forwardRef(((e,t)=>(0,o.Y)(w,{...e,ref:t,icon:y})));var v=n(18664);const x=e=>{const{formatMessage:t}=(0,l.useIntl)(),n=e.fieldStyle?.justifyContent;return(0,o.FD)("div",{css:{display:"grid"},children:[(0,o.Y)(v.Text,{small:!0,strong:!0,css:{paddingTop:5,paddingBottom:5},children:t({id:"aui.dataVisualization.attribute.align"})}),(0,o.FD)(r.Radio.Group,{value:n,onChange:t=>{e.onFieldStyleChanged({justifyContent:t.target.value})},children:[(0,o.Y)(r.Radio.Button,{value:"left",children:(0,o.Y)(g,{})}),(0,o.Y)(r.Radio.Button,{value:"center",children:(0,o.Y)(m,{})}),(0,o.Y)(r.Radio.Button,{value:"right",children:(0,o.Y)(C,{})})]})]})}},84828:(e,t,n)=>{"use strict";n.d(t,{M:()=>M});var o=n(74389),r=n(40570),l=n(97059),i=n(93345),s=n(47357),a=n(72738),u=n(86351),d=n(17981),c=n(93451),m=n(31793),f=n(90506),h=n(69275),p=n(46116),g=n(62174),b=n(29213),w=n(29549),y=n(5029),C=n(82478),v=n(56768),x=n(18664),R=n(9117),S=n(63449);class O extends Error{constructor(){super("Attempted to switch from a SELECT to a DRILLTHROUGH query. This is not supported.")}}const I="drillthrough-table";function H(e,{type:t,payload:{mdxString:n,dashboardState:o,pageKey:r,leafKey:l,widgetState:i,widgetPlugin:s,dataModels:a,lastUsedCube:u,hasDrillthroughTableWidgetPlugin:d}}){if("updateMdxString"===t)try{const e=(0,b.parse)(n),t=!i.query.mdx,m=i.query.mdx&&(0,b.isMdxSelect)(i.query.mdx),f=(0,b.isMdxDrillthrough)(e);if(m&&f)throw new O;const h=t&&f&&d;let{widgetStateDerivedFromMdx:p,dashboardStateDerivedFromMdx:g}=(0,R.deriveStateFromMdx)({mdx:e,dashboardState:o,pageKey:r,leafKey:l,dataModels:a,widgetState:i,widgetPlugin:s,lastUsedCube:u,shouldRemoveFiltersFromQuery:!1});return h&&(p={query:p.query,widgetKey:I,serverKey:p.serverKey,filters:p.filters,areFiltersDrivenByMdx:!0},g&&r&&l&&(g=(0,c.W)(g,{pageKey:r,leafKey:l},(()=>p)))),{mdxString:n,widgetStateDerivedFromMdx:p,dashboardStateDerivedFromMdx:g}}catch(e){return{mdxString:n,error:(0,v.$)(e)}}}const M=(0,C.n)((e=>{const{widgetState:t,queryId:n,onWidgetChange:c}=e,C=(0,y.A)(),{dashboardState:v,leafKey:M,pageKey:z,onDashboardChange:F}=(0,a.M)(e)?e:{},D=(0,S.useSwitchedWidgetState)(t,n),Y=(0,w.useWidgetPlugin)(D.widgetKey),W=(0,w.useWidgetPluginKeys)(),N=(0,i.useMemo)((()=>W.includes(I)),[W]),T=(0,u.W)(),{formatMessage:E}=(0,s.useIntl)(),P=D.serverKey,$=(0,d.I)({serverKey:P,queryId:n}),[k,A]=(0,i.useReducer)(H,{mdxString:$?.mdx}),{cube:V,dataModel:K}=(0,i.useMemo)((()=>{const e=k.widgetStateDerivedFromMdx??D,t=e.query.mdx?(0,b.getCubeName)(e.query.mdx):void 0;return(0,S.getTargetCube)({serverKey:e.serverKey,dataModels:T,cubeName:t,lastUsedCube:C})}),[k.widgetStateDerivedFromMdx,D,T,C]),L=$?.context?.["mdx.casesensitive"]??V.contextValues["mdx.casesensitive"]?.value,B=void 0===L||"true"===L,_=(0,i.useCallback)((e=>{A({type:"updateMdxString",payload:{mdxString:e,dashboardState:v,pageKey:z,leafKey:M,widgetState:D,widgetPlugin:Y,dataModels:T,lastUsedCube:C,hasDrillthroughTableWidgetPlugin:N}})}),[v,z,M,D,Y,T,C,N]),j=$?.mdx??"";(0,i.useEffect)((()=>{_(j)}),[j,_]);const q=(0,i.useCallback)((()=>{k.error||(F&&k.dashboardStateDerivedFromMdx?F(k.dashboardStateDerivedFromMdx):k.widgetStateDerivedFromMdx&&c(k.widgetStateDerivedFromMdx))}),[k.widgetStateDerivedFromMdx,k.dashboardStateDerivedFromMdx,c,F,k.error]),U=(0,i.useCallback)((()=>{_(j)}),[j,_]),G=(0,i.useMemo)((()=>k.mdxString!==j),[k.mdxString,j]),[Q,X]=(0,i.useMemo)((()=>{if(!G)return[!1,E({id:"aui.mdxEditor.hover.noChanges"})];if(k.error){let e;if(k.error instanceof R.InvalidMdxTypeError)e=E({id:"aui.mdxEditor.hover.invalidMdxType"});else if(k.error instanceof m.N){const{cubeName:t,availableCubeNames:n}=k.error;e=`${E({id:"aui.error.cubeNotFound"})}: "${t}". ${E({id:"aui.mdxEditor.hover.availableCubesAre"})}: ${JSON.stringify(n)}`}else if(k.error instanceof f.O){const{dimensionName:t,cubeName:n}=k.error;e=`${E({id:"aui.mdxEditor.hover.dimensionNotFound"})} ${E({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${n}": "${t}".`}else if(k.error instanceof h.h){const{hierarchyCoordinates:t,cubeName:n}=k.error;e=`${E({id:"aui.mdxEditor.hover.hierarchyNotFound"})} ${E({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${n}": "${(0,b.quote)(t.dimensionName,t.hierarchyName)}".`}else if(k.error instanceof p.W){const{levelCoordinates:t,cubeName:n}=k.error;e=`${E({id:"aui.mdxEditor.hover.levelNotFound"})} ${E({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${n}": "${(0,b.quote)(t.dimensionName,t.hierarchyName,t.levelName)}".`}else k.error instanceof R.MdxInconsistentWithDashboardOrPageFiltersError?e=E({id:"aui.mdxEditor.hover.filtersChanged"},{bold:x.bold}):k.error instanceof O?e=E({id:"aui.mdxEditor.hover.cannotSwitchToDrillthrough"}):(e=E({id:"aui.mdxEditor.hover.invalidMdxQuery"}),console.error(k.error));return[!1,e]}return[!0,void 0]}),[G,k.error,E]);return(0,o.FD)("div",{css:r.css`
        height: 100%;
        display: flex;
        margin-right: 4px;
        flex-direction: column;
      `,children:[(0,o.Y)("div",{style:{height:"calc(100% - 28px)"},children:(0,o.Y)(g.K,{type:"mdx",value:k.mdxString,onChange:_,dataModel:K,cube:V,isCaseSensitive:B})}),(0,o.FD)("div",{css:r.css`
          text-align: right;
          margin-right: 14px;
          height: ${28}px;
        `,children:[(0,o.Y)(l.Button,{disabled:!G,onClick:U,children:E({id:"aui.mdxEditor.reset"})}),"Â ",(0,o.Y)(x.Tooltip,{title:X,children:(0,o.Y)(l.Button,{type:"primary",disabled:!Q,onClick:q,children:E({id:"aui.mdxEditor.submit"})})})]})]})}))},2307:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});var o=n(74389);const r=({content:e})=>(0,o.Y)("div",{css:{display:"table"},children:e.map((({left:e,right:t},n)=>(0,o.FD)("div",{css:{display:"table-row"},children:[(0,o.Y)("div",{css:{display:"table-cell",textAlign:"right",paddingRight:8,color:"#c0c0c0"},children:e}),(0,o.Y)("div",{css:{display:"table-cell",textAlign:"left",fontWeight:600,overflowWrap:"anywhere"},children:t})]},n)))})},79566:(e,t,n)=>{"use strict";n.d(t,{l:()=>m});var o=n(74389),r=n(97059),l=n(59300),i=n.n(l),s=n(47357),a=n(18664);const u=i()(`${(new Date).getFullYear()}-02-18`),d=["YYYY-MM-DD","YYYY/MM/DD","M/D","M/D/YY","MM/DD/YY","MM/DD/YYYY","DD-MMMM-YY","DD-MMMM-YYYY","dddd, MMM DD, YYYY","MMM DD, YYYY"].map((e=>({value:e,label:u.format(e)}))),c=d[0].value,m=({selectedField:e,fieldStyle:t,onFieldStyleChanged:n})=>{const{formatMessage:l}=(0,s.useIntl)(),i=("level"===(u=e).type||"drillthroughHeader"===u.type)&&u.isTime;var u;const m=!i,f=e.value,h=i?t?.dateFormat??c:c;return(0,o.FD)("div",{style:{display:"flex",flexDirection:"column",marginBlock:12},children:[(0,o.Y)(a.Text,{small:!0,strong:!0,children:l({id:"aui.dataVisualization.dateFormat"})}),(0,o.Y)(a.Tooltip,{placement:"right",trigger:m?["hover"]:[],title:f&&l({id:"aui.formatting.dateFormattingOnlyApplyToTimeFields"},{fieldName:f}),children:(0,o.Y)(r.Select,{"aria-label":"Date format select",disabled:m,style:{marginTop:6},value:h,options:d,onChange:e=>n({dateFormat:e})})})]})}},23106:(e,t,n)=>{"use strict";n.d(t,{F:()=>a});var o=n(74389),r=n(47357),l=n(36899),i=n(54316),s=n(41590);const a=({fieldStyle:e,onFieldStyleChanged:t,selectedField:n,backgroundColorOpacity:a,isBackgroundColorPickerHidden:u,...d})=>{const{formatMessage:c}=(0,r.useIntl)(),m=c({id:"aui.formatting.conditionalStylesOnlyApplyToNumericFields"},{fieldName:n.value}),f=!n.isNumeric;return(0,o.Y)(l._,{value:{backgroundColorOpacity:a??i.t,isBackgroundColorPickerHidden:u},children:(0,o.Y)(s.j,{conditionalStyles:e,disabledTooltipMessage:m,isDisabled:f,onConditionalStylesChanged:t,...d},n.value)})}},6589:(e,t,n)=>{"use strict";n.d(t,{G:()=>w});var o=n(74389),r=n(97059),l=n(90147),i=n(31529),s=n(93345),a=n(47357),u=n(37144),d=n(29549),c=n(25617),m=n(18664),f=n(9117),h=n(63449),p=n(46192),g=n(91287),b=n(70017);const w=e=>{const{formatMessage:t}=(0,a.useIntl)(),{fieldOptions:n}=e,w=(0,d.useWidgetPlugin)(e.widgetState.widgetKey),y=(0,f.useWidgetName)(e.widgetState),C=(0,c.DP)(),{cube:v}=(0,h.useCube)(e.widgetState),x=!w?.attributes||Object.values(w?.attributes??{}).some((({role:e})=>"numeric"===(0,h.getAttributeType)(e))),[R,S]=(0,s.useState)(n[0]??{}),O=e.widgetState.style??{},I=O.measures?.[R.value];if((0,s.useMemo)((()=>(0,b.K)(y,O.measures)),[y,O.measures]),!x)return null;const H={selectedField:R,fieldStyle:I,onFieldStyleChanged:t=>{e.onWidgetChange((0,l.produce)(e.widgetState,(e=>{e.style||(e.style={}),e.style.measures||(e.style.measures={}),(0,i.set)(e,["style","measures",R.value],{...O.measures?.[R.value],...t}),function(e){const t=e.style?.measures;void 0!==t&&(Object.entries(t).forEach((([t,n])=>{void 0!==n&&((0,g.W)(n).forEach((([e,t])=>{(null==t||(0,i.isObject)(t)&&(0,i.isEmpty)(t))&&delete n[e]})),(0,i.isEmpty)(n)&&delete e.style.measures[t])})),(0,i.isEmpty)(t)&&delete e.style.measures),void 0!==e.style&&(0,i.isEmpty)(e.style)&&delete e.style}(e)})))},cube:v};return(0,o.FD)("div",{style:{borderBottom:`1px solid ${C.grayScale[4]}`,marginBottom:5,paddingTop:4},children:[(0,o.Y)(m.Text,{small:!0,strong:!0,children:t({id:"aui.dataVisualization.fields"})}),(0,o.Y)(r.Select,{"aria-label":"Field select",style:{width:"100%",marginTop:6},value:R,options:n,onChange:(e,t)=>{S((0,i.isArray)(t)?t[0]:t)},dropdownRender:e=>n.length>0?e:(0,o.FD)("div",{css:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:20},children:[(0,o.Y)(u.V,{}),(0,o.Y)("div",{children:t({id:"aui.formatting.noFieldInMapping"},{bold:m.bold})})]}),showSearch:!0}),e.fieldStyleEditors.map(((e,t)=>(0,o.Y)(e,{...H},t))),(0,o.Y)("div",{css:{display:"flex",justifyContent:"flex-end"},children:(0,o.Y)(p.F,{isDisabled:(0,i.isEmpty)(O.measures),onResetStyle:()=>{e.onWidgetChange((0,l.produce)(e.widgetState,(e=>{delete e.style?.measures,(0,i.isEmpty)(e.style)&&delete e.style})))},caption:t({id:"aui.formatting.resetFieldsStyle"})})})]})}},6423:(e,t,n)=>{"use strict";n.d(t,{i:()=>m});var o=n(74389),r=n(97059),l=n(93345),i=n(47357),s=n(13029),a=n(33688),u=n(24491),d=n(18664);const c=["number","percentage","thousands","millions","billions"],m=({selectedField:e,fieldStyle:t,onFieldStyleChanged:n,cube:m})=>{const{formatMessage:f}=(0,i.useIntl)(),h=t?.numberOfDecimals??((e,t)=>{if("measure"!==e.type||!e.isNumeric)return 2;const n=(0,s.D)(e.value,t);return void 0===n||"double"===n.type?2:0})(e,m),p=e.value,g=!e.isNumeric,b=t?.numberFormat??"number";return(0,o.Y)(l.Fragment,{children:(0,o.FD)("div",{style:{display:"flex",width:"100%",marginTop:6,marginBottom:6},children:[(0,o.Y)(d.Tooltip,{placement:"right",trigger:g?["hover"]:[],title:f({id:"aui.formatting.numberFormattingOnlyApplyToNumericFields"},{fieldName:p}),children:(0,o.Y)(r.Select,{style:{flexGrow:1,marginRight:3},value:b,onChange:e=>{n({numberFormat:e})},disabled:g,"aria-label":"Number format select",children:c.map((e=>(0,o.Y)(r.Select.Option,{value:e,children:f({id:`aui.formatting.numberFormat.${e}`})},e)))})}),(0,o.Y)(r.Button,{disabled:g||0===h,icon:(0,o.Y)(u.j,{}),onClick:()=>{n({numberOfDecimals:Math.max(0,h-1)})},"aria-label":"Remove decimal button",style:{marginRight:3}}),(0,o.Y)(r.Button,{icon:(0,o.Y)(a.y,{}),onClick:()=>{n({numberOfDecimals:Math.max(0,h+1)})},"aria-label":"Add decimal button",disabled:g})]})})}},46192:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});var o=n(74389),r=n(47357),l=n(18664);const i=({caption:e,isDisabled:t,onResetStyle:n})=>{const{formatMessage:i}=(0,r.useIntl)();return(0,o.Y)(l.Tooltip,{placement:"right",trigger:t?["hover"]:[],title:i({id:"aui.style.noStyleConfigured"}),children:(0,o.Y)(l.LinkButton,{onClick:n,disabled:t,children:e})})}},85675:(e,t,n)=>{"use strict";n.d(t,{u:()=>a});var o=n(74389),r=n(90147),l=n(31529),i=n(18664);const s={display:"flex",justifyContent:"space-between",margin:"8px auto"},a=({checkedByDefault:e,disabled:t,label:n,propertyName:a,tooltipText:u,onWidgetChange:d,widgetState:c})=>{const m=(0,l.get)(c.style,a)??e;return(0,o.Y)(i.Switch,{style:s,label:n,checked:m,tooltipText:u,disabled:t,onChange:()=>{const e=(0,r.produce)(c,(e=>{(0,l.set)(e,`style.${a}`,!m)}));d(e)}})}},70017:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var o=n(31529),r=n(10278);const l=["eq","neq","lt","lte","gt","gte"];function i(e,t){t&&Object.values(t).forEach((t=>{(function(e){return"conditional"in e})(t)&&t.conditional&&t.conditional.forEach((t=>{!function(e,t){const n=(0,o.omit)(t,"style"),i=Object.keys(n);if(i.length>2||0===i.length)throw new r.f(e,"invalidNumberOfKeys",t);if(2===i.length&&(i.includes("eq")||i.includes("neq")))throw new r.f(e,"invalidPairOfKeys",t);i.forEach((o=>{if(!l.includes(o))throw new r.f(e,"invalidComparisonOperator",t);if(void 0===n[o])throw new r.f(e,"undefinedComparisonOperand",t)}))}(e,t)}))}))}},10278:(e,t,n)=>{"use strict";n.d(t,{f:()=>o});class o extends Error{invalidStyle;widgetName;constructor(e,t,n){let o;switch(t){case"invalidNumberOfKeys":o="A measure conditional style can only contain 1 or 2 comparison operators.";break;case"invalidPairOfKeys":o="A pair of comparison operators can only be lt(e)/gt(e).";break;case"invalidComparisonOperator":o="A measure conditional style can only use the following comparison operators: eq, neq, lt, lte, gt, gte.";break;case"undefinedComparisonOperand":o="A comparison operand cannot be undefined."}super(`The widget contains an invalid measure conditional style. ${o}`),this.invalidStyle=n,this.widgetName=e}}},45795:(e,t,n)=>{"use strict";function o({numericFieldStyle:e,valueFormattedByAtotiServer:t,value:n,locale:o}){const{numberOfDecimals:r,numberFormat:l}=e??{};if(void 0===r&&void 0===l)return t;let i,s=n;switch(l){case"percentage":s=100*n,i="%";break;case"thousands":s=n/1e3,i="K";break;case"millions":s=n/1e6,i="M";break;case"billions":s=n/1e9,i="B"}const a=s.toLocaleString(o,void 0!==r?{minimumFractionDigits:r,maximumFractionDigits:r}:void 0);return i?`${a} ${i}`:a}n.d(t,{m:()=>o})},85831:(e,t,n)=>{"use strict";n.d(t,{m:()=>h});var o=n(74389),r=n(40570),l=n(97059),i=n(93345),s=n(47357),a=n(32585),u=n(92546),d=n(56853),c=n(25617),m=n(9117),f=n(63449);function h(e){const t=t=>{const{dashboardState:n,pageKey:h,widgetState:p}=t,{formatMessage:g}=(0,s.useIntl)(),{cube:b,serverKey:w}=(0,f.useCube)(t.widgetState),y=(0,c.DP)(),[C,v]=(0,d.i)("filters.hideMissingHierarchiesAlert"),[x,R]=(0,i.useState)(!1),S=(0,m.useFilters)({dashboardState:n,pageKey:h,widgetState:p}),O=void 0===p.query?.mdx?[]:[...S.user,...S.dashboard,...S.page,...S.widget].reduce(((e,{filter:t,applicableCubes:n})=>((0,a.T)(b,w,{applicableCubes:n})||e.push(`[${t.dimensionName}].[${t.hierarchyName}]`),e)),[]),I=O.length>0&&!x&&!C;return(0,o.FD)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[I&&(0,o.Y)(r.ClassNames,{children:({css:e})=>(0,o.Y)(l.Alert,{rootClassName:e({alignItems:"start",paddingInline:16,".ant-alert-icon, .ant-alert-close-icon":{marginTop:"5px"}}),onClose:e=>{R(!0),e.stopPropagation()},type:"warning",banner:!0,closable:!0,showIcon:!0,icon:(0,o.Y)(u.v,{}),message:(0,o.FD)(o.FK,{children:[g({id:"aui.filters.missingHierarchies"},{numberOfMissingHiearchies:O.length,hierarchyNames:O.join(", "),cubeName:b.name}),(0,o.Y)("div",{onClick:e=>{v(!0),e.stopPropagation()},style:{color:y.primaryColor,textDecoration:"underline",cursor:"pointer",width:"fit-content"},children:g({id:"aui.dismissAlert"})})]})})}),(0,o.Y)("div",{css:{overflow:"hidden",height:"100%"},children:(0,o.Y)(e,{...t})})]})};return t.displayName=`withMissingFilterHierarchiesAlert(${e.displayName})`,t}},62174:(e,t,n)=>{"use strict";n.d(t,{K:()=>d});var o=n(74389),r=n(40570),l=n(93345),i=n(69718),s=n(47236);const a={sql:(0,l.lazy)((()=>Promise.all([n.e(3849),n.e(5053),n.e(4916)]).then(n.bind(n,1291)))),mdx:(0,l.lazy)((()=>Promise.all([n.e(3849),n.e(5053),n.e(6746)]).then(n.bind(n,36433)))),json:(0,l.lazy)((()=>Promise.all([n.e(3849),n.e(5053),n.e(9362)]).then(n.bind(n,7881)))),markdown:(0,l.lazy)((()=>Promise.all([n.e(3849),n.e(5053),n.e(5678)]).then(n.bind(n,18989)))),base:(0,l.lazy)((()=>Promise.all([n.e(3849),n.e(5053),n.e(5274)]).then(n.bind(n,45053))))},u={tabSize:2},d=(0,l.forwardRef)(((e,t)=>{const{type:n,options:d=u,...c}=e,m=(0,l.useMemo)((()=>a[n||"base"]),[n]);return(0,o.Y)(l.Suspense,{fallback:(0,o.Y)(i.W,{}),children:(0,o.Y)(r.ClassNames,{children:({css:e})=>(0,o.Y)(m,{ref:t,options:d,classNames:{line_error:e(s.e.line_error),line_warning:e(s.e.line_warning)},...c})})})}))},69718:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var o=n(74389),r=n(40570),l=n(97059);const i=()=>(0,o.Y)("div",{css:r.css`
      display: flex;
      width: 100%;
      height: 100%;
      justify-content: center;
      align-items: center;
    `,children:(0,o.Y)(l.Spin,{})})},47236:(e,t,n)=>{"use strict";n.d(t,{d:()=>r,e:()=>l});const o=e=>`background-image:\nlinear-gradient(45deg, transparent 65%, ${e} 80%, transparent 90%),\nlinear-gradient(135deg, transparent 5%, ${e} 15%, transparent 25%),\nlinear-gradient(135deg, transparent 45%, ${e} 55%, transparent 65%),\nlinear-gradient(45deg, transparent 25%, ${e} 35%, transparent 50%);\nbackground-repeat:repeat-x;\nbackground-size: 8px 2px;\nbackground-position:0 95%;`,r={error:"red",warning:"#faad14"},l={line_error:o(r.error),line_warning:o(r.warning)}},49961:(e,t,n)=>{"use strict";n.d(t,{a:()=>d});var o=n(74389),r=n(3981),l=n(24366),i=n(93345),s=n.n(i);const a=l.A.default??l.A,u=r.A.default??r.A,d=s().forwardRef(((e,t)=>(0,o.Y)(a,{...e,ref:t,icon:u})))},33688:(e,t,n)=>{"use strict";n.d(t,{y:()=>s});var o=n(74389),r=n(86283),l=n(93345),i=n(76397);const s=(0,r.E)(((e,t)=>{const n=(0,l.useContext)(i.L);return(0,o.FD)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23 23",xmlSpace:"preserve",width:"1em",height:"1em",fill:"currentColor",ref:t,...e,children:[(0,o.Y)("path",{d:"M2.9 11.3c-.9 0-1.6-.4-2.1-1.2C.3 9.3 0 8.2 0 6.7 0 5.1.3 3.9.8 3c.5-.8 1.3-1.2 2.3-1.2 2 0 2.9 1.6 2.9 4.7C6 8 5.7 9.2 5.2 10c-.5.8-1.3 1.3-2.3 1.3zm.2-8.6c-1.3 0-2 1.3-2 4 0 2.5.6 3.7 1.9 3.7 1.3 0 1.9-1.3 1.9-3.8 0-2.6-.6-3.9-1.8-3.9zM8 11.2c-.2 0-.4-.1-.5-.2-.1-.1-.2-.3-.2-.5s.1-.4.2-.5c.1-.1.3-.2.5-.2s.4.1.5.2.2.3.2.5-.1.4-.2.5-.3.2-.5.2zM12.8 11.3c-.9 0-1.6-.4-2.1-1.2-.5-.8-.8-1.9-.8-3.4 0-1.6.3-2.8.8-3.7.6-.8 1.3-1.2 2.3-1.2 1.9 0 2.9 1.6 2.9 4.7 0 1.6-.3 2.7-.8 3.5-.5.8-1.3 1.3-2.3 1.3zm.2-8.6c-1.3 0-2 1.3-2 4 0 2.5.6 3.7 1.9 3.7 1.3 0 1.9-1.3 1.9-3.8 0-2.6-.6-3.9-1.8-3.9z"}),(0,o.Y)("path",{fill:e.successColor||n.successColor,d:"M19.9 11.3c-.9 0-1.6-.4-2.1-1.2-.6-.8-.8-1.9-.8-3.4 0-1.6.3-2.8.8-3.7s1.3-1.2 2.3-1.2C22 1.8 23 3.4 23 6.5c0 1.6-.3 2.7-.8 3.5-.6.8-1.3 1.3-2.3 1.3zm.1-8.6c-1.3 0-2 1.3-2 4 0 2.5.6 3.7 1.9 3.7 1.3 0 1.9-1.3 1.9-3.8.1-2.6-.5-3.9-1.8-3.9zM10.1 16.9h9.5l-2.5-2.5h2l3.5 3.2-3.6 3.3h-2l2.5-2.5H10v-1.5z"})]})}))},68582:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var o=n(74389),r=n(86283),l=n(93345),i=n(76397);const s=(0,r.E)(((e,t)=>{const n=(0,l.useContext)(i.L);return(0,o.FD)("svg",{viewBox:"64 64 896 896",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",ref:t,...e,children:[(0,o.Y)("path",{fill:e.lightGrayColor||n.lightGrayColor,d:"M868 248H468.4l59.6 72h304v256H192V320h102.4l-59.6-72H156c-19.9 0-36 16.1-36 36v328c0 19.9 16.1 36 36 36h712c19.9 0 36-16.1 36-36V284c0-19.9-16.1-36-36-36"}),(0,o.Y)("path",{className:"IconBusinessDrillthrough__highlight-fill",fill:e.darkGrayColor||n.darkGrayColor,d:"m892.6 703.6-64.8 64.3L775 704h-93l94.5 114.8-74.5 73.9c-2.6 2.5-2.6 6.7-.1 9.3 1.2 1.3 2.9 2 4.7 2l190.9-.2c3.6 0 6.5-2.9 6.5-6.5l-.2-188.9c0-3.6-3-6.6-6.6-6.6-1.7 0-3.3.7-4.6 1.9v-.1zM507.2 382.4 256.3 79.1c-2.8-3.4-7.7-3.9-11.1-1.1h-.1l-43.2 35.7c-3.4 2.7-3.9 7.6-1.2 11 .1 0 .1.1.2.2L415.1 384h91.4c.5-.1 1-.5.9-1.1 0-.2-.1-.4-.2-.5z"})]})}))},40194:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var o=n(74389);const r=(0,n(86283).E)(((e,t)=>(0,o.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",width:"1em",height:"1em",fill:"currentColor",ref:t,...e,children:(0,o.Y)("path",{d:"M11.43 12H.57c-.51 0-.77-.62-.41-.98L11.02.17c.36-.36.98-.11.98.41v10.85c0 .32-.26.57-.57.57Z",fill:"currentColor"})})))},37140:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});var o=n(74389);const r=(0,n(86283).E)(((e,t)=>(0,o.FD)("svg",{width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",ref:t,...e,children:[(0,o.Y)("path",{d:"M464 240h456c36 0 40 22.36 40 40.702v382.596C960 693.85 936 704 920 704H104c-20 0-40-10.15-40-40.702V280.702C64 258.29 76 240 104 240h88l72 81.404H144v301.192h736V321.404H528L464 240ZM776 752l80 90.939 104-74.405v223.214c-.698.728-7.083-.394-8 0H672l120-90.939L656 752h120Z"}),(0,o.Y)("path",{d:"M511.768 398.17 225.414 51.285a9.022 9.022 0 0 0-6.153-3.25 9.001 9.001 0 0 0-6.63 2.106l-49.304 40.83a8.925 8.925 0 0 0-2.893 9.706 8.912 8.912 0 0 0 1.752 3.104L406.653 400h104.316a1.142 1.142 0 0 0 .799-1.83Z"})]})))},45357:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});var o=n(74389);const r=(0,n(86283).E)(((e,t)=>(0,o.Y)("svg",{viewBox:"64 64 896 896",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",ref:t,...e,children:(0,o.Y)("path",{d:"M404 705h-76V175a8 8 0 0 0-8-8h-56a8 8 0 0 0-8 8v530h-76a8 8 0 0 0-6.3 13l112 141.9a8 8 0 0 0 11.2 1.4 9.3 9.3 0 0 0 1.4-1.4l112-141.9a8.1 8.1 0 0 0-6.3-13zm237.6-489.2v232.3h61.9V127.6h-51.6l-89.7 91.5 38.4 39.6 41-42.9zm2.4 615.8c29.6-23.4 60.2-49.5 82.5-75.5 27-31.5 40.2-61 40.2-90.2s-12.1-55.8-35.1-73.7c-20.2-15.7-47.6-24.4-77.2-24.4-45.8 0-88.1 18.9-113.3 50.5l-4.2 5.3 37.2 41 5.9-7c12.9-15.5 36.4-33.9 74.9-33.9 23.2 0 50.2 11 50.2 42.1 0 43.5-51.3 87.7-160.3 171.5l-3.1 2.4V887H768v-55.4z"})})))},82333:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var o=n(74389);const r=(0,n(86283).E)(((e,t)=>(0,o.Y)("svg",{viewBox:"64 64 896 896",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",ref:t,...e,children:(0,o.Y)("path",{d:"M180 325h76v530a8 8 0 0 0 8 8h56a8 8 0 0 0 8-8V325h76a8 8 0 0 0 6.3-13l-112-141.9a8 8 0 0 0-11.2-1.4l-1.4 1.4-112 141.9a8.1 8.1 0 0 0 6.3 13zm461.6-109.2v232.3h61.9V127.6h-51.6l-89.7 91.5 38.4 39.6 41-42.9zm2.4 615.8c29.6-23.4 60.2-49.5 82.5-75.5 27-31.5 40.2-61 40.2-90.2s-12.1-55.8-35.1-73.7c-20.2-15.7-47.6-24.4-77.2-24.4-45.8 0-88.1 18.9-113.3 50.5l-4.2 5.3 37.2 41 5.9-7c12.9-15.5 36.4-33.9 74.9-33.9 23.2 0 50.2 11 50.2 42.1 0 43.5-51.3 87.7-160.3 171.5l-3.1 2.4V887H768v-55.4z"})})))},24491:(e,t,n)=>{"use strict";n.d(t,{j:()=>s});var o=n(74389),r=n(86283),l=n(93345),i=n(76397);const s=(0,r.E)(((e,t)=>{const n=(0,l.useContext)(i.L);return(0,o.FD)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23 23",xmlSpace:"preserve",width:"1em",height:"1em",fill:"currentColor",ref:t,...e,children:[(0,o.Y)("path",{d:"M2.9 11.3c-.9 0-1.6-.4-2.1-1.2C.3 9.3 0 8.2 0 6.7 0 5.1.3 3.9.8 3c.5-.8 1.3-1.2 2.3-1.2 2 0 2.9 1.6 2.9 4.7C6 8 5.7 9.2 5.2 10c-.5.8-1.3 1.3-2.3 1.3zm.2-8.6c-1.3 0-2 1.3-2 4 0 2.5.6 3.7 1.9 3.7 1.3 0 1.9-1.3 1.9-3.8 0-2.6-.6-3.9-1.8-3.9zM8 11.2c-.2 0-.4-.1-.5-.2-.1-.1-.2-.3-.2-.5s.1-.4.2-.5c.1-.1.3-.2.5-.2s.4.1.5.2.2.3.2.5-.1.4-.2.5-.3.2-.5.2zM12.8 11.3c-.9 0-1.6-.4-2.1-1.2-.5-.8-.8-1.9-.8-3.4 0-1.6.3-2.8.8-3.7.6-.8 1.3-1.2 2.3-1.2 1.9 0 2.9 1.6 2.9 4.7 0 1.6-.3 2.7-.8 3.5-.5.8-1.3 1.3-2.3 1.3zm.2-8.6c-1.3 0-2 1.3-2 4 0 2.5.6 3.7 1.9 3.7 1.3 0 1.9-1.3 1.9-3.8 0-2.6-.6-3.9-1.8-3.9z"}),(0,o.Y)("path",{fill:e.errorColor||n.errorColor,d:"M19.9 11.3c-.9 0-1.6-.4-2.1-1.2-.6-.8-.8-1.9-.8-3.4 0-1.6.3-2.8.8-3.7s1.3-1.2 2.3-1.2C22 1.8 23 3.4 23 6.5c0 1.6-.3 2.7-.8 3.5-.6.8-1.3 1.3-2.3 1.3zm.1-8.6c-1.3 0-2 1.3-2 4 0 2.5.6 3.7 1.9 3.7 1.3 0 1.9-1.3 1.9-3.8.1-2.6-.5-3.9-1.8-3.9zM22.7 18.4h-9.5l2.5 2.5h-2l-3.5-3.2 3.5-3.3h2l-2.5 2.5h9.5v1.5z"})]})}))},26437:(e,t,n)=>{"use strict";n.d(t,{NB:()=>i,n6:()=>s});var o=n(93345),r=n(61858);const l=(0,o.createContext)({}),i=l.Provider;function s(e){const t=(0,o.useContext)(l);return(0,o.useMemo)((()=>e.map((e=>void 0===e?void 0:(0,r.s)("cell-style",e,t)))),[t,e])}},54231:(e,t,n)=>{"use strict";n.d(t,{W0:()=>s,Y6:()=>i});var o=n(93345),r=n(61858);const l=(0,o.createContext)({}),i=l.Provider;function s(e){const t=(0,o.useContext)(l);return(0,o.useMemo)((()=>e.map((e=>void 0===e?void 0:(0,r.s)("cell",e,t)))),[t,e])}},33886:(e,t,n)=>{"use strict";n.d(t,{$:()=>V});var o=n(74389);var r=n(90147),l=n(31529),i=n(93345),s=n(47357),a=n(96531),u=n(7660),d=n(29213),c=n(54231),m=n(26437),f=n(29549),h=n(56853),p=n(74448),g=n(53758),b=n(23011),w=n(27485),y=n(18664),C=n(9117),v=n(63449),x=n(38008),R=n(45357),S=n(82333),O=n(99369);const I=(0,i.forwardRef)(((e,t)=>{const n=e.sort?.orderMode,r=e.sort?.drillthroughColumnUniqueName,l=(0,i.useRef)(null),s=(0,y.useHasOverflow)(l),a=e.value===r&&n,u=a&&"ASC"===n?R.N:a&&"DESC"===n?S.b:void 0;return(0,o.Y)(y.Tooltip,{placement:"right",trigger:s?["hover"]:[],title:e.caption,children:(0,o.FD)("div",{ref:t,style:{display:"flex",alignItems:"center",...e.style},children:[(0,o.Y)("span",{ref:l,style:{textOverflow:"ellipsis",overflow:"hidden",maxWidth:`calc(100% - ${a?"18px":"0px"})`,...!e.wrapText&&{whiteSpace:"nowrap"}},children:e.caption}),u?(0,o.Y)(u,{onClick:e.onSortChanged,style:{cursor:"pointer",marginLeft:"auto",height:"100%"}}):(0,o.Y)("div",{style:{height:"100%",marginLeft:6}})]})})}));I.displayName="DefaultDrillthroughHeaderCell";const H=(0,O.R)(I),M=(0,i.forwardRef)(((e,t)=>{const{caption:n,columnIndex:r,headerValues:l,isRowFrozen:s,widgetState:a}=e,u=s,d=l?.[r]?.name,c=d&&a.style?.measures?.[d]?.justifyContent,m=(0,i.useMemo)((()=>c?{...e.style,justifyContent:c}:e.style),[e.style,c]),[f]=(0,h.i)("table.tooltips");if(u)return(0,o.Y)(H,{ref:t,...e});{const r=(a.style?.areTooltipsVisible??f)&&d&&n?[{left:d,right:n}]:void 0;return(0,o.Y)(x.Y,{ref:t,...e,style:m,tooltipContent:r})}}));M.displayName="DefaultDrillthroughCell";const z=(0,i.memo)(M);var F=n(40570),D=n(25617);const Y=({style:e})=>{const t=(0,D.DP)();return(0,o.Y)("div",{style:e,children:(0,o.Y)("div",{css:{display:"flex",overflow:"hidden"},children:(0,l.range)(4).map((e=>(0,o.FD)("div",{children:[(0,o.Y)("div",{css:F.css`
                height: 28px;
                overflow: hidden;
                position: relative;
                width: 120px;
                border-right: 1px solid ${t.cellBorderColor};
              `,children:(0,o.Y)("div",{css:F.css`
                  padding: 4px 4px 3px;
                `})}),(0,o.Y)("div",{css:F.css`
                height: 196px;
                position: relative;
                border-top: 1px solid ${t.cellBorderColor};
                border-right: 1px solid ${t.cellBorderColor};
              `,children:(0,l.range)(7).map((e=>(0,o.Y)("div",{css:F.css`
                    font-size: 12px;
                    height: 28px;
                    left: 0px;
                    padding: 4px 4px 3px;
                    position: absolute;
                    top: ${28*e}px;
                    width: 120px;
                    overflow: hidden;
                    background-color: ${e%2==1?t.alternateCellBackgroundColor:"transparent"};
                    border-right: 1px solid ${t.cellBorderColor};
                  `},e)))})]},e)))})})};var W=n(14035),N=n(60582);function T(e,t){const{headers:n,rows:o}=t,r=new Map,l={},i=n.length,{numberOfRows:s,numberOfColumns:a}=(0,N.Q)(o);e.forEach((({columnHeader:e,body:t})=>{if(t)for(let e=t.rows.from;e<=Math.min(t.rows.to,s-1);e++)for(let l=t.columns.from;l<=Math.min(t.columns.to,a-1);l++){let t=r.get(n[l]);t||(t={},r.set(n[l],t)),t[e]=o[e][l]}e&&n.slice(e.columns.from,Math.min(e.columns.to,i-1)+1).forEach(((t,n)=>{l[e.columns.from+n]=t}))}));const u=[];for(const e of r.entries()){const[t,n]=e;u.push({header:t,cells:Object.keys(n).map((e=>parseInt(e))).sort().map((e=>n[e]))})}return{headers:Object.keys(l).map((e=>parseInt(e))).sort().map((e=>l[e])),columns:u}}var E=n(59300),P=n.n(E),$=n(45795),k=n(92326);const A=e=>e,V=(0,C.withLoadingOverlay)((0,C.withoutIrrelevantRenders)((e=>{const{queryResult:t,widgetState:n,style:C,onChange:x,onSelectionChange:R}=e,{widgetKey:S,columnWidths:O,sort:I}=n,H=n.style?.measures,[M]=(0,h.i)("table.headers.wrap"),[F]=(0,h.i)("table.defaultSize"),[D]=(0,h.i)("table.rowNumbers"),N=n.style?.wrapHeaders??M,E=n.style?.areRowNumbersVisible??D;(0,y.useCallOnLoadedAfterFirstProperRender)(e);const{locale:V}=(0,s.useIntl)(),{cube:K,serverKey:L}=(0,v.useCube)(n),[B]=(0,u.N)(L,K.name),{mdx:_}=(0,k.t)(n),j=(0,f.useWidgetPlugin)(S),[q]=(0,m.n6)([j.cellStyle]),[U]=(0,c.W0)([j?.cell]),G=(0,i.useCallback)((q?.withCellStyle??A)(U??z),[q]);G.displayName="DrillthroughCell";const Q=t.data,{cells:X,headers:Z}=(0,i.useMemo)((()=>Q&&_&&B?(0,W.Q)(_,Q?.result,B):{cells:void 0,headers:void 0}),[_,Q,B]),J=Z&&Z.length>0?1:0,ee=(0,i.useMemo)((()=>(Z||[]).map((({caption:e})=>({value:e,caption:e})))),[Z]),te=(0,i.useMemo)((()=>{if(X&&I){const e=ee.findIndex((e=>e?.caption===I.drillthroughColumnUniqueName));if(e>-1)return(0,l.orderBy)(X,[t=>t[e].value],["ASC"===I.orderMode?"asc":"desc"])}}),[X,I,ee])??X,ne=(0,i.useMemo)((()=>{const e=H&&te?(({bodyCells:e,columnsStyle:t,headerCells:n,locale:o})=>{const l=n.map(((e,t)=>({styledColumnIndex:t,value:e?.value}))).filter((({value:e})=>t[String(e)]));return(0,r.produce)(e,(e=>{e?.forEach((e=>{Object.values(l).forEach((({styledColumnIndex:n,value:r})=>{if(!r)return;const l=e[n],i=t[r],s=i.dateFormat?P()(l.value,{locale:o}).format(i.dateFormat):(0,$.m)({locale:o,numericFieldStyle:i,value:Number(l.value),valueFormattedByAtotiServer:l.caption});e[n]={caption:s,value:l.value}}))}))}))})({bodyCells:te,columnsStyle:H,headerCells:ee,locale:V}):te;return[ee,...e??[]]}),[ee,H,te,V]),oe=(0,i.useMemo)((()=>O&&Z?Object.entries(O).reduce(((e,[t,n])=>{const o=Z.findIndex((e=>e?.caption===t));return-1!==o?{...e,[o]:n}:e}),{}):void 0),[Z,O]);if(!t.isLoading&&t.error){if((0,a.isErrorInQueryResultOfType)(t.error,"QueryTimeoutException"))throw new a.QueryTimeoutError(t.error);throw new a.QueryError(t.error)}const re=(0,i.useCallback)((()=>{x({...n,sort:{...I,orderMode:"ASC"===I.orderMode?"DESC":"ASC"}})}),[n,I,x]),le=(0,i.useMemo)((()=>({headerValues:Z||[],onSortChanged:re,sort:I,widgetState:n})),[re,Z,I,n]),ie=(0,i.useRef)([]),se=(0,i.useRef)(void 0);(0,i.useEffect)((()=>{if(Z&&te&&R){const e=se.current,t=T(ie.current,{headers:Z,rows:te.map((e=>e.map((e=>e.value))))});(0,l.isEqual)(t,e)||(se.current=t,R(t))}}),[Z,R,te]);const ae=(0,i.useMemo)((()=>Z?e=>{x({...n,columnWidths:{...O,...Object.entries(e).reduce(((e,[t,n])=>({...e,[Z[parseInt(t)].caption]:n})),{})}})}:void 0),[O,Z,x,n]),ue=(0,i.useMemo)((()=>Z&&te?e=>{if(R){ie.current=e;const t=T(e,{headers:Z,rows:te.map((e=>e.map((e=>e.value))))});se.current=t,R(t)}}:void 0),[te,Z,R]),de=(0,i.useMemo)((()=>Z?(e,t)=>{void 0!==_&&x((0,r.produce)(n,(n=>{const o=(0,d.getDrillthroughColumns)(_);(function(e,t,n){const o=t<0?e.length+t:t;if(o>=0&&o<e.length){const o=n<0?e.length+n:n,[r]=e.splice(t,1);e.splice(o,0,r)}})(o,e,t),n.query.mdx=(0,d.setDrillthroughColumns)(_,{drillthroughColumnUniqueNames:o}),delete n.shouldUseDefaultColumns})))}:void 0),[Z,_,x,n]),ce=(0,i.useRef)(null);return(0,i.useEffect)((()=>{async function e(e){if(!te||document.activeElement!==ce.current)return;e.preventDefault();const t=(0,p.O)(ie.current,{numberOfColumnsInBody:Z?.length??0,numberOfFrozenColumns:0,numberOfFrozenRows:J,numberOfRowsInBody:te.length});if(t.length>0){const n=t[0],o=(0,g.M)(n.columnHeader,(e=>`${ee[e]?.value}`)),r=(0,g.M)(n.body,((e,t)=>`${te[t][e].value}`)),l=(0,b.R)({header:o,body:r});e.clipboardData?.setData("text/plain",l["text/plain"]),e.clipboardData?.setData("text/html",l["text/html"])}}return document.addEventListener("copy",e),()=>{document.removeEventListener("copy",e)}}),[te,ee,Z?.length,J]),J>0?(0,o.Y)(w.XI,{cells:ne,additionalCellProps:le,style:C,numberOfFrozenRows:J,Cell:G,columnWidths:oe,onColumnsResized:ae,onSelectionChanged:ue,size:n.style?.size??F,wrapHeaders:N,areRowNumbersVisible:E,canReorderColumns:!0,onColumnsReordered:de,containerRef:ce,shouldRenderExtraRows:!0}):(0,o.Y)(Y,{style:e.style})})))},14035:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l});var o=n(31529),r=n(29213);const l=(e,t,n)=>{const l=((e,t,n)=>{const o={};return(e.columns??[]).forEach(((e,l)=>{const i=(0,r.isMdxFunction)(e)?e.arguments[0]:e;if(!(0,r.isMdxCompoundIdentifier)(i)||void 0===t.find((e=>e.name===i.identifiers[0].value)))return;const s=i.identifiers[0].value;if(!n.some((({name:e})=>e===s)))return;o[s]||(o[s]={valueIndex:-1});const a=(0,r.isMdxFunction)(e)&&e.name.toLowerCase();"membervalue"!==a&&a?"caption"===a&&(o[s].captionIndex=l):o[s].valueIndex=l})),o})(e,t.headers,n);if((0,o.isEqual)(l,{}))return{cells:void 0,headers:void 0};const i=[];return Object.values(l).forEach((({captionIndex:e,valueIndex:n})=>{const o=t.headers[n];if(o){const n=void 0!==e?t.headers[e].caption:o.caption;i.push({...o,caption:n})}})),{cells:t.rows.map((e=>Object.values(l).map((({captionIndex:t,valueIndex:n})=>{const o=e[n];return{caption:void 0!==t?`${e[t]}`:"object"==typeof o?JSON.stringify(o):`${o}`,value:"number"==typeof o?o:JSON.stringify(o)}})))),headers:i}}},75770:(e,t,n)=>{"use strict";n.d(t,{h:()=>l});var o=n(31529);const r={int:"numeric",double:"numeric",long:"numeric",String:"regular",Object:"regular",LocalDate:"date",LocalDateTime:"date"};function l(e){return(0,o.mapValues)((0,o.groupBy)(e,(({type:e})=>r[e]??"regular")),(e=>(0,o.sortBy)(e,(e=>e.name.toLowerCase()))))}},57991:(e,t,n)=>{"use strict";n.d(t,{_:()=>ae});var o=n(74389),r=n(84828),l=n(68582),i=n(9117),s=n(90147),a=n(93345),u=n(47357),d=n(72738),c=n(7660),m=n(54031),f=n(76904),h=n(25170),p=n(87613),g=n(55140),b=n(55194),w=n(80865),y=n(97492),C=n(78378),v=n(94888),x=n(52370),R=n(29213),S=n(82478),O=n(18664),I=n(63449),H=n(72081);const M=(e,t,n)=>{!e.children&&"drillthroughColumn"===e.type&&t.includes(e.uniqueName)?n.push(e.path):void 0!==e.children&&"drillthroughColumn"!==e.type&&(e.children.forEach((e=>{M(e,t,n)})),e.children.every((e=>n.includes(e.path)))&&n.push(e.path))};var z=n(84875),F=n(95927),D=n(34464),Y=n(75770);const W=["numeric","regular","date"],N=()=>!0,T=e=>{const{formatMessage:t}=(0,u.useIntl)(),{selectedColumnUniqueNames:n,onSelectedColumnUniqueNamesChange:r,drillthroughColumns:l}=e,i=function(e){const{formatMessage:t}=(0,u.useIntl)(),n=(0,Y.h)(e),o=(0,a.useMemo)((()=>W.map(((e,o)=>({type:e,caption:t({id:`aui.drillthrough.columnCategory.${e}`}),isFolder:!0,path:[0,o],children:n[e]?.map(((e,t)=>({caption:e.caption,type:"drillthroughColumn",uniqueName:e.name,isFolder:!1,path:[0,o,t]})))})))),[n,t]);return[{caption:t({id:"aui.selectAll"}),children:o,isFolder:!0,path:[0],type:"root"}]}(l),s=(0,a.useMemo)((()=>((e,t)=>{const n=[];return e.forEach((e=>{M(e,t,n)})),n})(i,n)),[i,n]),d=(0,a.useCallback)((e=>{const t=((e,t)=>{const n=(0,z.f)(e,t),o=[];return(0,F.z)(e,(e=>{"drillthroughColumn"===e.type&&(0,D.Q)(e.path,n)&&o.push(e.uniqueName)})),o})(i,e);r(t)}),[i,r]);return(0,o.Y)(H.P,{style:{minHeight:0},value:i,isSearchVisible:!0,isSelectable:!0,searchPlaceholder:t({id:"aui.drillthrough.columnSearchPlaceholder"}),onSelectedPathsChange:d,hasCheckbox:N,selectedPaths:s})};var E=n(31529),P=n(92326);const $=["widget"],k=(0,S.n)((e=>{const{cube:t,serverKey:n}=(0,I.useCube)(e.widgetState),{onWidgetChange:r,widgetState:l}=e,S=(0,d.M)(e)?e.dashboardState:void 0,H=(0,d.M)(e)?e.pageKey:void 0,[M,{error:z}]=(0,c.N)(n,t.name),F=(0,i.useFilters)({widgetState:l}),D=(0,i.useQueryContexts)({widgetState:l,dashboardState:S,pageKey:H}),Y=(0,i.useMdxInViews)({widgetState:l}),{mdx:W,isLoading:N}=(0,P.t)(l),k=(0,a.useMemo)((()=>W?(0,R.getDrillthroughColumns)(W):[]),[W]),A=(0,a.useCallback)((e=>{const o=W??(0,R.getDefaultMdxDrillthrough)(t.name),i=function({currentColumnNames:e,newColumnNames:t}){return[...(0,E.intersection)(e,t),...(0,E.difference)(t,e)]}({currentColumnNames:k,newColumnNames:e}),a=(0,s.produce)(l,(e=>{e.query.mdx=(0,R.setDrillthroughColumns)(o,{drillthroughColumnUniqueNames:i}),e.serverKey=n,delete e.shouldUseDefaultColumns}));r(a)}),[t.name,k,W,l,r,n]),[V,K]=(0,a.useState)(),L=(0,a.useCallback)((e=>{const t=(0,s.produce)(l,(t=>{t.filters=e.widget,(0,I.driveFiltersFromState)(t)}));r(t)}),[r,l]),B=({dragItem:e})=>(0,v.a)(e)||(0,h.x)(e)||(0,p.G)(e)||(0,g.f)(e),_=({dragItem:e,toPosition:o})=>{const{dimensionName:r,hierarchyName:l,levelName:i}=e.field,s=(0,m.Z)({dimensionName:r,hierarchyName:l,levelName:i,cube:t});K({serverKey:n,cubeName:t.name,hierarchyCoordinates:{dimensionName:r,hierarchyName:l},position:o,levelIndex:s,type:"create-filter"})};(0,C.z4)(((t,n)=>{if(!1!==e.isActive&&((0,b.t)(t)||(0,w.y)(t)||(0,y.r)(t))){const{dimensionName:e,hierarchyName:o,levelName:r}=(0,f.a)(t),l={fieldType:t.type,type:"DATA_TREE_FIELD",field:{dimensionName:e,hierarchyName:o,levelName:r}};B({dragItem:l})&&(_({dragItem:l,toPosition:{sectionName:"widget",tileIndex:F.widget.length}}),n.preventDefault())}}));const{formatMessage:j}=(0,u.useIntl)(),q=(0,a.useMemo)((()=>({widget:j({id:"aui.filters.section.widgetFilters"})})),[j]);return z?(0,o.Y)(O.CenteredTitle,{level:2,children:z.message}):N?(0,o.Y)(O.CenteredTitle,{level:2,children:j({id:"aui.dataVisualization.loadingDrillthroughColumns"})}):M?(0,o.FD)("div",{style:{height:"100%",display:"flex",flexDirection:"column",flexGrow:1,minHeight:0},children:[(0,o.Y)("div",{style:{flexGrow:1,minHeight:0},children:(0,o.Y)(T,{drillthroughColumns:M,onSelectedColumnUniqueNamesChange:A,selectedColumnUniqueNames:k})}),(0,o.Y)("div",{style:{flexShrink:0,justifySelf:"flex-end"},children:(0,o.Y)(x.l,{canDrop:B,dragItemTypes:["DATA_TREE_FIELD","FIELD_IN_WIZARD","FILTER_IN_WIZARD"],serverKey:n,cubeName:t.name,filters:F,queryContextBySection:D,onFiltersChange:L,sectionCaptions:q,popoverConfiguration:V,onPopoverConfigurationChanged:K,mdxInViews:Y,visibleSectionNames:$,onTileMoved:_})})]}):(0,o.Y)(O.CenteredTitle,{level:2,children:j({id:"aui.dataVisualization.missingDrillthroughColumns"})})}),{awaitAllDataModels:!0});var A=n(33886),V=n(40570),K=n(59300),L=n.n(K),B=n(152),_=n(6423),j=n(56257),q=n(79566),U=n(23106),G=n(6589),Q=n(81839),X=n(23536),Z=n(18239),J=n(73756),ee=n(25617),te=n(14035);const ne=[_.i,j.z,q.l,U.F],oe=(0,S.n)((e=>{const{queryId:t,widgetState:n}=e,{query:{mdx:r}}=n,{cube:l,serverKey:i}=(0,I.useCube)(n),{data:s}=(0,B.J)({serverKey:i,queryId:t}),{locale:d}=(0,u.useIntl)(),m=(0,ee.DP)(),[f]=(0,c.N)(i,l.name),h=(0,a.useMemo)((()=>{if(!s||!r||!f)return[];const{cells:e,headers:t}=(0,te.Q)(r,s.result,f);return(t??[]).map((({name:t,caption:n},o)=>{const r=(e??[]).every((e=>!isNaN(e[o].value)));return{value:t,label:n,type:"drillthroughHeader",isNumeric:r,isTime:!r&&(e??[]).every((e=>L()(e[o].value,{locale:d}).isValid()))}}))}),[s,f,r,d]);return(0,o.FD)(a.Fragment,{children:[(0,o.FD)("div",{css:V.css`
          border-bottom: 1px solid ${m.grayScale[4]};
          padding-bottom: 4px;
        `,children:[(0,o.Y)(Q.j,{...e}),(0,o.Y)(X.S,{...e}),(0,o.Y)(Z.X,{...e}),(0,o.Y)(J.Y,{...e})]}),(0,o.Y)(G.G,{...e,fieldOptions:h,fieldStyleEditors:ne})]})}));var re=n(85831);const le=()=>{},ie="drillthrough-table",se={query:{updateMode:"once"},widgetKey:ie},ae={key:ie,category:"misc",Component:function(e){const t=(0,a.memo)((t=>{const{serverKey:n,cube:r}=(0,I.useCube)(t.widgetState),{widgetState:l,queryId:u,isDeferred:d}=t,{dashboardState:c,pageKey:m}=(0,i.isWidgetInDashboard)(t)?t:{},{mdx:f,isLoading:h}=(0,P.t)(l),p=(0,a.useMemo)((()=>(0,s.produce)(l,(e=>{e.query.mdx=f}))),[l,f]),g=(0,i.useWidgetQueryResult)({serverKey:n,queryId:u,widgetState:p,dashboardState:c,pageKey:m,cube:r,isDeferred:d}),b=(0,a.useMemo)((()=>({...g,isLoading:g.isLoading||h})),[g,h]);return(0,o.Y)(e,{...t,queryResult:b,onQueryRangesChanged:le})}));return t.displayName=`withDrillthroughQueryResult(${e.displayName})`,(0,re.m)(t)}((0,i.withWidgetQueryErrorBoundary)(A.$)),contentEditor:k,filtersEditor:e=>(0,o.Y)(i.FiltersEditor,{...e,queryType:"drillthrough"}),queryEditor:r.M,styleEditor:oe,Icon:l.I,initialState:se,translations:{"en-US":{key:"Drillthrough",defaultName:"New drillthrough"},"fr-FR":{key:"Drillthrough",defaultName:"Nouveau drillthrough"}}}},92326:(e,t,n)=>{"use strict";n.d(t,{t:()=>d});var o=n(31529),r=n(93345),l=n(7660),i=n(29213),s=n(56853),a=n(63449),u=n(75770);function d(e){const{serverKey:t,cube:n}=(0,a.useCube)(e),d=n.name,[c,{isLoading:m}]=(0,l.N)(t,d),[f,,{isLoading:h}]=(0,s.i)("drillthrough.defaultSelectedColumns"),p=m||h,g=(0,r.useMemo)((()=>{const e=(0,u.h)(c??[]),t=(0,o.flatten)(["numeric","regular","date"].map((t=>e[t]??[])));return(0,o.map)(t,"name")}),[c]),b=f[d],w=(0,r.useMemo)((()=>b&&b.length>0?(0,o.intersection)(b,g):g),[g,b]);return(0,r.useMemo)((()=>{if(!e.shouldUseDefaultColumns)return{mdx:e.query.mdx,isLoading:p};if(p)return{isLoading:!0};const t=e.query.mdx??(0,i.getDefaultMdxDrillthrough)(d);return{mdx:(0,i.setDrillthroughColumns)(t,{drillthroughColumnUniqueNames:w}),isLoading:!1}}),[e.query.mdx,d,e.shouldUseDefaultColumns,p,w])}},38008:(e,t,n)=>{"use strict";n.d(t,{Y:()=>u});var o=n(74389),r=n(93345),l=n(2307),i=n(18664),s=n(99369);const a=(0,r.forwardRef)((({caption:e,className:t,style:n,tooltipContent:r},s)=>{const a=(0,o.Y)("div",{className:t,style:n,ref:s,"data-testid":"aui-cell",children:e});return r?(0,o.Y)(i.Tooltip,{title:(0,o.Y)(l.U,{content:r}),mouseEnterDelay:.3,placement:"right",overlayStyle:{maxWidth:350},children:a}):a}));a.displayName="DefaultTableCell";const u=(0,r.memo)((0,s.R)(a))},73756:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var o=n(74389),r=n(47357),l=n(85675),i=n(56853);const s=e=>{const[t]=(0,i.i)("table.rowNumbers"),{formatMessage:n}=(0,r.useIntl)();return(0,o.Y)(l.u,{propertyName:"areRowNumbersVisible",checkedByDefault:t,label:n({id:"aui.dataVisualization.rowNumbers"}),...e})}},27485:(e,t,n)=>{"use strict";n.d(t,{XI:()=>gt,GR:()=>ht,aK:()=>ft});var o=n(74389),r=n(31529),l=n(93345),i=n.n(l),s=n(56853),a=n(25617),u=n(31976),d=n(51727),c=n(18664),m=n(38008);const f=(0,l.createContext)(void 0),h=f.Provider;function p({isRowFrozen:e,isColumnFrozen:t}){return(0,l.memo)((0,l.forwardRef)(((n,r)=>{const i=(0,l.useContext)(f)||m.Y;return(0,o.Y)(i,{ref:r,...n,isRowFrozen:e,isColumnFrozen:t})})))}const g=p({isRowFrozen:!1,isColumnFrozen:!1});g.displayName="BodyCell";var b=n(24652);function w({x:e,y:t},n){return void 0!==n&&e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom}function y(e,t,n){return(e-t)/(n-t)}const C=({left:e,width:t})=>{const{hoverColor:n}=(0,a.DP)(),r=(0,l.useMemo)((()=>`2px solid ${n}`),[n]);return(0,o.Y)("div",{"data-testid":"column-drag-highlight",style:{position:"absolute",top:0,left:e,width:t,height:"100%",border:r,borderBottom:"none"}})};var v=n(69937);const x=({left:e,width:t})=>{const{hoverColor:n}=(0,a.DP)(),{backgroundColor:r,border:i}=(0,l.useMemo)((()=>({backgroundColor:(0,v.j)(n,.07),border:`2px solid ${(0,v.j)(n,.27)}`})),[n]);return(0,o.Y)("div",{"data-testid":"column-drag-preview",style:{position:"absolute",top:0,left:e,width:t,height:"100%",backgroundColor:r,border:i,borderBottom:"none"}})},R=({tableId:e,columnWidth:t,left:n,columnIndex:r,onDrop:l})=>{const[{isOver:i,item:s},u]=(0,b.useDrop)((()=>({accept:ht,collect:e=>({isOver:e.isOver(),item:e.getItem()}),canDrop:t=>t.tableId===e,drop:e=>{l?.(e.columnIndex,r)}})),[r,l,e]),{hoverColor:d}=(0,a.DP)();let c={};return s&&i&&(c=r<s.columnIndex?{borderLeft:`2px solid ${d}`}:{borderRight:`2px solid ${d}`}),(0,o.Y)("div",{ref:u,"data-testid":"column-drop-area",style:{position:"absolute",left:n,width:t,height:"100%",pointerEvents:"auto",...c}})},S=(0,l.createContext)(void 0),O=S.Provider;function I(){const e=(0,l.useContext)(S);if(!e)throw"Missing <TableIdProvider />";return e}const H=({dragBounds:e,scrollLeft:t,defaultColumnWidth:n,columnWidths:i,firstVisibleColumnIndex:s,lastVisibleColumnIndex:a,cumulatedWidthOfColumnsScrolledPast:u,onColumnReorder:d,onScroll:c})=>{const m=I(),{itemType:f,isDragging:h,item:p,mousePosition:g,initialMousePosition:v,initialSourceClientOffset:S}=(0,b.useDragLayer)((e=>({isDragging:e.isDragging(),itemType:e.getItemType(),mousePosition:e.getClientOffset(),initialMousePosition:e.getInitialClientOffset(),initialSourceClientOffset:e.getInitialSourceClientOffset(),item:e.getItem()}))),O=(0,l.useCallback)((({firstVisibleColumnIndex:e,lastVisibleColumnIndex:t,scrollLeft:r,cumulatedWidthOfColumnsScrolledPast:l})=>{if(!p)return[];let s=l;const a=[];for(let l=e;l<=t;l++){const e=i[l]??n;l!==p.columnIndex&&a.push((0,o.Y)(R,{tableId:m,columnWidth:e,left:s-r,columnIndex:l,onDrop:d})),s+=e}return a}),[i,n,p,d,m]),H=(0,l.useRef)(t);if(h||(H.current=t),f!==ht||!h||!p)return null;if(p.tableId!==m)return null;if(!g||!v||!S)return null;const M=e.right-e.left,z=S.x-e.left,F=g.x-v.x,D=z+H.current-t,Y=(0,r.clamp)(z+F,0,M-p.columnWidth),W=w(g,e);if(g.x<e.left+40){const t=1-y(g.x,e.left,e.left+40);c?.("left",(0,r.clamp)(t,0,1))}if(g.x>e.right-40){const t=y(g.x,e.right-40,e.right);c?.("right",(0,r.clamp)(t,0,1))}const N=O({firstVisibleColumnIndex:s,lastVisibleColumnIndex:a,cumulatedWidthOfColumnsScrolledPast:u,scrollLeft:t});return(0,o.FD)(o.FK,{children:[...N,(0,o.Y)(C,{left:D,width:p.columnWidth}),W&&(0,o.Y)(x,{left:Y,width:p.columnWidth})]})};var M=n(5140);const z=p({isRowFrozen:!0,isColumnFrozen:!1});z.displayName="TopCell";const F=(0,l.createContext)([[],()=>!1]),D=(0,l.createContext)([!1,r.noop]),Y=F.Provider,W=D.Provider;function N(){return(0,l.useContext)(F)}function T(){return(0,l.useContext)(D)}const E=(0,l.memo)((0,l.forwardRef)(((e,t)=>{const[n]=N(),[r]=T(),i=I(),{columnIndex:s,width:a}=e,[,u,d]=(0,b.useDrag)((()=>({type:ht,item:{tableId:i,columnIndex:s,columnWidth:a},canDrag:!r})),[s,r,i,a]),c=(0,l.useMemo)((()=>function({selection:e,columnIndex:t}){if(1!==e.length)return!1;const n=e[0];return void 0===n.body&&void 0===n.rowHeader&&void 0===n.staticHeader&&void 0!==n.columnHeader&&n.columnHeader.columns.from===n.columnHeader.columns.to&&n.columnHeader.columns.from===t}({selection:n,columnIndex:s})),[s,n]),m=(0,l.useMemo)((()=>({...c&&{cursor:"grab"},...e.style})),[e.style,c]);d((0,M.getEmptyImage)());const f=(0,l.useCallback)((e=>{t&&("function"==typeof t?t(e):t.current=e),u(e)}),[u,t]);return(0,o.Y)(z,{ref:f,...e,style:m})})));E.displayName="DraggableTopCell";const P=e=>{const t=(0,a.DP)(),[n,r]=(0,l.useState)(!1),[i,s]=(0,l.useState)(e.position),u=(0,l.useRef)(i);return(0,l.useEffect)((()=>{s(e.position)}),[e.position]),(0,l.useEffect)((()=>{u.current=i}),[i]),(0,o.Y)("div",{className:"handle",onMouseDown:t=>{t.stopPropagation(),document.body.style.userSelect="none";const n=t.clientX;r(!0);const o=t=>{s(function(t){const o=t-n;return Math.max(i+o,e.minPosition)}(t.clientX))},l=()=>{document.body.style.userSelect="auto",document.body.removeEventListener("mousemove",o),document.body.removeEventListener("mouseup",l),r(!1),e.onResizeEnded(u.current)};document.body.addEventListener("mousemove",o),document.body.addEventListener("mouseup",l)},onDoubleClick:e.onDoubleClicked,css:{position:"absolute",cursor:"col-resize",height:"100%",width:4,background:n?t.primaryColor:"transparent",top:0,left:i-3,zIndex:1,":hover":{background:t.primaryColor}}})};function $({columnIndex:e,columnWidths:t,defaultColumnWidth:n,hiddenColumns:o}){return o&&o.has(e)?0:t?.[e]??n}const k=e=>{const{range:t,style:n}=e,r=(0,a.DP)();if(!t)return null;const{left:i,width:s,top:u,height:d}=(({columnWidths:e={},defaultColumnWidth:t,defaultRowHeight:n,hiddenColumns:o,hiddenRows:r,range:l,rowHeights:i,numberOfRowsInGrid:s,numberOfColumnsInGrid:a})=>{const{columns:u,rows:d}=l,c=Math.min(d.to,s-1)+1;let m=0,f=0;for(let n=0;n<Math.min(u.to,a-1)+1;n++){const r=$({columnIndex:n,columnWidths:e,defaultColumnWidth:t,hiddenColumns:o});n<u.from?m+=r:f+=r}let h=0,p=0;if(i)for(let e=0;e<c;e++){if(r?.has(e))continue;const t=i[e]??n;e<d.from?h+=t:p+=t}else h=d.from*n,p=(c-d.from)*n;return{left:m,width:f,top:h,height:p}})({...e,range:t});return(0,o.Y)(l.Fragment,{children:(0,o.Y)("div",{className:e.className,css:{background:r.selectionOverlayColor,position:"absolute",top:`${u}px`,left:`${i}px`,height:`${d}px`,width:`${s}px`,pointerEvents:"none",...n}})})};var A=n(47357),V=n(9465),K=n(74860),L=n(24366);const B=L.A.default??L.A,_=K.A.default??K.A,j=i().forwardRef(((e,t)=>(0,o.Y)(B,{...e,ref:t,icon:_})));var q=n(81923),U=n(25296);const G=L.A.default??L.A,Q=U.A.default??U.A,X=i().forwardRef(((e,t)=>(0,o.Y)(G,{...e,ref:t,icon:Q})));function Z({groupType:e,position:t,mainAxisSize:n,crossAxisSize:o}){return"rows"===e?{top:t,left:0,width:o+2,height:n+2}:{top:0,left:t,width:n+2,height:o+2}}function J({groupType:e,isStartCaretVisible:t,isEndCaretVisible:n,color:o}){return"rows"==e?{border:`1px solid ${o}`,borderTopLeftRadius:t?5:0,borderTopRightRadius:t?5:0,borderBottomLeftRadius:n?5:0,borderBottomRightRadius:n?5:0}:{border:`1px solid ${o}`,borderTopLeftRadius:t?5:0,borderBottomLeftRadius:t?5:0,borderTopRightRadius:n?5:0,borderBottomRightRadius:n?5:0}}const ee=({groupType:e,hiddenSide:t,centerPosition:n,onClick:r,numberOfHiddenItemsInGroup:l})=>{const i=(0,a.DP)(),{formatMessage:s}=(0,A.useIntl)(),u=12*("both"===t?2:1),d=function({hiddenSide:e,mainAxisSize:t}){return"start"===e?-2:"end"===e?-t-2:-.5*t-2}({mainAxisSize:u,hiddenSide:t}),m=n+d,f="end"===t||"both"===t,h="start"===t||"both"===t,p="rows"===e?X:j,g="rows"===e?V.u:q.q;return(0,o.Y)(c.Tooltip,{title:"rows"===e?s({id:"aui.hiddenRowsTooltip"},{numberOfHiddenRows:l}):s({id:"aui.hiddenColumnsTooltip"},{numberOfHiddenColumns:l}),placement:"top",trigger:"hover",children:(0,o.FD)("div",{style:{cursor:"pointer",position:"absolute",zIndex:1,display:"flex",flexDirection:"rows"===e?"column":"row",justifyContent:"center",alignItems:"center",...Z({groupType:e,position:m,mainAxisSize:u,crossAxisSize:12})},css:{":hover":{backgroundColor:i.white,...J({groupType:e,isStartCaretVisible:f,isEndCaretVisible:h,color:i.primaryColor})}},onClick:r,onMouseDown:e=>{e.stopPropagation()},children:[f&&(0,o.Y)(p,{}),h&&(0,o.Y)(g,{})]})})};function te({firstIndex:e,lastIndex:t,defaultSize:n,variableSizes:o,hiddenIndices:r,positionOffset:l}){const i=[];let s=l??0;for(let l=e;l<=t;l++)if(r?.has(l)){const e=i.at(-1);e?.endIndex===l-1?e.endIndex=l:i.push({startIndex:l,endIndex:l,position:s})}else s+=o?.[l]??n;return i}var ne=n(6789);function oe({range:e,builderFunction:t}){const n=(0,l.useRef)({range:e,value:{}}),o=(0,c.useHasChanged)(t),i=!(0,r.isEqual)(n.current.range,e);return o&&(n.current.value={}),i&&function(){for(let t=n.current.range.from;t<=n.current.range.to;t++)(t<e.from||t>e.to)&&delete n.current.value[t]}(),(o||i)&&function(){for(let o=e.from;o<=e.to;o++)n.current.value[o]||(n.current.value[o]=t(o))}(),n.current.range=e,n.current.value}const re={},le=()=>[],ie=()=>{},se=e=>{const{Cell:t,cells:n,cellRefs:i,rangesOfActionedRows:s,areColumnsResizable:a,areHiddenColumnGroupCaretsVisible:u,numberOfRows:d,numberOfColumns:m,defaultColumnWidth:f,defaultRowHeight:h,columnWidths:p=re,rowHeights:g,hiddenColumns:b,selection:w,style:y,isTotal:C,onColumnsShown:v,onColumnsWidthChanged:x,onColumnResizeHandleDoubleClicked:R,rowsRef:S,isVirtualized:O,contentWidth:I}=e,H=0===m||0===d,M=!O&&e.wrapText,z=e.getRowStyle??ie,F=O?void 0:e.mergedCells,D=O?void 0:e.hiddenRows,Y=e.isVirtualized?e.firstVisibleRowIndex:0,W=e.isVirtualized?e.lastVisibleRowIndex:d-1,N=e.isVirtualized?e.firstVisibleColumnIndex:0,T=e.isVirtualized?e.lastVisibleColumnIndex:m-1,E=O?e.cumulatedWidthOfColumnsScrolledPast:0,$=(0,l.useCallback)(((e,t)=>{if(i)return void 0===i[e]&&(i[e]=[]),n=>{i[e][t]=n}}),[i]),A=function({range:e,builderFunction:t}){const n=(0,l.useRef)({range:e,value:{}}),o=(0,c.useHasChanged)(t),i=!(0,r.isEqual)(n.current.range,e);return o&&(n.current.value={}),i&&function(){for(let t=n.current.range.rows.from;t<=n.current.range.rows.to;t++)if(t<e.rows.from||t>e.rows.to)delete n.current.value[t];else for(let o=n.current.range.columns.from;o<=n.current.range.columns.to;o++)(o<e.columns.from||o>e.columns.to)&&delete n.current.value[t][o]}(),(o||i)&&function(){for(let o=e.rows.from;o<=e.rows.to;o++)for(let r=e.columns.from;r<=e.columns.to;r++)n.current.value[o]||(n.current.value[o]={}),n.current.value[o][r]||(n.current.value[o][r]=t(o,r))}(),n.current.range=e,n.current.value}({range:{rows:{from:Y,to:W},columns:{from:N,to:T}},builderFunction:$}),V=(0,l.useCallback)((({left:r,width:l,isSticky:i,rowIndex:s,columnIndex:a,rowProps:u,rowStyle:d,columnProps:c,parentTotalRowIndex:m})=>{const f={...n[s][a],className:"aui-table-cell",rowIndex:s,columnIndex:a,height:h,isVirtualized:O,left:r,parentTotalRowIndex:m,style:d,top:s*h,width:l,wrapText:M,isSticky:i};return(0,o.Y)(t,{ref:A[s][a],...f,...u[a],...c[s],...e.additionalCellProps},`cell-${s}-${a}`)}),[t,A,n,h,O,e.additionalCellProps,M]),K=(0,l.useCallback)(((e,t)=>{const n=t?.to??e;let o=0;for(let t=e;t<=n;t++)b?.has(t)||(o+=p[t]??f);return o}),[p,f,b]),L=(0,l.useCallback)((e=>({...z(e),userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"})),[z]),B=oe({range:{from:Y,to:W},builderFunction:L}),_=oe({range:{from:N,to:T},builderFunction:e.getColumnProps??le}),j=oe({range:{from:Y,to:W},builderFunction:e.getRowProps??le}),q=(0,l.useMemo)((()=>a?function({cumulatedWidthOfColumnsScrolledPast:e,firstVisibleColumnIndex:t,lastVisibleColumnIndex:n,defaultColumnWidth:o,hiddenColumns:r,columnWidths:l}){const i=[];let s=e;for(let e=t;e<=n;e++)r?.has(e)||(s+=l[e]??o,i.push({position:s,columnIndex:e}));return i}({cumulatedWidthOfColumnsScrolledPast:E,firstVisibleColumnIndex:N,lastVisibleColumnIndex:T,defaultColumnWidth:f,hiddenColumns:b,columnWidths:p}):[]),[a,p,E,f,N,b,T]),U=(0,l.useMemo)((()=>u?te({firstIndex:N,lastIndex:T,defaultSize:f,variableSizes:p,hiddenIndices:b,positionOffset:E}):[]),[u,p,E,f,N,b,T]),G=(0,l.useMemo)((()=>F?function(e){const t={};return e.forEach((({columns:e,rows:n})=>{t[n.from]||(t[n.from]={});for(let o=e.from;o<=e.to;o++)t[n.from][o]=e})),t}(F):{}),[F]),{cellElements:Q,rowElements:X}=(0,l.useMemo)((()=>{const e=[],t=[];let n=0;for(let o=Y;o<=Math.min(d-1,W);o++){O||t.push([]);let r,l=E;C?.(o)&&(n=o);for(let i=N;i<=Math.min(m-1,T);i++){if(b?.has(i))continue;const s=G[o]?.[i];if(void 0!==s&&s===r)continue;const a=p[i]??f,u=K(i,s);(O?e:t[o]).push(V({rowIndex:o,columnIndex:i,left:l,width:u,isSticky:u!==a,rowProps:j[o],columnProps:_[i],parentTotalRowIndex:n,rowStyle:B[o]})),l+=u,r=s}}return{rowElements:t,cellElements:e}}),[G,p,_,E,f,N,Y,V,K,b,C,O,T,W,m,d,j,B]),Z=(0,l.useMemo)((()=>s?.map((e=>({rows:e,columns:{from:0,to:1/0}})))),[s]);return(0,o.FD)("div",{style:{cursor:"cell",position:"relative",width:I,height:O?e.contentHeight:"100%",...!H&&y},children:[O?Q:X.map(((e,t)=>(0,o.Y)("div",{css:{display:"flex",flexDirection:"row",...!M&&{height:h}},ref:e=>{S?.(e,t)},children:e},`row-${t}`))).filter(((e,t)=>!D?.has(t))),Z?.map(((t,n)=>(0,o.Y)(k,{className:"ActionedRowOverlay",range:t,defaultRowHeight:h,defaultColumnWidth:f,columnWidths:p,hiddenColumns:b,hiddenRows:D,rowHeights:g,numberOfRowsInGrid:d,numberOfColumnsInGrid:m,style:e.actionedRowOverlayStyle},n))),(w||[]).map(((e,t)=>(0,o.Y)(k,{className:"SelectionOverlay",range:e,defaultRowHeight:h,defaultColumnWidth:f,columnWidths:p,hiddenColumns:b,hiddenRows:D,rowHeights:g,numberOfRowsInGrid:d,numberOfColumnsInGrid:m},t))),U.map((({position:e,startIndex:t,endIndex:n})=>(0,o.Y)(ee,{groupType:"columns",centerPosition:e,hiddenSide:0===t?"start":n===m-1?"end":"both",numberOfHiddenItemsInGroup:n-t+1,onClick:()=>{return e=t,o=n,void v?.((0,r.range)(e,o+1));var e,o}},`columns-${t}-${n}`))),q.map((({position:e,columnIndex:t},n)=>{const r=0===n?0:q[n-1].position,l=e-r;return(0,o.Y)(P,{position:e,minPosition:r+ne.X,onDoubleClicked:()=>R?.(t),onResizeEnded:n=>{x?.({...p,[t]:n-e+l})}},t)}))]})},ae=p({isRowFrozen:!1,isColumnFrozen:!0});ae.displayName="LeftCell";const ue=(0,l.memo)((e=>{const t="small"===e.size?1:4,n=5-e.borderSize-1,r=e.height-(t+3);return(0,o.Y)("div",{style:{display:"flex",alignItems:"center",justifyContent:"end",fontSize:12,boxSizing:"content-box",lineHeight:`${r}px`,width:e.width,position:"absolute",left:e.left,top:e.top,borderRight:`1px solid ${e.borderColor}`,backgroundColor:e.backgroundColor,userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},children:(0,o.Y)("div",{style:{padding:`${t}px ${n}px 3px 0px`,borderRight:`${e.borderSize-1}px solid ${e.borderColor}`},children:e.caption})})}));function de(){const e=(0,a.DP)();return(0,l.useMemo)((()=>({background:(0,v.j)(e.black,.085),borderTop:`1px solid ${e.grayScale[8]}`,borderBottom:`1px solid ${e.grayScale[8]}`})),[e])}function ce(e){const{staticHeader:t,columnHeader:n,rowHeader:o,body:r}=e;return[t,n,o,r].every((e=>{if(!e)return!1;const{rows:t,columns:n}=e;return[t,n].every((({from:e,to:t})=>0===e&&t===1/0))}))}function me(e){return e.some(ce)}function fe(e,t){const{rows:n,columns:o}=e;return 0===o.from&&o.to===1/0&&n.from<=t&&n.to>=t}function he(e,{rowIndex:t}){return!!me(e)||e.some((e=>e.body&&fe(e.body,t)))&&e.some((e=>e.rowHeader&&fe(e.rowHeader,t)))}ue.displayName="RowNumberCell";const pe=({rangesOfActionedRows:e,numberOfRows:t,defaultRowHeight:n,contentWidth:i,contentHeight:s,firstVisibleRowIndex:u,lastVisibleRowIndex:d})=>{const c=(0,a.DP)(),[m]=N(),f=me(m),h=(0,l.useMemo)((()=>(0,r.range)(1,t+1).map((e=>[{caption:`${e}`,value:e}]))),[t]),p=(0,l.useCallback)((e=>{const t=he(m,{rowIndex:e}),n=function(e,{rowIndex:t}){return!!he(e,{rowIndex:t})||e.some((e=>{const n=e.rowHeader;if(void 0!==n&&n.rows.from<=t&&n.rows.to>=t)return!0;const o=e.body;return void 0!==o&&o.rows.from<=t&&o.rows.to>=t}))}(m,{rowIndex:e}),o=n&&!f;return[{borderSize:o?2:1,borderColor:o?c.hoverColor:c.cellBorderColor,backgroundColor:t?c.selectionOverlayColor:n?c.activeMenuItemBackgroundColor:"transparent"}]}),[f,m,c.activeMenuItemBackgroundColor,c.cellBorderColor,c.hoverColor,c.selectionOverlayColor]),g=de(),b=(0,l.useMemo)((()=>({...g,borderLeft:`2px solid ${c.grayScale[8]}`})),[g,c.grayScale]);return(0,o.Y)(se,{rangesOfActionedRows:e,actionedRowOverlayStyle:b,Cell:ue,cells:h,isVirtualized:!0,contentWidth:i,numberOfColumns:1,numberOfRows:t,getRowProps:p,defaultColumnWidth:i,defaultRowHeight:n,contentHeight:s,firstVisibleRowIndex:u,lastVisibleRowIndex:d,firstVisibleColumnIndex:0,lastVisibleColumnIndex:0,cumulatedWidthOfColumnsScrolledPast:0})};var ge=n(40194);const be=({style:e,height:t,width:n})=>{const r=(0,a.DP)(),[l]=N(),i=me(l);return(0,o.Y)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"flex-end",...e},children:(0,o.Y)("div",{style:{width:n,height:t,padding:"3px",display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"flex-end",color:i?r.hoverColor:r.cellBorderColor},children:(0,o.Y)(ge.i,{})})})};let we=n(92499);we=we.default??we;const{ScrollSync:ye,ScrollSyncPane:Ce}=we;function ve(e,{rowIndex:t,columnIndex:n}){return(0,l.useCallback)((o=>{void 0===e[t]&&(e[t]=[]),e[t][n]=o}),[t,n,e])}const xe=e=>{const{TopCell:t,TopLeftCell:n,LeftCell:r,BodyCell:i,numberOfFrozenColumns:s,numberOfFrozenRows:a,numberOfScrollableColumns:u,numberOfScrollableRows:d,columnWidths:c,defaultColumnWidth:m,defaultRowHeight:f,getRowProps:h,cellRefs:p}=e,[g]=N(),b=(0,l.useCallback)((e=>h(e+a)),[h,a]),w=(0,l.useCallback)((e=>{const{columnIndex:r,rowIndex:l}=e;if(r<=s-1){const t=ve(p.staticHeader,{rowIndex:l,columnIndex:r});return(0,o.Y)(n,{ref:t,...e})}{const n=ve(p.columnHeader,{rowIndex:l,columnIndex:r});return(0,o.Y)(t,{ref:n,...e,columnIndex:r-s})}}),[t,n,p.columnHeader,p.staticHeader,s]),y=(0,l.useCallback)((e=>{const{columnIndex:t,rowIndex:n}=e;if(t<=s-1){const l=ve(p.rowHeader,{rowIndex:n,columnIndex:t});return(0,o.Y)(r,{ref:l,...e})}{const r=ve(p.body,{rowIndex:n,columnIndex:t});return(0,o.Y)(i,{ref:r,...e,columnIndex:t-s})}}),[i,r,p.body,p.rowHeader,s]);return w.displayName="TopCellWhenNotEnoughWidth",y.displayName="BodyCellWhenNotEnoughWidth",(0,o.FD)(o.FK,{children:[(0,o.Y)(Ce,{group:"horizontal",innerRef:e.columnHeaderRef,children:(0,o.Y)("div",{className:"aui-invisible-scrollbars",style:{gridArea:"columnHeader",overflowX:"auto"},"data-testid":"aui-table-column-header",children:(0,o.Y)(se,{additionalCellProps:e.additionalCellProps,areColumnsResizable:!0,areHiddenColumnGroupCaretsVisible:!0,cells:e.columnHeaderCells,Cell:w,columnWidths:c,contentWidth:e.contentWidth,defaultColumnWidth:m,defaultRowHeight:f,wrapText:e.wrapHeaders,style:e.horizontalSeperator,hiddenColumns:e.hiddenColumns,hiddenRows:e.hiddenFrozenRows,isVirtualized:!1,getRowProps:h,getColumnProps:e.getColumnProps,numberOfRows:a,numberOfColumns:s+u,onColumnsShown:e.onColumnsShown,selection:g.map((e=>e.columnHeader)),mergedCells:e.mergedCells,onColumnsWidthChanged:e.onColumnsWidthChanged,onColumnResizeHandleDoubleClicked:e.onColumnResizeHandleDoubleClicked})})}),(0,o.Y)(Ce,{group:ft,innerRef:e.bodyRef,children:(0,o.Y)("div",{className:"aui-invisible-scrollbars",onScroll:e.handleScrolled,style:{gridArea:"body",overflow:"auto"},"data-testid":"aui-table-body",children:(0,o.Y)(se,{additionalCellProps:e.additionalCellProps,isVirtualized:!0,cumulatedWidthOfColumnsScrolledPast:e.cumulatedWidthOfColumnsScrolledPast,contentWidth:e.contentWidth,contentHeight:e.contentHeight,firstVisibleRowIndex:e.firstVisibleRowIndex,lastVisibleRowIndex:e.lastVisibleRowIndex,firstVisibleColumnIndex:e.firstVisibleColumnIndex,lastVisibleColumnIndex:e.lastVisibleColumnIndex,cells:e.bodyCells,Cell:y,columnWidths:c,defaultColumnWidth:m,defaultRowHeight:f,hiddenColumns:e.hiddenColumns,getRowStyle:e.getRowStyle,getRowProps:b,getColumnProps:e.getColumnProps,numberOfRows:d,numberOfColumns:s+u,selection:g.map((e=>e.body)),onColumnsShown:t=>e.onColumnsShown?.(t.map((e=>s+e))),isTotal:e.isTotal})})})]})};var Re=n(97059),Se=n(62795),Oe=n(97876),Ie=n(49961),He=n(45123),Me=n(60582);function ze({rows:e,columns:t}){return(e.to+1-e.from)*(t.to+1-t.from)}const{Option:Fe}=Re.Select,De=new Intl.NumberFormat,Ye=({cells:e,hiddenFrozenColumns:t,hiddenScrollableColumns:i,isSelectionLoaded:s})=>{const{formatMessage:a}=(0,A.useIntl)(),[u]=N(),d=s??!0,m=(f=u,(0,r.sumBy)((0,r.flatMap)(f.map((({body:e,columnHeader:t,rowHeader:n,staticHeader:o})=>[e,t,n,o].filter((e=>void 0!==e))))),ze)>1e5);var f;const{result:h,loading:p}=(0,Se.useAsyncAbortable)((async o=>{if(d&&!o.aborted)return m?new Promise(((r,l)=>{const s=new Worker(new URL(n.p+n.u(552),n.b));o.addEventListener("abort",(()=>{s.terminate(),l()})),s.onmessage=({data:e})=>{s.terminate(),r(e)},s.postMessage({cells:e,selection:u,hiddenFrozenColumns:t,hiddenScrollableColumns:i})})):function({selection:e,cells:{bodyCells:t,staticHeaderCells:n,columnHeaderCells:o,rowHeaderCells:r},hiddenFrozenColumns:l,hiddenScrollableColumns:i}){const s={},a=new Set;return e.forEach((e=>{[[e.body,t,i],[e.columnHeader,o,i],[e.staticHeader,n,l],[e.rowHeader,r,l]].forEach((([e,t,n])=>{const{numberOfRows:o,numberOfColumns:r}=void 0!==t&&t.length>0?(0,Me.Q)(t):{numberOfRows:0,numberOfColumns:0};if(e&&t)for(let l=e.rows.from;l<=Math.min(e.rows.to,o-1);l++)for(let o=e.columns.from;o<=Math.min(e.columns.to,r-1);o++){const e=`${l}:${o}`;if(!a.has(e)&&!n.has(o)){a.add(e);const n=t[l]?.[o];if(n){const e=Number(n.value);isNaN(e)||(s.sum=(s.sum??0)+e,s.min=Math.min(s.min??e,e),s.max=Math.max(s.max??e,e),s.countNumbers=(s.countNumbers??0)+1),s.count=(s.count??0)+1}}}}))})),{...s,...s.sum&&s.countNumbers?{avg:s.sum/s.countNumbers}:{}}}({cells:e,selection:u,hiddenFrozenColumns:t,hiddenScrollableColumns:i})}),[m,e,u,t,i,d],{setLoading:e=>({...e,loading:!0})}),[g,b]=(0,l.useState)("sum"),w=(0,l.useMemo)((()=>h?(0,He.u)(h):[]),[h]);return h&&0!==w.length||!d?(0,o.Y)(Re.Select,{bordered:!1,value:g,onChange:e=>b(e),popupMatchSelectWidth:175,loading:m&&p,suffixIcon:d&&(0,o.Y)(Oe.l,{style:{pointerEvents:"none"}}),children:["sum","min","max","avg","count","countNumbers"].map((e=>{const t=a({id:"aui.dataVisualization.statistics.lazyLoadingWarning"}),n=a({id:`aui.dataVisualization.statistics.${e}`});return(0,o.Y)(Fe,{value:e,children:(0,o.Y)("div",{css:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:d?(0,o.FD)("div",{css:{display:"flex",alignItems:"center",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:[(0,o.FD)("span",{children:[n,"Â "]}),(0,o.Y)("span",{children:h?.[e]?De.format(h[e]):""})]}):(0,o.Y)(c.Tooltip,{title:t,children:(0,o.FD)("div",{css:{display:"flex",alignItems:"center",cursor:"pointer"},children:[(0,o.Y)(Ie.a,{style:{color:"#FAAD14",fontSize:"12px",marginRight:"4px",position:"relative",top:"1px"}}),(0,o.Y)("div",{css:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:n})]})})})},e)}))}):null},We=p({isRowFrozen:!0,isColumnFrozen:!0});function Ne({columnWidths:e={},containerWidth:t,defaultColumnWidth:n,hiddenColumns:o,numberOfColumns:r,scrollLeft:l}){function i(t){return $({columnIndex:t,columnWidths:e,defaultColumnWidth:n,hiddenColumns:o})}const[s,a,u]=function(){if(0===l||0===r)return[0,i(0),0];let e=0;for(let t=0;t<r;t++){const n=e+i(t);if(n>l)return[t,n-l,e];e=n}return[r-1,0,e]}();return{firstVisibleColumnIndex:s,lastVisibleColumnIndex:function(e,n){if(e===r-1||n>t)return e;let o=n;for(let n=e+1;n<r;n++)if(o+=i(n),o>t)return n;return r-1}(s,a),cumulatedWidthOfColumnsScrolledPast:u}}function Te({containerHeight:e,defaultRowHeight:t,numberOfRows:n,scrollTop:o,shouldReturnExtraRows:r}){const l=Math.floor(o/t),i=l+Math.ceil(e/t),s=r?Math.ceil(250/t):0;return{firstVisibleRowIndex:Math.max(l-s,0),lastVisibleRowIndex:Math.min(i+s,n-1)}}We.displayName="TopLeftCell";var Ee=n(90147);function Pe(e,{ctrlKey:t,shiftKey:n,metaKey:o,isBrowserOnMacOS:r,cellPosition:l}){if(!l||l.isOutOfBounds||!["rowNumbers","rowHeader","body"].includes(l.gridKey))return e;const{rowIndex:i}=l;if(n){const t=e.at(-1);return t?[...e.slice(0,-1),{from:Math.min(t.from,i),to:Math.max(t.to,i)}]:[{from:i,to:i}]}if(r?o:t){const t=e.findIndex((({from:e,to:t})=>e<=i&&t>=i));if(-1!==t){const{from:n,to:o}=e[t];return(0,Ee.produce)(e,(e=>{e.splice(t,1);const r=[];i>n&&r.push({from:n,to:i-1}),i<o&&r.push({from:i+1,to:o}),e.push(...r)}))}const n=e.findIndex((({from:e,to:t})=>i===e-1||i===t+1));if(-1!==n){const{from:t,to:o}=e[n];return(0,Ee.produce)(e,(e=>{e[n]=i===t-1?{from:i,to:o}:{from:t,to:i}}))}return[...e,{from:i,to:i}]}return 1===e.length&&e[0].from===i&&e[0].to===i?[]:[{from:i,to:i}]}function $e({grids:e,rowNumbersColumnWidth:t,defaultColumnWidth:n,defaultRowHeight:o,frozenColumnWidths:i,scrollableColumnWidths:s,hiddenFrozenColumns:a,hiddenScrollableColumns:u,hiddenFrozenRows:d,columnHeaderRows:c,numberOfScrollableRows:m,numberOfScrollableColumns:f}){return(0,l.useCallback)((l=>function(e,{grids:t,rowNumbersColumnWidth:n,defaultColumnWidth:o,defaultRowHeight:l,frozenColumnWidths:i,scrollableColumnWidths:s,hiddenFrozenColumns:a,hiddenScrollableColumns:u,hiddenFrozenRows:d,columnHeaderRows:c,numberOfScrollableRows:m,numberOfScrollableColumns:f}){if(!t.body.current)return null;const{x:h,y:p}=e,g=[t.selectAllCell,t.staticHeader,t.columnHeader],b=[t.columnHeader,t.body],y=(0,r.mapValues)(t,(e=>{const t=e.current;if(null===t)return;const n=g.includes(e),o=b.includes(e),r=t.getBoundingClientRect();return{left:r.left,right:o?1/0:r.right,top:n?0:r.top,bottom:n?r.bottom:1/0}})),C=y.selectAllCell??y.staticHeader??y.columnHeader,v=y.rowNumbers??y.rowHeader??y.body;C&&v&&(C.left=0,v.left=0);const x={selectAllCell:w({x:h,y:p},y.selectAllCell),rowNumbers:w({x:h,y:p},y.rowNumbers),staticHeader:w({x:h,y:p},y.staticHeader),rowHeader:w({x:h,y:p},y.rowHeader),columnHeader:w({x:h,y:p},y.columnHeader),body:w({x:h,y:p},y.body)},R=(0,He.u)(t).find((e=>!0===x[e]));if(void 0===R||!t[R]||!t[R].current)return null;const S=["staticHeader","rowHeader"].includes(R),O=["staticHeader","columnHeader"].includes(R),I=["rowNumbers","selectAllCell"].includes(R),{rowIndex:H,columnIndex:M}=(({gridElement:e,defaultRowHeight:t,defaultColumnWidth:n,columnWidths:o,hiddenColumns:r,hiddenRows:l,rowHeights:i,x:s,y:a})=>{const u=e.getBoundingClientRect(),d=e.scrollTop+Math.max(0,Math.min(u.height,a-u.top));let c=0;if(i){let e=0;for(;c<i.length;)if(l?.has(c))c+=1;else{if(e+=i[c]??t,!(e<d))break;c+=1}}else c=Math.floor(d/t);const m=function({distanceFromLeft:e,hiddenColumns:t,columnWidths:n,defaultColumnWidth:o}){let r=-1,l=0;for(;l<=e;)r++,l+=$({columnIndex:r,columnWidths:n,defaultColumnWidth:o,hiddenColumns:t});return r}({distanceFromLeft:e.scrollLeft+Math.max(0,Math.min(u.width,s-u.left)),columnWidths:o,defaultColumnWidth:n,hiddenColumns:r});return{rowIndex:c,columnIndex:m}})({gridElement:t[R].current,defaultColumnWidth:I?n:o,columnWidths:I?{}:S?i:s,hiddenColumns:I?void 0:S?a:u,hiddenRows:O?d:void 0,defaultRowHeight:l,rowHeights:O?c.map((e=>e?.clientHeight)):void 0,x:h,y:p}),z=["rowNumbers","rowHeader","body"].includes(R)&&m-1<H,F=["columnHeader","body"].includes(R)&&f-1<M;return{gridKey:R,rowIndex:z?m-1:H,columnIndex:F?f-1:M,isOutOfBounds:z||F}}(l,{grids:e,rowNumbersColumnWidth:t,defaultColumnWidth:n,defaultRowHeight:o,frozenColumnWidths:i,scrollableColumnWidths:s,hiddenFrozenColumns:a,hiddenScrollableColumns:u,hiddenFrozenRows:d,columnHeaderRows:c,numberOfScrollableRows:m,numberOfScrollableColumns:f})),[e,t,n,o,i,s,a,u,d,c,m,f])}const ke=e=>{const t=document.createElement("div");t.innerHTML=e,t.style.fontSize="12px",t.style.position="absolute",t.style.visibility="hidden",t.style.height="auto",t.style.whiteSpace="nowrap",document.body.appendChild(t);const n=t.clientWidth+1;return document.body.removeChild(t),n},Ae=["margin-left","margin-right","padding-left","padding-right"],Ve=e=>{let t=0;if("style"in e&&"none"===e.style.display)return 0;if(Ae.forEach((n=>{t+=parseFloat(window.getComputedStyle(e).getPropertyValue(n))})),"svg"===e.tagName)t+=e.getBoundingClientRect().width;else for(let n=0;n<e.children.length;n++)t+=Ve(e.children[n]);return t},Ke=e=>"style"in e&&"none"===e.style.display;function Le({from:e,to:t,anchor:n}){const o=n??{gridKey:"rowHeader",rowIndex:e,columnIndex:0},r=Math.min(e,t),l=Math.max(e,t);return{anchor:o,body:{columns:{from:0,to:1/0},rows:{from:r,to:l}},rowHeader:{columns:{from:0,to:1/0},rows:{from:r,to:l}}}}function Be(){return[{...Le({from:0,to:1/0}),staticHeader:{columns:{from:0,to:1/0},rows:{from:0,to:1/0}},columnHeader:{columns:{from:0,to:1/0},rows:{from:0,to:1/0}},anchor:{columnIndex:0,rowIndex:0,gridKey:"body"}}]}function _e(e){const{rowHeader:t,body:n}=e;return!(!t||!n)&&[t,n].every((e=>0===e.columns.from&&e.columns.to===1/0))&&(0,r.isEqual)(t.rows,n.rows)}const je=["staticHeader","columnHeader","rowHeader","body"];function qe({rowIndex:e,columnIndex:t},{numberOfFrozenColumns:n,numberOfFrozenRows:o}){return e<o&&t<n?{gridKey:"staticHeader",rowIndex:e,columnIndex:t}:e<o?{gridKey:"columnHeader",rowIndex:e,columnIndex:t-n}:t<n?{gridKey:"rowHeader",rowIndex:e-o,columnIndex:t}:{gridKey:"body",rowIndex:e-o,columnIndex:t-n}}function Ue({gridKey:e,columnIndex:t,rowIndex:n},{numberOfFrozenColumns:o,numberOfFrozenRows:r}){return{columnIndex:t+(["body","columnHeader"].includes(e)?o:0),rowIndex:n+(["body","rowHeader"].includes(e)?r:0)}}function Ge({anchor:e,to:t},{numberOfFrozenColumns:n,numberOfFrozenRows:o,numberOfScrollableColumns:l,numberOfScrollableRows:i}){const s=Math.min(e.rowIndex,t.rowIndex),a=Math.max(e.rowIndex,t.rowIndex),u=Math.min(e.columnIndex,t.columnIndex),d=Math.max(e.columnIndex,t.columnIndex),c={staticHeader:{rows:{from:0,to:o-1},columns:{from:0,to:n-1}},columnHeader:{rows:{from:0,to:o-1},columns:{from:n,to:l-1}},rowHeader:{rows:{from:o,to:i-1},columns:{from:0,to:n-1}},body:{rows:{from:o,to:i-1},columns:{from:n,to:l-1}}},m={anchor:qe(e,{numberOfFrozenColumns:n,numberOfFrozenRows:o})};return je.forEach((e=>{const t=c[e];if(a<t.rows.from||s>t.rows.from+t.rows.to||d<t.columns.from||u>t.columns.from+t.columns.to)return;(0,r.clamp)(u-t.columns.from,0,t.columns.to);const n={columns:{from:(0,r.clamp)(u-t.columns.from,0,t.columns.to),to:(0,r.clamp)(d-t.columns.from,0,t.columns.to)},rows:{from:(0,r.clamp)(s-t.rows.from,0,t.rows.to),to:(0,r.clamp)(a-t.rows.from,0,t.rows.to)}};m[e]=n})),m}function Qe(e,{lastRange:t}){return e.length<=1?[t]:[...e.slice(0,-1),t]}function Xe(e,{key:t,shiftKey:n,ctrlKey:o,metaKey:l,numberOfScrollableColumns:i,numberOfScrollableRows:s,numberOfFrozenColumns:a,numberOfFrozenRows:d,numberOfVisibleRows:c}){const m={numberOfScrollableColumns:i,numberOfFrozenColumns:a,numberOfFrozenRows:d,numberOfScrollableRows:s},f={ArrowLeft:{columnOffset:-1},ArrowRight:{columnOffset:1},ArrowUp:{rowOffset:-1},ArrowDown:{rowOffset:1},PageUp:{rowOffset:-c},PageDown:{rowOffset:c},Home:{rowOffset:-1/0},End:{rowOffset:1/0}},h=e.at(-1);if(h&&_e(h))switch(t){case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":case"Home":case"End":{const o=n,{range:l,targetCellPosition:i}=function(e,{isExtending:t=!1,rowOffset:n=0,numberOfScrollableRows:o,numberOfFrozenRows:l,numberOfFrozenColumns:i}){const{anchor:s,body:a}=e;if(!_e(e)||void 0===a)return{range:e};if(!t){const e=(0,r.clamp)(s.rowIndex+n,0,o-1);return{range:Le({from:e,to:e}),targetCellPosition:{columnIndex:i,rowIndex:e+l}}}const u=s.rowIndex===a.rows.from?"to":"from",d=(0,r.clamp)(a.rows[u]+n,0,o-1);return{range:Le({anchor:s,...a.rows,[u]:d}),targetCellPosition:{rowIndex:d+l,columnIndex:i}}}(h,{...f[t],isExtending:o,...m});return{selection:o?Qe(e,{lastRange:l}):[l],targetCellPosition:i}}}switch(t){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":case"Home":case"End":return function(e,{isExtending:t=!1,rowOffset:n=0,columnOffset:o=0,numberOfScrollableColumns:l,numberOfScrollableRows:i,numberOfFrozenColumns:s,numberOfFrozenRows:a}){const u=function(e,t){if(!e)return{anchor:{columnIndex:0,rowIndex:0},to:{columnIndex:0,rowIndex:0}};const{anchor:n}=e,o=Ue(n,t),l=[];return je.forEach((n=>{const o=e[n];o&&["from","to"].forEach((e=>{["from","to"].forEach((r=>{const i=Ue({gridKey:n,rowIndex:o.rows[e],columnIndex:o.columns[r]},t);l.push(i)}))}))})),{anchor:o,to:(0,r.maxBy)(l,(e=>{return t=e,n=o,Math.abs(n.columnIndex-t.columnIndex)+Math.abs(n.rowIndex-t.rowIndex);var t,n}))}}(e.at(-1),{numberOfFrozenColumns:s,numberOfFrozenRows:a}),d=a+i,c=s+l,{rowIndex:m,columnIndex:f}=t?u.to:u.anchor,h={rowIndex:(0,r.clamp)(m+n,0,d-1),columnIndex:(0,r.clamp)(f+o,0,c-1)},p=t?{anchor:u.anchor,to:h}:{anchor:h,to:h};return{selection:[Ge(p,{numberOfFrozenColumns:s,numberOfFrozenRows:a,numberOfScrollableColumns:l,numberOfScrollableRows:i})],targetCellPosition:p.to}}(e,{...f[t],isExtending:n,...m});case"a":if(u.P?l:o)return{selection:Be()}}return{selection:e}}function Ze({gridKey:e,rowIndex:t,columnIndex:n}){return{anchor:{gridKey:e,rowIndex:t,columnIndex:n},[e]:{rows:{from:t,to:t},columns:{from:n,to:n}}}}const Je={staticHeader:{horizontal:"left",vertical:"top"},rowHeader:{horizontal:"left",vertical:"bottom"},columnHeader:{horizontal:"right",vertical:"top"},body:{horizontal:"right",vertical:"bottom"}},et=e=>Je?.[e],tt=(e,t)=>{const n=et(e),o=et(t.gridKey),r={rowIndex:t.rowIndex,columnIndex:t.columnIndex};return o.horizontal!==n.horizontal&&(r.columnIndex="left"===n.horizontal?1/0:-1/0),o.vertical!==n.vertical&&(r.rowIndex="top"===n.vertical?1/0:-1/0),r};function nt({anchorFrom:e,anchorTo:t,grids:n,defaultColumnWidth:o,defaultRowHeight:r,frozenColumnWidths:l,scrollableColumnWidths:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a,numberOfFrozenColumns:u,numberOfFrozenRows:d,numberOfScrollableRows:c,numberOfScrollableColumns:m}){const f=je.map((f=>{const h=n[f].current;if(!h)return;const p=["staticHeader","rowHeader"].includes(f),g=["staticHeader","columnHeader"].includes(f),b=(({anchorFrom:e,anchorTo:t,columnWidths:n,defaultColumnWidth:o,defaultRowHeight:r,hiddenColumns:l,grid:i,gridKey:s,numberOfColumns:a,numberOfRows:u})=>{const d=tt(s,e),c=tt(s,t),m={rows:{from:Math.min(d.rowIndex,c.rowIndex),to:Math.max(d.rowIndex,c.rowIndex)},columns:{from:Math.min(d.columnIndex,c.columnIndex),to:Math.max(d.columnIndex,c.columnIndex)}},{height:f,width:h}=i.getBoundingClientRect(),{firstVisibleRowIndex:p,lastVisibleRowIndex:g}=Te({containerHeight:f,defaultRowHeight:r,numberOfRows:u,scrollTop:i.scrollTop,shouldReturnExtraRows:!1}),{firstVisibleColumnIndex:b,lastVisibleColumnIndex:w}=Ne({columnWidths:n,containerWidth:h,defaultColumnWidth:o,hiddenColumns:l,numberOfColumns:a,scrollLeft:i.scrollLeft}),y={rows:{from:p,to:g},columns:{from:b,to:w}},C=["rows","columns"];for(let e=0;e<C.length;e++){const t=C[e],n=m[t],{from:o,to:r}=n;if(!isFinite(o)&&!isFinite(r))return;isFinite(o)?isFinite(r)||(n.to=y[t].to):n.from=y[t].from}return m})({anchorFrom:e,anchorTo:t,gridKey:f,grid:h,defaultColumnWidth:o,defaultRowHeight:r,columnWidths:p?l:i,hiddenColumns:p?s:a,numberOfColumns:p?u:m,numberOfRows:g?d:c});return void 0!==b?[f,b]:void 0})).filter((e=>void 0!==e));return{anchor:e,...Object.fromEntries(f)}}function ot(e,{gridKey:t,rowIndex:n,columnIndex:o}){return!!he(e,{rowIndex:n})||e.some((e=>void 0!==e[t]&&e[t].columns.from<=o&&e[t].columns.to>=o&&e[t].rows.from<=n&&e[t].rows.to>=n))}function rt({gridKey:e,rowIndex:t,columnIndex:n}){return"selectAllCell"===e?{gridKey:"staticHeader",rowIndex:0,columnIndex:0}:"rowNumbers"===e?{gridKey:"rowHeader",rowIndex:t,columnIndex:0}:{gridKey:e,columnIndex:n,rowIndex:t}}function lt(e,t){return e.columnIndex<t?{...e,gridKey:"body"===e.gridKey?"rowHeader":"staticHeader"}:{...e,columnIndex:e.columnIndex-t}}function it(e,t){return{rows:e.rows,columns:{from:e.columns.from-t,to:e.columns.to-t}}}function st(e,t){return e?e.columns.to<t?[e,void 0]:e.columns.from>=t?[void 0,it(e,t)]:function(e,t){return[{rows:e.rows,columns:{from:e.columns.from,to:t-1}},{rows:e.rows,columns:{from:0,to:e.columns.to-t}}]}(e,t):[void 0,void 0]}function at(e,t){return!e||e.from>=t.from&&e.to<=t.to}const ut=()=>{},dt={},ct=new Set,mt=()=>!1,ft=["horizontal","vertical"],ht="TABLE_COLUMN",pt=e=>{const[t]=(0,s.i)("table.defaultSize"),n=(0,a.DP)(),{columnWidth:i,rowHeight:d}=ne.L[e.size??t],m=e.shouldRenderExtraRows??!1,f=e.wrapHeaders??!1,h=e.hiddenColumns??ct,p=e.hiddenFrozenRows??ct,b=Boolean(e.areFrozenColumnsIgnored),w=Boolean(e.areRowNumbersVisible),y=Boolean(e.canReorderColumns),C=e.columnWidths??dt,v=e.isTotal??mt,x=e.onColumnsResized??ut,R=e.onKeyDown??ut,S=e.onKeyUp??ut,O=e.onScrolled??ut,I=e.onVisibleRangeChanged??ut,M=e.onFrozenColumnsIgnored??ut,F=e.onColumnsReordered??ut,D=e.onColumnsShown??ut,Y=e.onFrozenRowsShown??ut,[W,P]=(0,l.useState)(0),[k,A]=(0,l.useState)(0),[V,K]=N(),[L,B]=(0,l.useState)([]),_=(0,l.useRef)(),j=(0,l.useRef)(null),q=e.containerRef??j,U=(0,l.useRef)(null),G=(0,l.useRef)(null),Q=(0,l.useRef)(null),X=(0,l.useRef)(null),Z=(0,l.useRef)(null),J=(0,l.useRef)(null),{width:oe,height:re}=(0,c.useDebouncedComponentSize)(X),{numberOfRows:le,numberOfColumns:ie}=(0,Me.Q)(e.cells),ue=e.numberOfFrozenColumns??0,fe=e.numberOfFrozenRows??0,ge=ie-ue,we=le-fe,ve=(0,l.useRef)({body:[],columnHeader:[],rowHeader:[],staticHeader:[]}),Re=(0,l.useMemo)((()=>({borderRight:`1px solid ${n.cellBorderColor}`})),[n.cellBorderColor]),Se=de(),Oe=(0,l.useMemo)((()=>{const e={borderBottom:`2px solid ${n.cellBorderColor}`},t={borderRight:`2px solid ${n.cellBorderColor}`};return{horizontal:e,vertical:t,horizontalAndVertical:{...e,...t}}}),[n.cellBorderColor]),Ie=(0,l.useMemo)((()=>({staticHeader:U,rowHeader:G,columnHeader:Q,body:X,rowNumbers:Z,selectAllCell:J})),[U,G,Q,X,Z,J]),[He,ze]=(0,l.useMemo)((()=>{const e=new Set,t=new Set;return h.forEach((n=>{n<ue?e.add(n):t.add(n-ue)})),[e,t]}),[ue,h]),{rowNumbersColumnWidth:Fe,frozenColumnWidths:De,frozenColumnsTotalWidth:Ae,scrollableColumnsTotalWidth:je,scrollableColumnWidths:qe,scrollableRowsTotalHeight:Ue}=function({numberOfFrozenColumns:e,numberOfScrollableRows:t,numberOfScrollableColumns:n,columnWidths:o,defaultRowHeight:r,defaultColumnWidth:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a}){const{frozenColumnWidths:u,scrollableColumnWidths:d}=(0,l.useMemo)((()=>{const t={},n={};for(const r in o){const l=Number.parseInt(r,10),i=o[l];l<e?t[r]=i:n[l-e]=i}return{frozenColumnWidths:t,scrollableColumnWidths:n}}),[o,e]),c=(0,l.useMemo)((()=>{let t=0;for(let n=0;n<e;n++)t+=$({columnIndex:n,columnWidths:u,defaultColumnWidth:i,hiddenColumns:s});return t}),[i,u,s,e]),m=(0,l.useMemo)((()=>{let e=0;for(let t=0;t<n;t++)e+=$({columnIndex:t,columnWidths:d,defaultColumnWidth:i,hiddenColumns:a});return e}),[i,a,n,d]),f=(0,l.useMemo)((()=>Math.max(ke(t.toString())+10,19)),[t]),h=(0,l.useMemo)((()=>t*r),[r,t]);return{rowNumbersColumnWidth:f,frozenColumnWidths:u,scrollableColumnWidths:d,scrollableRowsTotalHeight:h,frozenColumnsTotalWidth:c,scrollableColumnsTotalWidth:m}}({numberOfFrozenColumns:ue,numberOfScrollableRows:we,numberOfScrollableColumns:ge,columnWidths:C,defaultRowHeight:d,defaultColumnWidth:i,hiddenFrozenColumns:He,hiddenScrollableColumns:ze}),Ge=(0,l.useMemo)((()=>{const e=Q.current?.getBoundingClientRect(),t=e?.left??0,n=e?.top??0;return{left:t,right:Math.min(t+oe,t+je),top:e?.top??0,bottom:n+re}}),[je,oe,re]),Je=b?Ae+je:je;(0,l.useEffect)((()=>{if(0===oe&&0===re)return;const e=b?oe:Ae+oe;if(0===e)return;const t=Ae/e>.9;t!==b&&M(t)}),[M,b,oe,Ae,re]);const{staticHeader:et,rowHeader:tt,columnHeader:it,body:ht}=(0,l.useMemo)((()=>function(e,{numberOfFrozenRows:t,numberOfFrozenColumns:n,areFrozenColumnsIgnored:o}){const r=o?0:n,l={body:[],columnHeader:[],rowHeader:[],staticHeader:[]};return e.forEach(((e,n)=>{e.forEach(((e,o)=>{const i=function({rowIndex:e,columnIndex:t,numberOfFrozenRows:n,effectiveNumberOfFrozenColumns:o}){const r=e<n,l=t<o;return r&&l?"staticHeader":l?"rowHeader":r?"columnHeader":"body"}({rowIndex:n,columnIndex:o,numberOfFrozenRows:t,effectiveNumberOfFrozenColumns:r}),s=l[i];s.length===(n<t?n:n-t)&&s.push([]),s.at(-1).push(e)}))})),l}(e.cells,{areFrozenColumnsIgnored:b,numberOfFrozenRows:fe,numberOfFrozenColumns:ue})),[e.cells,b,fe,ue]),[pt,gt,bt]=function(){const e=(0,l.useRef)([]),t=(0,l.useRef)([]),n=(0,l.useRef)([]),o=(0,l.useRef)([]),r=(0,l.useCallback)((()=>{const[r,l]=[e.current,t.current].map((e=>e.filter((e=>null!==e))));function i(){for(let e=0;e<r.length;e++){const[t,n]=[r,l].map((t=>t[e])),[o,i]=[t,n].map((e=>e.clientHeight));o!==i&&(t.style.minHeight&&t.style.minHeight===`${o}px`||n.style.minHeight&&n.style.minHeight===`${i}px`)?(t.style.minHeight="",n.style.minHeight=""):o<i?t.style.minHeight=`${i}px`:i<o&&(n.style.minHeight=`${o}px`)}}const s=n.current,a=o.current;if(r.length===l.length&&r.length===s.length&&l.length===a.length||([...s,...a].forEach((e=>{e.disconnect()})),s.splice(0,s.length),a.splice(0,a.length)),0===s.length&&0===a.length&&r.length>0&&r.length===l.length)for(let e=0;e<r.length;e++){const t=new ResizeObserver(i);t.observe(r[e]),s.push(t);const n=new ResizeObserver(i);n.observe(l[e]),a.push(n)}}),[]);return[e,t,r]}(),[wt,yt,Ct,vt]=function({container:e,defaultColumnWidth:t,defaultRowHeight:n,frozenColumnWidths:o,scrollableColumnWidths:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a,hiddenFrozenRows:u,grids:d,numberOfScrollableColumns:c,numberOfFrozenColumns:m,numberOfFrozenRows:f,numberOfScrollableRows:h,numberOfVisibleRows:p,columnHeaderRows:g,rowNumbersColumnWidth:b,canReorderColumns:w}){const[y,C]=N(),[,v]=T(),x=(0,l.useRef)(y);(0,l.useEffect)((()=>{x.current=y}),[y]);const R=$e({grids:d,rowNumbersColumnWidth:b,defaultColumnWidth:t,defaultRowHeight:n,frozenColumnWidths:o,scrollableColumnWidths:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a,hiddenFrozenRows:u,columnHeaderRows:g,numberOfScrollableRows:h,numberOfScrollableColumns:c});return[(0,l.useCallback)((l=>{if(e.current?.focus(),0!==l.button||!((e,t)=>{const n=t.selectAllCell.current||t.staticHeader.current||t.columnHeader.current||t.body.current,o=t.body.current;if(!o||!n)return!1;const{top:r,left:l}=n.getBoundingClientRect(),{bottom:i,right:s}=o.getBoundingClientRect();return e.clientX>=l&&e.clientX<=s&&e.clientY>=r&&e.clientY<=i})(l,d))return;const u=x.current;let p=l.clientX,g=l.clientY;const b=R({x:p,y:g});let y=b,S=!1,O=!1,I=performance.now();const H=e=>{p=e.clientX,g=e.clientY};if(b){const{gridKey:M,rowIndex:z,columnIndex:F,isOutOfBounds:D}=b,Y=x.current.at(-1);if(D)return;if(v(!0),"selectAllCell"===M)C(Be()),v(!1);else if(!l.shiftKey||l.ctrlKey||l.metaKey||!Y||ce(Y)){let e;if("rowNumbers"===M?e=Le({from:z,to:z}):(e=Ze({gridKey:M,rowIndex:z,columnIndex:F}),"columnHeader"===M&&(O=!0)),(l.ctrlKey||l.metaKey)&&Y)C([...x.current,e]);else{const t=C([e]);S=w&&!t&&O}}else C(Qe(x.current,"rowNumbers"===M?{lastRange:Le({from:Y.anchor.rowIndex,to:z,anchor:Y.anchor})}:{lastRange:nt({anchorFrom:Y.anchor,anchorTo:{gridKey:M,rowIndex:z,columnIndex:F},grids:d,defaultColumnWidth:t,defaultRowHeight:n,frozenColumnWidths:o,scrollableColumnWidths:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a,numberOfScrollableColumns:c,numberOfFrozenColumns:m,numberOfFrozenRows:f,numberOfScrollableRows:h})}));if(S)return void v(!1);const W=()=>{const l=performance.now(),u=(l-I)/1e3;I=l,e.current?.focus(),((e,t,{x:n,y:o,deltaTime:r})=>{const l=e.getBoundingClientRect(),i=1e3*r;n<l.left?t.scrollLeft-=i:n>l.right&&(t.scrollLeft+=i),o<l.top?t.scrollTop-=i:o>l.bottom&&(t.scrollTop+=i)})(e.current,d.body.current,{x:p,y:g,deltaTime:u});const b=R({x:p,y:g});if(b&&!(0,r.isEqual)(b,y)){y=b;const{rowIndex:e,gridKey:r}=b,l=x.current.at(-1);if(l&&!ce(l))if(_e(l)){const t=["rowNumbers","rowHeader","body"].includes(r)?e:0;C(Qe(x.current,{lastRange:Le({from:l.anchor.rowIndex,to:t})}))}else{const e=rt(b);C(Qe(x.current,{lastRange:nt({anchorFrom:l.anchor,anchorTo:e,grids:d,defaultColumnWidth:t,defaultRowHeight:n,frozenColumnWidths:o,scrollableColumnWidths:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a,numberOfScrollableColumns:c,numberOfFrozenColumns:m,numberOfFrozenRows:f,numberOfScrollableRows:h})}))}}},N=setInterval(W,1e3/60),T=()=>!(!l.ctrlKey&&!l.metaKey)&&("selectAllCell"===M&&me(u)||"rowNumbers"===M&&he(u,{rowIndex:z})||"selectAllCell"!==M&&"rowNumbers"!==M&&ot(u,{gridKey:M,columnIndex:F,rowIndex:z})),E=()=>{if("selectAllCell"===M)return void C([]);const e=R({x:p,y:g});if(!e)return;let l;if("rowNumbers"===M)l=Le({from:z,to:e.rowIndex});else{const r=rt(e);l=nt({anchorFrom:{rowIndex:z,columnIndex:F,gridKey:M},anchorTo:r,grids:d,defaultColumnWidth:t,defaultRowHeight:n,frozenColumnWidths:o,scrollableColumnWidths:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a,numberOfFrozenColumns:m,numberOfFrozenRows:f,numberOfScrollableRows:h,numberOfScrollableColumns:c})}C(function(e,t){return e.flatMap((e=>{const n=(0,r.omit)(e,["body","staticHeader","rowHeader","columnHeader"]),o=(0,r.mapValues)({body:e.body,staticHeader:e.staticHeader,rowHeader:e.rowHeader,columnHeader:e.columnHeader},((e,n)=>e&&t[n]?function(e,t){return o=e,(n=t)&&o&&n.rows.to>=o.rows.from&&n.columns.to>=o.columns.from&&o.rows.to>=n.rows.from&&o.columns.to>=n.columns.from?[(0,Ee.produce)(e,(e=>{e.rows.to=t.rows.from-1})),(0,Ee.produce)(t,(n=>{n.columns={from:e.columns.from,to:t.columns.from-1}})),(0,Ee.produce)(t,(n=>{n.columns={from:t.columns.to+1,to:e.columns.to}})),(0,Ee.produce)(e,(e=>{e.rows.from=t.rows.to+1}))].map((t=>({rows:{from:Math.max(t.rows.from,e.rows.from),to:Math.min(t.rows.to,e.rows.to)},columns:{from:Math.max(t.columns.from,e.columns.from),to:Math.min(t.columns.to,e.columns.to)}}))).filter((e=>e.columns.from<=e.columns.to&&e.rows.from<=e.rows.to&&e.columns.from!==1/0&&e.rows.from!==1/0)):[e];var n,o}(e,t[n]):[e]));if((0,r.every)(o,(e=>1===e?.length))){const{staticHeader:e,columnHeader:t,rowHeader:r,body:l}=o;return e||t||r||l?[{...e?.[0]?{staticHeader:e[0]}:{},...t?.[0]?{columnHeader:t[0]}:{},...r?.[0]?{rowHeader:r[0]}:{},...l?.[0]?{body:l[0]}:{},...n}]:[]}return(0,r.flatMap)(o,((e,t)=>e?e.map((e=>({[t]:e,...n}))):[]))}))}(u,l))},P=()=>{T()&&E(),v(!1),document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",P),clearInterval(N)};document.addEventListener("mousemove",H),document.addEventListener("mouseup",P)}}),[e,d,R,v,C,n,o,i,s,a,c,m,f,h,w,t]),(0,l.useCallback)((e=>{const t=e.pageX,n=e.pageY,o=R({x:t,y:n});if(!o||o.isOutOfBounds)return y;const{columnIndex:r,gridKey:l,rowIndex:i}=o;if("selectAllCell"===l){if(!me(x.current)){const e=Be();return C(e),e}return y}if("rowNumbers"===l){if(!he(x.current,{rowIndex:i})){const e=[Le({from:i,to:i})];return C(e),e}return y}if(!ot(y,{gridKey:l,columnIndex:r,rowIndex:i})){const e=[Ze({gridKey:l,rowIndex:i,columnIndex:r})];return C(e),e}return y}),[y,C,R]),(r,l)=>{const{selection:u,targetCellPosition:g}=Xe(y,{...r,numberOfScrollableColumns:c,numberOfFrozenColumns:m,numberOfFrozenRows:f,numberOfScrollableRows:h,numberOfVisibleRows:p});if(u!==y){C(u),l(u),r.preventDefault();const c=d.body.current;if(!g||!c||!e.current)return;const f=e.current.scrollHeight,h=e.current.scrollWidth,{rowIndex:p,columnIndex:b}=g,w=Math.max(0,n*(p-2)),y=w+3*n;w<c.scrollTop?c.scrollTop=w:y>c.scrollTop+f&&(c.scrollTop=y-f);let v=0;for(let e=0;e<b;e++)v+=$({columnIndex:e,columnWidths:e<m?o:i,defaultColumnWidth:t,hiddenColumns:e<m?s:a});v<c.scrollLeft?c.scrollLeft=v:v>c.scrollLeft+h&&(c.scrollLeft=v-h)}},(e,t)=>{"Escape"===e.key&&(C([]),t([]))}]}({container:q,rowNumbersColumnWidth:Fe,defaultColumnWidth:i,defaultRowHeight:d,grids:Ie,hiddenFrozenColumns:He,hiddenScrollableColumns:ze,hiddenFrozenRows:p,numberOfFrozenRows:fe,numberOfScrollableRows:we,numberOfVisibleRows:q.current?Math.floor(q.current.scrollHeight/d-fe):0,...b?{frozenColumnWidths:{},numberOfScrollableColumns:ue+ge,numberOfFrozenColumns:0,scrollableColumnWidths:C}:{frozenColumnWidths:De,numberOfScrollableColumns:ge,numberOfFrozenColumns:ue,scrollableColumnWidths:qe},columnHeaderRows:gt.current,canReorderColumns:y}),xt=$e({grids:Ie,rowNumbersColumnWidth:Fe,defaultColumnWidth:i,defaultRowHeight:d,frozenColumnWidths:De,scrollableColumnWidths:qe,hiddenFrozenColumns:He,hiddenScrollableColumns:ze,hiddenFrozenRows:p,columnHeaderRows:gt.current,numberOfScrollableRows:we,numberOfScrollableColumns:ge}),Rt=(0,l.useRef)(V);(0,l.useEffect)((()=>{Rt.current=V}),[V]);const{firstVisibleRowIndex:St,lastVisibleRowIndex:Ot}=(0,l.useMemo)((()=>Te({containerHeight:re,numberOfRows:we,defaultRowHeight:d,scrollTop:W,shouldReturnExtraRows:m})),[re,d,we,W,m]),It=(0,l.useMemo)((()=>{if(e.mergedCells)return e.mergedCells.map((({rows:e,columns:t})=>({rows:e,columns:{from:t.from-ue,to:t.to-ue}})))}),[ue,e.mergedCells]),{firstVisibleColumnIndex:Ht,lastVisibleColumnIndex:Mt,cumulatedWidthOfColumnsScrolledPast:zt}=(0,l.useMemo)((()=>Ne({columnWidths:b?C:qe,containerWidth:oe,defaultColumnWidth:i,hiddenColumns:b?h:ze,numberOfColumns:b?ue+ge:ge,scrollLeft:k})),[b,oe,C,i,h,ze,ue,ge,k,qe]);(0,l.useEffect)((()=>{if(0===St&&0===Ot&&0===Ht&&0===Mt)return;const e={rows:{from:St,to:Ot},columns:{from:Ht,to:Mt}};(0,r.isEqual)(e,_.current)||(I(e),_.current=e)}),[Ht,St,Mt,Ot,I]);const Ft=t=>{if(e.onSelectionChanged){const n=b?function({selection:e,numberOfFrozenColumns:t}){return e.map((e=>{const[n,o]=st(e.body,t),[r,l]=st(e.columnHeader,t);return{anchor:lt(e.anchor,t),staticHeader:r,columnHeader:l,rowHeader:n,body:o}}))}({selection:t,numberOfFrozenColumns:ue}):t;e.onSelectionChanged(n)}},{handleColumnsShown:Dt,offsetHandleColumnsShown:Yt}=function({onColumnsShown:e,numberOfFrozenColumns:t}){return{handleColumnsShown:e,offsetHandleColumnsShown:(0,l.useCallback)((n=>e(n.map((e=>t+e)))),[t,e])}}({onColumnsShown:D,numberOfFrozenColumns:ue}),{handleColumnResizeHandleDoubleClicked:Wt,offsetHandleColumnResizeHandleDoubleClicked:Nt}=function({cells:e,cellRefs:t,selectionRef:n,areFrozenColumnsIgnored:o,numberOfFrozenColumns:i,numberOfScrollableColumns:s,numberOfFrozenRows:a,numberOfScrollableRows:u,onColumnsResized:d}){const c=(0,l.useCallback)((l=>{const c=function(e,{numberOfFrozenColumns:t,numberOfScrollableColumns:n}){const o=e[0],l=[];if(o?.staticHeader){const{from:e,to:n}=o.staticHeader.columns,i=Math.min(n,t-1);l.push(...(0,r.range)(e,i+1))}if(o?.columnHeader){const{from:e,to:i}=o.columnHeader.columns,s=Math.min(i,n-1);l.push(...(0,r.range)(e+t,s+t+1))}return l}(n.current,{numberOfFrozenColumns:o?0:i,numberOfScrollableColumns:o?i+s:s}),m=c.includes(l)?c:[l],f={};m.forEach((n=>{const o=(({cells:e,columnIndex:t,cellRefs:{body:n,columnHeader:o,rowHeader:r,staticHeader:l},numberOfFrozenColumns:i,numberOfFrozenRows:s,numberOfScrollableRows:a})=>{const u=s+a,d=t<i,c=d?t:t-i,[[m,f],[h,p]]=[{from:0,to:s,grid:d?l:o},{from:s,to:u,grid:d?r:n}].map((({from:n,to:o,grid:r})=>{let l="",i=0;const{numberOfColumns:a}=(0,Me.Q)(r);for(let u=n;u<o;u++){let n=null;if(r){const e=u<s?u:u-s,t=Math.min(c,a-1);if(n=r[e]?.[t],n){const e=Ve(n);e>i&&(i=e)}}if(!n||!n?.children?.[0]||!Ke(n)&&!Ke(n.children[0])){const n=e[u][t]?.caption??"";n.length>l.length&&(l=n)}}return[l,i]})),g=ke(m)+f+6,b=ke(h)+p;return Math.max(g,b)+10})({cells:e,cellRefs:t.current,columnIndex:n,numberOfFrozenColumns:i,numberOfFrozenRows:a,numberOfScrollableRows:u});f[n]=o})),d(f)}),[n,o,i,s,d,e,t,a,u]);return{handleColumnResizeHandleDoubleClicked:c,offsetHandleColumnResizeHandleDoubleClicked:(0,l.useCallback)((e=>c(e+i)),[c,i])}}({cells:e.cells,cellRefs:ve,selectionRef:Rt,areFrozenColumnsIgnored:b,numberOfFrozenColumns:ue,numberOfScrollableColumns:ge,numberOfFrozenRows:fe,numberOfScrollableRows:we,onColumnsResized:x}),{handleColumnsWidthChanged:Tt,offsetHandleColumnsWidthChanged:Et}=function({numberOfFrozenColumns:e,numberOfScrollableColumns:t,columnWidths:n,onColumnsResized:o}){return{handleColumnsWidthChanged:(0,l.useCallback)((e=>{o({...n,...e})}),[n,o]),offsetHandleColumnsWidthChanged:(0,l.useCallback)((r=>{const l=(0,Ee.produce)(n??{},(n=>{for(let o=0;o<e+t;o++)r[o]&&(n[e+o]=r[o])}));o({...n,...l})}),[n,e,t,o])}}({numberOfFrozenColumns:ue,numberOfScrollableColumns:ge,columnWidths:C,onColumnsResized:x}),Pt=(0,l.useCallback)((()=>{const e=X.current?.scrollTop??0,t=X.current?.scrollLeft??0;W!==e&&P(e),k!==t&&A(t),!O||W===e&&k===t||O({scrollTop:e,scrollLeft:t})}),[O,k,W]),{getRowProps:$t,getColumnProps:kt,getRowStyle:At}=e,Vt=(0,l.useMemo)((()=>(0,r.memoize)($t??(()=>[]))),[$t]),Kt=(0,l.useMemo)((()=>(0,r.memoize)(kt??(()=>[]))),[kt]),Lt=(0,l.useMemo)((()=>(0,r.memoize)(At??(()=>{}))),[At]),Bt=(0,l.useCallback)((e=>Vt(e+fe)),[Vt,fe]),_t=(0,l.useCallback)((e=>Kt(e+ue)),[Kt,ue]),jt=(0,l.useCallback)((e=>Lt(e+fe)),[Lt,fe]),qt=e.loadedRange,Ut=(0,l.useMemo)((()=>function(e,t){return!t||e.every((({body:e,rowHeader:n,columnHeader:o})=>at(e?.rows,t.rows)&&at(e?.columns,t.columns)&&at(n?.rows,t.rows)&&at(o?.columns,t.columns)))}(V,qt)),[V,qt]),Gt=gt.current.map((e=>e?.clientHeight)),Qt=te({firstIndex:0,lastIndex:fe-1,defaultSize:d,variableSizes:Gt,hiddenIndices:p});return Pt(),(0,o.FD)("div",{style:{...e.style,paddingBottom:2,paddingRight:2,height:"100%",display:"flex",flexDirection:"column",outline:"none"},css:{"@media print .aui-table-cell":{padding:"4px 0px 3px !important"}},children:[(0,o.Y)("div",{css:{position:"absolute",left:4},children:Qt.map((({position:e,startIndex:t,endIndex:n})=>(0,o.Y)(ee,{groupType:"rows",centerPosition:e,hiddenSide:0===t?"start":n===fe-1?"end":"both",numberOfHiddenItemsInGroup:n-t+1,onClick:()=>((e,t)=>{const n=(0,r.range)(e,t+1);Y(n)})(t,n)},`rows-${t}-${n}`)))}),(0,o.Y)(ye,{children:(0,o.FD)("div",{css:{outline:"none",position:"relative",overflow:"hidden",flexGrow:1,display:"grid",gridTemplateAreas:'\n              "selectAllCell  staticHeader  columnHeader          ."\n              "rowNumbers       rowHeader     body                verticalScrollbar"\n              ".                .             horizontalScrollbar ."\n            ',gridTemplateRows:"min-content 1fr min-content",gridTemplateColumns:"min-content min-content 1fr min-content"},onKeyDown:e=>{Ct(e,Ft),R(e)},onKeyUp:t=>{if(vt(t,Ft),e.onRowsActioned){const{ctrlKey:n,metaKey:o,shiftKey:r,key:l}=t,i=V.at(-1)?.anchor,s=function(e,{ctrlKey:t,metaKey:n,shiftKey:o,key:r,isBrowserOnMacOS:l,selectionAnchor:i}){return"Escape"===r?[]:"Enter"===r&&i?Pe(e,{ctrlKey:t,metaKey:n,shiftKey:o,isBrowserOnMacOS:l,cellPosition:i}):e}(L,{ctrlKey:n,metaKey:o,shiftKey:r,key:l,isBrowserOnMacOS:u.P,selectionAnchor:i});s!==L&&(B(s),e.onRowsActioned(s))}S(t)},onMouseDown:e=>{wt(e);const t=e=>{document.removeEventListener("mouseup",t),0===e.button&&Ft(Rt.current)};document.addEventListener("mouseup",t)},onContextMenu:e=>{const t=yt(e);t!==V&&Ft(t)},onDoubleClick:t=>{if(!e.onRowsActioned)return;const n=xt({x:t.clientX,y:t.clientY}),{ctrlKey:o,shiftKey:r,metaKey:l}=t,i=Pe(L,{ctrlKey:o,shiftKey:r,metaKey:l,isBrowserOnMacOS:u.P,cellPosition:n});i!==L&&(B(i),e.onRowsActioned(i))},ref:q,tabIndex:0,children:[(0,o.Y)("div",{"data-testid":"reorder-columns-wrapper",style:{position:"relative",gridRowStart:"columnHeader-start",gridRowEnd:"body-end",gridColumn:"body",overflow:"hidden",zIndex:100,pointerEvents:"none"},children:y&&(0,o.Y)(H,{dragBounds:Ge,scrollLeft:Q.current?.scrollLeft??0,defaultColumnWidth:i,columnWidths:qe,firstVisibleColumnIndex:Ht,lastVisibleColumnIndex:Mt,cumulatedWidthOfColumnsScrolledPast:zt,onColumnReorder:(e,t)=>{F(e,t),K([Ze({gridKey:"columnHeader",columnIndex:t,rowIndex:0})])},onScroll:(e,t)=>{const n="left"===e?-1:1;Q.current?.scrollBy({left:n*t*14})}})}),w&&(0,o.FD)(o.FK,{children:[(0,o.Y)("div",{ref:J,style:{gridArea:"selectAllCell"},children:(0,o.Y)(be,{width:Fe,height:d,style:{...Re,...Oe.horizontal}})}),(0,o.Y)(Ce,{group:"vertical",innerRef:Z,children:(0,o.Y)("div",{className:"aui-invisible-scrollbars",style:{gridArea:"rowNumbers",overflowY:"auto"},children:(0,o.Y)(pe,{rangesOfActionedRows:L,numberOfRows:we,defaultRowHeight:d,contentWidth:Fe,contentHeight:Ue,firstVisibleRowIndex:St,lastVisibleRowIndex:Ot})})})]}),b?(0,o.Y)(xe,{additionalCellProps:e.additionalCellProps,cellRefs:ve.current,columnHeaderRef:Q,LeftCell:ae,TopCell:z,BodyCell:g,TopLeftCell:We,numberOfFrozenColumns:ue,numberOfFrozenRows:fe,numberOfScrollableColumns:ge,numberOfScrollableRows:we,horizontalSeperator:Oe.horizontal,wrapHeaders:f,columnHeaderCells:it,bodyCells:ht,defaultColumnWidth:i,defaultRowHeight:d,bodyRef:X,hiddenColumns:h,hiddenFrozenRows:p,columnWidths:C,onColumnsShown:Dt,getRowStyle:jt,style:e.style,onColumnsWidthChanged:Tt,getColumnProps:Kt,getRowProps:Vt,firstVisibleRowIndex:St,lastVisibleRowIndex:Ot,firstVisibleColumnIndex:Ht,lastVisibleColumnIndex:Mt,contentWidth:Ae+je,contentHeight:Ue,mergedCells:e.mergedCells,handleScrolled:Pt,cumulatedWidthOfColumnsScrolledPast:zt,onColumnResizeHandleDoubleClicked:Wt,isTotal:v}):(0,o.FD)(o.FK,{children:[(0,o.Y)("div",{ref:U,className:"aui-invisible-scrollbars",style:{gridArea:"staticHeader"},"data-testid":"aui-table-static-header",children:(0,o.Y)(se,{cellRefs:ve.current.staticHeader,areColumnsResizable:!0,areHiddenColumnGroupCaretsVisible:!0,cells:et,Cell:We,additionalCellProps:e.additionalCellProps,columnWidths:De,defaultColumnWidth:i,defaultRowHeight:d,wrapText:f,hiddenColumns:He,hiddenRows:p,isVirtualized:!1,style:Oe.horizontalAndVertical,numberOfRows:fe,numberOfColumns:ue,onColumnsShown:Dt,onColumnsWidthChanged:Tt,onColumnResizeHandleDoubleClicked:Wt,selection:V.map((e=>e.staticHeader)),getRowProps:Vt,getColumnProps:Kt,rowsRef:(e,t)=>{pt.current[t]=e,bt()},rowHeights:pt.current.map((e=>e?.clientHeight)),contentWidth:Ae})}),(0,o.Y)(Ce,{group:"horizontal",innerRef:Q,children:(0,o.Y)("div",{className:"aui-invisible-scrollbars",style:{gridArea:"columnHeader",overflowX:"auto"},"data-testid":"aui-table-column-header",children:(0,o.Y)(se,{cellRefs:ve.current.columnHeader,areColumnsResizable:!0,areHiddenColumnGroupCaretsVisible:!0,cells:it,Cell:y?E:z,additionalCellProps:e.additionalCellProps,columnWidths:qe,style:Oe.horizontal,defaultColumnWidth:i,wrapText:f,hiddenColumns:ze,hiddenRows:p,isVirtualized:!1,defaultRowHeight:d,numberOfColumns:ge,numberOfRows:fe,onColumnsShown:Yt,onColumnsWidthChanged:Et,onColumnResizeHandleDoubleClicked:Nt,selection:V.map((e=>e.columnHeader)),getRowProps:Vt,getColumnProps:_t,rowsRef:(e,t)=>{gt.current[t]=e,bt()},rowHeights:Gt,contentWidth:je,mergedCells:It})})}),(0,o.Y)(Ce,{group:"vertical",innerRef:G,children:(0,o.Y)("div",{className:"aui-invisible-scrollbars",style:{gridArea:"rowHeader",overflowY:"auto"},"data-testid":"aui-table-row-header",children:(0,o.Y)(se,{rangesOfActionedRows:L,actionedRowOverlayStyle:Se,cellRefs:ve.current.rowHeader,cells:tt,Cell:ae,additionalCellProps:e.additionalCellProps,cumulatedWidthOfColumnsScrolledPast:0,columnWidths:De,defaultColumnWidth:i,hiddenColumns:He,isTotal:v,style:Oe.vertical,defaultRowHeight:d,numberOfColumns:ue,numberOfRows:we,selection:V.map((e=>e.rowHeader)),getRowProps:Bt,getRowStyle:jt,getColumnProps:Kt,contentWidth:Ae,isVirtualized:!0,contentHeight:Ue,firstVisibleRowIndex:St,lastVisibleRowIndex:Ot,firstVisibleColumnIndex:0,lastVisibleColumnIndex:ue-1})})}),(0,o.Y)(Ce,{group:ft,innerRef:X,children:(0,o.Y)("div",{className:"aui-invisible-scrollbars",onScroll:Pt,style:{gridArea:"body",overflow:"auto"},"data-testid":"aui-table-body",children:(0,o.Y)(se,{rangesOfActionedRows:L,actionedRowOverlayStyle:Se,cellRefs:ve.current.body,Cell:g,additionalCellProps:e.additionalCellProps,cells:ht,isVirtualized:!0,columnWidths:qe,defaultColumnWidth:i,hiddenColumns:ze,isTotal:v,defaultRowHeight:d,numberOfColumns:ge,numberOfRows:we,selection:V.map((e=>e.body)),getRowStyle:jt,getRowProps:Bt,getColumnProps:_t,contentWidth:je,contentHeight:Ue,firstVisibleRowIndex:St,lastVisibleRowIndex:Ot,firstVisibleColumnIndex:Ht,lastVisibleColumnIndex:Mt,cumulatedWidthOfColumnsScrolledPast:zt})})})]}),(0,o.Y)(Ce,{group:"vertical",children:(0,o.Y)("div",{style:{gridArea:"verticalScrollbar",overflowY:"auto"},children:(0,o.Y)("div",{style:{height:Ue,width:1}})})}),(0,o.Y)(Ce,{group:"horizontal",children:(0,o.Y)("div",{style:{gridArea:"horizontalScrollbar",overflowX:"auto"},children:(0,o.Y)("div",{style:{width:Je,height:1}})})})]})}),(0,o.Y)("div",{css:{textAlign:"right",paddingRight:25,flexShrink:0},children:(0,o.Y)(Ye,{cells:{bodyCells:ht,staticHeaderCells:et,rowHeaderCells:tt,columnHeaderCells:it},hiddenFrozenColumns:He,hiddenScrollableColumns:ze,isSelectionLoaded:Ut})})]})},gt=e=>{const t=(0,l.useMemo)((()=>(0,d.Y)()),[]),[n,i]=(0,l.useState)([]),[s,a]=(0,l.useState)(!1),u=(0,l.useCallback)((e=>!(0,r.isEqual)(e,n)&&(i(e),!0)),[n]),c=(0,l.useMemo)((()=>[n,u]),[n,u]),m=(0,l.useMemo)((()=>[s,a]),[s]);return(0,o.Y)(O,{value:t,children:(0,o.Y)(h,{value:e.Cell,children:(0,o.Y)(Y,{value:c,children:(0,o.Y)(W,{value:m,children:(0,o.Y)(pt,{...e})})})})})}},81839:(e,t,n)=>{"use strict";n.d(t,{j:()=>d});var o=n(74389),r=n(97059),l=n(90147),i=n(47357),s=n(56853),a=n(18664);const u=["large","medium","small"],d=e=>{const{formatMessage:t}=(0,i.useIntl)(),[n]=(0,s.i)("table.defaultSize");return(0,o.FD)("div",{css:{paddingTop:4,width:"100%",alignItems:"center",display:"grid"},children:[(0,o.Y)(a.Text,{small:!0,strong:!0,children:t({id:"aui.dataVisualization.tableSize"})}),(0,o.Y)(r.Select,{style:{width:125,marginTop:8},value:e.widgetState.style?.size??n,options:u.map((e=>({value:e,label:(0,o.FD)(o.FK,{children:[t({id:`aui.dataVisualization.tableSizeOptions.${e}`}),n===e&&(0,o.FD)(a.Text,{small:!0,type:"secondary",children:["Â (",t({id:"aui.default"}).toLowerCase(),")"]})]})}))),onChange:t=>{e.onWidgetChange((0,l.produce)(e.widgetState,(e=>{e.style={...e.style,size:t}})))}})]})}},18239:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var o=n(74389),r=n(47357),l=n(85675),i=n(56853);const s=e=>{const{formatMessage:t}=(0,r.useIntl)(),[n]=(0,i.i)("table.tooltips");return(0,o.Y)(l.u,{propertyName:"areTooltipsVisible",label:t({id:"aui.tooltips"}),checkedByDefault:n,...e})}},23536:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var o=n(74389),r=n(47357),l=n(85675),i=n(56853);const s=e=>{const{formatMessage:t}=(0,r.useIntl)(),[n]=(0,i.i)("table.headers.wrap");return(0,o.Y)(l.u,{propertyName:"wrapHeaders",label:t({id:"aui.dataVisualization.wrapHeaders"}),checkedByDefault:n,...e})}},74448:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var o=n(31529);function r(e,{numberOfFrozenColumns:t,numberOfFrozenRows:n,numberOfColumnsInBody:r,numberOfRowsInBody:l}){const i={body:{columns:r,rows:l},columnHeader:{columns:r,rows:n},rowHeader:{columns:t,rows:l},staticHeader:{columns:t,rows:n}};return e.map((e=>{const{anchor:t,...n}=e;return{anchor:t,...(0,o.mapValues)(n,((e,t)=>{const n=i[t];return e?{columns:{from:Math.max(0,e.columns.from),to:Math.min(n.columns-1,e.columns.to)},rows:{from:Math.max(0,e.rows.from),to:Math.min(n.rows-1,e.rows.to)}}:void 0}))}}))}},53758:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});const o=(e,t)=>{const n=[];if(e)for(let o=e.rows.from;o<=e.rows.to;o++){n.push([]);for(let r=e.columns.from;r<=e.columns.to;r++){const l=t(r,o);n[o-e.rows.from].push(l)}}return n}},60582:(e,t,n)=>{"use strict";function o(e){return 0===e.length?{numberOfRows:0,numberOfColumns:0}:{numberOfRows:e.length,numberOfColumns:e[0].length}}n.d(t,{Q:()=>o})},23011:(e,t,n)=>{"use strict";n.d(t,{R:()=>s});var o=n(99920);function r(e,t){let n="";for(const o of e){n+="<tr>\n";for(const e of o)n+=`<${t}>${e}</${t}>`;n+="</tr>\n"}return n}function l({header:e,body:t}){let n="<table>\n";return e.length>0&&(n+="<thead>\n",n+=r(e,"th"),n+="</thead>\n"),t.length>0&&(n+="<tbody>\n",n+=r(t,"td"),n+="</tbody>\n"),n+="</table>",n}function i({header:e,body:t}){return[...e,...t].map((e=>e.map((e=>(0,o.$)(e,{token:","}))))).join("\n")}function s({header:e,body:t}){return{"text/html":l({header:e,body:t}),"text/plain":i({header:e,body:t})}}},6789:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,X:()=>o});const o=10,r={small:{columnWidth:90,rowHeight:15},medium:{columnWidth:100,rowHeight:20},large:{columnWidth:120,rowHeight:25}}},99369:(e,t,n)=>{"use strict";n.d(t,{R:()=>l});var o=n(74389),r=n(93345);function l(e){const t=(0,r.forwardRef)(((t,n)=>{const l=(0,r.useMemo)((()=>{const e="small"===t.size?1:4;return{display:"flex",alignItems:"center",justifyContent:t.isColumnFrozen||t.isRowFrozen?"start":"end",fontSize:12,textOverflow:"ellipsis",boxSizing:"border-box",padding:`${e}px 4px 3px`,lineHeight:`${t.height}px`,width:t.width,...!t.wrapText&&{height:t.height,whiteSpace:"nowrap"},...!t.wrapText&&!t.isSticky&&{overflow:"hidden"},...!1!==t.isVirtualized&&{position:"absolute",left:t.left,top:t.top},...t.style}}),[t.size,t.isColumnFrozen,t.isRowFrozen,t.height,t.width,t.wrapText,t.isSticky,t.isVirtualized,t.left,t.top,t.style]);return(0,o.Y)(e,{ref:n,...t,style:l})}));return t.displayName="WithDefaultCellStyle",t}},99920:(e,t,n)=>{"use strict";function o(e,{token:t}){return e.includes(t)||e.includes('"')?`"${e.replace(/"/g,'""')}"`:e}n.d(t,{$:()=>o})},31976:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});const o=globalThis.window?.navigator.platform.startsWith("Mac")??!1},91287:(e,t,n)=>{"use strict";function o(e){return Object.entries(e)}n.d(t,{W:()=>o})},45123:(e,t,n)=>{"use strict";function o(e){return Object.keys(e)}n.d(t,{u:()=>o})},86533:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var o=n(90147),r=n(31529);const l=function(e,t,n){return(0,o.produce)(e,(e=>{(0,r.update)(e,t,n)}))}},76194:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M264 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm496 424c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496zm144 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"align-center",theme:"outlined"}},57418:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M120 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm0 424h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm784 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"align-left",theme:"outlined"}},50493:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 158H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 424H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 212H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"align-right",theme:"outlined"}},74860:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M689 165.1L308.2 493.5c-10.9 9.4-10.9 27.5 0 37L689 858.9c14.2 12.2 35 1.2 35-18.5V183.6c0-19.7-20.8-30.7-35-18.5z"}}]},name:"caret-left",theme:"outlined"}},25296:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"}},3981:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"}},59300:function(e){e.exports=function(){"use strict";var e=6e4,t=36e5,n="millisecond",o="second",r="minute",l="hour",i="day",s="week",a="month",u="quarter",d="year",c="date",m="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},g=function(e,t,n){var o=String(e);return!o||o.length>=t?e:""+Array(t+1-o.length).join(n)+e},b={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),o=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+g(o,2,"0")+":"+g(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var o=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(o,a),l=n-r<0,i=t.clone().add(o+(l?-1:1),a);return+(-(o+(n-r)/(l?r-i:i-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:a,y:d,w:s,d:i,D:c,h:l,m:r,s:o,ms:n,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},w="en",y={};y[w]=p;var C="$isDayjsObject",v=function(e){return e instanceof O||!(!e||!e[C])},x=function e(t,n,o){var r;if(!t)return w;if("string"==typeof t){var l=t.toLowerCase();y[l]&&(r=l),n&&(y[l]=n,r=l);var i=t.split("-");if(!r&&i.length>1)return e(i[0])}else{var s=t.name;y[s]=t,r=s}return!o&&r&&(w=r),r||!o&&w},R=function(e,t){if(v(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new O(n)},S=b;S.l=x,S.i=v,S.w=function(e,t){return R(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var O=function(){function p(e){this.$L=x(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[C]=!0}var g=p.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var o=t.match(f);if(o){var r=o[2]-1||0,l=(o[7]||"0").substring(0,3);return n?new Date(Date.UTC(o[1],r,o[3]||1,o[4]||0,o[5]||0,o[6]||0,l)):new Date(o[1],r,o[3]||1,o[4]||0,o[5]||0,o[6]||0,l)}}return new Date(t)}(e),this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return S},g.isValid=function(){return!(this.$d.toString()===m)},g.isSame=function(e,t){var n=R(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return R(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<R(e)},g.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,u=!!S.u(t)||t,m=S.p(e),f=function(e,t){var o=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return u?o:o.endOf(i)},h=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},p=this.$W,g=this.$M,b=this.$D,w="set"+(this.$u?"UTC":"");switch(m){case d:return u?f(1,0):f(31,11);case a:return u?f(1,g):f(0,g+1);case s:var y=this.$locale().weekStart||0,C=(p<y?p+7:p)-y;return f(u?b-C:b+(6-C),g);case i:case c:return h(w+"Hours",0);case l:return h(w+"Minutes",1);case r:return h(w+"Seconds",2);case o:return h(w+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var s,u=S.p(e),m="set"+(this.$u?"UTC":""),f=(s={},s[i]=m+"Date",s[c]=m+"Date",s[a]=m+"Month",s[d]=m+"FullYear",s[l]=m+"Hours",s[r]=m+"Minutes",s[o]=m+"Seconds",s[n]=m+"Milliseconds",s)[u],h=u===i?this.$D+(t-this.$W):t;if(u===a||u===d){var p=this.clone().set(c,1);p.$d[f](h),p.init(),this.$d=p.set(c,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](h);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[S.p(e)]()},g.add=function(n,u){var c,m=this;n=Number(n);var f=S.p(u),h=function(e){var t=R(m);return S.w(t.date(t.date()+Math.round(e*n)),m)};if(f===a)return this.set(a,this.$M+n);if(f===d)return this.set(d,this.$y+n);if(f===i)return h(1);if(f===s)return h(7);var p=(c={},c[r]=e,c[l]=t,c[o]=1e3,c)[f]||1,g=this.$d.getTime()+n*p;return S.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||m;var o=e||"YYYY-MM-DDTHH:mm:ssZ",r=S.z(this),l=this.$H,i=this.$m,s=this.$M,a=n.weekdays,u=n.months,d=n.meridiem,c=function(e,n,r,l){return e&&(e[n]||e(t,o))||r[n].slice(0,l)},f=function(e){return S.s(l%12||12,e,"0")},p=d||function(e,t,n){var o=e<12?"AM":"PM";return n?o.toLowerCase():o};return o.replace(h,(function(e,o){return o||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return S.s(t.$y,4,"0");case"M":return s+1;case"MM":return S.s(s+1,2,"0");case"MMM":return c(n.monthsShort,s,u,3);case"MMMM":return c(u,s);case"D":return t.$D;case"DD":return S.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return c(n.weekdaysMin,t.$W,a,2);case"ddd":return c(n.weekdaysShort,t.$W,a,3);case"dddd":return a[t.$W];case"H":return String(l);case"HH":return S.s(l,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return p(l,i,!0);case"A":return p(l,i,!1);case"m":return String(i);case"mm":return S.s(i,2,"0");case"s":return String(t.$s);case"ss":return S.s(t.$s,2,"0");case"SSS":return S.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,c,m){var f,h=this,p=S.p(c),g=R(n),b=(g.utcOffset()-this.utcOffset())*e,w=this-g,y=function(){return S.m(h,g)};switch(p){case d:f=y()/12;break;case a:f=y();break;case u:f=y()/3;break;case s:f=(w-b)/6048e5;break;case i:f=(w-b)/864e5;break;case l:f=w/t;break;case r:f=w/e;break;case o:f=w/1e3;break;default:f=w}return m?f:S.a(f)},g.daysInMonth=function(){return this.endOf(a).$D},g.$locale=function(){return y[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),o=x(e,t,!0);return o&&(n.$L=o),n},g.clone=function(){return S.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},p}(),I=O.prototype;return R.prototype=I,[["$ms",n],["$s",o],["$m",r],["$H",l],["$W",i],["$M",a],["$y",d],["$D",c]].forEach((function(e){I[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),R.extend=function(e,t){return e.$i||(e(t,O,R),e.$i=!0),R},R.locale=x,R.isDayjs=v,R.unix=function(e){return R(1e3*e)},R.en=y[w],R.Ls=y,R.p={},R}()},92499:function(e,t,n){var o;o=function(e){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t){var n,o,r=e.exports={};function l(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===l||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:l}catch(e){n=l}try{o="function"==typeof clearTimeout?clearTimeout:i}catch(e){o=i}}();var a,u=[],d=!1,c=-1;function m(){d&&a&&(d=!1,a.length?u=a.concat(u):c=-1,u.length&&f())}function f(){if(!d){var e=s(m);d=!0;for(var t=u.length;t;){for(a=u,u=[];++c<t;)a&&a[c].run();c=-1,t=u.length}a=null,d=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===i||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||d||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";function o(e){return function(){return e}}var r=function(){};r.thatReturns=o,r.thatReturnsFalse=o(!1),r.thatReturnsTrue=o(!0),r.thatReturnsNull=o(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";(function(t){var n=function(e){};"production"!==t.env.NODE_ENV&&(n=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=function(e,t,o,r,l,i,s,a){if(n(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[o,r,l,i,s,a],c=0;(u=new Error(t.replace(/%s/g,(function(){return d[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}}).call(t,n(0))},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=((o=n(4))&&o.__esModule?o:{default:o}).default.createContext({registerPane:function(){},unregisterPane:function(){}});t.default=r,e.exports=t.default},function(e,t,n){"use strict";(function(t){var o,r=n(1);"production"!==t.env.NODE_ENV&&(o=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=0,l="Warning: "+e.replace(/%s/g,(function(){return n[r++]}));"undefined"!=typeof console&&console.error(l);try{throw new Error(l)}catch(e){}},r=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),l=2;l<n;l++)r[l-2]=arguments[l];o.apply(void 0,[t].concat(r))}}),e.exports=r}).call(t,n(0))},function(e,t,n){(function(t){if("production"!==t.env.NODE_ENV){var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n(13)((function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}),!0)}else e.exports=n(12)()}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(4),l=a(r),i=a(n(7)),s=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),i=0;i<r;i++)l[i]=arguments[i];return n=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.panes={},o.registerPane=function(e,t){t.forEach((function(t){o.panes[t]||(o.panes[t]=[]),o.findPane(e,t)||(o.panes[t].length>0&&o.syncScrollPosition(o.panes[t][0],e),o.panes[t].push(e))})),o.addEvents(e,t)},o.unregisterPane=function(e,t){t.forEach((function(t){o.findPane(e,t)&&(o.removeEvents(e),o.panes[t].splice(o.panes[t].indexOf(e),1))}))},o.addEvents=function(e,t){e.onscroll=o.handlePaneScroll.bind(o,e,t)},o.removeEvents=function(e){e.onscroll=null},o.findPane=function(e,t){return!!o.panes[t]&&o.panes[t].find((function(t){return t===e}))},o.handlePaneScroll=function(e,t){o.props.enabled&&window.requestAnimationFrame((function(){o.syncScrollPositions(e,t)}))},o.syncScrollPositions=function(e,t){t.forEach((function(t){o.panes[t].forEach((function(n){e!==n&&(o.removeEvents(n,t),o.syncScrollPosition(e,n),window.requestAnimationFrame((function(){var e=Object.keys(o.panes).filter((function(e){return o.panes[e].includes(n)}));o.addEvents(n,e)})))}))})),o.props.onSync&&o.props.onSync(e)},u(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"getContextValue",value:function(){return{registerPane:this.registerPane,unregisterPane:this.unregisterPane}}},{key:"syncScrollPosition",value:function(e,t){var n=e.scrollTop,o=e.scrollHeight,r=e.clientHeight,l=e.scrollLeft,i=e.scrollWidth,s=e.clientWidth,a=o-r,u=i-s,d=this.props,c=d.proportional,m=d.vertical,f=d.horizontal,h=t.scrollHeight-r,p=t.scrollWidth-s;m&&a>0&&(t.scrollTop=c?h*n/a:n),f&&u>0&&(t.scrollLeft=c?p*l/u:l)}},{key:"render",value:function(){return l.default.createElement(s.default.Provider,{value:this.getContextValue()},l.default.Children.only(this.props.children))}}]),t}(r.Component);d.propTypes={onSync:i.default.func,children:i.default.element.isRequired,proportional:i.default.bool,vertical:i.default.bool,horizontal:i.default.bool,enabled:i.default.bool},d.defaultProps={proportional:!0,vertical:!0,horizontal:!0,enabled:!0},t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(4),l=s(n(7)),i=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toArray=function(e){return[].concat(e)},n.updateNode=function(){n.props.attachTo?n.node=n.props.attachTo.current:n.node=n.childRef.current},n.childRef=e.innerRef?e.innerRef:(0,r.createRef)(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.enabled&&(this.updateNode(),this.node&&this.context.registerPane(this.node,this.toArray(this.props.group)))}},{key:"componentDidUpdate",value:function(e){this.props.attachTo!==e.attachTo&&(this.node&&this.context.unregisterPane(this.node,this.toArray(e.group)),this.updateNode(),this.node&&this.context.registerPane(this.node,this.toArray(e.group))),this.node&&this.props.enabled!==e.enabled&&(this.props.enabled?this.context.registerPane(this.node,this.toArray(e.group)):this.context.unregisterPane(this.node,this.toArray(e.group))),this.node&&this.props.enabled&&this.props.group!==e.group&&(this.context.unregisterPane(this.node,this.toArray(e.group)),this.context.registerPane(this.node,this.toArray(this.props.group)))}},{key:"componentWillUnmount",value:function(){this.node&&this.props.enabled&&this.context.unregisterPane(this.node,this.toArray(this.props.group))}},{key:"render",value:function(){return this.props.attachTo?this.props.children:(0,r.cloneElement)(r.Children.only(this.props.children),{ref:this.childRef})}}]),t}(r.Component);a.contextType=i.default,a.propTypes={children:l.default.node.isRequired,attachTo:l.default.oneOfType([l.default.func,l.default.shape({current:l.default.any})]),group:l.default.oneOfType([l.default.string,l.default.arrayOf(l.default.string)]),enabled:l.default.bool,innerRef:l.default.oneOfType([l.default.func,l.default.shape({current:l.default.any})])},a.defaultProps={group:"default",enabled:!0},t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8);Object.defineProperty(t,"ScrollSync",{enumerable:!0,get:function(){return l(o).default}});var r=n(9);function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"ScrollSyncPane",{enumerable:!0,get:function(){return l(r).default}})},function(e,t,n){"use strict";(function(t){if("production"!==t.env.NODE_ENV)var o=n(2),r=n(6),l=n(3),i={};e.exports=function(e,n,s,a,u){if("production"!==t.env.NODE_ENV)for(var d in e)if(e.hasOwnProperty(d)){var c;try{o("function"==typeof e[d],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",a||"React class",s,d),c=e[d](n,d,a,s,null,l)}catch(e){c=e}if(r(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",a||"React class",s,d,typeof c),c instanceof Error&&!(c.message in i)){i[c.message]=!0;var m=u?u():"";r(!1,"Failed %s type: %s%s",s,c.message,null!=m?m:"")}}}}).call(t,n(0))},function(e,t,n){"use strict";var o=n(1),r=n(2),l=n(3);e.exports=function(){function e(e,t,n,o,i,s){s!==l&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";(function(t){var o=n(1),r=n(2),l=n(6),i=n(3),s=n(11);e.exports=function(e,n){var a="function"==typeof Symbol&&Symbol.iterator,u="<<anonymous>>",d={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:m(o.thatReturnsNull),arrayOf:function(e){return m((function(t,n,o,r,l){if("function"!=typeof e)return new c("Property `"+l+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new c("Invalid "+r+" `"+l+"` of type `"+p(s)+"` supplied to `"+o+"`, expected an array.");for(var a=0;a<s.length;a++){var u=e(s,a,o,r,l+"["+a+"]",i);if(u instanceof Error)return u}return null}))},element:m((function(t,n,o,r,l){var i=t[n];return e(i)?null:new c("Invalid "+r+" `"+l+"` of type `"+p(i)+"` supplied to `"+o+"`, expected a single ReactElement.")})),instanceOf:function(e){return m((function(t,n,o,r,l){if(!(t[n]instanceof e)){var i=e.name||u;return new c("Invalid "+r+" `"+l+"` of type `"+((s=t[n]).constructor&&s.constructor.name?s.constructor.name:u)+"` supplied to `"+o+"`, expected instance of `"+i+"`.")}var s;return null}))},node:m((function(e,t,n,o,r){return h(e[t])?null:new c("Invalid "+o+" `"+r+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return m((function(t,n,o,r,l){if("function"!=typeof e)return new c("Property `"+l+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var s=t[n],a=p(s);if("object"!==a)return new c("Invalid "+r+" `"+l+"` of type `"+a+"` supplied to `"+o+"`, expected an object.");for(var u in s)if(s.hasOwnProperty(u)){var d=e(s,u,o,r,l+"."+u,i);if(d instanceof Error)return d}return null}))},oneOf:function(e){return Array.isArray(e)?m((function(t,n,o,r,l){for(var i=t[n],s=0;s<e.length;s++)if(a=i,u=e[s],a===u?0!==a||1/a==1/u:a!=a&&u!=u)return null;var a,u;return new c("Invalid "+r+" `"+l+"` of value `"+i+"` supplied to `"+o+"`, expected one of "+JSON.stringify(e)+".")})):("production"!==t.env.NODE_ENV&&l(!1,"Invalid argument supplied to oneOf, expected an instance of array."),o.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&l(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),o.thatReturnsNull;for(var n=0;n<e.length;n++){var r=e[n];if("function"!=typeof r)return l(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",b(r),n),o.thatReturnsNull}return m((function(t,n,o,r,l){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,o,r,l,i))return null;return new c("Invalid "+r+" `"+l+"` supplied to `"+o+"`.")}))},shape:function(e){return m((function(t,n,o,r,l){var s=t[n],a=p(s);if("object"!==a)return new c("Invalid "+r+" `"+l+"` of type `"+a+"` supplied to `"+o+"`, expected `object`.");for(var u in e){var d=e[u];if(d){var m=d(s,u,o,r,l+"."+u,i);if(m)return m}}return null}))}};function c(e){this.message=e,this.stack=""}function m(e){if("production"!==t.env.NODE_ENV)var o={},s=0;function a(a,d,m,f,h,p,g){if(f=f||u,p=p||m,g!==i)if(n)r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var b=f+":"+m;!o[b]&&s<3&&(l(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",p,f),o[b]=!0,s++)}return null==d[m]?a?null===d[m]?new c("The "+h+" `"+p+"` is marked as required in `"+f+"`, but its value is `null`."):new c("The "+h+" `"+p+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(d,m,f,h,p)}var d=a.bind(null,!1);return d.isRequired=a.bind(null,!0),d}function f(e){return m((function(t,n,o,r,l,i){var s=t[n];return p(s)!==e?new c("Invalid "+r+" `"+l+"` of type `"+g(s)+"` supplied to `"+o+"`, expected `"+e+"`."):null}))}function h(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(h);if(null===t||e(t))return!0;var n=function(e){var t=e&&(a&&e[a]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!n)return!1;var o,r=n.call(t);if(n!==t.entries){for(;!(o=r.next()).done;)if(!h(o.value))return!1}else for(;!(o=r.next()).done;){var l=o.value;if(l&&!h(l[1]))return!1}return!0;default:return!1}}function p(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function g(e){if(null==e)return""+e;var t=p(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function b(e){var t=g(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return c.prototype=Error.prototype,d.checkPropTypes=s,d.PropTypes=d,d}}).call(t,n(0))}])},e.exports=o(n(93345))}}]);