"use strict";(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[4983],{55624:(t,e,s)=>{s.d(e,{F:()=>u});var a=s(31529),i=s(91287),r=s(63449),n=s(43623);function o(t){const{numberOfDecimals:e=2,numberFormat:s}=t,a=`,.${e}f`;let i;switch(s){case"percentage":i=" %";break;case"thousands":i=" K";break;case"millions":i=" M";break;case"billions":i=" B";break;default:i=void 0}return{tickformat:a,ticksuffix:i}}const u=(t,e,s)=>{if(!t)return{};const{mapping:u,style:c}=t;if((0,a.isEmpty)(c?.measures))return{};const l={},f={};(0,i.W)(e).forEach((([t,e])=>{if(!e)return;const s=u[e];if(s&&0!==s.length)for(const e of s){if(!(0,r.isMeasureInMapping)(e))continue;const s=c?.measures?.[e.measureName];if(!s)continue;const a=o(s);l[t]={tickformat:a.tickformat,...a.ticksuffix&&{ticksuffix:a.ticksuffix}},f[t]=a;break}}));const x=((t,e)=>{const s={};return(0,n.U)(t,(({axis:t,subplotKey:a})=>{const i=e[`${t}axis`];i&&(s[a]={tickformat:i.tickformat,...i.ticksuffix&&{ticksuffix:i.ticksuffix}})})),s})(s,f);return{...l,...x}}},49093:(t,e,s)=>{s.d(e,{w:()=>r});var a=s(64390),i=s(30575);const r=t=>{if(t.hasSecondaryYAxis){const e=(0,i.y)(t.subplots.vertical),s={};for(let t=0;t<e;t++)s["yaxis"+2*(t+1)]={overlaying:(0,a.D)(t),position:1,side:"right"};return s}return{}}},94983:(t,e,s)=>{s.r(e),s.d(e,{default:()=>M});var a=s(74389),i=s(53920),r=s.n(i),n=s(58038),o=s.n(n),u=s(93345),c=s(47357),l=s(83506),f=s(89041),x=s(56853),m=s(9117),b=s(18355),k=s(26323),p=s(5849),d=s(49093),y=s(95219),g=s(55624),h=s(60017),w=s(79412);const v={xaxis:"xAxis",yaxis:"columnValues",yaxis2:"lineValues"};var S=s(39800);o().register(r());const M=(0,m.withLoadingOverlay)((0,m.withoutIrrelevantRenders)((0,l.c)((0,u.memo)((t=>{const{cube:e,data:s,metaData:i,widgetState:r}=t,{formatMessage:n}=(0,c.useIntl)(),[o]=(0,x.i)("style.members"),l=n({id:"aui.total"}),m=(0,u.useMemo)((()=>(0,S.w)({cube:e,data:s,metaData:i,widgetState:r,captionForTotals:l,userTupleStyles:o})),[e,s,i,r,l,o]),M=(0,u.useMemo)((()=>((t,e)=>{if(!t)return{};let s=(0,w.Z)({barmode:"relative",xaxis:{gridcolor:"transparent"}},(0,b.w)(t.subplots),(0,k.M)(t.subplots,{fontSize:e?.style?.axisLabelFontSize}),(0,p.u)(t,"xaxis"),(0,d.w)(t),(0,y.U)(e,v),(0,g.F)(e,v,t.subplots));return s=(0,h.C)(s,{axes:["xaxis","yaxis"],fontSize:e?.style?.axisLabelFontSize}),s})(i,r)),[i,r]);return(0,a.Y)(f.Kl,{...t,traces:m,layout:M,cube:e,data:s,metaData:i})})))))}}]);