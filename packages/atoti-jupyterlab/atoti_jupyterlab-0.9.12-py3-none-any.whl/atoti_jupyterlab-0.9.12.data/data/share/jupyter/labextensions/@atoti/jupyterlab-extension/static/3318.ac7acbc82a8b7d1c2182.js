"use strict";(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[3318],{20743:(e,t,r)=>{if(r.d(t,{MC:()=>b,ad:()=>f,d5:()=>v,mF:()=>y}),4871==r.j)var n=r(74389);var s=r(31529),i=r(93345),o=r(18664),a=r(66539),u=r(17617),d=r(42319);const l=(0,i.createContext)(null),c=l.Provider,f=({value:e,children:t})=>{const r=(0,i.useContext)(l);return(0,i.useEffect)((()=>{r?.setClients?.(e)}),[r,e]),r&&void 0===r.clients?(0,n.Y)(o.LoadingBackground,{}):(0,n.Y)(c,{value:{clients:e,setClients:r?.setClients??s.noop},children:t})};function g(e){const t=(0,i.useContext)(l),r=t?.clients;if(!r){if(!1===e?.throwIfMissing)return;throw new u.a}return r}function v(){return g().atoti}function y(e){const t=g();if(void 0===e)return;const r=t.atoti[e];if(!r)throw new a.y(e,Object.keys((0,s.pickBy)(t.atoti,s.identity)));return r}function b(e){const t=g(e);if(!t){if(!1===e?.throwIfMissing)return;throw new u.a}if(!t.content){if(!1===e?.throwIfMissing)return;throw new d.E}return t.content}},12:(e,t,r)=>{r.d(t,{J:()=>a,v:()=>o});var n=r(93345),s=r(68618);const i=(0,n.createContext)(null),o=i.Provider;function a(e){const t=(0,n.useContext)(i);if(!t){if(!1===e?.throwIfMissing)return;throw new s.t}return t}},68364:(e,t,r)=>{r.d(t,{b:()=>o,t:()=>i});var n=r(93345);const s=(0,n.createContext)(void 0),i=s.Provider;function o(){return(0,n.useContext)(s)}},66539:(e,t,r)=>{r.d(t,{y:()=>n});class n extends Error{serverKey;constructor(e,t){super(`No Atoti client was found for the server key "${e}". Existing server keys are: ${JSON.stringify(t)}.`),this.serverKey=e}}},17617:(e,t,r)=>{r.d(t,{a:()=>n});class n extends Error{constructor(){super("No clients found. Did you forget to provide them with `<ClientsProvider />` ?")}}},42319:(e,t,r)=>{r.d(t,{E:()=>n});class n extends Error{constructor(){super("ContentClient not found. Did you forget to provide it with `<ClientsProvider />` ?")}}},11250:(e,t,r)=>{r.d(t,{d:()=>n});class n extends Error{serverKey;constructor({serverKey:e,existingServerKeys:t}){super((({serverKey:e,existingServerKeys:t})=>t?`No data model was found for server key "${e}" in the ClientsContext. Existing server keys are: ${JSON.stringify(t)}`:"No data models were provided.")({serverKey:e,existingServerKeys:t})),this.serverKey=e}}},68618:(e,t,r)=>{r.d(t,{t:()=>n});class n extends Error{constructor(){super("No user found. Did you forget to provide it with `<UserProvider />`?")}}},3472:(e,t,r)=>{r.d(t,{v:()=>u});var n=r(31529),s=r(93345),i=r(18664),o=r(20743),a=r(12);function u(e){const t=(0,o.MC)({throwIfMissing:!1}),{username:r}=(0,a.J)(),u=(0,i.useGetCompositeSnapshot)((()=>{if(!t)return{value:null,isLoading:!1};const[r,{isLoading:n}]=t.getActivity(e);return{value:r,isLoading:n}})),{value:d,isLoading:l}=(0,s.useSyncExternalStore)((r=>t?.subscribeToActivity(e,r)??n.noop),u),c=(0,s.useCallback)((n=>t?.updateActivity({username:r,key:e,value:n})),[t,e,r]);return[d,c,{isLoading:l}]}},86351:(e,t,r)=>{r.d(t,{W:()=>a});var n=r(93345),s=r(80652),i=r(20743);function o(e,t){return Object.entries(e).reduce(((e,[r,n])=>({...e,...t?{[r]:n.isDataModelLoading?{status:"loading"}:n.dataModel?{status:"loaded",dataModel:n.dataModel}:n.dataModelLoadingError?{status:"errored",error:n.dataModelLoadingError}:{status:"idle"}}:n.dataModel&&{[r]:n.dataModel}})),{})}function a({includeLoadingAndErroredDataModels:e}={includeLoadingAndErroredDataModels:!1}){const t=(0,i.d5)(),r=(0,n.useMemo)((()=>(0,s.y$)(((r=o(t,e),n)=>"update"===n.type?{...r,...o({[n.serverKey]:n.atotiClient},e)}:r))),[t,e]);return(0,n.useEffect)((()=>{const e=Object.entries(t).map((([e,t])=>t.subscribeToDataModel((()=>r.dispatch({type:"update",serverKey:e,atotiClient:t})))));return()=>{for(const t of e)t()}}),[t,r]),(0,n.useSyncExternalStore)(r.subscribe,r.getState)}},152:(e,t,r)=>{r.d(t,{J:()=>u});var n=r(31529),s=r(93345),i=r(96531),o=r(20743),a=r(68364);function u({serverKey:e,queryId:t,query:r}){const u=(0,o.mF)(e),d=(0,a.b)();(0,s.useEffect)((()=>{u&&t&&r&&u.setQuery(t,r,d)}),[u,t,r,d]);const l=(0,s.useCallback)((e=>u&&t?u.subscribeToQueryResult(t,e):n.noop),[u,t]),c=(0,s.useSyncExternalStore)(l,(()=>u&&t?u.getQueryResult(t):void 0)),f=(0,s.useRef)(r),g=Boolean(r&&f.current&&(0,i.hasQueryChanged)(r,f.current));return f.current=r,(0,s.useMemo)((()=>{if(!c){if(u&&t&&r){const e=u.getQuery(t)?.isCanceled;return{isLoading:!e}}return{isLoading:!1}}return{...c,isLoading:c.isLoading||g}}),[c,g,u,t,r])}},1947:(e,t,r)=>{r.d(t,{L:()=>n});const n={"style.members":{},"lastUsedCube.isEnabled":!0,"dataModel.isSimplified":!0,"filters.default.hiddenHierarchies":[],"filters.hideMissingHierarchiesAlert":!1,homePageLayout:"grid","mdx.doesIncludeCalculatedMembers":!1,"search.maxResults":1e3,"slicingHierarchies.defaultMemberSelectionMode":"single","smartFiltering.ignoredHierarchies":[],"smartFiltering.isEnabled":!0,"smartFiltering.nonEmptyEvaluationMeasureName":r(29213).defaultNonEmptyEvaluationMeasureName,theme:"light-activeviam","drillthrough.defaultSelectedColumns":{},"unsavedChangesPopup.isEnabled":!0,csvSeparator:",","table.animations.areEnabled":!0,"table.animations.threshold":0,"table.animations.duration":10,"table.copyColumnHeadersAsASingleRow":!1,"table.defaultSize":"large","table.tooltips":!1,"table.headers.wrap":!1,"table.rowNumbers":!1,"totals.areAddedByDefault":!0}},36442:(e,t,r)=>{r.d(t,{Y:()=>s});var n=r(1947);function s(e){return e in n.L}},67161:(e,t,r)=>{function n(e){return"custom"===e.type}r.d(t,{S:()=>n})},31793:(e,t,r)=>{r.d(t,{N:()=>s});var n=r(31529);class s extends Error{cubeName;availableCubeNames;constructor(e,t,r){super(`Cube not found: "${e}". Available cubes are ${JSON.stringify((0,n.uniq)(t))}`,r),this.cubeName=e,this.availableCubeNames=t}}},74647:(e,t,r)=>{function n(e,t){return Object.keys(e.catalogs).find((r=>e.catalogs[r].cubes[t]))}r.d(t,{$:()=>n})},80456:(e,t,r)=>{r.d(t,{W:()=>o});var n=r(31793),s=r(74647),i=r(26999);function o(e,t){const r=(0,s.$)(e,t);if(r)return e.catalogs[r].cubes[t];const o=(0,i.X)(e).map((({name:e})=>e));throw new n.N(t,o)}},26999:(e,t,r)=>{r.d(t,{X:()=>s});var n=r(31529);const s=e=>(0,n.flatMap)(e.catalogs,(e=>Object.values(e.cubes)))},13029:(e,t,r)=>{function n(e,t){return t.measures[e]}r.d(t,{D:()=>n})},61858:(e,t,r)=>{r.d(t,{s:()=>s});class n extends Error{pluginType;pluginKey;constructor(e,t,r){super(`No plugin of type "${e}" was found for the key "${t}" in the registry. Registered plugins of this type are: ${JSON.stringify(r)}. `),this.pluginType=e,this.pluginKey=t}}const s=(e,t,r)=>{const s=r[t];if(void 0===s)throw new n(e,t,Object.keys(r));return s}},5029:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(3472),s=r(56853);function i(){const[e]=(0,s.i)("lastUsedCube.isEnabled"),[t]=(0,n.v)("lastUsedCube");return e?t:null}},56853:(e,t,r)=>{r.d(t,{i:()=>c});var n=r(31529),s=r(93345),i=r(20743),o=r(12),a=r(18664),u=r(36442),d=r(1947);const l=(0,s.createContext)({settingDefinitions:[],getSettingDefinition:()=>{throw new Error("Setting definitions context not ready.")}});function c(e){const t=(0,i.MC)({throwIfMissing:!1}),r=function(e){const{getSettingDefinition:t}=(0,s.useContext)(l);if((0,u.Y)(e))return d.L[e];const r=t(e);if(!("defaultValue"in r))throw new Error(`Missing default value in the definition of setting "${e}".`);return r.defaultValue}(e),c=(0,a.useGetCompositeSnapshot)((()=>t?{value:t.getSetting(e)??r,isLoaded:t.getAreSettingsLoaded()}:{value:r,isLoaded:!0})),{value:f,isLoaded:g}=(0,s.useSyncExternalStore)((r=>t?.subscribeToSetting(e,r)??n.noop),c),v=(0,o.J)({throwIfMissing:!1}),y=(0,s.useCallback)((async r=>{void 0!==v&&await(t?.updateSetting({username:v.username,key:e,value:r}))}),[t,e,v]);return[f,y,{isLoading:!g}]}},82224:(e,t,r)=>{function n(e){return"subtileIndex"in e}r.d(t,{o:()=>n})}}]);