"use strict";(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[8862],{18355:(e,t,a)=>{a.d(t,{w:()=>i});var n=a(64390),r=a(30575);const i=e=>{if(0===e.horizontal.captions.length&&0===e.vertical.captions.length)return{};const t=(0,r.y)(e.vertical),a=(0,r.y)(e.horizontal),i=[];for(let e=0;e<t;e++){const t=[];for(let r=0;r<a;r++){const a=0===r?"x":`x${r+1}`,i=(0,n.D)(e);t.push(`${a}${i}`)}i.push(t)}return{grid:{rows:t,columns:a,subplots:i,pattern:"coupled"}}}},64390:(e,t,a)=>{function n(e){return 0===e?"y":"y"+(2*e+1)}a.d(t,{D:()=>n})},30575:(e,t,a)=>{a.d(t,{y:()=>n});const n=({captions:e,limit:t})=>Math.max(1,Math.min(e.length,t))},29828:(e,t,a)=>{a.d(t,{C:()=>i});var n=a(18355),r=a(79412);const i=e=>e?(0,r.Z)({margin:{r:60,t:50}},(0,n.w)(e.subplots)):{}},79596:(e,t,a)=>{a.d(t,{a:()=>h});var n=a(31529),r=a(96531),i=a(56918),l=a(71930),o=a(50862),s=a(1583),u=a(14332),c=a(91381);function h({cube:e,data:t,metaData:a,widgetState:{mapping:h,visibleGrandTotals:d,visibleSubTotals:g},captionForTotals:p}){if(!e||!t||!a)return[];const f={},m=h.horizontalSubplots.length+h.verticalSubplots.length>0,b=h.value.length>0;(0,l.R)({cube:e,data:t,hierarchyIndicesInCellSet:a.hierarchyIndicesInCellSet,visibleGrandTotals:d,visibleSubTotals:g},(({cell:t,tuple:l})=>{if(l){const s=(0,o.b)(l,{levelIndices:a.levelIndicesPerField,mapping:h,attributesRedirection:a.attributesRedirection,cube:e}),u=(e=>{const t=(0,i.f)([...e.horizontalSubplots,...e.verticalSubplots]),n=h.value&&h.value.length>0?(e=>{switch(e.type){case"measure":return e.measureName;case"hierarchy":return e.levelName;case"compositeHierarchy":return e.hierarchies.map((e=>e.hierarchyName)).join(" => ");case"kpiProperty":{const{kpiName:t,propertyName:a,underlyingMeasureName:n}=e;return(0,c.L)({kpiName:t,kpiPropertyName:a,underlyingMeasureName:n})}default:return"All measures"}})(h.value[0]):"";if(!f[t]){const e=((e,t)=>({_key:e,gauge:{axis:{range:[null,null]},bar:{color:a.colorway[0]},threshold:{line:{color:"#f5222d",width:3}}},hoverinfo:"none",type:"indicator",mode:"gauge+number",name:t,cellsIndices:[],domain:{}}))(t,n);f[t]=e}return f[t]})(s);if(null!==t&&(b&&s.value.length>0?u.value=t.value:s.minimum.length>0?(0,n.set)(u,["gauge","axis","range",0],t.value):s.maximum.length>0?(0,n.set)(u,["gauge","axis","range",1],t.value):s.goal.length>0&&(0,n.set)(u,["gauge","threshold","value"],t.value)),m){const t=(0,r.getTupleCaption)([...s.horizontalSubplots,...s.verticalSubplots].map((({member:e,dimensionName:t,hierarchyName:a})=>({dimensionName:t,hierarchyName:a,...e}))),{captionForTotals:p,cube:e,separator:", "});(0,n.set)(u,["title","text"],t)}}}));const v=Object.values(f);if(m){const e=a.subplots,t=(0,s.G)({traces:v,subplotsMetaData:e});return(0,u.X)(t,e),t}return v}},79412:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(90147),r=a(31529);const i=function(e,...t){return(0,n.produce)(e??{},(e=>{(0,r.defaultsDeep)(e,...t)}))}},25025:(e,t,a)=>{function n(e,t,a){e.prototype=t.prototype=a,a.constructor=e}function r(e,t){var a=Object.create(e.prototype);for(var n in t)a[n]=t[n];return a}function i(){}a.d(t,{GW:()=>J,Dj:()=>V});var l=.7,o=1/l,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h=/^#([0-9a-f]{3,8})$/,d=new RegExp(`^rgb\\(${s},${s},${s}\\)$`),g=new RegExp(`^rgb\\(${c},${c},${c}\\)$`),p=new RegExp(`^rgba\\(${s},${s},${s},${u}\\)$`),f=new RegExp(`^rgba\\(${c},${c},${c},${u}\\)$`),m=new RegExp(`^hsl\\(${u},${c},${c}\\)$`),b=new RegExp(`^hsla\\(${u},${c},${c},${u}\\)$`),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function x(){return this.rgb().formatRgb()}function w(e){var t,a;return e=(e+"").trim().toLowerCase(),(t=h.exec(e))?(a=t[1].length,t=parseInt(t[1],16),6===a?k(t):3===a?new N(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===a?T(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===a?T(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=d.exec(e))?new N(t[1],t[2],t[3],1):(t=g.exec(e))?new N(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=p.exec(e))?T(t[1],t[2],t[3],t[4]):(t=f.exec(e))?T(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=m.exec(e))?j(t[1],t[2]/100,t[3]/100,1):(t=b.exec(e))?j(t[1],t[2]/100,t[3]/100,t[4]):v.hasOwnProperty(e)?k(v[e]):"transparent"===e?new N(NaN,NaN,NaN,0):null}function k(e){return new N(e>>16&255,e>>8&255,255&e,1)}function T(e,t,a,n){return n<=0&&(e=t=a=NaN),new N(e,t,a,n)}function S(e,t,a,n){return 1===arguments.length?((r=e)instanceof i||(r=w(r)),r?new N((r=r.rgb()).r,r.g,r.b,r.opacity):new N):new N(e,t,a,null==n?1:n);var r}function N(e,t,a,n){this.r=+e,this.g=+t,this.b=+a,this.opacity=+n}function _(){return`#${A(this.r)}${A(this.g)}${A(this.b)}`}function M(){const e=$(this.opacity);return`${1===e?"rgb(":"rgba("}${z(this.r)}, ${z(this.g)}, ${z(this.b)}${1===e?")":`, ${e})`}`}function $(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function z(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function A(e){return((e=z(e))<16?"0":"")+e.toString(16)}function j(e,t,a,n){return n<=0?e=t=a=NaN:a<=0||a>=1?e=t=NaN:t<=0&&(e=NaN),new F(e,t,a,n)}function D(e){if(e instanceof F)return new F(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=w(e)),!e)return new F;if(e instanceof F)return e;var t=(e=e.rgb()).r/255,a=e.g/255,n=e.b/255,r=Math.min(t,a,n),l=Math.max(t,a,n),o=NaN,s=l-r,u=(l+r)/2;return s?(o=t===l?(a-n)/s+6*(a<n):a===l?(n-t)/s+2:(t-a)/s+4,s/=u<.5?l+r:2-l-r,o*=60):s=u>0&&u<1?0:o,new F(o,s,u,e.opacity)}function F(e,t,a,n){this.h=+e,this.s=+t,this.l=+a,this.opacity=+n}function O(e){return(e=(e||0)%360)<0?e+360:e}function I(e){return Math.max(0,Math.min(1,e||0))}function R(e,t,a){return 255*(e<60?t+(a-t)*e/60:e<180?a:e<240?t+(a-t)*(240-e)/60:t)}function C(e,t,a,n,r){var i=e*e,l=i*e;return((1-3*e+3*i-l)*t+(4-6*i+3*l)*a+(1+3*e+3*i-3*l)*n+l*r)/6}n(i,w,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:y,formatHex:y,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return D(this).formatHsl()},formatRgb:x,toString:x}),n(N,S,r(i,{brighter(e){return e=null==e?o:Math.pow(o,e),new N(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?l:Math.pow(l,e),new N(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new N(z(this.r),z(this.g),z(this.b),$(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_,formatHex:_,formatHex8:function(){return`#${A(this.r)}${A(this.g)}${A(this.b)}${A(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:M,toString:M})),n(F,(function(e,t,a,n){return 1===arguments.length?D(e):new F(e,t,a,null==n?1:n)}),r(i,{brighter(e){return e=null==e?o:Math.pow(o,e),new F(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?l:Math.pow(l,e),new F(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,n=a+(a<.5?a:1-a)*t,r=2*a-n;return new N(R(e>=240?e-240:e+120,r,n),R(e,r,n),R(e<120?e+240:e-120,r,n),this.opacity)},clamp(){return new F(O(this.h),I(this.s),I(this.l),$(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$(this.opacity);return`${1===e?"hsl(":"hsla("}${O(this.h)}, ${100*I(this.s)}%, ${100*I(this.l)}%${1===e?")":`, ${e})`}`}}));const E=e=>()=>e;function L(e,t){var a=t-e;return a?function(e,t){return function(a){return e+a*t}}(e,a):E(isNaN(e)?t:e)}const P=function e(t){var a=function(e){return 1==(e=+e)?L:function(t,a){return a-t?function(e,t,a){return e=Math.pow(e,a),t=Math.pow(t,a)-e,a=1/a,function(n){return Math.pow(e+n*t,a)}}(t,a,e):E(isNaN(t)?a:t)}}(t);function n(e,t){var n=a((e=S(e)).r,(t=S(t)).r),r=a(e.g,t.g),i=a(e.b,t.b),l=L(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=i(t),e.opacity=l(t),e+""}}return n.gamma=e,n}(1);function B(e){return function(t){var a,n,r=t.length,i=new Array(r),l=new Array(r),o=new Array(r);for(a=0;a<r;++a)n=S(t[a]),i[a]=n.r||0,l[a]=n.g||0,o[a]=n.b||0;return i=e(i),l=e(l),o=e(o),n.opacity=1,function(e){return n.r=i(e),n.g=l(e),n.b=o(e),n+""}}}function G(e,t){var a,n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),l=new Array(n);for(a=0;a<r;++a)i[a]=J(e[a],t[a]);for(;a<n;++a)l[a]=t[a];return function(e){for(a=0;a<r;++a)l[a]=i[a](e);return l}}function H(e,t){var a=new Date;return e=+e,t=+t,function(n){return a.setTime(e*(1-n)+t*n),a}}function V(e,t){return e=+e,t=+t,function(a){return e*(1-a)+t*a}}function Y(e,t){var a,n={},r={};for(a in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)a in e?n[a]=J(e[a],t[a]):r[a]=t[a];return function(e){for(a in n)r[a]=n[a](e);return r}}B((function(e){var t=e.length-1;return function(a){var n=a<=0?a=0:a>=1?(a=1,t-1):Math.floor(a*t),r=e[n],i=e[n+1],l=n>0?e[n-1]:2*r-i,o=n<t-1?e[n+2]:2*i-r;return C((a-n/t)*t,l,r,i,o)}})),B((function(e){var t=e.length;return function(a){var n=Math.floor(((a%=1)<0?++a:a)*t),r=e[(n+t-1)%t],i=e[n%t],l=e[(n+1)%t],o=e[(n+2)%t];return C((a-n/t)*t,r,i,l,o)}}));var q=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Z=new RegExp(q.source,"g");function X(e,t){var a,n,r,i=q.lastIndex=Z.lastIndex=0,l=-1,o=[],s=[];for(e+="",t+="";(a=q.exec(e))&&(n=Z.exec(t));)(r=n.index)>i&&(r=t.slice(i,r),o[l]?o[l]+=r:o[++l]=r),(a=a[0])===(n=n[0])?o[l]?o[l]+=n:o[++l]=n:(o[++l]=null,s.push({i:l,x:V(a,n)})),i=Z.lastIndex;return i<t.length&&(r=t.slice(i),o[l]?o[l]+=r:o[++l]=r),o.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var a,n=0;n<t;++n)o[(a=s[n]).i]=a.x(e);return o.join("")})}function W(e,t){t||(t=[]);var a,n=e?Math.min(t.length,e.length):0,r=t.slice();return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function J(e,t){var a,n,r=typeof t;return null==t||"boolean"===r?E(t):("number"===r?V:"string"===r?(a=w(t))?(t=a,P):X:t instanceof w?P:t instanceof Date?H:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?G:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Y:V:W))(e,t)}},71724:(e,t,a)=>{e.exports=a(18049)},55260:e=>{e.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},54796:(e,t,a)=>{var n=a(4214).extendFlat,r=a(4214).extendDeep,i=a(84107).overrideAll,l=a(73628),o=a(6792),s=a(42311).u,u=a(12184),c=a(38499).templatedArray,h=a(55260),d=a(79619).descriptionOnlyNumbers,g=l({editType:"plot",colorEditType:"plot"}),p={color:{valType:"color",editType:"plot",description:["Sets the background color of the arc."].join(" ")},line:{color:{valType:"color",dflt:o.defaultLine,editType:"plot",description:["Sets the color of the line enclosing each sector."].join(" ")},width:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets the width (in px) of the line enclosing each sector."].join(" ")},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot",description:["Sets the thickness of the bar as a fraction of the total thickness of the gauge."].join(" ")},editType:"calc"},f={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot",description:["Sets the range of this axis."].join(" ")},m=c("step",r({},p,{range:f}));e.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number",description:["Determines how the value is displayed on the graph.","`number` displays the value numerically in text.","`delta` displays the difference to a reference value in text.","Finally, `gauge` displays the value graphically on an axis."].join(" ")},value:{valType:"number",editType:"calc",anim:!0,description:["Sets the number to be displayed."].join(" ")},align:{valType:"enumerated",values:["left","center","right"],editType:"plot",description:["Sets the horizontal alignment of the `text` within the box.","Note that this attribute has no effect if an angular gauge is displayed:","in this case, it is always centered"].join(" ")},domain:s({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot",description:["Sets the title of this indicator."].join(" ")},align:{valType:"enumerated",values:["left","center","right"],editType:"plot",description:["Sets the horizontal alignment of the title.","It defaults to `center` except for bullet charts","for which it defaults to right."].join(" ")},font:n({},g,{description:["Set the font used to display the title"].join(" ")}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:d("value")},font:n({},g,{description:["Set the font used to display main number"].join(" ")}),prefix:{valType:"string",dflt:"",editType:"plot",description:["Sets a prefix appearing before the number."].join(" ")},suffix:{valType:"string",dflt:"",editType:"plot",description:["Sets a suffix appearing next to the number."].join(" ")},editType:"plot"},delta:{reference:{valType:"number",editType:"calc",description:["Sets the reference value to compute the delta.","By default, it is set to the current value."].join(" ")},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot",description:["Sets the position of delta with respect to the number."].join(" ")},relative:{valType:"boolean",editType:"plot",dflt:!1,description:["Show relative change"].join(" ")},valueformat:{valType:"string",editType:"plot",description:d("value")},increasing:{symbol:{valType:"string",dflt:h.INCREASING.SYMBOL,editType:"plot",description:["Sets the symbol to display for increasing value"].join(" ")},color:{valType:"color",dflt:h.INCREASING.COLOR,editType:"plot",description:["Sets the color for increasing value."].join(" ")},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:h.DECREASING.SYMBOL,editType:"plot",description:["Sets the symbol to display for increasing value"].join(" ")},color:{valType:"color",dflt:h.DECREASING.COLOR,editType:"plot",description:["Sets the color for increasing value."].join(" ")},editType:"plot"},font:n({},g,{description:["Set the font used to display the delta"].join(" ")}),prefix:{valType:"string",dflt:"",editType:"plot",description:["Sets a prefix appearing before the delta."].join(" ")},suffix:{valType:"string",dflt:"",editType:"plot",description:["Sets a suffix appearing next to the delta."].join(" ")},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"],description:["Set the shape of the gauge"].join(" ")},bar:r({},p,{color:{dflt:"green"},description:["Set the appearance of the gauge's value"].join(" ")}),bgcolor:{valType:"color",editType:"plot",description:"Sets the gauge background color."},bordercolor:{valType:"color",dflt:o.defaultLine,editType:"plot",description:"Sets the color of the border enclosing the gauge."},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot",description:"Sets the width (in px) of the border enclosing the gauge."},axis:i({range:f,visible:n({},u.visible,{dflt:!0}),tickmode:u.minor.tickmode,nticks:u.nticks,tick0:u.tick0,dtick:u.dtick,tickvals:u.tickvals,ticktext:u.ticktext,ticks:n({},u.ticks,{dflt:"outside"}),ticklen:u.ticklen,tickwidth:u.tickwidth,tickcolor:u.tickcolor,ticklabelstep:u.ticklabelstep,showticklabels:u.showticklabels,labelalias:u.labelalias,tickfont:l({description:"Sets the color bar's tick label font"}),tickangle:u.tickangle,tickformat:u.tickformat,tickformatstops:u.tickformatstops,tickprefix:u.tickprefix,showtickprefix:u.showtickprefix,ticksuffix:u.ticksuffix,showticksuffix:u.showticksuffix,separatethousands:u.separatethousands,exponentformat:u.exponentformat,minexponent:u.minexponent,showexponent:u.showexponent,editType:"plot"},"plot"),steps:m,threshold:{line:{color:n({},p.line.color,{description:["Sets the color of the threshold line."].join(" ")}),width:n({},p.line.width,{dflt:1,description:["Sets the width (in px) of the threshold line."].join(" ")}),editType:"plot"},thickness:n({},p.thickness,{dflt:.85,description:["Sets the thickness of the threshold line as a fraction of the thickness of the gauge."].join(" ")}),value:{valType:"number",editType:"calc",dflt:!1,description:["Sets a treshold value drawn as a line."].join(" ")},editType:"plot"},description:"The gauge of the Indicator plot.",editType:"plot"}}},69052:(e,t,a)=>{var n=a(2751);t.name="indicator",t.plot=function(e,a,r,i){n.plotBasePlot(t.name,e,a,r,i)},t.clean=function(e,a,r,i){n.cleanBasePlot(t.name,e,a,r,i)}},39084:e=>{e.exports={calc:function(e,t){var a=[],n=t.value;"number"!=typeof t._lastValue&&(t._lastValue=t.value);var r=t._lastValue,i=r;return t._hasDelta&&"number"==typeof t.delta.reference&&(i=t.delta.reference),a[0]={y:n,lastY:r,delta:n-i,relativeDelta:(n-i)/i},a}}},64872:e=>{e.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},90875:(e,t,a)=>{var n=a(14228),r=a(54796),i=a(42311).N,l=a(38499),o=a(22531),s=a(64872),u=a(49308),c=a(39246),h=a(52153),d=a(64823);function g(e,t){function a(a,i){return n.coerce(e,t,r.gauge.steps,a,i)}a("color"),a("line.color"),a("line.width"),a("range"),a("thickness")}e.exports={supplyDefaults:function(e,t,a,p){function f(a,i){return n.coerce(e,t,r,a,i)}i(t,p,f),f("mode"),t._hasNumber=-1!==t.mode.indexOf("number"),t._hasDelta=-1!==t.mode.indexOf("delta"),t._hasGauge=-1!==t.mode.indexOf("gauge");var m=f("value");t._range=[0,"number"==typeof m?1.5*m:1];var b,v,y=new Array(2);if(t._hasNumber){f("number.valueformat");var x=n.extendFlat({},p.font);x.size=void 0,n.coerceFont(f,"number.font",x),void 0===t.number.font.size&&(t.number.font.size=s.defaultNumberFontSize,y[0]=!0),f("number.prefix"),f("number.suffix"),b=t.number.font.size}if(t._hasDelta){var w=n.extendFlat({},p.font);w.size=void 0,n.coerceFont(f,"delta.font",w),void 0===t.delta.font.size&&(t.delta.font.size=(t._hasNumber?.5:1)*(b||s.defaultNumberFontSize),y[1]=!0),f("delta.reference",t.value),f("delta.relative"),f("delta.valueformat",t.delta.relative?"2%":""),f("delta.increasing.symbol"),f("delta.increasing.color"),f("delta.decreasing.symbol"),f("delta.decreasing.color"),f("delta.position"),f("delta.prefix"),f("delta.suffix"),v=t.delta.font.size}t._scaleNumbers=(!t._hasNumber||y[0])&&(!t._hasDelta||y[1])||!1;var k,T,S,N,_=n.extendFlat({},p.font);function M(e,t){return n.coerce(k,T,r.gauge,e,t)}function $(e,t){return n.coerce(S,N,r.gauge.axis,e,t)}if(_.size=.25*(b||v||s.defaultNumberFontSize),n.coerceFont(f,"title.font",_),f("title.text"),t._hasGauge){(k=e.gauge)||(k={}),T=l.newContainer(t,"gauge"),M("shape"),(t._isBullet="bullet"===t.gauge.shape)||f("title.align","center"),(t._isAngular="angular"===t.gauge.shape)||f("align","center"),M("bgcolor",p.paper_bgcolor),M("borderwidth"),M("bordercolor"),M("bar.color"),M("bar.line.color"),M("bar.line.width"),M("bar.thickness",s.valueThickness*("bullet"===t.gauge.shape?.5:1)),o(k,T,{name:"steps",handleItemDefaults:g}),M("threshold.value"),M("threshold.thickness"),M("threshold.line.width"),M("threshold.line.color"),S={},k&&(S=k.axis||{}),N=l.newContainer(T,"axis"),$("visible"),t._range=$("range",t._range);var z={font:p.font,noAutotickangles:!0,outerTicks:!0,noTicklabelshift:!0,noTicklabelstandoff:!0};u(S,N,$,"linear"),d(S,N,$,"linear",z),h(S,N,$,"linear",z),c(S,N,$,z)}else f("title.align","center"),f("align","center"),t._isAngular=t._isBullet=!1;t._length=null}}},18049:(e,t,a)=>{e.exports={moduleType:"trace",name:"indicator",basePlotModule:a(69052),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:a(54796),supplyDefaults:a(90875).supplyDefaults,calc:a(39084).calc,plot:a(76510),meta:{description:["An indicator is used to visualize a single `value` along with some","contextual information such as `steps` or a `threshold`, using a","combination of three visual elements: a number, a delta, and/or a gauge.","Deltas are taken with respect to a `reference`.","Gauges can be either angular or bullet (aka linear) gauges."].join(" ")}}},76510:(e,t,a)=>{var n=a(21132),r=a(25025).GW,i=a(25025).Dj,l=a(14228),o=l.strScale,s=l.strTranslate,u=l.rad2deg,c=a(9799).MID_SHIFT,h=a(26788),d=a(64872),g=a(68104),p=a(41665),f=a(33546),m=a(13040),b=a(12184),v=a(95893),y={left:"start",center:"middle",right:"end"},x={left:0,center:.5,right:1},w=/[yzafpnµmkMGTPEZY]/;function k(e){return e&&e.duration>0}function T(e){e.each((function(e){v.stroke(n.select(this),e.line.color)})).each((function(e){v.fill(n.select(this),e.color)})).style("stroke-width",(function(e){return e.line.width}))}function S(e,t,a){var n=e._fullLayout,r=l.extendFlat({type:"linear",ticks:"outside",range:a,showline:!0},t),i={type:"linear",_id:"x"+t._id},o={letter:"x",font:n.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function s(e,t){return l.coerce(r,i,b,e,t)}return f(r,i,s,o,n),m(r,i,s,o),i}function N(e,t,a){return[Math.min(t/e.width,a/e.height),e,t+"x"+a]}function _(e,t,a,r){var i=document.createElementNS("http://www.w3.org/2000/svg","text"),l=n.select(i);return l.text(e).attr("x",0).attr("y",0).attr("text-anchor",a).attr("data-unformatted",e).call(g.convertToTspans,r).call(h.font,t),h.bBox(l.node())}function M(e,t,a,n,r,i){var o="_cache"+t;e[o]&&e[o].key===r||(e[o]={key:r,value:a});var s=l.aggNums(i,null,[e[o].value,n],2);return e[o].value=s,s}e.exports=function(e,t,a,f){var m,b=e._fullLayout;k(a)&&f&&(m=f()),l.makeTraceGroups(b._indicatorlayer,t,"trace").each((function(t){var f,$,z,A,j,D=t[0].trace,F=n.select(this),O=D._hasGauge,I=D._isAngular,R=D._isBullet,C=D.domain,E={w:b._size.w*(C.x[1]-C.x[0]),h:b._size.h*(C.y[1]-C.y[0]),l:b._size.l+b._size.w*C.x[0],r:b._size.r+b._size.w*(1-C.x[1]),t:b._size.t+b._size.h*(1-C.y[1]),b:b._size.b+b._size.h*C.y[0]},L=E.l+E.w/2,P=E.t+E.h/2,B=Math.min(E.w/2,E.h),G=d.innerRadius*B,H=D.align||"center";if($=P,O){if(I&&(f=L,$=P+B/2,z=function(e){return function(e,t){return[t/Math.sqrt(e.width/2*(e.width/2)+e.height*e.height),e,t]}(e,.9*G)}),R){var V=d.bulletPadding,Y=1-d.bulletNumberDomainSize+V;f=E.l+(Y+(1-Y)*x[H])*E.w,z=function(e){return N(e,(d.bulletNumberDomainSize-V)*E.w,E.h)}}}else f=E.l+x[H]*E.w,z=function(e){return N(e,E.w,E.h)};!function(e,t,a,r){var u,c,d,f=a[0].trace,m=r.numbersX,b=r.numbersY,T=f.align||"center",N=y[T],$=r.transitionOpts,z=r.onComplete,A=l.ensureSingle(t,"g","numbers"),j=[];f._hasNumber&&j.push("number"),f._hasDelta&&(j.push("delta"),"left"===f.delta.position&&j.reverse());var D=A.selectAll("text").data(j);function F(t,a,n,r){if(!t.match("s")||n>=0==r>=0||a(n).slice(-1).match(w)||a(r).slice(-1).match(w))return a;var i=t.slice().replace("s","f").replace(/\d+/,(function(e){return parseInt(e)-1})),l=S(e,{tickformat:i});return function(e){return Math.abs(e)<1?p.tickText(l,e).text:a(e)}}D.enter().append("text"),D.attr("text-anchor",(function(){return N})).attr("class",(function(e){return e})).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),D.exit().remove();var O,I=f.mode+f.align;if(f._hasDelta&&(O=function(){var t=S(e,{tickformat:f.delta.valueformat},f._range);t.setScale(),p.prepTicks(t);var r=function(e){return p.tickText(t,e).text},l=f.delta.suffix,o=f.delta.prefix,s=function(e){return f.delta.relative?e.relativeDelta:e.delta},u=function(e,t){return 0===e||"number"!=typeof e||isNaN(e)?"-":(e>0?f.delta.increasing.symbol:f.delta.decreasing.symbol)+o+t(e)+l},d=function(e){return e.delta>=0?f.delta.increasing.color:f.delta.decreasing.color};void 0===f._deltaLastValue&&(f._deltaLastValue=s(a[0]));var m=A.select("text.delta");function b(){m.text(u(s(a[0]),r)).call(v.fill,d(a[0])).call(g.convertToTspans,e)}return m.call(h.font,f.delta.font).call(v.fill,d({delta:f._deltaLastValue})),k($)?m.transition().duration($.duration).ease($.easing).tween("text",(function(){var e=n.select(this),t=s(a[0]),l=f._deltaLastValue,o=F(f.delta.valueformat,r,l,t),c=i(l,t);return f._deltaLastValue=t,function(t){e.text(u(c(t),o)),e.call(v.fill,d({delta:c(t)}))}})).each("end",(function(){b(),z&&z()})).each("interrupt",(function(){b(),z&&z()})):b(),c=_(u(s(a[0]),r),f.delta.font,N,e),m}(),I+=f.delta.position+f.delta.font.size+f.delta.font.family+f.delta.valueformat,I+=f.delta.increasing.symbol+f.delta.decreasing.symbol,d=c),f._hasNumber&&(function(){var t=S(e,{tickformat:f.number.valueformat},f._range);t.setScale(),p.prepTicks(t);var r=function(e){return p.tickText(t,e).text},l=f.number.suffix,o=f.number.prefix,s=A.select("text.number");function c(){var t="number"==typeof a[0].y?o+r(a[0].y)+l:"-";s.text(t).call(h.font,f.number.font).call(g.convertToTspans,e)}k($)?s.transition().duration($.duration).ease($.easing).each("end",(function(){c(),z&&z()})).each("interrupt",(function(){c(),z&&z()})).attrTween("text",(function(){var e=n.select(this),t=i(a[0].lastY,a[0].y);f._lastValue=a[0].y;var s=F(f.number.valueformat,r,a[0].lastY,a[0].y);return function(a){e.text(o+s(t(a))+l)}})):c(),u=_(o+r(a[0].y)+l,f.number.font,N,e)}(),I+=f.number.font.size+f.number.font.family+f.number.valueformat+f.number.suffix+f.number.prefix,d=u),f._hasDelta&&f._hasNumber){var R,C,E=[(u.left+u.right)/2,(u.top+u.bottom)/2],L=[(c.left+c.right)/2,(c.top+c.bottom)/2],P=.75*f.delta.font.size;"left"===f.delta.position&&(R=M(f,"deltaPos",0,-1*(u.width*x[f.align]+c.width*(1-x[f.align])+P),I,Math.min),C=E[1]-L[1],d={width:u.width+c.width+P,height:Math.max(u.height,c.height),left:c.left+R,right:u.right,top:Math.min(u.top,c.top+C),bottom:Math.max(u.bottom,c.bottom+C)}),"right"===f.delta.position&&(R=M(f,"deltaPos",0,u.width*(1-x[f.align])+c.width*x[f.align]+P,I,Math.max),C=E[1]-L[1],d={width:u.width+c.width+P,height:Math.max(u.height,c.height),left:u.left,right:c.right+R,top:Math.min(u.top,c.top+C),bottom:Math.max(u.bottom,c.bottom+C)}),"bottom"===f.delta.position&&(R=null,C=c.height,d={width:Math.max(u.width,c.width),height:u.height+c.height,left:Math.min(u.left,c.left),right:Math.max(u.right,c.right),top:u.bottom-u.height,bottom:u.bottom+c.height}),"top"===f.delta.position&&(R=null,C=u.top,d={width:Math.max(u.width,c.width),height:u.height+c.height,left:Math.min(u.left,c.left),right:Math.max(u.right,c.right),top:u.bottom-u.height-c.height,bottom:u.bottom}),O.attr({dx:R,dy:C})}(f._hasNumber||f._hasDelta)&&A.attr("transform",(function(){var e=r.numbersScaler(d);I+=e[2];var t,a=M(f,"numbersScale",1,e[0],I,Math.min);f._scaleNumbers||(a=1),t=f._isAngular?b-a*d.bottom:b-a*(d.top+d.bottom)/2,f._numbersTop=a*d.top+t;var n=d[T];"center"===T&&(n=(d.left+d.right)/2);var i=m-a*n;return i=M(f,"numbersTranslate",0,i,I,Math.max),s(i,t)+o(a)}))}(e,F,t,{numbersX:f,numbersY:$,numbersScaler:z,transitionOpts:a,onComplete:m}),O&&(A={range:D.gauge.axis.range,color:D.gauge.bgcolor,line:{color:D.gauge.bordercolor,width:0},thickness:1},j={range:D.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:D.gauge.bordercolor,width:D.gauge.borderwidth},thickness:1});var q=F.selectAll("g.angular").data(I?t:[]);q.exit().remove();var Z=F.selectAll("g.angularaxis").data(I?t:[]);Z.exit().remove(),I&&function(e,t,a,i){var l,o,h,d,g=a[0].trace,f=i.size,m=i.radius,b=i.innerRadius,v=i.gaugeBg,y=i.gaugeOutline,x=[f.l+f.w/2,f.t+f.h/2+m/2],w=i.gauge,N=i.layer,_=i.transitionOpts,M=i.onComplete,$=Math.PI/2;function z(e){var t=g.gauge.axis.range[0],a=(e-t)/(g.gauge.axis.range[1]-t)*Math.PI-$;return a<-$?-$:a>$?$:a}function A(e){return n.svg.arc().innerRadius((b+m)/2-e/2*(m-b)).outerRadius((b+m)/2+e/2*(m-b)).startAngle(-$)}function j(e){e.attr("d",(function(e){return A(e.thickness).startAngle(z(e.range[0])).endAngle(z(e.range[1]))()}))}w.enter().append("g").classed("angular",!0),w.attr("transform",s(x[0],x[1])),N.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),N.selectAll("g.xangularaxistick,path,text").remove(),(l=S(e,g.gauge.axis)).type="linear",l.range=g.gauge.axis.range,l._id="xangularaxis",l.ticklabeloverflow="allow",l.setScale();var D=function(e){return(l.range[0]-e.x)/(l.range[1]-l.range[0])*Math.PI+Math.PI},F={},O=p.makeLabelFns(l,0).labelStandoff;F.xFn=function(e){var t=D(e);return Math.cos(t)*O},F.yFn=function(e){var t=D(e),a=Math.sin(t)>0?.2:1;return-Math.sin(t)*(O+e.fontSize*a)+Math.abs(Math.cos(t))*(e.fontSize*c)},F.anchorFn=function(e){var t=D(e),a=Math.cos(t);return Math.abs(a)<.1?"middle":a>0?"start":"end"},F.heightFn=function(e,t,a){var n=D(e);return-.5*(1+Math.sin(n))*a};var I=function(e){return s(x[0]+m*Math.cos(e),x[1]-m*Math.sin(e))};h=function(e){return I(D(e))};if(o=p.calcTicks(l),d=p.getTickSigns(l)[2],l.visible){d="inside"===l.ticks?-1:1;var R=(l.linewidth||1)/2;p.drawTicks(e,l,{vals:o,layer:N,path:"M"+d*R+",0h"+d*l.ticklen,transFn:function(e){var t=D(e);return I(t)+"rotate("+-u(t)+")"}}),p.drawLabels(e,l,{vals:o,layer:N,transFn:h,labelFns:F})}var C=[v].concat(g.gauge.steps),E=w.selectAll("g.bg-arc").data(C);E.enter().append("g").classed("bg-arc",!0).append("path"),E.select("path").call(j).call(T),E.exit().remove();var L=A(g.gauge.bar.thickness),P=w.selectAll("g.value-arc").data([g.gauge.bar]);P.enter().append("g").classed("value-arc",!0).append("path");var B,G,H,V=P.select("path");k(_)?(V.transition().duration(_.duration).ease(_.easing).each("end",(function(){M&&M()})).each("interrupt",(function(){M&&M()})).attrTween("d",(B=L,G=z(a[0].lastY),H=z(a[0].y),function(){var e=r(G,H);return function(t){return B.endAngle(e(t))()}})),g._lastValue=a[0].y):V.attr("d","number"==typeof a[0].y?L.endAngle(z(a[0].y)):"M0,0Z"),V.call(T),P.exit().remove(),C=[];var Y=g.gauge.threshold.value;(Y||0===Y)&&C.push({range:[Y,Y],color:g.gauge.threshold.color,line:{color:g.gauge.threshold.line.color,width:g.gauge.threshold.line.width},thickness:g.gauge.threshold.thickness});var q=w.selectAll("g.threshold-arc").data(C);q.enter().append("g").classed("threshold-arc",!0).append("path"),q.select("path").call(j).call(T),q.exit().remove();var Z=w.selectAll("g.gauge-outline").data([y]);Z.enter().append("g").classed("gauge-outline",!0).append("path"),Z.select("path").call(j).call(T),Z.exit().remove()}(e,0,t,{radius:B,innerRadius:G,gauge:q,layer:Z,size:E,gaugeBg:A,gaugeOutline:j,transitionOpts:a,onComplete:m});var X=F.selectAll("g.bullet").data(R?t:[]);X.exit().remove();var W=F.selectAll("g.bulletaxis").data(R?t:[]);W.exit().remove(),R&&function(e,t,a,n){var r,i,l,o,u,c=a[0].trace,h=n.gauge,g=n.layer,f=n.gaugeBg,m=n.gaugeOutline,b=n.size,y=c.domain,x=n.transitionOpts,w=n.onComplete;h.enter().append("g").classed("bullet",!0),h.attr("transform",s(b.l,b.t)),g.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),g.selectAll("g.xbulletaxistick,path,text").remove();var N=b.h,_=c.gauge.bar.thickness*N,M=y.x[0],$=y.x[0]+(y.x[1]-y.x[0])*(c._hasNumber||c._hasDelta?1-d.bulletNumberDomainSize:1);function z(e){e.attr("width",(function(e){return Math.max(0,r.c2p(e.range[1])-r.c2p(e.range[0]))})).attr("x",(function(e){return r.c2p(e.range[0])})).attr("y",(function(e){return.5*(1-e.thickness)*N})).attr("height",(function(e){return e.thickness*N}))}(r=S(e,c.gauge.axis))._id="xbulletaxis",r.domain=[M,$],r.setScale(),i=p.calcTicks(r),l=p.makeTransTickFn(r),o=p.getTickSigns(r)[2],u=b.t+b.h,r.visible&&(p.drawTicks(e,r,{vals:"inside"===r.ticks?p.clipEnds(r,i):i,layer:g,path:p.makeTickPath(r,u,o),transFn:l}),p.drawLabels(e,r,{vals:i,layer:g,transFn:l,labelFns:p.makeLabelFns(r,u)}));var A=[f].concat(c.gauge.steps),j=h.selectAll("g.bg-bullet").data(A);j.enter().append("g").classed("bg-bullet",!0).append("rect"),j.select("rect").call(z).call(T),j.exit().remove();var D=h.selectAll("g.value-bullet").data([c.gauge.bar]);D.enter().append("g").classed("value-bullet",!0).append("rect"),D.select("rect").attr("height",_).attr("y",(N-_)/2).call(T),k(x)?D.select("rect").transition().duration(x.duration).ease(x.easing).each("end",(function(){w&&w()})).each("interrupt",(function(){w&&w()})).attr("width",Math.max(0,r.c2p(Math.min(c.gauge.axis.range[1],a[0].y)))):D.select("rect").attr("width","number"==typeof a[0].y?Math.max(0,r.c2p(Math.min(c.gauge.axis.range[1],a[0].y))):0),D.exit().remove();var F=a.filter((function(){return c.gauge.threshold.value||0===c.gauge.threshold.value})),O=h.selectAll("g.threshold-bullet").data(F);O.enter().append("g").classed("threshold-bullet",!0).append("line"),O.select("line").attr("x1",r.c2p(c.gauge.threshold.value)).attr("x2",r.c2p(c.gauge.threshold.value)).attr("y1",(1-c.gauge.threshold.thickness)/2*N).attr("y2",(1-(1-c.gauge.threshold.thickness)/2)*N).call(v.stroke,c.gauge.threshold.line.color).style("stroke-width",c.gauge.threshold.line.width),O.exit().remove();var I=h.selectAll("g.gauge-outline").data([m]);I.enter().append("g").classed("gauge-outline",!0).append("rect"),I.select("rect").call(z).call(T),I.exit().remove()}(e,0,t,{gauge:X,layer:W,size:E,gaugeBg:A,gaugeOutline:j,transitionOpts:a,onComplete:m});var J=F.selectAll("text.title").data(t);J.exit().remove(),J.enter().append("text").classed("title",!0),J.attr("text-anchor",(function(){return R?y.right:y[D.title.align]})).text(D.title.text).call(h.font,D.title.font).call(g.convertToTspans,e),J.attr("transform",(function(){var e,t=E.l+E.w*x[D.title.align],a=d.titlePadding,n=h.bBox(J.node());return O?(I&&(e=D.gauge.axis.visible?h.bBox(Z.node()).top-a-n.bottom:E.t+E.h/2-B/2-n.bottom-a),R&&(e=$-(n.top+n.bottom)/2,t=E.l-d.bulletPadding*E.w)):e=D._numbersTop-a-n.bottom,s(t,e)}))}))}}}]);