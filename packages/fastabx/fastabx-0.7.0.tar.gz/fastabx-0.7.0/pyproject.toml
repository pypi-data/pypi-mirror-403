[project]
name = "fastabx"
description = "A library for efficient computation of ABX discriminability"
readme = "README.md"
requires-python = ">=3.12"
license = "MIT"
authors = [
  { name = "Maxime Poli" },
  { name = "CoML", email = "dev@cognitive-ml.fr" },
]
keywords = ["machine learning", "speech"]
classifiers = [
  "Development Status :: 4 - Beta",
  "Intended Audience :: Science/Research",
  "Operating System :: OS Independent",
  "Programming Language :: C++",
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
  "Topic :: Scientific/Engineering",
  "Topic :: Scientific/Engineering :: Artificial Intelligence",
]
dependencies = [
  "numpy>=1.26.4",
  "polars>=1.35.1",
  "torch>=2.10.0",
  "torchdtw>=0.1.0",
  "tqdm>=4.67.1",
]
dynamic = ["version"]

[project.urls]
changelog = "https://github.com/bootphon/fastabx/releases"
documentation = "https://docs.cognitive-ml.fr/fastabx"
homepage = "https://docs.cognitive-ml.fr/fastabx"
repository = "https://github.com/bootphon/fastabx"

[project.scripts]
fastabx = "fastabx.__main__:main"

[dependency-groups]
dev = [
  "ipykernel>=7.1.0",
  "ruff>=0.14.13",
  "typos>=1.42.1",
]
doc = [
  "furo>=2024.8.6",
  "matplotlib>=3.10.3",
  "nbconvert>=7.16.6",
  "nbsphinx>=0.9.7",
  "packaging>=25.0",
  "sphinx>=8.1.3",
  "sphinx-copybutton>=0.5.2",
  "sphinx-design>=0.6.1",
]
test = ["hypothesis>=6.135.31", "pytest>=9.0.2"]

[build-system]
requires = ["hatch-vcs>=0.5.0", "hatchling>=1.28.0"]
build-backend = "hatchling.build"

[tool.hatch.version]
source = "vcs"

[tool.ruff]
line-length = 119

[tool.ruff.lint]
select = ["ALL"]
ignore = [
  "COM812",  # missing-trailing-comma
  "D105",  # undocumented-magic-method
  "D107",  # undocumented-public-init
  "D203",  # incorrect-blank-line-before-class
  "D213",  # multi-line-summary-second-line
  "PLR0913",  # too-many-arguments
]

[tool.ruff.lint.flake8-self]
ignore-names = ["_check"]

[tool.ruff.lint.pylint]
allow-magic-value-types = ["str", "int"]

[tool.typos.default.extend-words]
IY = "IY"
