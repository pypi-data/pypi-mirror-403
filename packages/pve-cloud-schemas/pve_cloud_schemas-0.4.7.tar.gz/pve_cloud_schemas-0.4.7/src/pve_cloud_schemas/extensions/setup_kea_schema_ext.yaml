title: "General DHCP Inventory"
description: "LXC Inventory extension for the setup_kea playbook. This extends the LXC Inventory schema."
extend_schema: lxc_inv_schema.yaml
properties:
  lxcs:
    type: array
    description: "List of lxcs that will be created for the stack."
    items:
      type: object
      required:
        - vars
      properties:
        parameters:
          type: object
          description: "Besides the default lxc parameters you have to define the network interfaces with a certain pattern."
          properties:
            net0:
              description: |
                Network interface the dhcp will serve on. This has to be named "pve" instead of the normal eth0 for the dhcp playbooks to work,
                they configure kea to listen on this interface name.
              pattern: "\\bname=pve\\b"
        vars:
          type: object
          description: "For the dhcp to work we need to tell the playbooks which lxc will serve as the main and which as the failover."
          required:
            - kea_dhcp_main
          properties:
            kea_dhcp_main:
              description: "Determines the lxc that will be the dhcp master instance. One lxc should be set to true, the other to false."
              type: boolean
