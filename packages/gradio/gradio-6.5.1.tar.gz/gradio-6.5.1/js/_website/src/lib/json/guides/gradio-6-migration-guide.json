{"guide": {"name": "gradio-6-migration-guide", "category": "other-tutorials", "pretty_category": "Other Tutorials", "guide_index": null, "absolute_index": 82, "pretty_name": "Gradio 6 Migration Guide", "content": "# Gradio 6 Migration Guide\n\nWe are excited to release Gradio 6, the latest major version of the Gradio library. Gradio 6 is significantly more performant, lighter, and easier to customize than previous versions of Gradio. The Gradio team is only planning on maintaining future versions of Gradio 6 so we encourage all developers to migrate to Gradio 6.x.\n\nGradio 6 includes several breaking changes that were made in order to standardize the Python API. This migration guide lists the breaking changes and the specific code changes needed in order to migrate. The easiest way to know whether you need to make changes is to upgrade your Gradio app to 5.50 (`pip install --upgrade gradio==5.50`). Gradio 5.50 emits deprecation warnings for any parameters removed in Gradio 6, allowing you to know whether your Gradio app will be compatible with Gradio 6.\n\nHere, we walk through the breaking changes that were introduced in Gradio 6. Code snippets are provided, allowing you to migrate your code easily to Gradio 6. You can also copy-paste this document as Markdown if you are using an LLM to help migrate your code. \n\n## App-level Changes\n\n### App-level parameters have been moved from `Blocks` to `launch()`\n\nThe `gr.Blocks` class constructor previously contained several parameters that applied to your entire Gradio app, specifically:\n\n* `theme`: The theme for your Gradio app\n* `css`: Custom CSS code as a string\n* `css_paths`: Paths to custom CSS files\n* `js`: Custom JavaScript code\n* `head`: Custom HTML code to insert in the head of the page\n* `head_paths`: Paths to custom HTML files to insert in the head\n\nSince `gr.Blocks` can be nested and are not necessarily unique to a Gradio app, these parameters have now been moved to `Blocks.launch()`, which can only be called once for your entire Gradio app.\n\n**Before (Gradio 5.x):**\n\n```python\nimport gradio as gr\n\nwith gr.Blocks(\n    theme=gr.themes.Soft(),\n    css=\".my-class { color: red; }\",\n) as demo:\n    gr.Textbox(label=\"Input\")\n\ndemo.launch()\n```\n\n**After (Gradio 6.x):**\n\n```python\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n    gr.Textbox(label=\"Input\")\n\ndemo.launch(\n    theme=gr.themes.Soft(),\n    css=\".my-class { color: red; }\",\n)\n```\n\nThis change makes it clearer that these parameters apply to the entire app and not to individual `Blocks` instances.\n\n### `show_api` parameter replaced with `footer_links`\n\nThe `show_api` parameter in `launch()` has been replaced with a more flexible `footer_links` parameter that allows you to control which links appear in the footer of your Gradio app.\n\n**In Gradio 5.x:**\n- `show_api=True` (default) showed the API documentation link in the footer\n- `show_api=False` hid the API documentation link\n\n**In Gradio 6.x:**\n- `footer_links` accepts a list of strings: `[\"api\", \"gradio\", \"settings\"]`\n- You can now control precisely which footer links are shown:\n  - `\"api\"`: Shows the API documentation link\n  - `\"gradio\"`: Shows the \"Built with Gradio\" link\n  - `\"settings\"`: Shows the settings link\n\n**Before (Gradio 5.x):**\n\n```python\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n    gr.Textbox(label=\"Input\")\n\ndemo.launch(show_api=False)\n```\n\n**After (Gradio 6.x):**\n\n```python\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n    gr.Textbox(label=\"Input\")\n\ndemo.launch(footer_links=[\"gradio\", \"settings\"])\n```\n\nTo replicate the old behavior:\n- `show_api=True` \u2192 `footer_links=[\"api\", \"gradio\", \"settings\"]` (or just omit the parameter, as this is the default)\n- `show_api=False` \u2192 `footer_links=[\"gradio\", \"settings\"]`\n\n### Event listener parameters: `show_api` removed and `api_name=False` no longer supported\n\nIn event listeners (such as `.click()`, `.change()`, etc.), the `show_api` parameter has been removed, and `api_name` no longer accepts `False` as a valid value. These have been replaced with a new `api_visibility` parameter that provides more fine-grained control.\n\n**In Gradio 5.x:**\n- `show_api=True` (default) showed the endpoint in the API documentation\n- `show_api=False` hid the endpoint from API docs but still allowed downstream apps to use it\n- `api_name=False` completely disabled the API endpoint (no downstream apps could use it)\n\n**In Gradio 6.x:**\n- `api_visibility` accepts one of three string values:\n  - `\"public\"`: The endpoint is shown in API docs and accessible to all (equivalent to old `show_api=True`)\n  - `\"undocumented\"`: The endpoint is hidden from API docs but still accessible to downstream apps (equivalent to old `show_api=False`)\n  - `\"private\"`: The endpoint is completely disabled and inaccessible (equivalent to old `api_name=False`)\n\n**Before (Gradio 5.x):**\n\n```python\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n    btn = gr.Button(\"Click me\")\n    output = gr.Textbox()\n    \n    btn.click(fn=lambda: \"Hello\", outputs=output, show_api=False)\n    \ndemo.launch()\n```\n\nOr to completely disable the API:\n\n```python\nbtn.click(fn=lambda: \"Hello\", outputs=output, api_name=False)\n```\n\n**After (Gradio 6.x):**\n\n```python\nimport gradio as gr\n\nwith gr.Blocks() as demo:\n    btn = gr.Button(\"Click me\")\n    output = gr.Textbox()\n    \n    btn.click(fn=lambda: \"Hello\", outputs=output, api_visibility=\"undocumented\")\n    \ndemo.launch()\n```\n\nOr to completely disable the API:\n\n```python\nbtn.click(fn=lambda: \"Hello\", outputs=output, api_visibility=\"private\")\n```\n\nTo replicate the old behavior:\n- `show_api=True` \u2192 `api_visibility=\"public\"` (or just omit the parameter, as this is the default)\n- `show_api=False` \u2192 `api_visibility=\"undocumented\"`\n- `api_name=False` \u2192 `api_visibility=\"private\"`\n\n### `like_user_message` moved from `.like()` event to constructor \n\nThe `like_user_message` parameter has been moved from the `.like()` event listener to the Chatbot constructor.\n\n**Before (Gradio 5.x):**\n```python\nchatbot = gr.Chatbot()\nchatbot.like(print_like_dislike, None, None, like_user_message=True)\n```\n\n**After (Gradio 6.x):**\n```python\nchatbot = gr.Chatbot(like_user_message=True)\nchatbot.like(print_like_dislike, None, None)\n```\n\n\n### Default API names for `Interface` and `ChatInterface` now use function names\n\nThe default API endpoint names for `gr.Interface` and `gr.ChatInterface` have changed to be consistent with how `gr.Blocks` events work and to better support MCP (Model Context Protocol) tools.\n\n**In Gradio 5.x:**\n- `gr.Interface` had a default API name of `/predict`\n- `gr.ChatInterface` had a default API name of `/chat`\n\n**In Gradio 6.x:**\n- Both `gr.Interface` and `gr.ChatInterface` now use the name of the function you pass in as the default API endpoint name\n- This makes the API more descriptive and consistent with `gr.Blocks` behavior\n\nE.g. if your Gradio app is:\n\n```python\nimport gradio as gr\n\ndef generate_text(prompt):\n    return f\"Generated: {prompt}\"\n\ndemo = gr.Interface(fn=generate_text, inputs=\"text\", outputs=\"text\")\ndemo.launch()\n```\n\nPreviously, the API endpoint that Gradio generated would be: `/predict`. Now, the API endpoint will be: `/generate_text`\n\n**To maintain the old endpoint names:**\n\nIf you need to keep the old endpoint names for backward compatibility (e.g., if you have external services calling these endpoints), you can explicitly set the `api_name` parameter:\n\n```python\ndemo = gr.Interface(fn=generate_text, inputs=\"text\", outputs=\"text\", api_name=\"predict\")\n```\n\nSimilarly for `ChatInterface`:\n\n```python\ndemo = gr.ChatInterface(fn=chat_function, api_name=\"chat\")\n```\n\n### `gr.Chatbot` and `gr.ChatInterface` tuple format removed\n\nThe tuple format for chatbot messages has been removed in Gradio 6.0. You must now use the messages format with dictionaries containing \"role\" and \"content\" keys.\n\n**In Gradio 5.x:**\n- You could use `type=\"tuples\"` or the default tuple format: `[[\"user message\", \"assistant message\"], ...]`\n- The tuple format was a list of lists where each inner list had two elements: `[user_message, assistant_message]`\n\n**In Gradio 6.x:**\n- Only the messages format is supported: `type=\"messages\"`\n- Messages must be dictionaries with \"role\" and \"content\" keys: `[{\"role\": \"user\", \"content\": \"Hello\"}, {\"role\": \"assistant\", \"content\": \"Hi there!\"}]`\n\n**Before (Gradio 5.x):**\n\n```python\nimport gradio as gr\n\n# Using tuple format\nchatbot = gr.Chatbot(value=[[\"Hello\", \"Hi there!\"]])\n```\n\nOr with `type=\"tuples\"`:\n\n```python\nchatbot = gr.Chatbot(value=[[\"Hello\", \"Hi there!\"]], type=\"tuples\")\n```\n\n**After (Gradio 6.x):**\n\n```python\nimport gradio as gr\n\n# Must use messages format\nchatbot = gr.Chatbot(\n    value=[\n        {\"role\": \"user\", \"content\": \"Hello\"},\n        {\"role\": \"assistant\", \"content\": \"Hi there!\"}\n    ],\n    type=\"messages\"\n)\n```\n\nSimilarly for `gr.ChatInterface`, if you were manually setting the chat history:\n\n```python\n# Before (Gradio 5.x)\ndemo = gr.ChatInterface(\n    fn=chat_function,\n    examples=[[\"Hello\", \"Hi there!\"]]\n)\n\n# After (Gradio 6.x)\ndemo = gr.ChatInterface(\n    fn=chat_function,\n    examples=[{\"role\": \"user\", \"content\": \"Hello\"}, {\"role\": \"assistant\", \"content\": \"Hi there!\"}]\n)\n```\n\n**Note:** If you're using `gr.ChatInterface` with a function that returns messages, the function should return messages in the new format. The tuple format is no longer supported.\n\n### `gr.ChatInterface` `history` format now uses structured content\n\nThe `history` format in `gr.ChatInterface` has been updated to consistently use OpenAI-style structured content format. Content is now always a list of content blocks, even for simple text messages.\n\n**In Gradio 5.x:**\n- Content could be a simple string: `{\"role\": \"user\", \"content\": \"Hello\"}`\n- Simple text messages used a string directly\n\n**In Gradio 6.x:**\n- Content is always a list of content blocks: `{\"role\": \"user\", \"content\": [{\"type\": \"text\", \"text\": \"Hello\"}]}`\n- This format is consistent with OpenAI's message format and supports multimodal content (text, images, etc.)\n\n**Before (Gradio 5.x):**\n\n```python\nhistory = [\n    {\"role\": \"user\", \"content\": \"What is the capital of France?\"},\n    {\"role\": \"assistant\", \"content\": \"Paris\"}\n]\n```\n\n**After (Gradio 6.x):**\n\n```python\nhistory = [\n    {\"role\": \"user\", \"content\": [{\"type\": \"text\", \"text\": \"What is the capital of France?\"}]},\n    {\"role\": \"assistant\", \"content\": [{\"type\": \"text\", \"text\": \"Paris\"}]}\n]\n```\n\n**With files:**\n\nWhen files are uploaded in the chat, they are represented as content blocks with `\"type\": \"file\"`. All content blocks (files and text) are grouped together in the same message's content array:\n\n```python\nhistory = [\n    {\n        \"role\": \"user\",\n        \"content\": [\n            {\"type\": \"file\", \"file\": {\"path\": \"cat1.png\"}},\n            {\"type\": \"file\", \"file\": {\"path\": \"cat2.png\"}},\n            {\"type\": \"text\", \"text\": \"What's the difference between these two images?\"}\n        ]\n    }\n]\n```\n\nThis structured format allows for multimodal content (text, images, files, etc.) in chat messages, making it consistent with OpenAI's API format. All files uploaded in a single message are grouped together in the `content` array along with any text content.\n\n### `cache_examples` parameter updated and `cache_mode` introduced\n\nThe `cache_examples` parameter (used in `Interface`, `ChatInterface`, and `Examples`) no longer accepts the string value `\"lazy\"`. It now strictly accepts boolean values (`True` or `False`). To control the caching strategy, a new `cache_mode` parameter has been introduced.\n\n**In Gradio 5.x:**\n- `cache_examples` accepted `True`, `False`, or `\"lazy\"`.\n\n**In Gradio 6.x:**\n- `cache_examples` only accepts `True` or `False`.\n- `cache_mode` accepts `\"eager\"` (default) or `\"lazy\"`.\n\n**Before (Gradio 5.x):**\n\n```python\nimport gradio as gr\n\ndemo = gr.Interface(\n    fn=predict, \n    inputs=\"text\", \n    outputs=\"text\", \n    examples=[\"Hello\", \"World\"],\n    cache_examples=\"lazy\"\n)\n```\n\n**After (Gradio 6.x):**\n\nYou must now set `cache_examples=True` and specify the mode separately:\n\n```python\nimport gradio as gr\n\ndemo = gr.Interface(\n    fn=predict, \n    inputs=\"text\", \n    outputs=\"text\", \n    examples=[\"Hello\", \"World\"],\n    cache_examples=True,\n    cache_mode=\"lazy\"\n)\n```\n\nIf you previously used `cache_examples=True` (which implied eager caching), no changes are required, as `cache_mode` defaults to `\"eager\"`.\n\n## Component-level Changes\n\n### `gr.Video` no longer accepts tuple values for video and subtitles\n\nThe tuple format for returning video with subtitles has been deprecated. Instead of returning a tuple `(video_path, subtitle_path)`, you should now use the `gr.Video` component directly with the `subtitles` parameter.\n\n**In Gradio 5.x:**\n- You could return a tuple of `(video_path, subtitle_path)` from a function\n- The tuple format was `(str | Path, str | Path | None)`\n\n**In Gradio 6.x:**\n- Return a `gr.Video` component instance with the `subtitles` parameter\n- This provides more flexibility and consistency with other components\n\n**Before (Gradio 5.x):**\n\n```python\nimport gradio as gr\n\ndef generate_video_with_subtitles(input):\n    video_path = \"output.mp4\"\n    subtitle_path = \"subtitles.srt\"\n    return (video_path, subtitle_path)\n\ndemo = gr.Interface(\n    fn=generate_video_with_subtitles,\n    inputs=\"text\",\n    outputs=gr.Video()\n)\ndemo.launch()\n```\n\n**After (Gradio 6.x):**\n\n```python\nimport gradio as gr\n\ndef generate_video_with_subtitles(input):\n    video_path = \"output.mp4\"\n    subtitle_path = \"subtitles.srt\"\n    return gr.Video(value=video_path, subtitles=subtitle_path)\n\ndemo = gr.Interface(\n    fn=generate_video_with_subtitles,\n    inputs=\"text\",\n    outputs=gr.Video()\n)\ndemo.launch()\n```\n\n### `gr.HTML` `padding` parameter default changed to `False`\n\nThe default value of the `padding` parameter in `gr.HTML` has been changed from `True` to `False` for consistency with `gr.Markdown`.\n\n**In Gradio 5.x:**\n- `padding=True` was the default for `gr.HTML`\n- HTML components had padding by default\n\n**In Gradio 6.x:**\n- `padding=False` is the default for `gr.HTML`\n- This matches the default behavior of `gr.Markdown` for consistency\n\n**To maintain the old behavior:**\n\nIf you want to keep the padding that was present in Gradio 5.x, explicitly set `padding=True`:\n\n```python\nhtml = gr.HTML(\"<div>Content</div>\", padding=True)\n```\n\n\n### `gr.Dataframe` `row_count` and `col_count` parameters restructured\n\nThe `row_count` and `col_count` parameters in `gr.Dataframe` have been restructured to provide more flexibility and clarity. The tuple format for specifying fixed/dynamic behavior has been replaced with separate parameters for initial counts and limits.\n\n**In Gradio 5.x:**\n- `row_count: int | tuple[int, str]` - Could be an int or tuple like `(5, \"fixed\")` or `(5, \"dynamic\")`\n- `col_count: int | tuple[int, str] | None` - Could be an int or tuple like `(3, \"fixed\")` or `(3, \"dynamic\")`\n\n**In Gradio 6.x:**\n- `row_count: int | None` - Just the initial number of rows to display\n- `row_limits: tuple[int | None, int | None] | None` - Tuple specifying (min_rows, max_rows) constraints\n- `column_count: int | None` - The initial number of columns to display\n- `column_limits: tuple[int | None, int | None] | None` - Tuple specifying (min_columns, max_columns) constraints\n\n**Before (Gradio 5.x):**\n\n```python\nimport gradio as gr\n\n# Fixed number of rows (users can't add/remove rows)\ndf = gr.Dataframe(row_count=(5, \"fixed\"), col_count=(3, \"dynamic\"))\n```\n\nOr with dynamic rows:\n\n```python\n# Dynamic rows (users can add/remove rows)\ndf = gr.Dataframe(row_count=(5, \"dynamic\"), col_count=(3, \"fixed\"))\n```\n\nOr with just integers (defaults to dynamic):\n\n```python\ndf = gr.Dataframe(row_count=5, col_count=3)\n```\n\n**After (Gradio 6.x):**\n\n```python\nimport gradio as gr\n\n# Fixed number of rows (users can't add/remove rows)\ndf = gr.Dataframe(row_count=5, row_limits=(5, 5), column_count=3, column_limits=None)\n```\n\nOr with dynamic rows (users can add/remove rows):\n\n```python\n# Dynamic rows with no limits\ndf = gr.Dataframe(row_count=5, row_limits=None, column_count=3, column_limits=None)\n```\n\nOr with min/max constraints:\n\n```python\n# Rows between 3 and 10, columns between 2 and 5\ndf = gr.Dataframe(row_count=5, row_limits=(3, 10), column_count=3, column_limits=(2, 5))\n```\n\n**Migration examples:**\n\n- `row_count=(5, \"fixed\")` \u2192 `row_count=5, row_limits=(5, 5)`\n- `row_count=(5, \"dynamic\")` \u2192 `row_count=5, row_limits=None`\n- `row_count=5` \u2192 `row_count=5, row_limits=None` (same behavior)\n- `col_count=(3, \"fixed\")` \u2192 `column_count=3, column_limits=(3, 3)`\n- `col_count=(3, \"dynamic\")` \u2192 `column_count=3, column_limits=None`\n- `col_count=3` \u2192 `column_count=3, column_limits=None` (same behavior)\n\n### `allow_tags=True` is now the default for `gr.Chatbot`\n\nDue to the rise in LLMs returning HTML, markdown tags, and custom tags (such as `<thinking>` tags), the default value of `allow_tags` in `gr.Chatbot` has changed from `False` to `True` in Gradio 6.\n\n**In Gradio 5.x:**\n- `allow_tags=False` was the default\n- All HTML and custom tags were sanitized/removed from chatbot messages (unless explicitly allowed)\n\n**In Gradio 6.x:**\n- `allow_tags=True` is the default\n- All custom tags (non-standard HTML tags) are preserved in chatbot messages\n- Standard HTML tags are still sanitized for security unless `sanitize_html=False`\n\n**Before (Gradio 5.x):**\n\n```python\nimport gradio as gr\n\nchatbot = gr.Chatbot()\n```\n\nThis would remove all tags from messages, including custom tags like `<thinking>`.\n\n**After (Gradio 6.x):**\n\n```python\nimport gradio as gr\n\nchatbot = gr.Chatbot()\n```\n\nThis will now preserve custom tags like `<thinking>` in the messages.\n\n**To maintain the old behavior:**\n\nIf you want to continue removing all tags from chatbot messages (the old default behavior), explicitly set `allow_tags=False`:\n\n```python\nimport gradio as gr\n\nchatbot = gr.Chatbot(allow_tags=False)\n```\n\n**Note:** You can also specify a list of specific tags to allow:\n\n```python\nchatbot = gr.Chatbot(allow_tags=[\"thinking\", \"tool_call\"])\n```\n\nThis will only preserve `<thinking>` and `<tool_call>` tags while removing all other custom tags.\n\n\n\n### Other removed component parameters\n\nSeveral component parameters have been removed in Gradio 6.0. These parameters were previously deprecated and have now been fully removed.\n\n#### `gr.Chatbot` removed parameters\n\n**`bubble_full_width`** - This parameter has been removed as it no longer has any effect.\n\n\n**`resizeable`** - This parameter (with the typo) has been removed. Use `resizable` instead.\n\n**Before (Gradio 5.x):**\n```python\nchatbot = gr.Chatbot(resizeable=True)\n```\n\n**After (Gradio 6.x):**\n```python\nchatbot = gr.Chatbot(resizable=True)\n```\n\n**`show_copy_button`, `show_copy_all_button`, `show_share_button`** - These parameters have been removed. Use the `buttons` parameter instead.\n\n**Before (Gradio 5.x):**\n```python\nchatbot = gr.Chatbot(show_copy_button=True, show_copy_all_button=True, show_share_button=True)\n```\n\n**After (Gradio 6.x):**\n```python\nchatbot = gr.Chatbot(buttons=[\"copy\", \"copy_all\", \"share\"])\n```\n\n#### `gr.Audio` / `WaveformOptions` removed parameters\n\n**`show_controls`** - This parameter in `WaveformOptions` has been removed. Use `show_recording_waveform` instead.\n\n**Before (Gradio 5.x):**\n```python\naudio = gr.Audio(\n    waveform_options=gr.WaveformOptions(show_controls=False)\n)\n```\n\n**After (Gradio 6.x):**\n```python\naudio = gr.Audio(\n    waveform_options=gr.WaveformOptions(show_recording_waveform=False)\n)\n```\n\n**`min_length` and `max_length`** - These parameters have been removed. Use validators on event listeners instead.\n\n**Before (Gradio 5.x):**\n```python\naudio = gr.Audio(min_length=1, max_length=10)\n```\n\n**After (Gradio 6.x):**\n```python\naudio = gr.Audio()\n\naudio.upload(\n    fn=process_audio,\n    validator=lambda audio: gr.validators.is_audio_correct_length(audio, min_length=1, max_length=10),\n    inputs=audio\n)\n```\n\n**`show_download_button`, `show_share_button`** - These parameters have been removed. Use the `buttons` parameter instead.\n\n**Before (Gradio 5.x):**\n```python\naudio = gr.Audio(show_download_button=True, show_share_button=True)\n```\n\n**After (Gradio 6.x):**\n```python\naudio = gr.Audio(buttons=[\"download\", \"share\"])\n```\n\n**Note:** For components where `show_share_button` had a default of `None` (which would show the button on Spaces), you can use `buttons=[\"share\"]` to always show it, or omit it from the list to hide it.\n\n#### `gr.Image` removed parameters\n\n**`mirror_webcam`** - This parameter has been removed. Use `webcam_options` with `gr.WebcamOptions` instead.\n\n**Before (Gradio 5.x):**\n```python\nimage = gr.Image(mirror_webcam=True)\n```\n\n**After (Gradio 6.x):**\n```python\nimage = gr.Image(webcam_options=gr.WebcamOptions(mirror=True))\n```\n\n**`webcam_constraints`** - This parameter has been removed. Use `webcam_options` with `gr.WebcamOptions` instead.\n\n**Before (Gradio 5.x):**\n```python\nimage = gr.Image(webcam_constraints={\"facingMode\": \"user\"})\n```\n\n**After (Gradio 6.x):**\n```python\nimage = gr.Image(webcam_options=gr.WebcamOptions(constraints={\"facingMode\": \"user\"}))\n```\n\n**`show_download_button`, `show_share_button`, `show_fullscreen_button`** - These parameters have been removed. Use the `buttons` parameter instead.\n\n**Before (Gradio 5.x):**\n```python\nimage = gr.Image(show_download_button=True, show_share_button=True, show_fullscreen_button=True)\n```\n\n**After (Gradio 6.x):**\n```python\nimage = gr.Image(buttons=[\"download\", \"share\", \"fullscreen\"])\n```\n\n#### `gr.Video` removed parameters\n\n**`mirror_webcam`** - This parameter has been removed. Use `webcam_options` with `gr.WebcamOptions` instead.\n\n**Before (Gradio 5.x):**\n```python\nvideo = gr.Video(mirror_webcam=True)\n```\n\n**After (Gradio 6.x):**\n```python\nvideo = gr.Video(webcam_options=gr.WebcamOptions(mirror=True))\n```\n\n**`webcam_constraints`** - This parameter has been removed. Use `webcam_options` with `gr.WebcamOptions` instead.\n\n**Before (Gradio 5.x):**\n```python\nvideo = gr.Video(webcam_constraints={\"facingMode\": \"user\"})\n```\n\n**After (Gradio 6.x):**\n```python\nvideo = gr.Video(webcam_options=gr.WebcamOptions(constraints={\"facingMode\": \"user\"}))\n```\n\n**`min_length` and `max_length`** - These parameters have been removed. Use validators on event listeners instead.\n\n**Before (Gradio 5.x):**\n```python\nvideo = gr.Video(min_length=1, max_length=10)\n```\n\n**After (Gradio 6.x):**\n```python\nvideo = gr.Video()\n\nvideo.upload(\n    fn=process_video,\n    validator=lambda video: gr.validators.is_video_correct_length(video, min_length=1, max_length=10),\n    inputs=video\n)\n```\n\n**`show_download_button`, `show_share_button`** - These parameters have been removed. Use the `buttons` parameter instead.\n\n**Before (Gradio 5.x):**\n```python\nvideo = gr.Video(show_download_button=True, show_share_button=True)\n```\n\n**After (Gradio 6.x):**\n```python\nvideo = gr.Video(buttons=[\"download\", \"share\"])\n```\n\n#### `gr.ImageEditor` removed parameters\n\n**`crop_size`** - This parameter has been removed. Use `canvas_size` instead.\n\n**Before (Gradio 5.x):**\n```python\neditor = gr.ImageEditor(crop_size=(512, 512))\n```\n\n**After (Gradio 6.x):**\n```python\neditor = gr.ImageEditor(canvas_size=(512, 512))\n```\n\n#### Removed components\n\n**`gr.LogoutButton`** - This component has been removed. Use `gr.LoginButton` instead, which handles both login and logout processes.\n\n**Before (Gradio 5.x):**\n```python\nlogout_btn = gr.LogoutButton()\n```\n\n**After (Gradio 6.x):**\n```python\nlogin_btn = gr.LoginButton()\n```\n\n#### Native plot components removed parameters\n\nThe following parameters have been removed from `gr.LinePlot`, `gr.BarPlot`, and `gr.ScatterPlot`:\n\n- `overlay_point` - This parameter has been removed.\n- `width` - This parameter has been removed. Use CSS styling or container width instead.\n- `stroke_dash` - This parameter has been removed.\n- `interactive` - This parameter has been removed.\n- `show_actions_button` - This parameter has been removed.\n- `color_legend_title` - This parameter has been removed. Use `color_title` instead.\n- `show_fullscreen_button`, `show_export_button` - These parameters have been removed. Use the `buttons` parameter instead.\n\n**Before (Gradio 5.x):**\n```python\nplot = gr.LinePlot(\n    value=data,\n    x=\"date\",\n    y=\"downloads\",\n    overlay_point=True,\n    width=900,\n    show_fullscreen_button=True,\n    show_export_button=True\n)\n```\n\n**After (Gradio 6.x):**\n```python\nplot = gr.LinePlot(\n    value=data,\n    x=\"date\",\n    y=\"downloads\",\n    buttons=[\"fullscreen\", \"export\"]\n)\n```\n\n**Note:** For `color_legend_title`, use `color_title` instead:\n\n**Before (Gradio 5.x):**\n```python\nplot = gr.ScatterPlot(color_legend_title=\"Category\")\n```\n\n**After (Gradio 6.x):**\n```python\nplot = gr.ScatterPlot(color_title=\"Category\")\n```\n\n#### `gr.Textbox` removed parameters\n\n**`show_copy_button`** - This parameter has been removed. Use the `buttons` parameter instead.\n\n**Before (Gradio 5.x):**\n```python\ntext = gr.Textbox(show_copy_button=True)\n```\n\n**After (Gradio 6.x):**\n```python\ntext = gr.Textbox(buttons=[\"copy\"])\n```\n\n#### `gr.Markdown` removed parameters\n\n**`show_copy_button`** - This parameter has been removed. Use the `buttons` parameter instead.\n\n**Before (Gradio 5.x):**\n```python\nmarkdown = gr.Markdown(show_copy_button=True)\n```\n\n**After (Gradio 6.x):**\n```python\nmarkdown = gr.Markdown(buttons=[\"copy\"])\n```\n\n#### `gr.Dataframe` removed parameters\n\n**`show_copy_button`, `show_fullscreen_button`** - These parameters have been removed. Use the `buttons` parameter instead.\n\n**Before (Gradio 5.x):**\n```python\ndf = gr.Dataframe(show_copy_button=True, show_fullscreen_button=True)\n```\n\n**After (Gradio 6.x):**\n```python\ndf = gr.Dataframe(buttons=[\"copy\", \"fullscreen\"])\n```\n\n#### `gr.Slider` removed parameters\n\n**`show_reset_button`** - This parameter has been removed. Use the `buttons` parameter instead.\n\n**Before (Gradio 5.x):**\n```python\nslider = gr.Slider(show_reset_button=True)\n```\n\n**After (Gradio 6.x):**\n```python\nslider = gr.Slider(buttons=[\"reset\"])\n```\n\n\n## CLI Changes\n\n### `gradio sketch` command removed\n\nThe `gradio sketch` command-line tool has been deprecated and completely removed in Gradio 6. This tool was used to create Gradio apps through a visual interface.\n\n**In Gradio 5.x:**\n- You could run `gradio sketch` to launch an interactive GUI for building Gradio apps\n- The tool would generate Python code visually\n\n**In Gradio 6.x:**\n- The `gradio sketch` command has been removed\n- Running `gradio sketch` will raise a `DeprecationWarning`\n\n## Python Client Changes\n\n### `hf_token` parameter renamed to `token` in `Client`\n\nThe `hf_token` parameter in the `Client` class has been renamed to `token` for consistency and simplicity.\n\n**Before (Gradio 5.x):**\n\n```python\nfrom gradio_client import Client\n\nclient = Client(\"abidlabs/my-private-space\", hf_token=\"hf_...\")\n```\n\n**After (Gradio 6.x):**\n\n```python\nfrom gradio_client import Client\n\nclient = Client(\"abidlabs/my-private-space\", token=\"hf_...\")\n```\n\n### `deploy_discord` method deprecated\n\nThe `deploy_discord` method in the `Client` class has been deprecated and will be removed in Gradio 6.0. This method was used to deploy Gradio apps as Discord bots.\n\n**Before (Gradio 5.x):**\n\n```python\nfrom gradio_client import Client\n\nclient = Client(\"username/space-name\")\nclient.deploy_discord(discord_bot_token=\"...\")\n```\n\n**After (Gradio 6.x):**\n\nThe `deploy_discord` method is no longer available. Please see the [documentation on creating a Discord bot with Gradio](https://www.gradio.app/guides/creating-a-discord-bot-from-a-gradio-app) for alternative approaches.\n\n### `AppError` now subclasses `Exception` instead of `ValueError`\n\nThe `AppError` exception class in the Python client now subclasses `Exception` directly instead of `ValueError`. This is a breaking change if you have code that specifically catches `ValueError` to handle `AppError` instances.\n\n**Before (Gradio 5.x):**\n\n```python\nfrom gradio_client import Client\nfrom gradio_client.exceptions import AppError\n\ntry:\n    client = Client(\"username/space-name\")\n    result = client.predict(\"/predict\", inputs)\nexcept ValueError as e:\n    # This would catch AppError in Gradio 5.x\n    print(f\"Error: {e}\")\n```\n\n**After (Gradio 6.x):**\n\n```python\nfrom gradio_client import Client\nfrom gradio_client.exceptions import AppError\n\ntry:\n    client = Client(\"username/space-name\")\n    result = client.predict(\"/predict\", inputs)\nexcept AppError as e:\n    # Explicitly catch AppError\n    print(f\"App error: {e}\")\nexcept ValueError as e:\n    # This will no longer catch AppError\n    print(f\"Value error: {e}\")\n```\n\n", "tags": [], "spaces": [], "url": "/guides/gradio-6-migration-guide/", "contributor": null}}