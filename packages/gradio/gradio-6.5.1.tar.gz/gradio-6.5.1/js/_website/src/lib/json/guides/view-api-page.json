{"guide": {"name": "view-api-page", "category": "additional-features", "pretty_category": "Additional Features", "guide_index": 14, "absolute_index": 28, "pretty_name": "View Api Page", "content": "# API Page\n\nYou can use almost any Gradio app programmatically via the built-in API! In the footer of any Gradio app, you'll see a \"Use via API\" link. Clicking on the link opens up a detailed documentation page for the API that Gradio generates based on the function signatures in your Gradio app.\n\n![](https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/gradio-guides/view-api-animated.gif)\n\n## Configuring the API Page\n\n**API endpoint names**\n\nWhen you create a Gradio application, the API endpoint names are automatically generated based on the function names. You can change this by using the `api_name` parameter in `gr.Interface` or `gr.ChatInterface`. If you are using Gradio `Blocks`, you can name each event listener, like this:\n\n```python\nbtn.click(add, [num1, num2], output, api_name=\"addition\")\n```\n\n**Controlling API endpoint visibility**\n\nWhen building a complex Gradio app, you might want to control how API endpoints appear or behave. Use the `api_visibility` parameter in any `Blocks` event listener to control this:\n\n- `\"public\"` (default): The endpoint is shown in API docs and accessible to all\n- `\"undocumented\"`: The endpoint is hidden from API docs but still accessible to downstream apps\n- `\"private\"`: The endpoint is completely disabled and inaccessible\n\nTo hide an API endpoint from the documentation while still allowing programmatic access:\n\n```python\nbtn.click(add, [num1, num2], output, api_visibility=\"undocumented\")\n```\n\n**Disabling API endpoints**\n\nIf you want to disable an API endpoint altogether so that no one can access it programmatically, set `api_visibility=\"private\"`:\n\n```python\nbtn.click(add, [num1, num2], output, api_visibility=\"private\")\n```\n\nNote: setting `api_visibility=\"private\"` also means that downstream apps will not be able to load your Gradio app using `gr.load()` as this function uses the Gradio API under the hood.\n\n**Adding API endpoints**\n\nYou can also add new API routes to your Gradio application that do not correspond to events in your UI.\n\nFor example, in this Gradio application, we add a new route that adds numbers and slices a list:\n\n```py\nimport gradio as gr\nwith gr.Blocks() as demo:\n    with gr.Row():\n        input = gr.Textbox()\n        button = gr.Button(\"Submit\")\n    output = gr.Textbox()\n    def fn(a: int, b: int, c: list[str]) -> tuple[int, str]:\n        return a + b, c[a:b]\n    gr.api(fn, api_name=\"add_and_slice\")\n\n_, url, _ = demo.launch()\n```\n\nThis will create a new route `/add_and_slice` which will show up in the \"view API\" page. It can be programmatically called by the Python or JS Clients (discussed below) like this:\n\n```py\nfrom gradio_client import Client\n\nclient = Client(url)\nresult = client.predict(\n        a=3,\n        b=5,\n        c=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n        api_name=\"/add_and_slice\"\n)\nprint(result)\n```\n\n## The Clients\n\nThis API page not only lists all of the endpoints that can be used to query the Gradio app, but also shows the usage of both [the Gradio Python client](https://gradio.app/guides/getting-started-with-the-python-client/), and [the Gradio JavaScript client](https://gradio.app/guides/getting-started-with-the-js-client/). \n\nFor each endpoint, Gradio automatically generates a complete code snippet with the parameters and their types, as well as example inputs, allowing you to immediately test an endpoint. Here's an example showing an image file input and `str` output:\n\n![](https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/gradio-guides/view-api-snippet.png)\n\n\n## The API Recorder \ud83e\ude84\n\nInstead of reading through the view API page, you can also use Gradio's built-in API recorder to generate the relevant code snippet. Simply click on the \"API Recorder\" button, use your Gradio app via the UI as you would normally, and then the API Recorder will generate the code using the Clients to recreate your all of your interactions programmatically.\n\n![](https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/gradio-guides/api-recorder.gif)\n\n## MCP Server\n\nThe API page also includes instructions on how to use the Gradio app as an Model Context Protocol (MCP) server, which is a standardized way to expose functions as tools so that they can be used by LLMs. \n\n![](https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/gradio-guides/view-api-mcp.png)\n\nFor the MCP sever, each tool, its description, and its parameters are listed, along with instructions on how to integrate with popular MCP Clients. Read more about Gradio's [MCP integration here](https://www.gradio.app/guides/building-mcp-server-with-gradio).\n\n## OpenAPI Specification\n\nYou can access the complete OpenAPI (formerly Swagger) specification of your Gradio app's API at the endpoint `<your-gradio-app-url>/gradio_api/openapi.json`. The OpenAPI specification is a standardized, language-agnostic interface description for REST APIs that enables both humans and computers to discover and understand the capabilities of your service.\n", "tags": [], "spaces": [], "url": "/guides/view-api-page/", "contributor": null}}