[build-system]
requires = ["setuptools>=61.0", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "logweave"
version = "1.0.0"
description = "Enterprise-grade logging framework for Python services"
readme = "README.md"
requires-python = ">=3.9"
license = "Apache-2.0"
authors = [{ name = "Akash Jagdale", email = "akashjagdaledev@gmail.com" }]
classifiers = [
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.9",
    "Operating System :: OS Independent",
]


# Core dependencies required for the app to run
dependencies = [
    "loguru",
    "structlog",                             # Added: required for your bridge
    "opentelemetry-api",
    "opentelemetry-sdk",
    "opentelemetry-instrumentation-logging",
    "sentry-sdk>=2.0.0",                     # Updated: 2026 standard version
]

[project.optional-dependencies]
fastapi = ["fastapi", "opentelemetry-instrumentation-fastapi"]
otel-exporter = ["opentelemetry-exporter-otlp"]
# Recommended: Add dev dependencies for testing
dev = ["pytest", "pytest-cov"]

# CRITICAL: Tell setuptools to look in the 'src' folder
[tool.setuptools.packages.find]
where = ["src"]
include = ["logweave*"] # Explicitly include only your package
exclude = ["tests*"]    # Explicitly exclude the tests folder


[tool.ruff]
# Target Python 3.9+
target-version = "py39"
line-length = 100

[tool.ruff.lint]
# Enable specific rules
# E: pycodestyle, F: Pyflakes, I: isort, UP: pyupgrade
select = ["E", "F", "I", "UP"]
ignore = []

[tool.ruff.lint.isort]
known-first-party = ["logweave"]
