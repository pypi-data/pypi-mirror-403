constants:
  PROMPT : "You are an assistant that answers questions.."

dag_pipeline:
  clients:
    mock_client:
      provider: mock
      model: "mock-model"
      api_key: "abc"
    mock_embedder:
      provider: mock
      model: "mock-embedder"
      api_key: "abc"

  modules:
    - name: rewriter
      type: ToolRewriter
      module: datapizza.modules.rewriters
      params:
        client: mock_client
        system_prompt: ${PROMPT}
    - name: embedder
      type: ClientEmbedder
      module: datapizza.embedders
      params:
        client: mock_embedder

  connections:
    - from: rewriter
      to: embedder
      target_key: input_data
