{"version":3,"file":"index.js","sources":["../src/tangram_globe/GlobeToggle.vue","../src/tangram_globe/index.ts"],"sourcesContent":["<template>\n  <div class=\"globe-toggle\">\n    <button\n      :class=\"{ active: isGlobeView }\"\n      :title=\"isGlobeView ? 'Switch to mercator view' : 'Switch to globe view'\"\n      @click=\"toggleGlobe\"\n    >\n      <span class=\"fa fa-globe\"></span>\n    </button>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, inject } from \"vue\";\nimport type { TangramApi } from \"@open-aviation/tangram-core/api\";\n\nconst tangramApi = inject<TangramApi>(\"tangramApi\");\nif (!tangramApi) {\n  throw new Error(\"assert: tangram api not provided\");\n}\n\nconst isGlobeView = ref(false);\n\nconst toggleGlobe = () => {\n  if (!tangramApi.map.isReady.value) return;\n\n  const mapInstance = tangramApi.map.getMapInstance();\n  const newGlobeState = !isGlobeView.value;\n\n  mapInstance.setProjection(newGlobeState ? { type: \"globe\" } : { type: \"mercator\" });\n\n  isGlobeView.value = newGlobeState;\n};\n</script>\n\n<style scoped>\n.globe-toggle button {\n  background: white;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  padding: 8px 12px;\n  cursor: pointer;\n  font-size: 16px;\n  transition: all 0.2s ease;\n  color: #333;\n}\n\n.globe-toggle button:hover {\n  background: #f5f5f5;\n  border-color: #bbb;\n}\n\n.globe-toggle button.active {\n  background: oklch(0.72 0.075 245);\n  color: white;\n  border-color: oklch(0.59 0.075 245);\n}\n</style>\n","import type { TangramApi } from \"@open-aviation/tangram-core/api\";\nimport GlobeToggle from \"./GlobeToggle.vue\";\n\nexport function install(api: TangramApi, config?: SystemConfig) {\n  api.ui.registerWidget(\"globe-toggle\", \"TopBar\", GlobeToggle, {\n    priority: config?.topbar_order\n  });\n}\n"],"names":["tangramApi","inject","isGlobeView","ref","toggleGlobe","mapInstance","newGlobeState","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","install","api","config","GlobeToggle"],"mappings":";;;;AAgBA,UAAMA,IAAaC,EAAmB,YAAY;AAClD,QAAI,CAACD;AACH,YAAM,IAAI,MAAM,kCAAkC;AAGpD,UAAME,IAAcC,EAAI,EAAK,GAEvBC,IAAc,MAAM;AACxB,UAAI,CAACJ,EAAW,IAAI,QAAQ,MAAO;AAEnC,YAAMK,IAAcL,EAAW,IAAI,eAAA,GAC7BM,IAAgB,CAACJ,EAAY;AAEnC,MAAAG,EAAY,cAAcC,IAAgB,EAAE,MAAM,YAAY,EAAE,MAAM,YAAY,GAElFJ,EAAY,QAAQI;AAAA,IACtB;sBA/BEC,EAAA,GAAAC,EAQM,OARNC,GAQM;AAAA,MAPJC,EAMS,UAAA;AAAA,QALN,mBAAiBR,EAAA,OAAW;AAAA,QAC5B,OAAOA,EAAA,QAAW,4BAAA;AAAA,QAClB,SAAOE;AAAA,MAAA;QAERM,EAAiC,QAAA,EAA3B,OAAM,cAAA,GAAa,MAAA,EAAA;AAAA,MAAA;;;;;;;;;ACJxB,SAASC,EAAQC,GAAiBC,GAAuB;AAC9D,EAAAD,EAAI,GAAG,eAAe,gBAAgB,UAAUE,GAAa;AAAA,IAC3D,UAAUD,GAAQ;AAAA,EAAA,CACnB;AACH;"}