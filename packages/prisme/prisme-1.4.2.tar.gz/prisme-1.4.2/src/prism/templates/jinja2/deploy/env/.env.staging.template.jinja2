# {{ project_name }} Staging Environment
# Generated by Prism - Copy to server and configure
#
# Location on server: /opt/{{ project_name }}/.env

# =============================================================================
# Project
# =============================================================================
PROJECT_NAME={{ project_name }}
ENVIRONMENT=staging

# =============================================================================
# Docker Image
# =============================================================================
IMAGE_TAG=latest
DOCKER_REGISTRY={{ docker_registry }}

# =============================================================================
# Database (VM-hosted PostgreSQL)
# =============================================================================
DATABASE_URL=postgresql://{{ postgres_user }}:CHANGE_ME@db:5432/{{ postgres_db }}
POSTGRES_USER={{ postgres_user }}
POSTGRES_PASSWORD=  # Generate: openssl rand -base64 32
POSTGRES_DB={{ postgres_db }}

# =============================================================================
# Security
# =============================================================================
SECRET_KEY=  # Generate: openssl rand -hex 32
ALLOWED_HOSTS=staging.{{ domain if domain else 'example.com' }},localhost

{% if use_redis %}
# =============================================================================
# Redis
# =============================================================================
REDIS_URL=redis://redis:6379/0
{% endif %}

# =============================================================================
# SSL/HTTPS (configure after running certbot)
# =============================================================================
# SSL_ENABLED=false
{% if ssl_email %}
# SSL_EMAIL={{ ssl_email }}
{% endif %}
{% if domain %}
# DOMAIN=staging.{{ domain }}
{% endif %}

# =============================================================================
# Logging
# =============================================================================
LOG_LEVEL=DEBUG
