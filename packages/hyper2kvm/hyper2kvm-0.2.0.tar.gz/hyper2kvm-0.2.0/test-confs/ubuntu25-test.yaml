# Ubuntu Server 25.04 - Universal Filesystem Test
# Tests: ext4, systemd, GRUB2, modern Ubuntu layout
# Note: Source is VDI (VirtualBox), will be converted

cmd: local

# Source VDI (VirtualBox format)
# Note: hyper2kvm should handle VDI â†’ QCOW2 conversion
vmdk: /home/ssahani/Downloads/VMs/extracted/ubuntu/64bit/Ubuntu Server 25.04 (64bit).vdi

# Output Configuration
output_dir: /home/ssahani/tt/hyper2kvm/out/ubuntu25-test
to_output: /home/ssahani/tt/hyper2kvm/out/ubuntu25-test/ubuntu25-server.qcow2
out_format: qcow2
compress: true
workdir: /home/ssahani/tt/hyper2kvm/out/ubuntu25-test/work

# Core Linux Fixes
fstab_fixes_enable: true
fstab_mode: stabilize-all
fstab_prefer_partuuid: true  # Ubuntu may use Btrfs or ext4 with PARTUUID
fstab_optimize_options: true

grub_fixes_enable: true
initramfs_regen_enable: true
initramfs_regen_force: true

# VirtIO modules for initramfs
initramfs_modules:
  - virtio_blk
  - virtio_scsi
  - virtio_net
  - virtio_pci
  - nvme

# Network fixes
network_fixes_enable: true

# Libvirt XML generation
libvirt_xml_generate: true
libvirt_vm_name: ubuntu25-server
libvirt_memory_mb: 4096
libvirt_vcpus: 2
libvirt_disk_bus: virtio

# Reporting
report: /home/ssahani/tt/hyper2kvm/out/ubuntu25-test/migration-report.md
log_file: /home/ssahani/tt/hyper2kvm/out/ubuntu25-test/migration.log
verbose: 2
dry_run: false
