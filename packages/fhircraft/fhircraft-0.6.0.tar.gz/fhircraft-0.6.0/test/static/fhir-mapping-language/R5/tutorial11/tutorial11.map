map "http://hl7.org/fhir/StructureMap/tutorial-step11" = "Tutorial"

uses "http://hl7.org/fhir/StructureDefinition/tutorial-left-11" alias TLeft as source
uses "http://hl7.org/fhir/StructureDefinition/tutorial-right-11" alias TRight as target

group tutorial(source src : TLeft, target tgt : TRight) {

  src.e as se -> tgt.e as te then {
    se -> te.f = se, te.g = 'g1' "rule-se-teg";
  } "rule-se";
  src.f as sf -> tgt.e as te first then {
    sf -> te.f = sf, te.g = 'g2' "rule-sf-teg";
  } "rule-sf";
}