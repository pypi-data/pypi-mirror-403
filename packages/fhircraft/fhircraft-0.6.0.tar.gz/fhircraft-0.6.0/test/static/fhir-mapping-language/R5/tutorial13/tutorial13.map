
map "http://hl7.org/fhir/StructureMap/tutorial-step13" = "Tutorial"

uses "http://hl7.org/fhir/StructureDefinition/tutorial-left-13" alias TLeft as source
uses "http://hl7.org/fhir/StructureDefinition/tutorial-right-13" alias TRight as target
uses "http://hl7.org/fhir/StructureDefinition/Basic" alias Basic as target

group tutorial(source src : TLeft, target tgt : TRight) {
// setting id to one is not necessary, this is just to compare the output
  src.f1 as sf1 -> tgt.f2 = create("Basic") as rr, rr.id = "1", tgt.ptr = reference(rr) then {
    sf1 -> rr.code as code, code.text = sf1 "rule-s-f1";
  } "rule-ptr";

}
