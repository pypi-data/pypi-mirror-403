import{a as G,C as T,V as F,b as E}from"./assets/globe-view-Day_n1iB.js";import{A as le,D as de,e as me,d as ge,L as fe,f as Pe,M as we,T as Se,c as _e,h as xe,G as Me,g as Ve,s as be}from"./assets/globe-view-Day_n1iB.js";import{e as $,G as H}from"./assets/layer-DPcO4AXQ.js";import{A as ye,f as Ce,L as Ae,C as Te,k as Ee,j as Oe,i as Le,c as Re,h as ze,d as Ie,p as Ue}from"./assets/layer-DPcO4AXQ.js";import{H as Y,I as W,A as v,J as P,K as _,L as q,h as d,N as S,O as R,V as Z,f as J,p as K,b as C,Q,S as A}from"./assets/deep-equal-BTW2ZN6S.js";import{T as Fe,U as Ze,W as Ne,i as Xe,X as ke,x as je}from"./assets/deep-equal-BTW2ZN6S.js";import{g as tt,i as et}from"./assets/project-BTjD2Imj.js";import{m as Ge,p as $e}from"./assets/project-BTjD2Imj.js";import{P as ot}from"./assets/pick-layers-pass-C-3k0wbN.js";import{L as Ye,a as We}from"./assets/pick-layers-pass-C-3k0wbN.js";import{M as it,u as rt}from"./assets/shader-Cbdysp2j.js";import{m as Je}from"./assets/shader-Cbdysp2j.js";import{C as Qe,T as to,g as eo}from"./assets/tesselator-CENyUZ2p.js";import{G as io}from"./assets/globe-viewport-tqhQW7C4.js";import{O as st}from"./assets/orthographic-viewport-B4nCj5tn.js";import{L as O}from"./assets/widget-BjgEeHAL.js";import{T as so,W as no,a as ao,r as co}from"./assets/widget-BjgEeHAL.js";import{L as po}from"./assets/layer-extension-CYwTXf73.js";import{F as lo}from"./assets/fly-to-interpolator-CIXGjOdo.js";import{a as go}from"./assets/assert-cyW4mg7q.js";import{c as Po}from"./assets/color-CUNNsFV-.js";import{b as So,f as _o}from"./assets/webgl-developer-tools-utTNOsNf.js";import"./assets/image-loader-hHJsndO6.js";import"./assets/array-utils-flat-BBMak426.js";import"./assets/webgl-device-BYRB-GQX.js";const z=1e-6,nt=6371e3;class w{constructor({phi:t=0,theta:e=0,radius:i=1,bearing:o,pitch:r,altitude:s,radiusScale:a=nt}={}){this.phi=t,this.theta=e,this.radius=i||s||1,this.radiusScale=a||1,o!==void 0&&(this.bearing=o),r!==void 0&&(this.pitch=r),this.check()}toString(){return this.formatString(Y)}formatString({printTypes:t=!1}){const e=W;return`${t?"Spherical":""}[rho:${e(this.radius)},theta:${e(this.theta)},phi:${e(this.phi)}]`}equals(t){return v(this.radius,t.radius)&&v(this.theta,t.theta)&&v(this.phi,t.phi)}exactEquals(t){return this.radius===t.radius&&this.theta===t.theta&&this.phi===t.phi}get bearing(){return 180-P(this.phi)}set bearing(t){this.phi=Math.PI-_(t)}get pitch(){return P(this.theta)}set pitch(t){this.theta=_(t)}get longitude(){return P(this.phi)}get latitude(){return P(this.theta)}get lng(){return P(this.phi)}get lat(){return P(this.theta)}get z(){return(this.radius-1)*this.radiusScale}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this.check()}clone(){return new w().copy(this)}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this.check()}fromLngLatZ([t,e,i]){return this.radius=1+i/this.radiusScale,this.phi=_(e),this.theta=_(t),this.check()}fromVector3(t){return this.radius=q(t),this.radius>0&&(this.theta=Math.atan2(t[0],t[1]),this.phi=Math.acos(d(t[2]/this.radius,-1,1))),this.check()}toVector3(){return new S(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}makeSafe(){return this.phi=Math.max(z,Math.min(Math.PI-z,this.phi)),this}check(){if(!Number.isFinite(this.phi)||!Number.isFinite(this.theta)||!(this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}}const at=[255,255,255],ct=1,ht=[1,0,0],pt=[0,0,1];let ut=0;class lt{constructor(t={}){this.type="point";const{color:e=at}=t,{intensity:i=ct}=t,{position:o=pt}=t;this.id=t.id||`point-${ut++}`,this.color=e,this.intensity=i,this.type="point",this.position=o,this.attenuation=dt(t),this.projectedLight={...this}}getProjectedLight({layer:t}){const{projectedLight:e}=this,i=t.context.viewport,{coordinateSystem:o,coordinateOrigin:r}=t.props,s=$(this.position,{viewport:i,coordinateSystem:o,coordinateOrigin:r,fromCoordinateSystem:i.isGeospatial?R.LNGLAT:R.CARTESIAN,fromCoordinateOrigin:[0,0,0]});return e.color=this.color,e.intensity=this.intensity,e.position=s,e}}function dt(n){return n.attenuation?n.attenuation:ht}class ae extends lt{getProjectedLight({layer:t}){const{projectedLight:e}=this,i=t.context.viewport,{coordinateSystem:o,coordinateOrigin:r,modelMatrix:s}=t.props,{cameraPosition:a}=tt({viewport:i,modelMatrix:s,coordinateSystem:o,coordinateOrigin:r});return e.color=this.color,e.intensity=this.intensity,e.position=a,e}}const f=Math.PI/180,mt=1e3*60*60*24,gt=2440588,ft=2451545,x=f*23.4397,Pt=357.5291,wt=.98560028,St=280.147,_t=360.9856235;function xt(n,t,e){const i=f*-e,o=f*t,r=Vt(n),s=Ot(r),a=At(r,i)-s.rightAscension;return{azimuth:yt(a,o,s.declination),altitude:Ct(a,o,s.declination)}}function I(n,t,e){const{azimuth:i,altitude:o}=xt(n,t,e);return[Math.sin(i)*Math.cos(o),Math.cos(i)*Math.cos(o),-Math.sin(o)]}function Mt(n){return(typeof n=="number"?n:n.getTime())/mt-.5+gt}function Vt(n){return Mt(n)-ft}function bt(n,t){const e=n;return Math.atan2(Math.sin(e)*Math.cos(x)-Math.tan(t)*Math.sin(x),Math.cos(e))}function vt(n,t){const e=n;return Math.asin(Math.sin(t)*Math.cos(x)+Math.cos(t)*Math.sin(x)*Math.sin(e))}function yt(n,t,e){const i=n,o=t,r=e;return Math.atan2(Math.sin(i),Math.cos(i)*Math.sin(o)-Math.tan(r)*Math.cos(o))}function Ct(n,t,e){const i=n,o=t,r=e;return Math.asin(Math.sin(o)*Math.sin(r)+Math.cos(o)*Math.cos(r)*Math.cos(i))}function At(n,t){return f*(St+_t*n)-t}function Tt(n){return f*(Pt+wt*n)}function Et(n){const t=n,e=f*(1.9148*Math.sin(t)+.02*Math.sin(2*t)+3e-4*Math.sin(3*t)),i=f*102.9372;return t+e+i+Math.PI}function Ot(n){const t=Tt(n),e=Et(t);return{declination:vt(e,0),rightAscension:bt(e,0)}}class ce extends G{constructor(t){super(t),this.timestamp=t.timestamp}getProjectedLight({layer:t}){const{viewport:e}=t.context;if(e.resolution&&e.resolution>0){const[o,r,s]=I(this.timestamp,0,0);this.direction=[o,-s,r]}else{const{latitude:o,longitude:r}=e;this.direction=I(this.timestamp,o,r)}return this}}const Lt=`struct VertexInputs {
  @location(0) clipSpacePosition: vec2<f32>,
  @location(1) texCoord: vec2<f32>,
  @location(2) coordinate: vec2<f32>  
}

struct FragmentInputs {
  @builtin(position) Position : vec4<f32>,
  @location(0) position : vec2<f32>,
  @location(1) coordinate : vec2<f32>,
  @location(2) uv : vec2<f32>
};

@vertex
fn vertexMain(inputs: VertexInputs) -> FragmentInputs {
  var outputs: FragmentInputs;
  outputs.Position = vec4(inputs.clipSpacePosition, 0., 1.);
  outputs.position = inputs.clipSpacePosition;
  outputs.coordinate = inputs.coordinate;
  outputs.uv = inputs.texCoord;
  return outputs;
}
`,Rt=`#version 300 es
in vec2 clipSpacePositions;
in vec2 texCoords;
in vec2 coordinates;

out vec2 position;
out vec2 coordinate;
out vec2 uv;

void main(void) {
  gl_Position = vec4(clipSpacePositions, 0., 1.);
  position = clipSpacePositions;
  coordinate = coordinates;
  uv = texCoords;
}
`,U=[-1,-1,1,-1,-1,1,1,1];class zt extends it{constructor(t,e){const i=U.map(o=>o===-1?0:o);e.source&&(e={...e,source:`${Lt}
${e.source}`}),super(t,{id:e.id||rt("clip-space"),...e,vs:Rt,vertexCount:4,geometry:new H({topology:"triangle-strip",vertexCount:4,attributes:{clipSpacePositions:{size:2,value:new Float32Array(U)},texCoords:{size:2,value:new Float32Array(i)},coordinates:{size:2,value:new Float32Array(i)}}})})}}const It=`uniform screenUniforms {
  vec2 texSize;
} screen;
`,Ut={name:"screen",fs:It,uniformTypes:{texSize:"vec2<f32>"}};class Dt extends ot{constructor(t,e){super(t,e);const{module:i,fs:o,id:r}=e,s={depthWriteEnabled:!1,depthCompare:"always",depthBias:0,blend:!0,blendColorSrcFactor:"one",blendColorDstFactor:"one-minus-src-alpha",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one-minus-src-alpha",blendColorOperation:"add",blendAlphaOperation:"add"};this.model=new zt(t,{id:r,fs:o,modules:[i,Ut],parameters:s})}render(t){this._renderPass(this.device,t)}delete(){this.model.destroy(),this.model=null}_renderPass(t,e){const{clearCanvas:i,inputBuffer:o,outputBuffer:r}=e,s=[o.width,o.height],a={texSrc:o.colorAttachments[0],texSize:s};this.model.shaderInputs.setProps({screen:a,...e.moduleProps});const c=this.device.beginRenderPass({framebuffer:r,parameters:{viewport:[0,0,...s]},clearColor:i?[0,0,0,0]:!1,clearDepth:1,clearStencil:!1});this.model.draw(c),c.end()}}class he{constructor(t,e){this.id=`${t.name}-pass`,this.props=e,et(t),this.module=t}setup({device:t}){this.passes=Ft(t,this.module,this.id)}setProps(t){this.props=t}preRender(){}postRender(t){const e=this.passes,{target:i}=t;let o=t.inputBuffer,r=t.swapBuffer;for(let s=0;s<e.length;s++){const a=s===e.length-1,c=i!==void 0&&a;c&&(r=i);const h=!c||!!t.clearCanvas,p={},u=this.module.passes[s].uniforms;p[this.module.name]={...this.props,...u},e[s].render({clearCanvas:h,inputBuffer:o,outputBuffer:r,moduleProps:p});const l=r;r=o,o=l}return o}cleanup(){if(this.passes){for(const t of this.passes)t.delete();this.passes=void 0}}}function Ft(n,t,e){return t.passes.map((i,o)=>{const r=Xt(t,i),s=`${e}-${o}`;return new Dt(n,{id:s,module:t,fs:r})})}const N=`#version 300 es
uniform sampler2D texSrc;

in vec2 position;
in vec2 coordinate;
in vec2 uv;

out vec4 fragColor;
`,Zt=n=>`${N}
void main() {
  fragColor = texture(texSrc, coordinate);
  fragColor = ${n}(fragColor, screen.texSize, coordinate);
}
`,Nt=n=>`${N}
void main() {
  fragColor = ${n}(texSrc, screen.texSize, coordinate);
}
`;function Xt(n,t){if(t.filter){const e=typeof t.filter=="string"?t.filter:`${n.name}_filterColor_ext`;return Zt(e)}if(t.sampler){const e=typeof t.sampler=="string"?t.sampler:`${n.name}_sampleColor`;return Nt(e)}return""}const y=Math.PI/180;function kt({height:n,focalDistance:t,orbitAxis:e,rotationX:i,rotationOrbit:o,zoom:r}){const s=e==="Z"?[0,0,1]:[0,1,0],a=e==="Z"?[0,-t,0]:[0,0,t],c=new C().lookAt({eye:a,up:s});c.rotateX(i*y),e==="Z"?c.rotateZ(o*y):c.rotateY(o*y);const h=Math.pow(2,r)/n;return c.scale(h),c}class X extends Z{constructor(t){const{height:e,projectionMatrix:i,fovy:o=50,orbitAxis:r="Z",target:s=[0,0,0],rotationX:a=0,rotationOrbit:c=0,zoom:h=0}=t,p=i?i[5]/2:J(o);super({...t,longitude:void 0,viewMatrix:kt({height:e||1,focalDistance:p,orbitAxis:r,rotationX:a,rotationOrbit:c,zoom:h}),fovy:o,focalDistance:p,position:s,zoom:h}),this.target=s,this.orbitAxis=r,this.rotationX=a,this.rotationOrbit=c,this.fovy=o,this.projectedCenter=this.project(this.center)}unproject(t,{topLeft:e=!0}={}){const[i,o,r=this.projectedCenter[2]]=t,s=e?o:this.height-o,[a,c,h]=K([i,s,r],this.pixelUnprojectionMatrix);return[a,c,h]}panByPosition(t,e,i){const o=this.project(t),r=[this.width/2+o[0]-e[0],this.height/2+o[1]-e[1],this.projectedCenter[2]];return{target:this.unproject(r)}}}X.displayName="OrbitViewport";class k extends Z{constructor(t){const{longitude:e,latitude:i,modelMatrix:o,bearing:r=0,pitch:s=0,up:a=[0,0,1]}=t,h=new w({bearing:r,pitch:s===-90?1e-4:90+s}).toVector3().normalize(),p=o?new C(o).transformAsVector(h):h,u=Number.isFinite(i)?Q({latitude:i}):0,l=Math.pow(2,u),m=new C().lookAt({eye:[0,0,0],center:p,up:a}).scale(l);super({...t,zoom:u,viewMatrix:m}),this.latitude=i,this.longitude=e,this.pitch=s,this.bearing=r,this.up=a}}k.displayName="FirstPersonViewport";const g=20,D=500;class L extends F{constructor(t){const{width:e,height:i,position:o=[0,0,0],bearing:r=0,pitch:s=0,longitude:a=null,latitude:c=null,maxPitch:h=90,minPitch:p=-90,startRotatePos:u,startBearing:l,startPitch:m,startZoomPosition:M,startPanPos:V,startPanPosition:b}=t;super({width:e,height:i,position:o,bearing:r,pitch:s,longitude:a,latitude:c,maxPitch:h,minPitch:p},{startRotatePos:u,startBearing:l,startPitch:m,startZoomPosition:M,startPanPos:V,startPanPosition:b}),this.makeViewport=t.makeViewport}panStart({pos:t}){const{position:e}=this.getViewportProps();return this._getUpdatedState({startPanPos:t,startPanPosition:e})}pan({pos:t}){if(!t)return this;const{startPanPos:e=[0,0],startPanPosition:i=[0,0]}=this.getState(),{width:o,height:r,bearing:s,pitch:a}=this.getViewportProps(),c=D*(t[0]-e[0])/o,h=D*(t[1]-e[1])/r,p=new w({bearing:s,pitch:a}),u=new w({bearing:s,pitch:-90}),l=p.toVector3().normalize(),m=u.toVector3().cross(l).normalize();return this._getUpdatedState({position:new S(i).add(m.scale(c)).add(l.scale(h))})}panEnd(){return this._getUpdatedState({startPanPos:null,startPanPosition:null})}rotateStart({pos:t}){return this._getUpdatedState({startRotatePos:t,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:t,deltaAngleX:e=0,deltaAngleY:i=0}){const{startRotatePos:o,startBearing:r,startPitch:s}=this.getState(),{width:a,height:c}=this.getViewportProps();if(!o||r===void 0||s===void 0)return this;let h;if(t){const p=(t[0]-o[0])/a,u=(t[1]-o[1])/c;h={bearing:r-p*180,pitch:s-u*90}}else h={bearing:r-e,pitch:s-i};return this._getUpdatedState(h)}rotateEnd(){return this._getUpdatedState({startRotatePos:null,startBearing:null,startPitch:null})}zoomStart(){return this._getUpdatedState({startZoomPosition:this.getViewportProps().position})}zoom({pos:t,scale:e}){const i=this.getViewportProps(),o=this.getState().startZoomPosition||i.position,r=this.makeViewport(i),{projectionMatrix:s,width:a}=r,h=2*Math.atan(1/s[0])*(t[0]/a-.5),p=this.getDirection(!0);return this._move(p.rotateZ({radians:-h}),Math.log2(e)*g,o)}zoomEnd(){return this._getUpdatedState({startZoomPosition:null})}moveLeft(t=g){const e=this.getDirection(!0);return this._move(e.rotateZ({radians:Math.PI/2}),t)}moveRight(t=g){const e=this.getDirection(!0);return this._move(e.rotateZ({radians:-Math.PI/2}),t)}moveUp(t=g){const e=this.getDirection(!0);return this._move(e,t)}moveDown(t=g){const e=this.getDirection(!0);return this._move(e.negate(),t)}rotateLeft(t=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-t})}rotateRight(t=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+t})}rotateUp(t=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+t})}rotateDown(t=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-t})}zoomIn(t=g){return this._move(new S(0,0,1),t)}zoomOut(t=g){return this._move(new S(0,0,-1),t)}shortestPathFrom(t){const e=t.getViewportProps(),i={...this.getViewportProps()},{bearing:o,longitude:r}=i;return Math.abs(o-e.bearing)>180&&(i.bearing=o<0?o+360:o-360),r!==null&&e.longitude!==null&&Math.abs(r-e.longitude)>180&&(i.longitude=r<0?r+360:r-360),i}_move(t,e,i=this.getViewportProps().position){const o=t.scale(e);return this._getUpdatedState({position:new S(i).add(o)})}getDirection(t=!1){return new w({bearing:this.getViewportProps().bearing,pitch:t?90:90+this.getViewportProps().pitch}).toVector3().normalize()}_getUpdatedState(t){return new L({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...t})}applyConstraints(t){const{pitch:e,maxPitch:i,minPitch:o,longitude:r,bearing:s}=t;return t.pitch=d(e,o,i),r!==null&&(r<-180||r>180)&&(t.longitude=A(r+180,360)-180),(s<-180||s>180)&&(t.bearing=A(s+180,360)-180),t}}class jt extends T{constructor(){super(...arguments),this.ControllerState=L,this.transition={transitionDuration:300,transitionInterpolator:new O(["position","pitch","bearing"])}}}class Bt extends E{constructor(t={}){super(t)}getViewportType(){return k}get ControllerType(){return jt}}Bt.displayName="FirstPersonView";class j extends F{constructor(t){const{width:e,height:i,rotationX:o=0,rotationOrbit:r=0,target:s=[0,0,0],zoom:a=0,minRotationX:c=-90,maxRotationX:h=90,minZoom:p=-1/0,maxZoom:u=1/0,startPanPosition:l,startRotatePos:m,startRotationX:M,startRotationOrbit:V,startZoomPosition:b,startZoom:B}=t;super({width:e,height:i,rotationX:o,rotationOrbit:r,target:s,zoom:a,minRotationX:c,maxRotationX:h,minZoom:p,maxZoom:u},{startPanPosition:l,startRotatePos:m,startRotationX:M,startRotationOrbit:V,startZoomPosition:b,startZoom:B}),this.makeViewport=t.makeViewport}panStart({pos:t}){return this._getUpdatedState({startPanPosition:this._unproject(t)})}pan({pos:t,startPosition:e}){const i=this.getState().startPanPosition||e;if(!i)return this;const r=this.makeViewport(this.getViewportProps()).panByPosition(i,t);return this._getUpdatedState(r)}panEnd(){return this._getUpdatedState({startPanPosition:null})}rotateStart({pos:t}){return this._getUpdatedState({startRotatePos:t,startRotationX:this.getViewportProps().rotationX,startRotationOrbit:this.getViewportProps().rotationOrbit})}rotate({pos:t,deltaAngleX:e=0,deltaAngleY:i=0}){const{startRotatePos:o,startRotationX:r,startRotationOrbit:s}=this.getState(),{width:a,height:c}=this.getViewportProps();if(!o||r===void 0||s===void 0)return this;let h;if(t){let p=(t[0]-o[0])/a;const u=(t[1]-o[1])/c;(r<-90||r>90)&&(p*=-1),h={rotationX:r+u*180,rotationOrbit:s+p*180}}else h={rotationX:r+i,rotationOrbit:s+e};return this._getUpdatedState(h)}rotateEnd(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}shortestPathFrom(t){const e=t.getViewportProps(),i={...this.getViewportProps()},{rotationOrbit:o}=i;return Math.abs(o-e.rotationOrbit)>180&&(i.rotationOrbit=o<0?o+360:o-360),i}zoomStart({pos:t}){return this._getUpdatedState({startZoomPosition:this._unproject(t),startZoom:this.getViewportProps().zoom})}zoom({pos:t,startPos:e,scale:i}){let{startZoom:o,startZoomPosition:r}=this.getState();if(r||(o=this.getViewportProps().zoom,r=this._unproject(e)||this._unproject(t)),!r)return this;const s=this._calculateNewZoom({scale:i,startZoom:o}),a=this.makeViewport({...this.getViewportProps(),zoom:s});return this._getUpdatedState({zoom:s,...a.panByPosition(r,t)})}zoomEnd(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}zoomIn(t=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:t})})}zoomOut(t=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/t})})}moveLeft(t=50){return this._panFromCenter([-t,0])}moveRight(t=50){return this._panFromCenter([t,0])}moveUp(t=50){return this._panFromCenter([0,-t])}moveDown(t=50){return this._panFromCenter([0,t])}rotateLeft(t=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit-t})}rotateRight(t=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit+t})}rotateUp(t=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX-t})}rotateDown(t=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX+t})}_unproject(t){const e=this.makeViewport(this.getViewportProps());return t&&e.unproject(t)}_calculateNewZoom({scale:t,startZoom:e}){const{maxZoom:i,minZoom:o}=this.getViewportProps();e===void 0&&(e=this.getViewportProps().zoom);const r=e+Math.log2(t);return d(r,o,i)}_panFromCenter(t){const{width:e,height:i,target:o}=this.getViewportProps();return this.pan({startPosition:o,pos:[e/2+t[0],i/2+t[1]]})}_getUpdatedState(t){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...t})}applyConstraints(t){const{maxZoom:e,minZoom:i,zoom:o,maxRotationX:r,minRotationX:s,rotationOrbit:a}=t;return t.zoom=Array.isArray(o)?[d(o[0],i,e),d(o[1],i,e)]:d(o,i,e),t.rotationX=d(t.rotationX,s,r),(a<-180||a>180)&&(t.rotationOrbit=A(a+180,360)-180),t}}class Gt extends T{constructor(){super(...arguments),this.ControllerState=j,this.transition={transitionDuration:300,transitionInterpolator:new O({transitionProps:{compare:["target","zoom","rotationX","rotationOrbit"],required:["target","zoom"]}})}}}class $t extends E{constructor(t={}){super(t),this.props.orbitAxis=t.orbitAxis||"Z"}getViewportType(){return X}get ControllerType(){return Gt}}$t.displayName="OrbitView";class Ht extends j{constructor(t){super(t),this.zoomAxis=t.zoomAxis||"all"}_calculateNewZoom({scale:t,startZoom:e}){const{maxZoom:i,minZoom:o}=this.getViewportProps();e===void 0&&(e=this.getViewportProps().zoom);let r=Math.log2(t);if(Array.isArray(e)){let[s,a]=e;switch(this.zoomAxis){case"X":s=d(s+r,o,i);break;case"Y":a=d(a+r,o,i);break;default:let c=Math.min(s+r,a+r);c<o&&(r+=o-c),c=Math.max(s+r,a+r),c>i&&(r+=i-c),s+=r,a+=r}return[s,a]}return d(e+r,o,i)}}class Yt extends T{constructor(){super(...arguments),this.ControllerState=Ht,this.transition={transitionDuration:300,transitionInterpolator:new O(["target","zoom"])},this.dragMode="pan"}_onPanRotate(){return!1}}class Wt extends E{constructor(t={}){super(t)}getViewportType(){return st}get ControllerType(){return Yt}}Wt.displayName="OrthographicView";export{le as AmbientLight,ye as Attribute,Ce as AttributeManager,R as COORDINATE_SYSTEM,Qe as CompositeLayer,T as Controller,de as Deck,me as DeckRenderer,G as DirectionalLight,jt as FirstPersonController,Bt as FirstPersonView,k as FirstPersonViewport,lo as FlyToInterpolator,Ae as Layer,po as LayerExtension,ge as LayerManager,fe as LightingEffect,O as LinearInterpolator,Pe as MapController,we as MapView,Fe as OPERATION,Gt as OrbitController,$t as OrbitView,X as OrbitViewport,Yt as OrthographicController,Wt as OrthographicView,st as OrthographicViewport,lt as PointLight,he as PostProcessEffect,Se as TRANSITION_EVENTS,to as Tesselator,so as TransitionInterpolator,Ze as UNIT,_e as VERSION,E as View,Z as Viewport,Ne as WebMercatorViewport,no as Widget,ae as _CameraLight,Te as _Component,Ee as _ComponentState,xe as _GlobeController,Me as _GlobeView,io as _GlobeViewport,Ye as _LayersPass,We as _PickLayersPass,ce as _SunLight,ao as _applyStyles,Oe as _compareProps,Le as _count,Xe as _deepEqual,So as _fillArray,_o as _flatten,Ge as _memoize,Je as _mergeShaders,co as _removeStyles,go as assert,Po as color,Re as createIterable,ke as fp64LowPart,Ve as getShaderAssembler,eo as gouraudMaterial,je as log,ze as phongMaterial,Ie as picking,$e as project,Ue as project32,be as shadow};
//# sourceMappingURL=core.js.map
