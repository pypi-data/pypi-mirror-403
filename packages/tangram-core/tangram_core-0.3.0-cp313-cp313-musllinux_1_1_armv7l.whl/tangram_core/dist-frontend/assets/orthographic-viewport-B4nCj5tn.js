import{V as z,b as w,p as j,g as d,n as y,h as g}from"./deep-equal-BTW2ZN6S.js";const P=new w().lookAt({eye:[0,0,1]});function Y({width:a,height:t,near:s,far:e,padding:i}){let c=-a/2,o=a/2,n=-t/2,h=t/2;if(i){const{left:f=0,right:l=0,top:p=0,bottom:u=0}=i,r=g((f+a-l)/2,0,a)-a/2,m=g((p+t-u)/2,0,t)-t/2;c-=r,o-=r,n+=m,h+=m}return new w().ortho({left:c,right:o,bottom:n,top:h,near:s,far:e})}class A extends z{constructor(t){const{width:s,height:e,near:i=.1,far:c=1e3,zoom:o=0,target:n=[0,0,0],padding:h=null,flipY:f=!0}=t,l=t.zoomX??(Array.isArray(o)?o[0]:o),p=t.zoomY??(Array.isArray(o)?o[1]:o),u=Math.min(l,p),r=Math.pow(2,u);let m;if(l!==p){const M=Math.pow(2,l),x=Math.pow(2,p);m={unitsPerMeter:[M/r,x/r,1],metersPerUnit:[r/M,r/x,1]}}super({...t,longitude:void 0,position:n,viewMatrix:P.clone().scale([r,r*(f?-1:1),r]),projectionMatrix:Y({width:s||1,height:e||1,padding:h,near:i,far:c}),zoom:u,distanceScales:m}),this.target=n,this.zoomX=l,this.zoomY=p,this.flipY=f}projectFlat([t,s]){const{unitsPerMeter:e}=this.distanceScales;return[t*e[0],s*e[1]]}unprojectFlat([t,s]){const{metersPerUnit:e}=this.distanceScales;return[t*e[0],s*e[1]]}panByPosition(t,s,e){const i=j(s,this.pixelUnprojectionMatrix),c=this.projectFlat(t),o=d([],c,y([],i)),n=d([],this.center,o);return{target:this.unprojectFlat(n)}}}A.displayName="OrthographicViewport";export{A as O};
//# sourceMappingURL=orthographic-viewport-B4nCj5tn.js.map
