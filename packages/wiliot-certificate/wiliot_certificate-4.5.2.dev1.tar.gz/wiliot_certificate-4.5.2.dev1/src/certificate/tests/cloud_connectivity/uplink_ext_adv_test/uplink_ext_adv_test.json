{
    "name": "Gateway Uplink Extended Advertising",
    "module": "Cloud Connectivity",
    "purpose": "Verify gateway BLE scans and MQTT uplinks in Extended Advertising mode",
    "documentation": "https://community.wiliot.com/customers/s/article/Wiliot-Network---Gateway-Extended-Advertising-Implementation",
    "initialCondition": "Gateway configured to defaults",
    "procedure": [
        "Test prolog",
        "Enable GW CERT TESTER to allow TESTER transmit extended advertising packets",
        "Configure TESTER datapath pattern to Extended Advertising (DATAPATH_PATTERN_EXTENDED_ADV)",
        "Flush MQTT packets; generate pixel packets with 31-byte payload and send via GenericSimThread (single cycle)",
        "Wait for MQTT scan (≈20s)",
        "Analyze: each 31-byte payload must be expanded to aggregated 217 bytes (31×7) and repeated 7 times; validate ≥80% of expected payloads received",
        "Restore TESTER datapath defaults and disable GW CERT TESTER",
        "Generate log and pass/fail summary",
        "Test epilog"
    ],
    "expectedOutcome": "Received amount of aggregated packets matches the expected amount and all additional validations pass as expected",
    "mandatory": 0,
    "multiBridgeTest": 0,
    "gwOnlyTest": 1,
    "dataSimOnlyTest": 1,
    "SupportedFromApiVersion": 206,
    "allSupportedValues": []
}