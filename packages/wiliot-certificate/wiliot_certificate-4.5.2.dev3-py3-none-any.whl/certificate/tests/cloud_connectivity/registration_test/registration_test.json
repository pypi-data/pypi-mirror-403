{
    "name": "Registration",
    "module": "Cloud Connectivity",
    "purpose": "Verify the device register, connect to MQTT, upload a status message & manage/refresh tokens correctly",
    "documentation": "https://community.wiliot.com/customers/s/article/Registering-Third-Party-Gateways",
    "initialCondition": "Gateway unregistered anywhere, attempts to connect to Wiliot's AWS MQTT broker. Testing PC has API key as environment variable",
    "procedure": ["Test prolog",
                  "Registry - Pre-register the gw, then device-authorize & registry requests are expected",
                  "Online - Token acquisition and MQTT connection",
                  "Active - Status message upload",
                  "Refresh - Token refreshed by GW",
                  "Test epilog"],
    "expectedOutcome": "Device goes through the Wiliot registration flow & token refresh",
    "mandatory": 1,
    "multiBridgeTest": 0,
    "gwOnlyTest": 1,
    "internalBridge": 0,
    "SupportedFromApiVersion": 203,
    "allSupportedValues": ["registry", "online", "refresh"]
}