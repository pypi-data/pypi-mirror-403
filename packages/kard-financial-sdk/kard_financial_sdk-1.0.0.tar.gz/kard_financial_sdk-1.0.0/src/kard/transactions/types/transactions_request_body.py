# This file was auto-generated by Fern from our API Definition.

import typing

import pydantic
from ...core.pydantic_utilities import IS_PYDANTIC_V2, UniversalBaseModel
from .transactions import Transactions


class TransactionsRequestBody(UniversalBaseModel):
    """
    Examples
    --------
    import datetime

    from kard.transactions import (
        Merchant,
        ProcessorMid_Visa,
        Transactions_Transaction,
        TransactionsAttributes,
        TransactionsRequestBody,
        VisaMidDetails,
    )

    TransactionsRequestBody(
        data=[
            Transactions_Transaction(
                id="309rjfoincor3icno3rind093cdow3jciwjdwcm",
                attributes=TransactionsAttributes(
                    user_id="6FHt5b6Fnp0qdomMEy5AN6PXcSJIeX69",
                    status="APPROVED",
                    amount=1000,
                    subtotal=800,
                    currency="USD",
                    direction="DEBIT",
                    payment_type="CARD",
                    description="ADVANCEAUTO",
                    description_2="ADVANCEAUTO",
                    mcc="1234",
                    card_bin="123456",
                    card_last_four="4321",
                    authorization_date=datetime.datetime.fromisoformat(
                        "2021-07-02 17:47:06+00:00",
                    ),
                    merchant=Merchant(
                        id="12345678901234567",
                        name="ADVANCEAUTO",
                        addr_street="125 Main St",
                        addr_city="Philadelphia",
                        addr_state="PA",
                        addr_zipcode="19147",
                        addr_country="United States",
                        latitude="37.9419429",
                        longitude="-73.1446869",
                        store_id="12345",
                    ),
                    authorization_code="123456",
                    retrieval_reference_number="100804333919",
                    acquirer_reference_number="1234567890123456789012345678",
                    system_trace_audit_number="333828",
                    transaction_id="2467de37-cbdc-416d-a359-75de87bfffb0",
                    card_product_id="1234567890123456789012345678",
                    processor_mids=ProcessorMid_Visa(
                        mids=VisaMidDetails(
                            vmid="12345678901",
                            vsid="12345678",
                        ),
                    ),
                ),
            )
        ],
    )
    """

    data: typing.List[Transactions] = pydantic.Field()
    """
    Discriminated union representing the request body for submitting a transaction.
    Use `type` to distinguish between the two:
    - `transaction`: For transactions requiring processing and matching by the Kard system.
    - `matchedTransaction`: For pre-matched transactions that need validation on match by the Kard system.
    """

    if IS_PYDANTIC_V2:
        model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2
    else:

        class Config:
            frozen = True
            smart_union = True
            extra = pydantic.Extra.allow
