# This file was auto-generated by Fern from our API Definition.

import typing

import pydantic
from ...commons.types.links import Links
from ...core.pydantic_utilities import IS_PYDANTIC_V2, UniversalBaseModel
from .rewarded_transaction_union import RewardedTransactionUnion
from .transaction_included_resource import TransactionIncludedResource


class GetEarnedRewardsResponse(UniversalBaseModel):
    """
    Examples
    --------
    import datetime

    from kard.commons import (
        CommissionValue,
        Links,
        RelationshipData,
        RelationshipSingle,
    )
    from kard.transactions import (
        CommissionEarnedDetails,
        GetEarnedRewardsResponse,
        RewardedTransactionAttributes,
        RewardedTransactionRelationships,
        RewardedTransactionUnion_RewardedTransaction,
        TransactionIncludedResource_Merchant,
        TransactionIncludedResource_Offer,
        TransactionMerchantAttributes,
        TransactionOfferAttributes,
    )

    GetEarnedRewardsResponse(
        data=[
            RewardedTransactionUnion_RewardedTransaction(
                id="fcabf024-3870-41f3-9fbd-b43ea85a3d19",
                attributes=RewardedTransactionAttributes(
                    status="SETTLED",
                    transaction_id="TXN-20241001-F21-127964",
                    transaction_amount_in_cents=12796,
                    transaction_timestamp=datetime.datetime.fromisoformat(
                        "2024-10-01 01:36:57+00:00",
                    ),
                    paid_to_issuer="UNPAID",
                    payout_timestamp=datetime.datetime.fromisoformat(
                        "2024-10-01 02:00:00+00:00",
                    ),
                    card_bin="123456",
                    card_last_four="4321",
                    commission_earned=CommissionEarnedDetails(
                        issuer=CommissionValue(
                            type="cents",
                            value=102,
                        ),
                        user=CommissionValue(
                            type="cents",
                            value=320,
                        ),
                    ),
                ),
                relationships=RewardedTransactionRelationships(
                    user=RelationshipSingle(
                        data=RelationshipData(
                            type="user",
                            id="8c52423a-c319-44ee-8fc7-508e97b43892",
                        ),
                    ),
                    merchant=RelationshipSingle(
                        data=RelationshipData(
                            type="merchant",
                            id="633ed2ab30dcb60009dd5699",
                        ),
                    ),
                    offer=RelationshipSingle(
                        data=RelationshipData(
                            type="offer",
                            id="OFF-F21-INSTORE-2024Q4-001",
                        ),
                    ),
                ),
            )
        ],
        links=Links(
            self_="/v2/issuers/org-123/users/user-456/earned-rewards?page[size]=10",
            next="/v2/issuers/org-123/users/user-456/earned-rewards?page[size]=10&page[after]=eyJpZCI6ImZjYWJmMDI0LTM4NzAtNDFmMy05ZmJkLWI0M2VhODVhM2QxOSIsInRzIjoiMjAyNC0xMC0wMVQwMTozNjo1N1oifQ==",
        ),
        included=[
            TransactionIncludedResource_Merchant(
                id="633ed2ab30dcb60009dd5699",
                attributes=TransactionMerchantAttributes(
                    name="Forever 21",
                ),
            ),
            TransactionIncludedResource_Merchant(
                id="5f3e2d1c40abc50008cc4821",
                attributes=TransactionMerchantAttributes(
                    name="Target",
                ),
            ),
            TransactionIncludedResource_Offer(
                id="OFF-F21-INSTORE-2024Q4-001",
                attributes=TransactionOfferAttributes(
                    purchase_channel=["INSTORE"],
                ),
            ),
            TransactionIncludedResource_Offer(
                id="OFF-TGT-ONLINE-2024Q4-002",
                attributes=TransactionOfferAttributes(
                    purchase_channel=["ONLINE"],
                ),
            ),
        ],
    )
    """

    data: typing.List[RewardedTransactionUnion]
    links: Links
    included: typing.Optional[typing.List[TransactionIncludedResource]] = pydantic.Field(default=None)
    """
    Additional resources referenced in the response
    """

    if IS_PYDANTIC_V2:
        model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2
    else:

        class Config:
            frozen = True
            smart_union = True
            extra = pydantic.Extra.allow
