Metadata-Version: 2.4
Name: polyapi
Version: 5.9.20
Summary: Wrapper for Polymatica API
Home-page: https://slsoft.ru/products/polymatica/
Author: Polymatica Rus LLC
Author-email: polymatica_support@slsoft.ru
License: MIT
Keywords: polymatica
Classifier: Development Status :: 5 - Production/Stable
Classifier: Intended Audience :: End Users/Desktop
Classifier: Operating System :: OS Independent
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
License-File: LICENSE.txt
Requires-Dist: setuptools
Requires-Dist: numpy==1.19.5; python_version < "3.9"
Requires-Dist: numpy>1.21.1; python_version >= "3.9"
Requires-Dist: pandas<=1.2.5,>=1.1.5; python_version < "3.9"
Requires-Dist: pandas>2.0.0; python_version >= "3.9"
Requires-Dist: requests>=2.27.1
Requires-Dist: pydantic<=2.5.3,>=1.9.2
Requires-Dist: packaging
Dynamic: author
Dynamic: author-email
Dynamic: classifier
Dynamic: description
Dynamic: home-page
Dynamic: keywords
Dynamic: license
Dynamic: license-file
Dynamic: requires-dist
Dynamic: summary


# Основные сведения
Библиотека предназначена для работы с Polymatica API.

# Работа с библиотекой
Основным модулем бизнес-логики является файл business_scenarios.py, 
импортировать который можно с помощью команды ``from polymatica import business_scenarios as sc``.

Модуль предоставляет два класса для работы с Полиматикой - ``BusinessLogic`` и ``GetDataChunk``. 
Методы этих классов можно посмотреть при помощи стандартной функции ``dir()``.

Аргументы функций и прочую docstring-документацию модуля и функций можно посмотреть 
при помощи стандартной функции ``help()``.

### Инициализация нового клиентского подключения: 
``session = sc.BusinessLogic(login="your_login", password="your_password", url="polymatica_server_url", **args)``

### Пример создания слоя и воспроизведения сценария на этом слое с использованием PolyAPI

Создадим слой:
``session.execute_manager_command(command_name="user_layer", state="create_layer")``

Запросим список сценариев:
``session.execute_manager_command(command_name="scripts", state="get_script_descriptions_list")``

Загрузим сценарий на слой, используя полученные на предыдущих шагах идентификаторы слоя и сценария:
``session.execute_manager_command(command_name="scripts", state="load_on_layer", runtime_id="d46b7075", script_id="40fc65db", on_load_action=0)``

Воспроизведем сценарий:
``session.execute_manager_command(command_name="scripts", state="play_to_position", runtime_id="d46b7075", script_id="40fc65db", play_to_position=23, clear_workspace=True)``

Получим статус воспроизведения сценария:
``session.execute_manager_command(command_name="scripts", state="get_script_status", runtime_id="d46b7075")``

Получили ответ, из которого видим, что сценарий воспроизведен успешно:
``{'state': 1, 'queries': [{'uuid': '872bdbde-20b9f734-2a5a5ad5-9b08e670', 'command': {'plm_type_code': 227, 'state': 6, 'script_status': {'id': '40fc65db', 'action_name': '', 'status': 3, 'current_step': 24, 'steps_count': 24, 'errors': []}}}]}``

Получим информацию о слое:
``session.execute_manager_command(command_name="user_layer", state="get_layer", layer_id="d46b7075")``
