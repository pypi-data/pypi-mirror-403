# Copyright 2025 Biglup Labs.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

[build-system]
requires = ["setuptools>=61.0", "wheel", "cffi>=1.16.0"]
build-backend = "setuptools.build_meta"

[project]
name = "biglup-cometa"
version = "1.2.1.post5"
description = "Python bindings for libcardano-c (Cometa project)"
authors = [
    { name = "Angel Castillo", email = "angel.castillob@prototnmail.io" },
]
license = { file = "LICENSE" }
readme = "README.md"
requires-python = ">=3.9"
classifiers = [
    "Programming Language :: Python :: 3",
    "License :: OSI Approved :: Apache Software License",
    "Operating System :: OS Independent",
]

dependencies = [
    "cffi>=1.16.0",
]

[tool.setuptools]
package-dir = { "" = "src" }

[tool.setuptools.packages.find]
where = ["src"]

[tool.setuptools.package-data]
cometa = [
    "_cdef/*.cdef",
    "_cardano_cffi.py",
    "_aiken_cffi.py",
]

# Note: Native binaries are only included in wheel builds, not sdist.
# For source installs (pip install --no-binary), users must provide:
#   - libcardano-c: https://github.com/Biglup/cardano-c
#   - libaiken_c: https://github.com/Biglup/aiken-c-ffi
# Install to /usr/lib or set LD_LIBRARY_PATH before importing cometa.

[project.urls]
Homepage = "https://cometa.dev"
Source = "https://github.com/Biglup/cometa.py"
Issues  = "https://github.com/Biglup/cometa.py/issues"

[tool.pylint.main]
fail-on = ["I", "R", "C", "W", "E", "F"]

[tool.pylint.master]
ignore = [
    "vendor",
    "__pycache__",
    "migrations",
    "tests",
    "_cardano_cffi.py",
    "_aiken_cffi.py",
]

[tool.pylint.format]
max-line-length = 150

[tool.pylint."messages control"]
disable = [
    "W0212", # Access to protected member
    "R0903", # Too few public methods
    "C0301", # Line too long
    "R0904", # Too many public methods
    "R0911", # Too many return statements
    "R0801", # Similar lines in X files
    "W4904", # Using deprecated module
    "C0415", # Import outside toplevel (needed for circular import avoidance)
    "R0913", # Too many arguments,
    "R0917", # Too many positional arguments
    "E0611", # No name in module (false positive with lazy imports using __getattr__)
]