# generated by datamodel-codegen:
#   filename:  type/ownerConfig.json
#   timestamp: 2026-01-30T06:35:57+00:00

from __future__ import annotations

from typing import Any, Dict, List, Optional, Union

from pydantic import ConfigDict, Field, RootModel
from typing_extensions import Annotated

from metadata.ingestion.models.custom_pydantic import BaseModel


class OwnerValue1(RootModel[List[Any]]):
    root: Annotated[
        List[Any],
        Field(
            description='Multiple owners (must be all users OR single team, cannot mix)',
            min_length=1,
        ),
    ]


class OwnerValue(RootModel[Union[str, OwnerValue1]]):
    root: Annotated[
        Union[str, OwnerValue1],
        Field(
            description='Single owner or list of owners. Business rules: multiple users allowed, only ONE team allowed, users and teams are mutually exclusive.'
        ),
    ]


class OwnerConfiguration(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    default: Annotated[
        Optional[str],
        Field(
            None,
            description='Default owner applied to all entities when no specific owner is configured (user or team name/email)',
            examples=['data-engineering-team', 'admin@company.com'],
        ),
    ]
    service: Annotated[
        Optional[str], Field(None, description='Owner for the service level')
    ]
    database: Annotated[
        Optional[Union[str, Dict[str, OwnerValue]]],
        Field(
            None,
            description='Owner for database entities. Can be a single owner for all databases, or a map of database names to owner(s).',
        ),
    ]
    databaseSchema: Annotated[
        Optional[Union[str, Dict[str, OwnerValue]]],
        Field(
            None,
            description='Owner for schema entities. Can be a single owner for all schemas, or a map of schema FQNs to owner(s).',
        ),
    ]
    table: Annotated[
        Optional[Union[str, Dict[str, OwnerValue]]],
        Field(
            None,
            description='Owner for table entities. Can be a single owner for all tables, or a map of table FQNs to owner(s).',
        ),
    ]
    enableInheritance: Annotated[
        Optional[bool],
        Field(
            True,
            description="Enable child entities to inherit owner from parent entities when they don't have a specific owner configured",
        ),
    ]
