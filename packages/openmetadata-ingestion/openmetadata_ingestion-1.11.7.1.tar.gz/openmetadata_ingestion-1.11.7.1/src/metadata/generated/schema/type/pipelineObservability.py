# generated by datamodel-codegen:
#   filename:  type/pipelineObservability.json
#   timestamp: 2026-01-30T06:35:57+00:00

from __future__ import annotations

from enum import Enum
from typing import Optional

from pydantic import ConfigDict, Field
from typing_extensions import Annotated

from metadata.ingestion.models.custom_pydantic import BaseModel

from ..entity.services import pipelineService
from . import basic, entityReference


class LastRunStatus(Enum):
    Successful = 'Successful'
    Failed = 'Failed'
    Pending = 'Pending'
    Skipped = 'Skipped'
    Running = 'Running'


class PipelineObservability(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    pipeline: Annotated[
        entityReference.EntityReference,
        Field(description='Reference to the pipeline that processes this data asset.'),
    ]
    serviceType: Annotated[
        Optional[pipelineService.PipelineServiceType],
        Field(None, description='Type of pipeline service'),
    ]
    scheduleInterval: Annotated[
        Optional[str],
        Field(None, description='Schedule interval for the pipeline in cron format.'),
    ]
    startTime: Annotated[
        Optional[basic.Timestamp],
        Field(None, description='Start time of the pipeline schedule.'),
    ]
    endTime: Annotated[
        Optional[basic.Timestamp],
        Field(None, description='End time of the pipeline schedule.'),
    ]
    lastRunTime: Annotated[
        Optional[basic.Timestamp],
        Field(None, description='Timestamp of the last pipeline execution.'),
    ]
    lastRunStatus: Annotated[
        Optional[LastRunStatus],
        Field(None, description='Status of the last pipeline execution.'),
    ]
    averageRunTime: Annotated[
        Optional[float],
        Field(None, description='Average runtime of the pipeline in milliseconds.'),
    ]
