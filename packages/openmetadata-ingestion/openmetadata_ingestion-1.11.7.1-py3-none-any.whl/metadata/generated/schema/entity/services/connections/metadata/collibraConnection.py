# generated by datamodel-codegen:
#   filename:  entity/services/connections/metadata/collibraConnection.json
#   timestamp: 2026-01-30T06:35:57+00:00

from __future__ import annotations

from enum import Enum
from typing import Optional

from pydantic import AnyUrl, ConfigDict, Field
from typing_extensions import Annotated

from metadata.ingestion.models.custom_pydantic import BaseModel, CustomSecretStr

from .....type import filterPattern
from .. import connectionBasicType


class CollibraType(Enum):
    Collibra = 'Collibra'


class CollibraConnection(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    type: Annotated[
        Optional[CollibraType], Field(CollibraType.Collibra, description='Service Type')
    ]
    username: Annotated[
        str,
        Field(
            description='Username to connect to the Collibra. This user should have privileges to read all the metadata in Collibra.'
        ),
    ]
    password: Annotated[
        CustomSecretStr, Field(description='Password to connect to the Collibra.')
    ]
    hostPort: Annotated[
        AnyUrl,
        Field(
            description='Host and port of the Collibra service.', title='Host and Port'
        ),
    ]
    glossaryFilterPattern: Annotated[
        Optional[filterPattern.FilterPattern],
        Field(
            None,
            description='Regex to only include/exclude glossaries that match the pattern.',
            title='Glossary Filter Pattern',
        ),
    ]
    domainFilterPattern: Annotated[
        Optional[filterPattern.FilterPattern],
        Field(
            None,
            description='Regex to only include/exclude domains that match the pattern.',
            title='Domain Filter Pattern',
        ),
    ]
    enableEnrichment: Annotated[
        Optional[bool],
        Field(
            False,
            description='Enable enrichment of existing OpenMetadata assets with Collibra metadata (descriptions, tags, owners). When enabled, the connector will match Collibra assets to OpenMetadata entities and apply metadata without creating new assets.',
            title='Enable Asset Enrichment',
        ),
    ]
    connectionOptions: Optional[connectionBasicType.ConnectionOptions] = None
    connectionArguments: Optional[connectionBasicType.ConnectionArguments] = None
    supportsMetadataExtraction: Optional[
        connectionBasicType.SupportsMetadataExtraction
    ] = None
