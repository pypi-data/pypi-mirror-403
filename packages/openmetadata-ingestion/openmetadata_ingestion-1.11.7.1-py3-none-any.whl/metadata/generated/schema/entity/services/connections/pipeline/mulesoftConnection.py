# generated by datamodel-codegen:
#   filename:  entity/services/connections/pipeline/mulesoftConnection.json
#   timestamp: 2026-01-30T06:35:57+00:00

from __future__ import annotations

from enum import Enum
from typing import Optional, Union

from pydantic import AnyUrl, ConfigDict, Field
from typing_extensions import Annotated

from metadata.ingestion.models.custom_pydantic import BaseModel

from .....security.credentials import basicAuth
from .....type import filterPattern
from .. import connectionBasicType
from .airbyte import oauthClientAuth


class MulesoftType(Enum):
    Mulesoft = 'Mulesoft'


class MulesoftConnection(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    type: Annotated[
        Optional[MulesoftType],
        Field(MulesoftType.Mulesoft, description='Service Type', title='Service Type'),
    ]
    hostPort: Annotated[
        Optional[AnyUrl],
        Field(
            'https://anypoint.mulesoft.com',
            description='MuleSoft Anypoint Platform URL. Use https://anypoint.mulesoft.com for US cloud, https://eu1.anypoint.mulesoft.com for EU cloud, or your on-premises URL.',
            title='Host And Port',
        ),
    ]
    authentication: Annotated[
        Union[
            basicAuth.BasicAuth, oauthClientAuth.Oauth20ClientCredentialsAuthentication
        ],
        Field(
            description='Choose between Connected App (OAuth 2.0) or Basic Authentication.',
            title='Authentication',
        ),
    ]
    organizationId: Annotated[
        Optional[str],
        Field(
            None,
            description="Anypoint Platform Organization ID. If not provided, the connector will use the user's default organization.",
            title='Organization ID',
        ),
    ]
    environmentId: Annotated[
        Optional[str],
        Field(
            None,
            description='Anypoint Platform Environment ID. If not provided, the connector will discover all accessible environments.',
            title='Environment ID',
        ),
    ]
    pipelineFilterPattern: Annotated[
        Optional[filterPattern.FilterPattern],
        Field(
            None,
            description='Regex to filter MuleSoft applications by name.',
            title='Application Filter Pattern',
        ),
    ]
    supportsMetadataExtraction: Annotated[
        Optional[connectionBasicType.SupportsMetadataExtraction],
        Field(None, title='Supports Metadata Extraction'),
    ]
