# generated by datamodel-codegen:
#   filename:  type/pipelineSummary.json
#   timestamp: 2026-01-30T06:35:57+00:00

from __future__ import annotations

from enum import Enum
from typing import List, Optional
from uuid import UUID

from pydantic import ConfigDict, Field
from typing_extensions import Annotated

from metadata.ingestion.models.custom_pydantic import BaseModel

from ..entity.services import pipelineService
from . import basic


class LastRunStatus(Enum):
    Successful = 'Successful'
    Failed = 'Failed'
    Pending = 'Pending'
    Skipped = 'Skipped'
    Running = 'Running'
    NoneType_None = None


class PipelineSummary(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    pipelineId: Annotated[UUID, Field(description='Unique identifier of the pipeline')]
    pipelineName: Annotated[str, Field(description='Name of the pipeline')]
    pipelineFqn: Annotated[
        str, Field(description='Fully qualified name of the pipeline')
    ]
    serviceType: Annotated[
        pipelineService.PipelineServiceType,
        Field(description='Type of pipeline service'),
    ]
    startTime: Annotated[
        Optional[basic.Timestamp],
        Field(None, description='Start time of the pipeline schedule'),
    ]
    endTime: Annotated[
        Optional[basic.Timestamp],
        Field(None, description='End time of the pipeline schedule'),
    ]
    lastRunTime: Annotated[
        Optional[basic.Timestamp],
        Field(None, description='Timestamp of last pipeline execution'),
    ]
    lastRunStatus: Annotated[
        Optional[LastRunStatus], Field(None, description='Status of last execution')
    ]
    scheduleInterval: Annotated[
        Optional[str],
        Field(None, description='Schedule interval as stored in pipeline'),
    ]
    impactedAssetsCount: Annotated[
        int, Field(description='Total count of tables impacted by this pipeline')
    ]
    impactedAssets: Annotated[
        Optional[List[str]],
        Field(
            [],
            description='List of fully qualified names of tables impacted by this pipeline',
        ),
    ]
