[build-system]
# XXX: If your project needs other packages to build properly, add them to this list.
requires = ["setuptools >= 64"]
build-backend = "setuptools.build_meta"

[project]
name = "tabsim"
version = "0.0.13"
license = {file = "LICENSE"}
readme = "README.md"
# dynamic = ["version", "readme"]
authors = [
  {name = "Chris Finlay", email = "christopher.finlay@epfl.ch"},
]
maintainers = [
  {name = "Chris Finlay", email = "christopher.finlay@epfl.ch"}
]
description = "Trajectory-based Radio Frequency Interference (RFI) simulations for radio interferometeric data."

requires-python = ">=3.9"
dependencies = [
    "jax", "dask", "xarray", "zarr<3.0.0",
    "dask-ms>=0.2.21", "scipy", "tqdm", "matplotlib",
    "astropy", "spacetrack", "skyfield", "numpy", "pyyaml",
]

[project.optional-dependencies]
gpu = ["jax[cuda12]"]
sat = ["regions"]
# ps = ["TGEpy @ git+https://github.com/chrisfinlay/TGEpy.git"]
# all = ["jax[cuda12]", "regions", "bdsf", "TGEpy @ git+https://github.com/chrisfinlay/TGEpy.git"]
# all_cpu = ["regions", "bdsf", "TGEpy @ git+https://github.com/chrisfinlay/TGEpy.git"]
ipy = ["ipython", "ipykernel"]
test = ["pytest"]
docs = ["sphinx", "sphinx-rtd-theme"]

[project.urls]
Repository = "https://github.com/chrisfinlay/tab-sim.git"

[tool.setuptools.packages.find]
where = ["."]

[tool.setuptools]
include-package-data = true

[tool.setuptools.package-data]
tabsim = ["data/**/*"]

[project.scripts]
tle-region = "tabsim.scripts.tle_sat_region:main"
ast-region = "tabsim.scripts.ast_region:main"
flag-data = "tabsim.scripts.flag_data:main"
sim-vis = "tabsim.scripts.sim_vis:main"
write-config = "tabsim.scripts.write_config_from_ms:main"
tabsim-setup-spacetrack = "tabsim.scripts.setup_spacetrack_login:main"
tabsim-import-tles = "tabsim.scripts.import_tle_files:main"
