<?xml version="1.0" encoding="UTF-8"?>
<testmodule starttime="2024-01-25T10:00:00">
  <testsetup>
    <xinfo name="Test Module Name">
      <description>UDS Diagnostic Tests</description>
    </xinfo>
  </testsetup>
  
  <testgroup>
    <title>UDS Communication</title>
    
    <testcase timestamp="100.0">
      <title>UDS_Read_DID_F190</title>
      
      <teststep timestamp="100.5" result="pass" level="0" type="user" ident="I-001">
        Sending UDS Read Data By Identifier request
      </teststep>
      
      <teststep timestamp="101.0" result="fail" level="0" type="auto" ident="TS-FAIL">
        Response mismatch
        <tabularinfo>
          <row>
            <cell>Request</cell>
            <cell>22 F1 90</cell>
            <cell>0x22F190</cell>
          </row>
          <row>
            <cell>Expected</cell>
            <cell>62 F1 90 AB CD</cell>
            <cell>0x62F190ABCD</cell>
          </row>
          <row>
            <cell>Actual</cell>
            <cell>7F 22 31</cell>
            <cell>0x7F2231</cell>
          </row>
        </tabularinfo>
      </teststep>
      
      <verdict timestamp="102.0" result="fail" />
    </testcase>
    
    <testcase timestamp="105.0">
      <title>UDS_Read_DTC_Memory</title>
      
      <testpattern>
        <title>DTC Read Pattern</title>
      </testpattern>
      
      <teststep timestamp="105.5" result="pass" level="0" type="user" ident="I-001">
        Request: Read DTC by status mask
      </teststep>
      
      <teststep timestamp="106.0" result="pass" level="0" type="user" ident="I-002">
        Request sent: 19 02 FF
      </teststep>
      
      <teststep timestamp="106.5" result="fail" level="0" type="auto" ident="TS-FAIL">
        DTC count mismatch
        <tabularinfo>
          <row>
            <cell>Service</cell>
            <cell>ReadDTCInformation</cell>
            <cell>0x19</cell>
          </row>
          <row>
            <cell>SubFunction</cell>
            <cell>reportDTCByStatusMask</cell>
            <cell>0x02</cell>
          </row>
          <row>
            <cell>StatusMask</cell>
            <cell>All DTCs</cell>
            <cell>0xFF</cell>
          </row>
          <row>
            <cell>Expected DTCs</cell>
            <cell>2</cell>
            <cell></cell>
          </row>
          <row>
            <cell>Actual DTCs</cell>
            <cell>0</cell>
            <cell></cell>
          </row>
        </tabularinfo>
      </teststep>
      
      <verdict timestamp="107.0" result="fail" />
    </testcase>
  </testgroup>
</testmodule>