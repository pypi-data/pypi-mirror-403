Metadata-Version: 2.3
Name: py4writers
Version: 0.9.2
Summary: Python library for 4writers.net automation
Author: socalmy
Author-email: sergeitoropov2003@gmail.com
Requires-Python: >=3.12,<4.0
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Requires-Dist: aiohttp (>=3.11.10,<4.0.0)
Requires-Dist: bs4 (>=0.0.2,<0.0.3)
Requires-Dist: build (>=1.2.2.post1,<2.0.0)
Requires-Dist: certifi (>=2024.8.30,<2025.0.0)
Requires-Dist: envparse (>=0.2.0,<0.3.0)
Requires-Dist: lxml (>=5.3.0,<6.0.0)
Requires-Dist: setuptools (>=75.7.0,<76.0.0)
Description-Content-Type: text/markdown

# py4writers

[![PyPI version](https://badge.fury.io/py/py4writers.svg)](https://badge.fury.io/py/py4writers)
[![Python 3.12+](https://img.shields.io/badge/python-3.12+-blue.svg)](https://www.python.org/downloads/)

Python –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å [4writers.net](https://4writers.net) - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞–º–∏ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π.

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîê **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–µ–π
- üìã **–ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤** - –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–∫–∞–∑—ã (free orders) –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ (completed orders)
- üìÑ **–†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏** - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤ –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ
- üîÑ **Retry –º–µ—Ö–∞–Ω–∏–∑–º** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Å–µ—Ç–∏
- ‚ö° **Rate limiting** - –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–¥–æ 10 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
- üéØ **Context manager** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ —á–µ—Ä–µ–∑ `async with`
- üõ°Ô∏è **Type hints** - –ø–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –¥–ª—è IDE autocomplete
- üìä **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install py4writers
```

–ò–ª–∏ —á–µ—Ä–µ–∑ poetry:

```bash
poetry add py4writers
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```python
import asyncio
from py4writers import API

async def main():
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º context manager –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
    async with API(login="your_login", password="your_password") as api:
        # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
        await api.login()

        # –ü–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–∫–∞–∑—ã
        orders = await api.get_orders(page=1, page_size=50)

        for order in orders:
            print(f"üì¶ {order.order_id}: {order.title}")
            print(f"üí∞ ${order.total:.2f} | ‚è∞ {order.deadline}")
            if order.description:
                print(f"üìù {order.description[:100]}...")

if __name__ == "__main__":
    asyncio.run(main())
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å .env —Ñ–∞–π–ª–æ–º

```python
import asyncio
from py4writers import API
from envparse import env

# –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
env.read_envfile(".env")
LOGIN = env.str("LOGIN")
PASSWORD = env.str("PASSWORD")

async def main():
    async with API(login=LOGIN, password=PASSWORD) as api:
        await api.login()
        orders = await api.get_orders()
        print(f"–ù–∞–π–¥–µ–Ω–æ –∑–∞–∫–∞–∑–æ–≤: {len(orders)}")

asyncio.run(main())
```

## üìö –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–∫–∞–∑—ã —Å—Ä–∞–∑—É (–≤ –ø–∞–º—è—Ç—å)

```python
async with API(login=LOGIN, password=PASSWORD) as api:
    await api.login()

    # –ü–æ–ª—É—á–∏—Ç—å –∑–∞–∫–∞–∑—ã —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
    orders = await api.get_orders(
        page=1,
        page_size=50,
        category="essay"
    )

    for order in orders:
        print(f"Order #{order.order_id}")
        print(f"  –ù–∞–∑–≤–∞–Ω–∏–µ: {order.title}")
        print(f"  –í—Å–µ–≥–æ: ${order.total:.2f}")
```

#### –í–∞—Ä–∏–∞–Ω—Ç B: Streaming —á–µ—Ä–µ–∑ async generator (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```python
async with API(login=LOGIN, password=PASSWORD) as api:
    await api.login()

    # –ü–æ–ª—É—á–∞–µ–º –∑–∞–∫–∞–∑—ã –ø–æ –æ–¥–Ω–æ–º—É (–Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ –≤ –ø–∞–º—è—Ç—å)
    async for order in api.iter_orders(page=1, page_size=50, max_pages=3):
        print(f"üì¶ Order #{order.order_id}")
        print(f"  –ù–∞–∑–≤–∞–Ω–∏–µ: {order.title}")
        print(f"  –¢–µ–º–∞: {order.subject}")
        print(f"  –¢–∏–ø: {order.order_type}")
        print(f"  –£—Ä–æ–≤–µ–Ω—å: {order.academic_level}")
        print(f"  –°—Ç—Ä–∞–Ω–∏—Ü: {order.pages}")
        print(f"  –ò—Å—Ç–æ—á–Ω–∏–∫–æ–≤: {order.sources}")
        print(f"  –°—Ç–∏–ª—å: {order.style}")
        print(f"  –Ø–∑—ã–∫: {order.language}")
        print(f"  –î–µ–¥–ª–∞–π–Ω: {order.deadline}")
        print(f"  –û—Å—Ç–∞–ª–æ—Å—å –≤—Ä–µ–º–µ–Ω–∏: {order.remaining}")
        print(f"  –ó–∞—Ä–ø–ª–∞—Ç–∞: ${order.salary:.2f}")
        print(f"  –ë–æ–Ω—É—Å: ${order.bonus:.2f}")
        print(f"  –í—Å–µ–≥–æ: ${order.total:.2f}")
        print(f"  –û–ø–∏—Å–∞–Ω–∏–µ: {order.description}")

        # –ú–æ–∂–Ω–æ –ø—Ä–µ—Ä–≤–∞—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
        if order.total > 50.0:
            print("–ù–∞—à–ª–∏ –¥–æ—Ä–æ–≥–æ–π –∑–∞–∫–∞–∑, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—Å—è!")
            break
```

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–∫–∞–∑—ã —Å—Ä–∞–∑—É

```python
async with API(login=LOGIN, password=PASSWORD) as api:
    await api.login()

    # –ü–æ–ª—É—á–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã
    completed = await api.get_completed_orders(page=1)

    for order in completed:
        print(f"‚úÖ Order #{order.order_id}")
        print(f"  –ù–∞–∑–≤–∞–Ω–∏–µ: {order.title}")
        print(f"  –í–∞—à–∞ –≤—ã–ø–ª–∞—Ç–∞: ${order.your_payment:.2f}")
        print(f"  –†–∞–±–æ—Ç–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞: ${order.editor_work:.2f}")
        print(f"  –°—Ç—Ä–∞–Ω–∏—Ü: {order.pages}")
        print(f"  –û–ø–∏—Å–∞–Ω–∏–µ: {order.description}")
        print(f"  –§–∞–π–ª–æ–≤: {len(order.files) if order.files else 0}")
```

#### –í–∞—Ä–∏–∞–Ω—Ç B: Streaming (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```python
async with API(login=LOGIN, password=PASSWORD) as api:
    await api.login()

    # –ü–æ–ª—É—á–∞–µ–º –∑–∞–∫–∞–∑—ã –ø–æ –æ–¥–Ω–æ–º—É
    async for order in api.iter_completed_orders():
        print(f"‚úÖ Order #{order.order_id}: {order.title}")
        print(f"  üí∞ –í–∞—à–∞ –≤—ã–ø–ª–∞—Ç–∞: ${order.your_payment:.2f}")
        print(f"  üìù –û–ø–∏—Å–∞–Ω–∏–µ: {order.description[:100]}...")

        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ñ–∞–π–ª—ã —Å—Ä–∞–∑—É
        if order.files:
            for file in order.files:
                print(f"    üìÅ {file.name}")
```

### 3. –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã —Å—Ä–∞–∑—É

```python
async with API(login=LOGIN, password=PASSWORD) as api:
    await api.login()

    # –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –∑–∞–∫–∞–∑–∞
    files = await api.get_order_files(order_index=2569038)

    for file in files:
        print(f"üìÅ {file.name}")
        print(f"  ID: {file.id}")
        print(f"  –ê–≤—Ç–æ—Ä: {file.author}")
        print(f"  –î–∞—Ç–∞: {file.date}")

        # –°–∫–∞—á–∏–≤–∞–µ–º —Ñ–∞–π–ª
        file_bytes = await api.download_file(file.id)

        if file_bytes:
            # –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞ –¥–∏—Å–∫
            with open(f"downloaded_{file.name}", "wb") as f:
                f.write(file_bytes)
            print(f"  ‚úÖ –°–∫–∞—á–∞–Ω: {len(file_bytes):,} –±–∞–π—Ç")
```

#### –í–∞—Ä–∏–∞–Ω—Ç B: Streaming —Ñ–∞–π–ª–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```python
async with API(login=LOGIN, password=PASSWORD) as api:
    await api.login()

    # –°–∫–∞—á–∏–≤–∞–µ–º —Ñ–∞–π–ª—ã –ø–æ –æ–¥–Ω–æ–º—É (—ç–∫–æ–Ω–æ–º–∏—Ç –ø–∞–º—è—Ç—å)
    async for file in api.iter_order_files(order_index=2569038):
        print(f"üìÅ –°–∫–∞—á–∏–≤–∞–µ–º: {file.name}")

        # –°–∫–∞—á–∏–≤–∞–µ–º –∏ —Å—Ä–∞–∑—É —Å–æ—Ö—Ä–∞–Ω—è–µ–º
        file_bytes = await api.download_file(file.id)
        if file_bytes:
            with open(f"downloads/{file.name}", "wb") as f:
                f.write(file_bytes)
            print(f"  ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω: {len(file_bytes):,} –±–∞–π—Ç")
```

### 4. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –∑–∞–∫–∞–∑–∞

```python
async with API(login=LOGIN, password=PASSWORD) as api:
    await api.login()

    # –î–ª—è –æ–±—ã—á–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞
    description = await api.fetch_order_details(
        order_index=2569038,
        is_completed=False
    )

    # –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞
    description = await api.fetch_order_details(
        order_index=2569038,
        is_completed=True
    )

    print(f"–û–ø–∏—Å–∞–Ω–∏–µ: {description}")
```

### 5. –í–∑—è—Ç–∏–µ –∑–∞–∫–∞–∑–∞ –≤ —Ä–∞–±–æ—Ç—É

```python
async with API(login=LOGIN, password=PASSWORD) as api:
    await api.login()

    # –ë–µ—Ä–µ–º –∑–∞–∫–∞–∑ –ø–æ –∏–Ω–¥–µ–∫—Å—É
    success = await api.take_order(order_index=2569038)

    if success:
        print("‚úÖ –ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –≤–∑—è—Ç!")
    else:
        print("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –≤–∑—è—Ç—å –∑–∞–∫–∞–∑")
```

## üìä –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### Order

```python
@dataclass
class Order:
    order_id: str           # ID –∑–∞–∫–∞–∑–∞
    order_index: int        # –ò–Ω–¥–µ–∫—Å –∑–∞–∫–∞–∑–∞ (–¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤)
    title: str              # –ù–∞–∑–≤–∞–Ω–∏–µ
    subject: str            # –¢–µ–º–∞
    deadline: str           # –î–µ–¥–ª–∞–π–Ω
    remaining: str          # –û—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è
    order_type: str         # –¢–∏–ø —Ä–∞–±–æ—Ç—ã (Essay, Research Paper, etc.)
    academic_level: str     # –ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å
    style: str              # –°—Ç–∏–ª—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è (APA, MLA, etc.)
    language: str           # –Ø–∑—ã–∫
    pages: Optional[int]    # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü
    sources: Optional[int]  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
    salary: Optional[float] # –ó–∞—Ä–ø–ª–∞—Ç–∞
    bonus: Optional[float]  # –ë–æ–Ω—É—Å
    total: Optional[float]  # –ò—Ç–æ–≥–æ
    description: Optional[str]      # –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
    files: Optional[List[File]]     # –§–∞–π–ª—ã –∑–∞–∫–∞–∑–∞
    editor_work: Optional[float]    # –†–∞–±–æ—Ç–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ (completed)
    your_payment: Optional[float]   # –í–∞—à–∞ –≤—ã–ø–ª–∞—Ç–∞ (completed)
```

### File

```python
@dataclass
class File:
    id: int         # ID —Ñ–∞–π–ª–∞
    name: str       # –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
    author: str     # –ê–≤—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
    date: str       # –î–∞—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ API –∫–ª–∏–µ–Ω—Ç–∞

```python
from py4writers import API

# –° credentials
api = API(login="user", password="pass")

# –° –∫–∞—Å—Ç–æ–º–Ω—ã–º HTTP –∫–ª–∏–µ–Ω—Ç–æ–º
from py4writers.client.aiohttp import AiohttpClient

http_client = AiohttpClient(timeout=60)
api = API(
    login="user",
    password="pass",
    http_client=http_client
)

# Context manager (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
async with API(login="user", password="pass") as api:
    await api.login()
    # –≤–∞—à –∫–æ–¥
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```python
import logging

# –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)

# –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
logging.basicConfig(level=logging.DEBUG)
```

## üõ°Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```python
from py4writers import API
from py4writers.exceptions import (
    AuthenticationError,
    SessionExpiredError,
    NetworkError,
    ParsingError
)

async with API(login=LOGIN, password=PASSWORD) as api:
    try:
        await api.login()
        orders = await api.get_orders()

    except AuthenticationError as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏: {e}")

    except SessionExpiredError as e:
        print(f"‚è∞ –°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞: {e}")
        # API –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è

    except NetworkError as e:
        print(f"üåê –°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞: {e}")
        # Retry –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç –∑–∞–ø—Ä–æ—Å

    except ParsingError as e:
        print(f"üìÑ –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞: {e}")
```

## üîß –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### Async Generators (Streaming)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `iter_*` –º–µ—Ç–æ–¥–æ–≤:**

1. üöÄ **–ú–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏** - –∑–∞–∫–∞–∑—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤—Å–µ —Å—Ä–∞–∑—É
2. ‚ö° **–ë—ã—Å—Ç—Ä–µ–µ –Ω–∞—á–∞–ª–æ** - –ø–µ—Ä–≤—ã–π –∑–∞–∫–∞–∑ –¥–æ—Å—Ç—É–ø–µ–Ω –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ
3. üîÑ **–ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ** - –º–æ–∂–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç —á–µ—Ä–µ–∑ `break`
4. üìä **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ö–æ–¥–∏—Ç –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

```python
async with API(login=LOGIN, password=PASSWORD) as api:
    await api.login()

    # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–µ 100 –∑–∞–∫–∞–∑–æ–≤ –∏–∑ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
    count = 0
    async for order in api.iter_orders(max_pages=None):  # None = –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        print(f"{order.order_id}: ${order.total}")

        count += 1
        if count >= 100:
            break  # –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—Å—è –ø–æ—Å–ª–µ 100 –∑–∞–∫–∞–∑–æ–≤

    # –°–∫–∞—á–∏–≤–∞–µ–º –≤—Å–µ —Ñ–∞–π–ª—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞
    async for order in api.iter_completed_orders():
        print(f"\nüì¶ {order.title}")

        async for file in api.iter_order_files(order.order_index):
            print(f"  üìÅ {file.name}")
            file_bytes = await api.download_file(file.id)
            # –°—Ä–∞–∑—É –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –±–µ–∑ —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏
            process_file(file.name, file_bytes)
```

### Rate Limiting

API –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10):

```python
from py4writers.utils.rate_limiter import RateLimiter

# –ö–∞—Å—Ç–æ–º–Ω—ã–π –ª–∏–º–∏—Ç
rate_limiter = RateLimiter(max_concurrent=5)
api = API(
    login=LOGIN,
    password=PASSWORD,
    rate_limiter=rate_limiter
)
```

### Retry –º–µ—Ö–∞–Ω–∏–∑–º

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫:

```python
from py4writers.utils.retry import async_retry
from py4writers.exceptions import NetworkError

@async_retry(
    max_attempts=3,
    delay=1.0,
    backoff=2.0,
    exceptions=(NetworkError,)
)
async def my_function():
    # –≤–∞—à –∫–æ–¥
    pass
```

## üìù –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.12+
- aiohttp
- beautifulsoup4
- lxml
- certifi

## üîÑ Changelog

### [0.8.0] - 2026-01-17

#### ‚ú® Added
- **Async Generators**: –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è streaming
  - `iter_orders()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ –ø–æ –æ–¥–Ω–æ–º—É —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
  - `iter_completed_orders()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ –ø–æ –æ–¥–Ω–æ–º—É
  - `iter_order_files()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ø–æ –æ–¥–Ω–æ–º—É
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏, –±—ã—Å—Ç—Ä–µ–µ –Ω–∞—á–∞–ª–æ, –º–æ–∂–Ω–æ –ø—Ä–µ—Ä–≤–∞—Ç—å —á–µ—Ä–µ–∑ `break`

### [0.7.0] - 2026-01-17

#### üîÑ Breaking Changes
- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –º–æ–¥—É–ª—å `fourwritersapi` ‚Üí `py4writers`

### [0.6.1] - 2026-01-17

#### üîß Fixed
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ –æ–ø–∏—Å–∞–Ω–∏–π –¥–ª—è completed orders
- –î–æ–±–∞–≤–ª–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π endpoint –¥–ª—è completed order details

### [0.6.0] - 2026-01-17

#### ‚ú® Added
- Context Manager Support
- Custom Exceptions
- Retry Logic
- Rate Limiting
- OrderParser Class
- Pagination Support
- Better Logging

#### üîß Fixed
- Resource Leak –≤ AiohttpClient
- Session Expiration handling
- BeautifulSoup warnings
- Code duplication (200+ —Å—Ç—Ä–æ–∫)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## ü§ù –ö–æ–Ω—Ç—Ä–∏–±—å—é—Ü–∏—è

Pull requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! –î–ª—è –±–æ–ª—å—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ issue –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è.

## üìß –ö–æ–Ω—Ç–∞–∫—Ç—ã

- Author: socalmy
- Email: sergeitoropov2003@gmail.com
- PyPI: https://pypi.org/project/py4writers/

## ‚≠ê –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –±—ã–ª–∞ –ø–æ–ª–µ–∑–Ω–∞, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É –Ω–∞ GitHub!

