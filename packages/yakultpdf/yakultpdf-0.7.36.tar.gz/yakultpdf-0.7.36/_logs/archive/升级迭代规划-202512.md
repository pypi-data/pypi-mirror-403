# mark2pdf 升级迭代规划

> 编写日期：2025-12-22
> 状态：**配置层重构后修订版**

---

## 一、当前进展 (2025-12-22)

### 1.1 已完成里程碑 (Completed)
-   ✅ **P0 文档重写**: 主项目 README.md 及项目说明文档已全面更新。
-   ✅ **P4 核心架构升级**: 引入 `ConfigManager`，实现配置驱动。
-   ✅ **P4 工作区**: 支持 `init` 命令，实现“任意目录工作模式”。
-   ✅ **测试体系**: 单元测试扩充至 260 个，覆盖率显著提升。

### 1.2 遗留问题 (Pending)

-   ✅ **TOC 配置优化**: 移除了 `mark2pdf.config.toml` 中无效的 `toc_depth` 配置，明确了仅使用 Frontmatter 控制。

---

## 二、新版迭代规划

```text
优先级     阶段          内容                    预计工作量
────────────────────────────────────────────────────────
P0      收尾工作        (已完成/忽略)          -
P1      ...(忽略)
P2      功能补全        多封面、翻译支持            5 天
P3      生态建设        更多模板、文档网站          长期
```

---

## 三、P0：收尾工作 (立即执行)



---

## 四、P1

（忽略）

---

## 五、P2：功能补全

### 5.1 多封面支持
**场景**：同一文档需要“正式版封面”和“打印版封面”。
**方案**：扩展 `nb-cover-lib.typ`，支持通过 `cover-style` 参数切换。

### 5.2 双语翻译模式
**场景**：中英对照阅读。
**方案**：设计 `:::translate` 语法，Typst后端实现双栏对照布局。

---

## 六、长期规划

1.  **PyPI 发布**: 完善 CI/CD，实现自动化发布。
2.  **Web 界面**: 开发基于 Streamlit 或 WebUI 的简易图形界面。
3.  **模板市场**: 允许用户通过 URL 下载安装第三方模板。
