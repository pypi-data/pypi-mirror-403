[build-system]
requires = ["setuptools", "setuptools-scm", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name="fabric-data-agent-sdk"
authors = [
    { name = "Microsoft Corporation" },
]
version="0.1.17-alpha"
description="SDK for the Fabric Data Agent Library"
readme="README.md"
requires-python=">=3.10,<3.13"
classifiers = [
    "Development Status :: 3 - Alpha",
    "Intended Audience :: Developers",
    "Intended Audience :: Education",
    "Intended Audience :: Science/Research",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3 :: Only",
]
license= { text = "MIT License" }
dependencies = [
    "semantic-link-sempy>=0.8.0",
    "openai>=1.57.0",
    "httpx==0.27.2",
    "semantic-link-labs==0.9.10",
    "azure-kusto-data>=4.5.0",
    "azure-identity==1.17.1",
    "markdown2==2.5.3",
    "tabulate>=0.9.0"
]

[project.optional-dependencies]
test=[
    # Sempy uses this dependency but doesn't declare it
    "pyspark==3.5.1",
    "azure-storage-blob==12.20.0",
    "pytest==8.2.1",
    "pytest-cov==5.0.0",
    "python-dotenv==1.0.1",
    "papermill==2.6.0",
    "ipykernel==6.29.4",
    "requests-mock==1.12.1",
    "pyjwt==2.9.0",
    "synapseml-utils==1.0.26",
    "azure-identity==1.17.1",
    "azure-keyvault-secrets==4.8.0",
    "semantic-link-labs==0.9.10",
    "jinja2==3.1.6",
    "markupsafe==3.0.2"
]

dev=[
    "black[jupyter]",
]

[project.urls]
Repository = "https://msdata.visualstudio.com/DefaultCollection/A365/_git/SynapseML-Agent-SDK"

[tool.pip]
extra-index-url = ["https://pkgs.dev.azure.com/msdata/A365/_packaging/synapseml-agent/pypi/simple/", 
"https://pkgs.dev.azure.com/msdata/A365/_packaging/SynapseML-Enya/pypi/simple/"]

[tool.pyright]
typeCheckingMode = "standard"
exclude = [
    "build/",
]

[tool.black]
line-length = 88
skip-string-normalization = true

[tool.pytest.ini_options]
testpaths = ["tests"]
python_paths = ["src"]
addopts = "--cov=fabric --cov-report=xml --cov-report=html"
