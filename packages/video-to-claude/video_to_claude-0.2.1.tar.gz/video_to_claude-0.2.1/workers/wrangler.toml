name = "video-to-claude-remote"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Custom domain
routes = [
  { pattern = "api.ai-media-tools.dev", custom_domain = true }
]

# R2 bucket binding
[[r2_buckets]]
binding = "R2"
bucket_name = "video-to-claude-storage"

# KV namespace for OAuth tokens (create with: wrangler kv:namespace create OAUTH_KV)
[[kv_namespaces]]
binding = "OAUTH_KV"
id = "c26deb808bfe43d2a28115bb3f88495f"

# Environment variables (set via wrangler secret put)
# GITHUB_CLIENT_ID - GitHub OAuth App client ID
# GITHUB_CLIENT_SECRET - GitHub OAuth App client secret

[vars]
ENVIRONMENT = "production"

# Development overrides
[env.dev]
name = "video-to-claude-remote-dev"

[env.dev.vars]
ENVIRONMENT = "development"
