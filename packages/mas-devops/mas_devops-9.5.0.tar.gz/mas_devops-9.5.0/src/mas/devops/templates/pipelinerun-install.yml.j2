---
apiVersion: tekton.dev/v1beta1
kind: PipelineRun
metadata:
{%- if mas_instance_id is defined and mas_instance_id != "" %}
  name: "{{mas_instance_id}}-install-{{ timestamp }}"
{%- else %}
  name: "{{aiservice_instance_id}}-install-{{ timestamp }}"
{%- endif %}
  labels:
    tekton.dev/pipeline: mas-install
spec:
  pipelineRef:
    name: mas-install

  serviceAccountName: "{{ service_account_name | default('pipeline', True) }}"
  timeouts:
    pipeline: "0"

  params:
    # IBM Entitlement Key
    # -------------------------------------------------------------------------
    - name: ibm_entitlement_key
      value: "{{ ibm_entitlement_key }}"
{%- if skip_pre_check is defined and skip_pre_check != "" %}

    # Pipeline config
    # -------------------------------------------------------------------------
    - name: skip_pre_check
      value: "{{ skip_pre_check }}"
{%- endif %}
{%- if image_pull_policy is defined and image_pull_policy != "" %}

    # Image Pull Policy
    # -------------------------------------------------------------------------
    - name: image_pull_policy
      value: "{{ image_pull_policy }}"
{%- endif %}
{%- if ocp_ingress_tls_secret_name is defined and ocp_ingress_tls_secret_name != "" %}

    # Cluster config
    # -------------------------------------------------------------------------
    - name: ocp_ingress_tls_secret_name
      value: "{{ ocp_ingress_tls_secret_name }}"
{%- endif %}
{%- if artifactory_username is defined and artifactory_username != "" %}

    # Enable development catalogs
    # -------------------------------------------------------------------------
    - name: artifactory_username
      value: "{{ artifactory_username }}"
    - name: artifactory_token
      value: "{{ artifactory_token }}"
{%- endif %}
{%- if ibmcloud_apikey is defined and ibmcloud_resourcegroup != "" %}

    # IBM Cloud
    # -------------------------------------------------------------------------
    - name: ibmcloud_apikey
      value: "{{ ibmcloud_apikey }}"
    - name: ibmcloud_resourcegroup
      value: "{{ ibmcloud_resourcegroup }}"
{%- endif %}

    # Storage Classes
    # -------------------------------------------------------------------------
    - name: storage_class_rwx
      value: "{{ storage_class_rwx }}"
    - name: storage_class_rwo
      value: "{{ storage_class_rwo }}"
{%- if eck_action is defined and eck_action != "" %}

    # Dependencies - ECK
    # -------------------------------------------------------------------------
    - name: eck_action
      value: "{{ eck_action }}"

    - name: eck_enable_elasticsearch
      value: "{{ eck_enable_elasticsearch }}"
    - name: eck_enable_kibana
      value: "{{ eck_enable_kibana }}"
    - name: eck_enable_logstash
      value: "{{ eck_enable_logstash }}"
    - name: eck_enable_filebeat
      value: "{{ eck_enable_filebeat }}"

  {%- if eck_remote_es_hosts is defined and eck_remote_es_hosts != "" %}
    - name: eck_remote_es_hosts
      value: "{{ eck_remote_es_hosts }}"
    - name: eck_remote_es_username
      value: "{{ eck_remote_es_username }}"
    - name: eck_remote_es_password
      value: "{{ eck_remote_es_password }}"
  {%- endif %}
{%- endif %}
{%- if db2_action_system == "install" or db2_action_manage == "install" or db2_action_aiservice == "install" %}

    # Dependencies - Db2 - Actions
    # -------------------------------------------------------------------------
    - name: db2_action_system
      value: "{{ db2_action_system }}"
    - name: db2_action_manage
      value: "{{ db2_action_manage }}"
    - name: db2_action_facilities
      value: "{{ db2_action_facilities}}"
    - name: db2_action_aiservice
      value: "{{ db2_action_aiservice }}"   

    # Dependencies - Db2u Operator
    # -------------------------------------------------------------------------
    - name: db2_namespace
      value: "{{ db2_namespace }}"
    - name: db2_channel
      value: "{{ db2_channel }}"
    - name: db2_type
      value: "{{ db2_type }}"
    - name: db2_timezone
      value: "{{ db2_timezone }}"
  {%- if db2_meta_storage_accessmode is defined and db2_meta_storage_accessmode != "" %}

    # Dependencies - Db2 - Access Mode
    # -------------------------------------------------------------------------
    - name: db2_meta_storage_accessmode
      value: "{{ db2_meta_storage_accessmode }}"
    - name: db2_backup_storage_accessmode
      value: "{{ db2_backup_storage_accessmode }}"
    - name: db2_logs_storage_accessmode
      value: "{{ db2_logs_storage_accessmode }}"
    - name: db2_temp_storage_accessmode
      value: "{{ db2_temp_storage_accessmode }}"
    - name: db2_data_storage_accessmode
      value: "{{ db2_data_storage_accessmode }}"
  {%- endif %}
  {%- if db2_affinity_key is defined and db2_affinity_key != "" %}

    # Dependencies - Db2 - Node Scheduling
    # -------------------------------------------------------------------------
    - name: db2_affinity_key
      value: "{{ db2_affinity_key }}"
    - name: db2_affinity_value
      value: "{{ db2_affinity_value }}"
    - name: db2_tolerate_key
      value: "{{ db2_tolerate_key }}"
    - name: db2_tolerate_value
      value: "{{ db2_tolerate_value }}"
    - name: db2_tolerate_effect
      value: "{{ db2_tolerate_effect }}"
  {%- endif %}
  {%- if db2_cpu_requests is defined and db2_cpu_requests != "" %}

    # Dependencies - Db2 - Memory & CPU Resources
    # -------------------------------------------------------------------------
    - name: db2_cpu_requests
      value: "{{ db2_cpu_requests }}"
    - name: db2_cpu_limits
      value: "{{ db2_cpu_limits }}"
    - name: db2_memory_requests
      value: "{{ db2_memory_requests }}"
    - name: db2_memory_limits
      value: "{{ db2_memory_limits }}"
  {%- endif %}
  {%- if db2_meta_storage_size is defined and db2_meta_storage_size != "" %}

    # Dependencies - Db2 - Storage Capacity
    # -------------------------------------------------------------------------
    - name: db2_meta_storage_size
      value: "{{ db2_meta_storage_size }}"
    - name: db2_backup_storage_size
      value: "{{ db2_backup_storage_size }}"
    - name: db2_logs_storage_size
      value: "{{ db2_logs_storage_size }}"
    - name: db2_temp_storage_size
      value: "{{ db2_temp_storage_size }}"
    - name: db2_data_storage_size
      value: "{{ db2_data_storage_size }}"
  {%- endif %}
{%- endif %}
{%- if mongodb_action is defined and mongodb_action != "" %}

    # Dependencies - MongoDb
    # -------------------------------------------------------------------------
    - name: mongodb_action
      value: "{{ mongodb_action }}"
    - name: mongodb_namespace
      value: "{{ mongodb_namespace }}"
    - name: mongodb_replicas
      value: "{{ mongodb_replicas }}"
    - name: mongodb_cpu_requests
      value: "{{ mongodb_cpu_requests }}"
    - name: mongodb_provider
      value: "{{ mongodb_provider }}"
    - name: mongodb_version
      value: "{{ mongodb_version }}"
  {%- if mongodb_provider == "ibm" %}

    # Dependencies - IBM Cloud MongoDb
    # -------------------------------------------------------------------------
    - name: ibm_mongo_name
      value: "{{ ibm_mongo_name }}"
    - name: ibm_mongo_resourcegroup
      value: "{{ ibm_mongo_resourcegroup }}"
    - name: ibm_mongo_region
      value: "{{ ibm_mongo_region }}"
    - name: ibm_mongo_admin_password
      value: "{{ ibm_mongo_admin_password }}"
  {%- endif %}
{%- endif %}
{%- if kafka_action_system == "install" %}

    # Dependencies - Kafka
    # -------------------------------------------------------------------------
    - name: kafka_action_system
      value: "{{ kafka_action_system }}"
    - name: kafka_provider
      value: "{{ kafka_provider }}"
    - name: kafka_namespace
      value: "{{ kafka_namespace }}"
    - name: kafka_version
      value: "{{ kafka_version }}"
  {%- if kafka_provider == "aws" %}

    # Dependencies - AWS MSK
    # -------------------------------------------------------------------------
    - name: vpc_id
      value: "{{ vpc_id }}"
    - name: aws_kafka_user_name
      value: "{{ aws_kafka_user_name }}"
    - name: aws_kafka_user_password
      value: "{{ aws_kafka_user_password }}"
    - name: aws_msk_instance_type
      value: "{{ aws_msk_instance_type }}"
    - name: aws_msk_instance_number
      value: "{{ aws_msk_instance_number }}"
    - name: aws_msk_volume_size
      value: "{{ aws_msk_volume_size }}"
    - name: aws_msk_cidr_az1
      value: "{{ aws_msk_cidr_az1 }}"
    - name: aws_msk_cidr_az2
      value: "{{ aws_msk_cidr_az2 }}"
    - name: aws_msk_cidr_az3
      value: "{{ aws_msk_cidr_az3 }}"
    - name: aws_msk_ingress_cidr
      value: "{{ aws_msk_ingress_cidr }}"
    - name: aws_msk_egress_cidr
      value: "{{ aws_msk_egress_cidr }}"
  {%- elif kafka_provider == "ibm" %}

    # Dependencies - IBM Cloud Event Streams
    # -------------------------------------------------------------------------
    - name: eventstreams_resourcegroup
      value: "{{ eventstreams_resourcegroup }}"
    - name: eventstreams_name
      value: "{{ eventstreams_name }}"
    - name: eventstreams_location
      value: "{{ eventstreams_location }}"
    - name: eventstreams_retention
      value: "{{ eventstreams_retention }}"
    - name: eventstreams_create_manage_jms_topics
      value: "{{ eventstreams_create_manage_jms_topics }}"
  {%- endif %}
{%- endif %}
{%- if cpd_product_version is defined and cpd_product_version != "" %}

    # Dependencies - CP4D
    # -------------------------------------------------------------------------
    - name: cpd_product_version
      value: "{{ cpd_product_version }}"
    - name: cpd_install_cognos
      value: "{{ cpd_install_cognos }}"
    - name: cpd_install_ws
      value: "{{ cpd_install_ws }}"
    - name: cpd_install_wml
      value: "{{ cpd_install_wml }}"
    - name: cpd_install_ae
      value: "{{ cpd_install_ae }}"
{%- endif %}

    # Dependencies - SLS
    # -------------------------------------------------------------------------
{%- if sls_channel is defined and sls_channel != "" %}
    - name: sls_channel
      value: "{{ sls_channel }}"
{%- endif %}
{%- if sls_entitlement_file is defined and sls_entitlement_file != "" %}
    - name: sls_entitlement_file
      value: "{{ sls_entitlement_file }}"
{%- endif %}
{%- if sls_namespace is defined and sls_namespace != "" %}
    - name: sls_namespace
      value: "{{ sls_namespace }}"
{%- endif %}
{%- if sls_icr_cpopen is defined and sls_icr_cpopen != "" %}
    - name: sls_icr_cpopen
      value: "{{ sls_icr_cpopen }}"
{%- endif %}
{%- if sls_mongodb_cfg_file is defined and sls_mongodb_cfg_file != "" %}
    - name: sls_mongodb_cfg_file
      value: "{{ sls_mongodb_cfg_file }}"
{%- endif %}
{%- if sls_action is defined and sls_action != "" %}
    - name: sls_action
      value: "{{ sls_action }}"
{%- endif %}

    # Dependencies - DRO (Required)
    # -------------------------------------------------------------------------
    - name: dro_action
      value: "{{ dro_action }}"
    - name: dro_contact_email
      value: "{{ dro_contact_email }}"
    - name: dro_contact_firstname
      value: "{{ dro_contact_firstname }}"
    - name: dro_contact_lastname
      value: "{{ dro_contact_lastname }}"
{%- if dro_namespace is defined and dro_namespace != "" %}
    - name: dro_namespace
      value: "{{ dro_namespace }}"
{%- endif %}
{%- if cos_type is defined and cos_type != "" %}

    # Dependencies - COS
    # -------------------------------------------------------------------------
    - name: cos_type
      value: "{{ cos_type }}"
    - name: cos_resourcegroup
      value: "{{ cos_resourcegroup }}"
    - name: cos_instance_name
      value: "{{ cos_instance_name }}"
    - name: cos_action
      value: "{{ cos_action }}"
    - name: cos_apikey
      value: "{{ cos_apikey }}"
    - name: cos_bucket_name
      value: "{{ cos_bucket_name }}"
{%- endif %}

    # MAS Catalog
    # -------------------------------------------------------------------------
    - name: mas_channel
      value: "{{ mas_channel }}"
    - name: mas_catalog_version
      value: "{{ mas_catalog_version }}"
{%- if mas_catalog_digest is defined and mas_catalog_digest != "" %}
    - name: mas_catalog_digest
      value: "{{ mas_catalog_digest }}"
{%- endif %}
{%- if mas_app_cfg_retries is defined and mas_app_cfg_retries != "" %}
    - name: mas_app_cfg_retries
      value: "{{ mas_app_cfg_retries }}"
{%- endif%}

    # Dependencies - Certificate Manager
    # -------------------------------------------------------------------------
    - name: cert_manager_provider
      value: "{{ cert_manager_provider }}"
    - name: cert_manager_action
      value: "{{ cert_manager_action }}"
{%- if dns_provider is defined and dns_provider != "" %}

    # MAS DNS Integrations - General
    # -------------------------------------------------------------------------
    - name: dns_provider
      value: "{{ dns_provider }}"
    - name: ocp_ingress
      value: "{{ ocp_ingress }}"
  {%- if cloudflare_apitoken is defined and cloudflare_apitoken != "" %}

    # MAS DNS Integrations - Cloudflare Support
    # -------------------------------------------------------------------------
    - name: cloudflare_email
      value: "{{ cloudflare_email }}"
    - name: cloudflare_apitoken
      value: "{{ cloudflare_apitoken }}"
    - name: cloudflare_zone
      value: "{{ cloudflare_zone }}"
    - name: cloudflare_subdomain
      value: "{{ cloudflare_subdomain }}"
  {%- endif %}
  {%- if cis_apikey is defined and cis_apikey != "" %}

    # MAS DNS Integrations - CIS Support
    # -------------------------------------------------------------------------
    - name: cis_email
      value: "{{ cis_email }}"
    - name: cis_apikey
      value: "{{ cis_apikey }}"
    - name: cis_crn
      value: "{{ cis_crn }}"
    - name: cis_subdomain
      value: "{{ cis_subdomain }}"
  {%- endif %}
  {%- if cis_service_name is defined and cis_service_name != "" %}

    # MAS DNS Integrations - CIS Security Enhancement Support
    # -------------------------------------------------------------------------
    - name: cis_service_name
      value: "{{ cis_service_name }}"
    - name: cis_enhanced_security
      value: "{{ cis_enhanced_security }}"
    - name: override_edge_certs
      value: "{{ override_edge_certs }}"
    - name: cis_proxy
      value: "{{ cis_proxy }}"
  {%- endif %}
{%- endif %}
{%- if aws_access_key_id is defined and aws_access_key_id != "" %}

    # AWS basic info
    # -------------------------------------------------------------------------
    - name: aws_access_key_id
      value: "{{ aws_access_key_id }}"
    - name: aws_secret_access_key
      value: "{{ aws_secret_access_key }}"
    - name: aws_region
      value: "{{ aws_region }}"
{%- endif %}
{%- if route53_hosted_zone_name is defined and route53_hosted_zone_name != "" %}

    # MAS DNS Integrations - AWS Route 53
    # -------------------------------------------------------------------------
    - name: route53_hosted_zone_name
      value: "{{ route53_hosted_zone_name }}"
    - name: route53_hosted_zone_region
      value: "{{ route53_hosted_zone_region }}"
    - name: route53_email
      value: "{{ route53_email }}"
    - name: route53_subdomain
      value: "{{ route53_subdomain }}"
{%- endif %}
{%- if mas_add_catalog is defined and mas_add_catalog != "" %}

    # Data Dictionary
    # -------------------------------------------------------------------------
    - name: mas_add_catalog
      value: "{{ mas_add_catalog }}"
    - name: mas_add_channel
      value: "{{ mas_add_channel }}"
{%- endif %}

    # MAS Core
    # -------------------------------------------------------------------------
    - name: mas_instance_id
      value: "{{ mas_instance_id }}"
{%- if mas_wipe_mongo_data is defined and mas_wipe_mongo_data != "" %}
    - name: mas_wipe_mongo_data
      value: "{{ mas_wipe_mongo_data }}"
{%- endif %}
{%- if mas_domain is defined and mas_domain != "" %}
    - name: mas_domain
      value: "{{ mas_domain }}"
{%- endif %}
{%- if mas_special_characters is defined and mas_special_characters != "" %}
    - name: mas_special_characters
      value: "{{ mas_special_characters }}"
{%- endif %}
{%- if mas_cluster_issuer is defined and mas_cluster_issuer != "" %}
    - name: mas_cluster_issuer
      value: "{{ mas_cluster_issuer }}"
{%- endif %}
{%- if idle_timeout is defined and idle_timeout != "" %}
    - name: idle_timeout
      value: "{{ idle_timeout }}"
{%- endif %}
{%- if idp_session_timeout is defined and idp_session_timeout != "" %}
    - name: idp_session_timeout
      value: "{{ idp_session_timeout }}"
{%- endif %}
{%- if access_token_timeout is defined and access_token_timeout != "" %}
    - name: access_token_timeout
      value: "{{ access_token_timeout }}"
{%- endif %}
{%- if refresh_token_timeout is defined and refresh_token_timeout != "" %}
    - name: refresh_token_timeout
      value: "{{ refresh_token_timeout }}"
{%- endif %}
{%- if default_idp is defined and default_idp != "" %}
    - name: default_idp
      value: "{{ default_idp }}"
{%- endif %}
{%- if seamless_login is defined and seamless_login != "" %}
    - name: seamless_login
      value: "{{ seamless_login }}"
{%- endif %}
{%- if sso_cookie_name is defined and sso_cookie_name != "" %}
    - name: sso_cookie_name
      value: "{{ sso_cookie_name }}"
{%- endif %}
{%- if allow_default_sso_cookie_name is defined and allow_default_sso_cookie_name != "" %}
    - name: allow_default_sso_cookie_name
      value: "{{ allow_default_sso_cookie_name }}"
{%- endif %}
{%- if use_only_custom_cookie_name is defined and use_only_custom_cookie_name != "" %}
    - name: use_only_custom_cookie_name
      value: "{{ use_only_custom_cookie_name }}"
{%- endif %}
{%- if disable_ldap_cookie is defined and disable_ldap_cookie != "" %}
    - name: disable_ldap_cookie
      value: "{{ disable_ldap_cookie }}"
{%- endif %}
{%- if allow_custom_cache_key is defined and allow_custom_cache_key != "" %}
    - name: allow_custom_cache_key
      value: "{{ allow_custom_cache_key }}"
{%- endif %}
{%- if mas_annotations is defined and mas_annotations != "" %}
    - name: mas_annotations
      value: "{{ mas_annotations }}"
{%- endif %}
    - name: mas_icr_cp
      value: "{{ mas_icr_cp }}"
    - name: mas_icr_cpopen
      value: "{{ mas_icr_cpopen }}"
{%- if mas_trust_default_cas is defined and mas_trust_default_cas != "" %}
    - name: mas_trust_default_cas
      value: "{{ mas_trust_default_cas }}"
{%- endif %}
{%- if mas_manual_cert_mgmt is defined %}
    - name: mas_manual_cert_mgmt
      value: "{{ mas_manual_cert_mgmt }}"
{%- endif %}
{%- if enable_ipv6 is defined and enable_ipv6 != "" %}
    - name: enable_ipv6
      value: "{{ enable_ipv6 }}"
{%- endif %}
{%- if mas_superuser_username is defined and mas_superuser_username != "" %}
    - name: mas_superuser_username
      value: "{{ mas_superuser_username }}"
    - name: mas_superuser_password
      value: "{{ mas_superuser_password }}"
{%- endif %}
{%- if mas_enable_walkme is defined and mas_enable_walkme != "" %}
    - name: mas_enable_walkme
      value: "{{ mas_enable_walkme }}"
{%- endif %}
{%- if mas_routing_mode is defined and mas_routing_mode != "" %}
    - name: mas_routing_mode
      value: "{{ mas_routing_mode }}"
{%- endif %}

    # MAS Workspace
    # -------------------------------------------------------------------------
    - name: mas_workspace_id
      value: "{{ mas_workspace_id }}"
    - name: mas_workspace_name
      value: "{{ mas_workspace_name }}"
{%- if mas_app_channel_iot is defined and mas_app_channel_iot != "" %}

    # IoT Application
    # -------------------------------------------------------------------------
    - name: mas_app_channel_iot
      value: "{{ mas_app_channel_iot }}"
  {%- if mas_app_settings_iot_deployment_size is defined and mas_app_settings_iot_deployment_size != "" %}
    - name: mas_app_settings_iot_deployment_size
      value: "{{ mas_app_settings_iot_deployment_size }}"
  {%- endif %}
    - name: mas_app_settings_iot_fpl_pvc_storage_class
      value: "{{ mas_app_settings_iot_fpl_pvc_storage_class }}"
    - name: mas_app_settings_iot_mqttbroker_pvc_storage_class
      value: "{{ mas_app_settings_iot_mqttbroker_pvc_storage_class }}"
{%- endif %}
{%- if mas_arcgis_channel is defined and mas_arcgis_channel != "" and mas_arcgis_channel %}

    # IBM Maximo Location Services for Esri (arcgis)
    # -------------------------------------------------------------------------
    - name: mas_arcgis_channel
      value: "{{ mas_arcgis_channel }}"
{%- endif %}
{%- if mas_app_channel_manage is defined and mas_app_channel_manage != "" %}

    # Manage Application
    # -------------------------------------------------------------------------
    - name: mas_app_channel_manage
      value: "{{ mas_app_channel_manage }}"
    - name: mas_appws_components
      value: "{{ mas_appws_components }}"
  {%- if manage_bind_aiservice_instance_id is defined and manage_bind_aiservice_instance_id != "" %}
    - name: manage_bind_aiservice_instance_id
      value: "{{ manage_bind_aiservice_instance_id }}"
  {%- endif %}
  {%- if manage_bind_aiservice_tenant_id is defined and manage_bind_aiservice_tenant_id != "" %}
    - name: manage_bind_aiservice_tenant_id
      value: "{{ manage_bind_aiservice_tenant_id }}"
  {%- endif %}
  {%- if mas_appws_bindings_health_wsl_flag is defined and mas_appws_bindings_health_wsl_flag != "" %}
    - name: mas_appws_bindings_health_wsl_flag
      value: "{{ mas_appws_bindings_health_wsl_flag }}"
  {%- endif %}
  {%- if mas_app_settings_aio_flag is defined and mas_app_settings_aio_flag != "" %}
    - name: mas_app_settings_aio_flag
      value: "{{ mas_app_settings_aio_flag }}"
  {%- endif %}
  {%- if mas_app_settings_demodata is defined and mas_app_settings_demodata != "" %}
    - name: mas_app_settings_demodata
      value: "{{ mas_app_settings_demodata }}"
  {%- endif %}
  {%- if mas_appws_bindings_jdbc_manage is defined and mas_appws_bindings_jdbc_manage != "" %}
    - name: mas_appws_bindings_jdbc_manage
      value: "{{ mas_appws_bindings_jdbc_manage }}"
  {%- endif %}
  {%- if mas_app_settings_persistent_volumes_flag is defined and mas_app_settings_persistent_volumes_flag != "" %}
    - name: mas_app_settings_persistent_volumes_flag
      value: "{{ mas_app_settings_persistent_volumes_flag }}"
  {%- endif %}
  {%- if mas_app_settings_jms_queue_pvc_storage_class is defined and mas_app_settings_jms_queue_pvc_storage_class != "" %}
    - name: mas_app_settings_jms_queue_pvc_storage_class
      value: "{{ mas_app_settings_jms_queue_pvc_storage_class }}"
    - name: mas_app_settings_jms_queue_pvc_accessmode
      value: "{{ mas_app_settings_jms_queue_pvc_accessmode }}"
  {%- endif %}
  {%- if mas_app_settings_bim_pvc_storage_class is defined and mas_app_settings_bim_pvc_storage_class != "" %}
    - name: mas_app_settings_bim_pvc_storage_class
      value: "{{ mas_app_settings_bim_pvc_storage_class }}"
    - name: mas_app_settings_bim_pvc_accessmode
      value: "{{ mas_app_settings_bim_pvc_accessmode }}"
  {%- endif %}
  {%- if mas_app_settings_doclinks_pvc_storage_class is defined or mas_app_settings_doclinks_pvc_storage_class != "" %}
    - name: mas_app_settings_doclinks_pvc_storage_class
      value: "{{ mas_app_settings_doclinks_pvc_storage_class }}"
    - name: mas_app_settings_doclinks_pvc_accessmode
      value: "{{ mas_app_settings_doclinks_pvc_accessmode }}"
  {%- endif %}
  {%- if mas_app_settings_server_bundles_size is defined and mas_app_settings_server_bundles_size != "" %}
    - name: mas_app_settings_server_bundles_size
      value: "{{ mas_app_settings_server_bundles_size }}"
  {%- endif %}
  {%- if mas_app_settings_base_lang is defined and mas_app_settings_base_lang != "" %}
    - name: mas_app_settings_base_lang
      value: "{{ mas_app_settings_base_lang }}"
    - name: mas_app_settings_secondary_langs
      value: "{{ mas_app_settings_secondary_langs }}"
  {%- endif %}
  {%- if mas_app_settings_server_timezone is defined and mas_app_settings_server_timezone != "" %}
    - name: mas_app_settings_server_timezone
      value: "{{ mas_app_settings_server_timezone }}"
  {%- endif %}
  {%- if mas_manage_attachments_provider is defined and mas_manage_attachments_provider != "" %}
    - name: mas_manage_attachments_provider
      value: "{{ mas_manage_attachments_provider }}"
  {%- endif %}
  {%- if mas_manage_attachment_configuration_mode is defined and mas_manage_attachment_configuration_mode != "" %}
    - name: mas_manage_attachment_configuration_mode
      value: "{{ mas_manage_attachment_configuration_mode }}"
  {%- endif %}
  {%- if mas_app_settings_tablespace is defined and mas_app_settings_tablespace != "" %}
    - name: mas_app_settings_tablespace
      value: "{{ mas_app_settings_tablespace }}"
    - name: mas_app_settings_indexspace
      value: "{{ mas_app_settings_indexspace }}"
    - name: mas_app_settings_db2_schema
      value: "{{ mas_app_settings_db2_schema }}"
  {%- endif %}
  {%- if mas_app_settings_customization_archive_url is defined and mas_app_settings_customization_archive_url != "" %}
    - name: mas_app_settings_customization_archive_url
      value: "{{ mas_app_settings_customization_archive_url }}"
    - name: mas_app_settings_customization_archive_name
      value: "{{ mas_app_settings_customization_archive_name }}"
    {%- if mas_app_settings_customization_archive_username is defined and mas_app_settings_customization_archive_username != "" %}
    - name: mas_app_settings_customization_archive_username
      value: "{{ mas_app_settings_customization_archive_username }}"
    - name: mas_app_settings_customization_archive_password
      value: "{{ mas_app_settings_customization_archive_password }}"
    {%- endif %}
  {%- endif %}
  {%- if mas_manage_encryptionsecret_crypto_key is defined and mas_manage_encryptionsecret_crypto_key != "" %}
    - name: mas_manage_encryptionsecret_crypto_key
      value: "{{ mas_manage_encryptionsecret_crypto_key }}"
    - name: mas_manage_encryptionsecret_cryptox_key
      value: "{{ mas_manage_encryptionsecret_cryptox_key }}"
    - name: mas_manage_encryptionsecret_old_crypto_key
      value: "{{ mas_manage_encryptionsecret_old_crypto_key }}"
    - name: mas_manage_encryptionsecret_old_cryptox_key
      value: "{{ mas_manage_encryptionsecret_old_cryptox_key }}"
  {%- endif %}
  {%- if mas_manage_ws_db_encryptionsecret is defined and mas_manage_ws_db_encryptionsecret != "" %}
    - name: mas_manage_ws_db_encryptionsecret
      value: "{{ mas_manage_ws_db_encryptionsecret }}"
  {%- endif %}
  {%- if mas_app_settings_default_jms is defined and mas_app_settings_default_jms != "" %}
    - name: mas_app_settings_default_jms
      value: "{{ mas_app_settings_default_jms }}"
  {%- endif %}
  {%- if mas_appws_upgrade_type is defined and mas_appws_upgrade_type != "" %}
    - name: mas_appws_upgrade_type
      value: "{{ mas_appws_upgrade_type }}"
  {%- endif %}
{%- endif %}
{%- if mas_app_channel_monitor is defined and mas_app_channel_monitor != "" %}

    # Monitor Application
    # -------------------------------------------------------------------------
    - name: mas_app_channel_monitor
      value: "{{ mas_app_channel_monitor }}"
{%- endif %}
{%- if mas_app_channel_optimizer is defined and mas_app_channel_optimizer != "" %}

    # Optimizer Application
    # -------------------------------------------------------------------------
    - name: mas_app_channel_optimizer
      value: "{{ mas_app_channel_optimizer }}"
    - name: mas_app_plan_optimizer
      value: "{{ mas_app_plan_optimizer }}"
{%- endif %}
{%- if mas_app_channel_predict is defined and mas_app_channel_predict != "" %}

    # Predict Application
    # -------------------------------------------------------------------------
    - name: mas_app_channel_predict
      value: "{{ mas_app_channel_predict }}"
{%- endif %}
{%- if mas_app_channel_assist is defined and mas_app_channel_assist != "" %}

    # Assist Application
    # -------------------------------------------------------------------------
    - name: mas_app_channel_assist
      value: "{{ mas_app_channel_assist }}"
{%- endif %}
{%- if mas_app_channel_visualinspection is defined and mas_app_channel_visualinspection != "" %}

    # MVI Application
    # -------------------------------------------------------------------------
    - name: mas_app_channel_visualinspection
      value: "{{ mas_app_channel_visualinspection }}"
{%- endif %}
{%- if grafana_action is defined and grafana_action != "" %}

    # Grafana
    # -------------------------------------------------------------------------
    - name: grafana_action
      value: "{{ grafana_action }}"
    - name: grafana_v5_namespace
      value: "{{ grafana_v5_namespace }}"
    - name: grafana_instance_storage_size
      value: "{{ grafana_instance_storage_size }}"
{%- endif %}
{%- if mas_app_channel_facilities is defined and mas_app_channel_facilities != "" %}

    # Real Estate anda Facilities Application
    # -------------------------------------------------------------------------
    - name: mas_app_channel_facilities
      value: "{{ mas_app_channel_facilities }}"

{%- if mas_ws_facilities_size is defined and mas_ws_facilities_size != "" %}
    - name: mas_ws_facilities_size
      value: "{{ mas_ws_facilities_size }}"
{%- endif %}
{%- if mas_ws_facilities_routes_timeout is defined and mas_ws_facilities_routes_timeout != "" %}
    - name: mas_ws_facilities_routes_timeout
      value: "{{ mas_ws_facilities_routes_timeout }}"
{%- endif %}
{%- if mas_ws_facilities_liberty_extension_XML is defined and mas_ws_facilities_liberty_extension_XML != "" %}
    - name: mas_ws_facilities_liberty_extension_XML
      value: "{{ mas_ws_facilities_liberty_extension_XML }}"
{%- endif %}
{%- if mas_ws_facilities_vault_secret is defined and mas_ws_facilities_vault_secret != "" %}
    - name: mas_ws_facilities_vault_secret
      value: "{{ mas_ws_facilities_vault_secret }}"
{%- endif %}
{%- if mas_ws_facilities_pull_policy is defined and mas_ws_facilities_pull_policy != "" %}
    - name: mas_ws_facilities_pull_policy
      value: "{{ mas_ws_facilities_pull_policy }}"
{%- endif %}
    - name: mas_ws_facilities_storage_log_class
      value: "{{ mas_ws_facilities_storage_log_class }}"
{%- if mas_ws_facilities_storage_log_mode is defined and mas_ws_facilities_storage_log_mode != "" %}
    - name: mas_ws_facilities_storage_log_mode
      value: "{{ mas_ws_facilities_storage_log_mode }}"
{%- endif %}
    - name: mas_ws_facilities_storage_userfiles_class
      value: "{{ mas_ws_facilities_storage_userfiles_class }}"
{%- if mas_ws_facilities_storage_userfiles_mode is defined and mas_ws_facilities_storage_userfiles_mode != "" %}
    - name: mas_ws_facilities_storage_userfiles_mode
      value: "{{ mas_ws_facilities_storage_userfiles_mode }}"
{%- endif %}
{%- if mas_ws_facilities_config_map_name is defined and mas_ws_facilities_config_map_name != "" %}
    - name: mas_ws_facilities_config_map_name
      value: "{{ mas_ws_facilities_config_map_name }}"
{%- endif %}

{%- endif %}

{%- if aiservice_instance_id is defined and aiservice_instance_id != "" %}

    # AI Service
    # -------------------------------------------------------------------------
    - name: aiservice_instance_id
      value: "{{ aiservice_instance_id }}"
    - name: aiservice_channel
      value: "{{ aiservice_channel }}"

    - name: environment_type
      value: "{{ environment_type }}"

    # AI Service Tenant
    # -------------------------------------------------------------------------
    - name: tenant_entitlement_type
      value: "{{ tenant_entitlement_type }}"
    - name: tenant_entitlement_start_date
      value: "{{ tenant_entitlement_start_date }}"
    - name: tenant_entitlement_end_date
      value: "{{ tenant_entitlement_end_date }}"

    # RSL
    # -------------------------------------------------------------------------
    - name: rsl_url
      value: "{{ rsl_url }}"
    - name: rsl_org_id
      value: "{{ rsl_org_id }}"
    - name: rsl_token
      value: "{{ rsl_token }}"

    # S3
    # -------------------------------------------------------------------------
    - name: aiservice_s3_accesskey
      value: "{{ aiservice_s3_accesskey }}"
    - name: aiservice_s3_secretkey
      value: "{{ aiservice_s3_secretkey }}"
    - name: aiservice_s3_host
      value: "{{ aiservice_s3_host }}"
    - name: aiservice_s3_port
      value: "{{ aiservice_s3_port }}"
    - name: aiservice_s3_ssl
      value: "{{ aiservice_s3_ssl }}"
    - name: aiservice_s3_region
      value: "{{ aiservice_s3_region }}"
    - name: aiservice_s3_bucket_prefix
      value: "{{ aiservice_s3_bucket_prefix }}"

    - name: aiservice_s3_tenants_bucket
      value: "{{ aiservice_s3_tenants_bucket }}"
    - name: aiservice_s3_templates_bucket
      value: "{{ aiservice_s3_templates_bucket }}"

    - name: minio_root_user
      value: "{{ minio_root_user }}"
    - name: minio_root_password
      value: "{{ minio_root_password }}"

    # AI Service - ODH
    # -------------------------------------------------------------------------
    - name: aiservice_odh_model_deployment_type
      value: "{{ aiservice_odh_model_deployment_type }}"

    # AI Service - watsonX
    # -------------------------------------------------------------------------
    - name: aiservice_watsonxai_apikey
      value: "{{ aiservice_watsonxai_apikey }}"
    - name: aiservice_watsonxai_url
      value: "{{ aiservice_watsonxai_url }}"
    - name: aiservice_watsonxai_project_id
      value: "{{ aiservice_watsonxai_project_id }}"
    - name: aiservice_watsonx_action
      value: "{{ aiservice_watsonx_action }}"
    - name: aiservice_watsonxai_ca_crt
      value: "{{ aiservice_watsonxai_ca_crt }}"
    - name: aiservice_watsonxai_instance_id
      value: "{{ aiservice_watsonxai_instance_id }}"
    - name: aiservice_watsonxai_username
      value: "{{ aiservice_watsonxai_username }}"
    - name: aiservice_watsonxai_version
      value: "{{ aiservice_watsonxai_version }}"
    - name: aiservice_watsonxai_deployment_id
      value: "{{ aiservice_watsonxai_deployment_id }}"
    - name: aiservice_watsonxai_space_id
      value: "{{ aiservice_watsonxai_space_id }}"
    - name: aiservice_watsonxai_on_prem
      value: "{{ aiservice_watsonxai_on_prem }}"
{%- endif %}

  workspaces:
    # The generated configuration files
    # -------------------------------------------------------------------------
    - name: shared-configs
      persistentVolumeClaim:
        claimName: config-pvc

    # User-provided configurations
    # -------------------------------------------------------------------------
    # Any pre-generated configs that will be copied into the
    # shared-config during install-suite
    - name: shared-additional-configs
      secret:
        secretName: pipeline-additional-configs

    # SLS entitlement
    # -------------------------------------------------------------------------
    # The SLS entitlement key file that will be installed
    # during install-sls
    - name: shared-entitlement
      secret:
        secretName: pipeline-sls-entitlement

    # PodTemplates configurations
    # -------------------------------------------------------------------------
    - name: shared-pod-templates
      secret:
        secretName: pipeline-pod-templates

    # Certificates configurations
    # -------------------------------------------------------------------------
    - name: shared-certificates
      secret:
        secretName: pipeline-certificates
