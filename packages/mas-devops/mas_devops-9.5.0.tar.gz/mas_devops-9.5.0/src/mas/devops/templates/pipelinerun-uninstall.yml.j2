---
apiVersion: tekton.dev/v1beta1
kind: PipelineRun
metadata:
  name: "{{mas_instance_id}}-uninstall-{{ timestamp }}"
  labels:
    tekton.dev/pipeline: mas-uninstall
spec:
  pipelineRef:
    name: mas-uninstall

  serviceAccountName: "{{ service_account_name | default('pipeline', True) }}"
  timeouts:
    pipeline: "0"

  params:
    - name: mas_instance_id
      value: {{ mas_instance_id }}
    - name: grafana_action
      value: {{ grafana_action }}
    - name: cert_manager_action
      value: {{ cert_manager_action }}
    - name: ibm_catalogs_action
      value: {{ ibm_catalogs_action }}
    - name: mongodb_action
      value: {{ mongodb_action }}
    - name: sls_action
      value: {{ sls_action }}
    - name: dro_action
      value: {{ dro_action }}
    - name: dro_namespace
      value: {{ dro_namespace }}

