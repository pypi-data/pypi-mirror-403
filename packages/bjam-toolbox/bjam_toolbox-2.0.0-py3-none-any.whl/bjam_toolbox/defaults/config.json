{
  "_comment": "BJAM Toolbox analysis configuration. Edit values to tune analysis. A timestamped backup is auto-created whenever changes are detected.",
  "dot_array": {
    "nominal_diameter_mm": 2.0,
    "nominal_spacing_mm": 6.0,
    "spacing_tolerance": 0.3,
    "min_blob_area_px": 100,
    "min_keep_factor": 0.45,
    "min_keep_factor_median": 0.40,
    "max_keep_factor": 1.75,
    "max_keep_factor_median": 1.80,
    "gaussian_blur_kernel": [5, 5],
    "morph_kernel_size": 3,
    "morph_close_iterations": 1,
    "morph_open_iterations": 1,
    "nominal_grid_mean_radius": 11.2461856
  },
  "checkerboard": {
    "nominal_square_size_mm": 2.0,
    "scale_min": 0.30,
    "scale_step": 0.05,
    "ref_angle_deg": -45.0,
    "use_adaptive_threshold": false,
    "adaptive_block_size": 31,
    "adaptive_constant": 3,
    "gaussian_blur_ksize": 5,
    "morph_kernel_size": 3,
    "morph_close_iterations": 0,
    "morph_open_iterations": 0,
    "min_squares_required": 10,
    "aspect_ratio_min": 0.70,
    "aspect_ratio_max": 1.30,
    "extent_min": 0.2,
    "extent_max": 1.05,
    "area_rel_min": 0.20,
    "area_rel_max": 5.00,
    "canny_low": 50,
    "canny_high": 150,
    "hough_threshold": 80,
    "hough_min_line_fraction": 0.08,
    "hough_max_line_gap": 10,
    "hough_min_line_length_px": 30
  },
  "concentric_rings": {
    "nominal_line_width_mm": 0.5,
    "nominal_spacing_mm": 0.5,
    "num_rings": 20,
    "gaussian_blur_kernel": [5, 5],
    "canny_low": 50,
    "canny_high": 150,
    "min_radius_px": 2.0,
    "max_radius_std_abs": 5.0,
    "max_radius_std_rel": 0.2,
    "merge_threshold_px": 3.0,
    "min_peaks_required": 4
  },
  "pitch_ruler": {
    "nominal_bar_widths_mm": [6, 4, 2, 1, 0.8, 0.6, 0.4, 0.2, 0.1],
    "morph_kernel_size": 3,
    "morph_close_iterations": 1,
    "morph_open_iterations": 1,
    "canny_low": 50,
    "canny_high": 150,
    "accuracy_threshold_pct": 10.0
  },
  "health_report": {
    "cv_threshold_very_stable": 1.0,
    "cv_threshold_moderate": 3.0,
    "circularity_threshold_high": 0.97,
    "circularity_threshold_med": 0.93,
    "aspect_ratio_threshold": 1.05,
    "eccentricity_threshold": 0.20,
    "grid_rotation_threshold_deg": 0.1,
    "yaw_threshold_deg": 0.05,
    "scale_pct_threshold": 0.20,
    "diameter_error_pct_threshold": 0.50,
    "deadband_threshold_pct": 0.05,
    "square_error_tolerance_pct": 1.0,
    "pitch_accuracy_threshold_pct": 10.0
  },
  "calibration": {
    "circularity_norm_base": 0.899024,
    "default_dpi": 3000,
    "default_gantry_speed_mmps": 100
  }
}
