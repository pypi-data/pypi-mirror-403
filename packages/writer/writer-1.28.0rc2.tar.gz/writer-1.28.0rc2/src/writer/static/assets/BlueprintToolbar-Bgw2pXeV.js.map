{"version":3,"file":"BlueprintToolbar-Bgw2pXeV.js","sources":["../../../ui/src/wds/WdsButtonSplit.vue","../../../ui/src/components/blueprints/base/BlueprintToolbarBlocksDropdown.vue","../../../ui/src/components/blueprints/base/BlueprintToolbar.vue"],"sourcesContent":["<script lang=\"ts\">\n/** See Variants on [Figma](https://www.figma.com/design/jgLDtwVwg3hReC1t4Vw20D/.WDS-Writer-Design-System?node-id=8523-6185&t=wftDc1qTFGQKX8rM-4) */\nexport type WdsButtonSplitVariant =\n\t| \"primary\"\n\t| \"secondary\"\n\t| \"tertiary\"\n\t| \"special\";\n\nexport type WdsButtonSplitSize = \"default\" | \"small\";\n</script>\n\n<script setup lang=\"ts\">\nimport BaseTransitionSlideFade from \"@/components/core/base/BaseTransitionSlideFade.vue\";\nimport WdsIcon from \"@/wds/WdsIcon.vue\";\nimport { useFloating, offset } from \"@floating-ui/vue\";\nimport { computed, PropType, ref, useTemplateRef } from \"vue\";\n\nconst props = defineProps({\n\tvariant: {\n\t\ttype: String as PropType<WdsButtonSplitVariant>,\n\t\tdefault: \"primary\",\n\t},\n\tsize: { type: String as PropType<WdsButtonSplitSize>, default: \"default\" },\n\tdisabled: { type: Boolean, required: false },\n});\n\nconst classNames = computed(() => [\n\t`WdsButtonSplit--size-${props.size}`,\n\t`WdsButtonSplit--variant-${props.variant}`,\n\tprops.disabled ? `WdsButtonSplit--disabled` : undefined,\n]);\n\nconst emits = defineEmits({\n\tmainClick: () => true,\n\tdropdownOpen: () => true,\n\tdropdownClose: () => true,\n});\n\nconst btn = useTemplateRef(\"btn\");\nconst dropdown = useTemplateRef(\"dropdown\");\n\nconst isDropdownOpen = ref(false);\n\nconst { floatingStyles } = useFloating(btn, dropdown, {\n\tplacement: \"bottom-end\",\n\tmiddleware: [offset(12)],\n});\n\nfunction toggleDropdown(value = !isDropdownOpen.value) {\n\tisDropdownOpen.value = value;\n\tisDropdownOpen.value ? emits(\"dropdownOpen\") : emits(\"dropdownClose\");\n}\n\ndefineExpose({ toggleDropdown });\n</script>\n\n<template>\n\t<div ref=\"btn\" class=\"WdsButtonSplit\" :class=\"classNames\">\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tclass=\"WdsButtonSplit__main\"\n\t\t\t:disabled=\"disabled\"\n\t\t\t@click=\"$emit('mainClick')\"\n\t\t>\n\t\t\t<slot name=\"button\" />\n\t\t</button>\n\t\t<hr class=\"WdsButtonSplit__divider\" />\n\t\t<button\n\t\t\tclass=\"WdsButtonSplit__dropdownTrigger\"\n\t\t\ttype=\"button\"\n\t\t\t:disabled=\"disabled\"\n\t\t\t@click.capture=\"toggleDropdown()\"\n\t\t>\n\t\t\t<WdsIcon :name=\"isDropdownOpen ? 'chevron-up' : 'chevron-down'\" />\n\t\t</button>\n\t\t<BaseTransitionSlideFade>\n\t\t\t<div v-if=\"isDropdownOpen\" ref=\"dropdown\" :style=\"floatingStyles\">\n\t\t\t\t<slot name=\"dropdown\" />\n\t\t\t</div>\n\t\t</BaseTransitionSlideFade>\n\t</div>\n</template>\n\n<style lang=\"css\" scoped>\n.WdsButtonSplit {\n\tposition: relative;\n\tdisplay: flex;\n\tborder-radius: 300px;\n\tbox-shadow: var(--buttonShadow);\n\tborder: 1px solid transparent;\n\talign-items: center;\n\theight: 40px;\n\tgap: 8px;\n\tpadding-left: 12px;\n\tpadding-right: 12px;\n}\n\n.WdsButtonSplit--disabled {\n\topacity: 40%;\n}\n.WdsButtonSplit--disabled .WdsButtonSplit__dropdownTrigger,\n.WdsButtonSplit--disabled .WdsButtonSplit__main {\n\tcursor: not-allowed;\n}\n\n.WdsButtonSplit__dropdownTrigger,\n.WdsButtonSplit__main {\n\tbackground-color: transparent;\n\tborder: none;\n\tcursor: pointer;\n}\n\n.WdsButtonSplit__main {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-start;\n\tgap: 8px;\n\tfont-weight: 600;\n}\n.WdsButtonSplit__dropdownTrigger {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 20px;\n\tborder-radius: 50%;\n\theight: 20px;\n\twidth: 20px;\n}\n.WdsButtonSplit__divider {\n\tdisplay: block;\n\twidth: 1px;\n\theight: 100%;\n\tborder: none;\n\theight: 24px;\n}\n\n/* variant - primary */\n\n.WdsButtonSplit--variant-primary .WdsButtonSplit__divider {\n\tbackground: var(--wdsColorBlue4);\n}\n.WdsButtonSplit--variant-primary,\n.WdsButtonSplit--variant-primary .WdsButtonSplit__dropdownTrigger {\n\tcolor: var(--wdsColorWhite);\n\tbackground: var(--wdsColorBlue5);\n}\n.WdsButtonSplit--variant-primary:not(.WdsButtonSplit--disabled):hover,\n.WdsButtonSplit--variant-primary:not(.WdsButtonSplit--disabled)\n\t.WdsButtonSplit__dropdownTrigger:hover {\n\tbackground: var(--wdsColorBlue6);\n}\n\n/* variant - secondary */\n\n.WdsButtonSplit--variant-secondary .WdsButtonSplit__divider {\n\tbackground: var(--wdsColorGray5);\n}\n.WdsButtonSplit--variant-secondary,\n.WdsButtonSplit--variant-secondary .WdsButtonSplit__dropdownTrigger {\n\tcolor: var(--wdsColorWhite);\n\tbackground: var(--wdsColorBlack);\n}\n.WdsButtonSplit--variant-secondary:not(.WdsButtonSplit--disabled):hover,\n.WdsButtonSplit--variant-secondary:not(.WdsButtonSplit--disabled)\n\t.WdsButtonSplit__dropdownTrigger:hover {\n\tbackground: var(--wdsColorGray6);\n}\n\n/* variant - tertiary */\n\n.WdsButtonSplit--variant-tertiary .WdsButtonSplit__divider {\n\tbackground: var(--wdsColorGray2);\n}\n.WdsButtonSplit--variant-tertiary,\n.WdsButtonSplit--variant-tertiary .WdsButtonSplit__dropdownTrigger {\n\tcolor: var(--wdsColorBlack);\n\tbackground: var(--wdsColorWhite);\n}\n.WdsButtonSplit--variant-tertiary:not(.WdsButtonSplit--disabled):hover,\n.WdsButtonSplit--variant-tertiary:not(.WdsButtonSplit--disabled)\n\t.WdsButtonSplit__dropdownTrigger:hover {\n\tcolor: var(--wdsColorGray4);\n}\n\n/* variant - special */\n\n.WdsButtonSplit--variant-special .WdsButtonSplit__divider {\n\tbackground: var(--wdsColorBlue5);\n}\n.WdsButtonSplit--variant-special,\n.WdsButtonSplit--variant-special .WdsButtonSplit__dropdownTrigger {\n\tcolor: var(--wdsColorBlue5);\n\tbackground: var(--wdsColorBlue2);\n}\n.WdsButtonSplit--variant-special:not(.WdsButtonSplit--disabled):hover,\n.WdsButtonSplit--variant-special:not(.WdsButtonSplit--disabled)\n\t.WdsButtonSplit__dropdownTrigger:hover {\n\tbackground: var(--wdsColorBlue3);\n}\n\n/* size */\n\n.WdsButtonSplit--size-default .WdsButtonSplit__main {\n\tfont-size: 14px;\n}\n\n.WdsButtonSplit--size-small .WdsButtonSplit__main {\n\tfont-size: 12px;\n}\n</style>\n","<script setup lang=\"ts\">\nimport injectionKeys from \"@/injectionKeys\";\nimport WdsButton from \"@/wds/WdsButton.vue\";\nimport WdsIcon from \"@/wds/WdsIcon.vue\";\nimport { Component } from \"@/writerTypes\";\nimport { computed, inject, PropType } from \"vue\";\n\nconst props = defineProps({\n\tcomponents: { type: Array as PropType<Component[]>, required: true },\n});\n\ndefineEmits({\n\tjumpToComponent: (componentId: string) => typeof componentId === \"string\",\n\trunBranch: (componentId: string) => typeof componentId === \"string\",\n});\n\nconst wf = inject(injectionKeys.core);\n\nfunction getBlockType(component: Component) {\n\tconst def = wf.getComponentDefinition(component.type);\n\treturn def?.name ?? component.type;\n}\n\nfunction isRunnable(component: Component) {\n\tif (component.type !== \"blueprints_uieventtrigger\") return true;\n\n\tconst hasDefaultResult = Boolean(component.content.defaultResult);\n\tif (hasDefaultResult) return true;\n\n\tconst fields = (component.outs ?? [])\n\t\t.map((o) => wf.getComponentById(o.toNodeId))\n\t\t.flatMap((c) => Object.values(c.content ?? {}));\n\tif (fields.length === 0) return true;\n\n\tconst needResult = fields.some((field) => field.includes(\"@{result}\"));\n\n\treturn !needResult;\n}\n\nconst options = computed(() =>\n\tprops.components.map((block) => {\n\t\tconst def = wf.getComponentDefinition(block.type);\n\t\tconst title = block.content?.alias || getBlockType(block);\n\t\tconst description = def?.name ?? block.type;\n\n\t\treturn {\n\t\t\tid: block.id,\n\t\t\tdisabled: !isRunnable(block),\n\t\t\ttitle,\n\t\t\tdescription: title === description ? undefined : description,\n\t\t};\n\t}),\n);\n</script>\n\n<template>\n\t<div class=\"BlueprintToolbarBlocksDropdown\">\n\t\t<p class=\"BlueprintToolbarBlocksDropdown__header\">\n\t\t\tStart blueprint from\n\t\t</p>\n\t\t<div class=\"BlueprintToolbarBlocksDropdown__list\">\n\t\t\t<div\n\t\t\t\tv-for=\"option of options\"\n\t\t\t\t:key=\"option.id\"\n\t\t\t\tclass=\"BlueprintToolbarBlocksDropdown__list__item\"\n\t\t\t\t:class=\"{\n\t\t\t\t\t'BlueprintToolbarBlocksDropdown__list__item--disabled':\n\t\t\t\t\t\toption.disabled,\n\t\t\t\t}\"\n\t\t\t>\n\t\t\t\t<WdsButton\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tsize=\"smallIcon\"\n\t\t\t\t\tcustom-size=\"20px\"\n\t\t\t\t\t:disabled=\"option.disabled\"\n\t\t\t\t\t:data-writer-tooltip=\"\n\t\t\t\t\t\toption.disabled\n\t\t\t\t\t\t\t? 'Can not run without a default result. Go to this block to define a default result.'\n\t\t\t\t\t\t\t: 'Run the branch'\n\t\t\t\t\t\"\n\t\t\t\t\t@click=\"$emit('runBranch', option.id)\"\n\t\t\t\t>\n\t\t\t\t\t<WdsIcon name=\"play\" />\n\t\t\t\t</WdsButton>\n\t\t\t\t<div>\n\t\t\t\t\t<p\n\t\t\t\t\t\tclass=\"BlueprintToolbarBlocksDropdown__list__item__description\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ option.description }}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p\n\t\t\t\t\t\tclass=\"BlueprintToolbarBlocksDropdown__list__item__title\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ option.title }}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<WdsButton\n\t\t\t\t\tvariant=\"neutral\"\n\t\t\t\t\tsize=\"smallIcon\"\n\t\t\t\t\tcustom-size=\"20px\"\n\t\t\t\t\tdata-writer-tooltip=\"Jump to the blueprint\"\n\t\t\t\t\t@click=\"$emit('jumpToComponent', option.id)\"\n\t\t\t\t>\n\t\t\t\t\t<WdsIcon name=\"square-dashed-mouse-pointer\" />\n\t\t\t\t</WdsButton>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<style lang=\"css\" scoped>\n.BlueprintToolbarBlocksDropdown {\n\tmin-width: 185px;\n\tborder: 1px solid var(--wdsColorGray2);\n\tborder: none;\n\tbackground: #fff;\n\tz-index: 2;\n\twidth: 100%;\n\tmax-height: 40vh;\n\toverflow-y: auto;\n\tborder-radius: 8px;\n\n\tpadding: 8px 10px;\n\n\tbox-shadow: var(--wdsShadowMenu);\n\tbox-sizing: border-box;\n\tcolor: var(--wdsColorGray6);\n\n\tmax-height: 300px;\n\toverflow-y: auto;\n}\n.BlueprintToolbarBlocksDropdown__header {\n\tfont-size: 12px;\n\ttext-transform: uppercase;\n\tfont-weight: 500;\n\tmargin-bottom: 10px;\n}\n\n.BlueprintToolbarBlocksDropdown__list {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 8px;\n}\n.BlueprintToolbarBlocksDropdown__list__item {\n\tdisplay: grid;\n\tgrid-template-columns: auto minmax(0, 1fr) auto;\n\tgap: 16px;\n\talign-items: center;\n}\n.BlueprintToolbarBlocksDropdown__list__item__description,\n.BlueprintToolbarBlocksDropdown__list__item__title {\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\toverflow: hidden;\n}\n.BlueprintToolbarBlocksDropdown__list__item__description {\n\tfont-weight: 400;\n\tcolor: var(--wdsColorGray4);\n}\n\n.BlueprintToolbarBlocksDropdown__list__item--disabled\n\t.BlueprintToolbarBlocksDropdown__list__item__description,\n.BlueprintToolbarBlocksDropdown__list__item--disabled\n\t.BlueprintToolbarBlocksDropdown__list__item__title {\n\topacity: 50%;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { useBlueprintRun } from \"@/composables/useBlueprintRun\";\nimport { isSharedBlueprint as isSharedBlueprintComponent } from \"@/utils/sharedBlueprint\";\nimport WdsButton from \"@/wds/WdsButton.vue\";\nimport WdsIcon from \"@/wds/WdsIcon.vue\";\nimport WdsButtonSplit from \"@/wds/WdsButtonSplit.vue\";\nimport injectionKeys from \"@/injectionKeys\";\nimport { computed, inject, shallowRef, toRaw, useTemplateRef } from \"vue\";\nimport BlueprintToolbarBlocksDropdown from \"./BlueprintToolbarBlocksDropdown.vue\";\n\nconst emit = defineEmits({\n\tautogenClick: () => true,\n\tdeploy: () => true,\n});\n\nconst wf = inject(injectionKeys.core);\nconst wfbm = inject(injectionKeys.builderManager);\nconst blueprintComponentId = inject(injectionKeys.componentId);\n\nconst runBlueprintBtn = useTemplateRef(\"runBlueprintBtn\");\n\nconst {\n\trun: handleRun,\n\tstop: handleStop,\n\tisRunning,\n} = useBlueprintRun(wf, wfbm, blueprintComponentId);\n\nconst isBlueprintLibraryEnabled = computed(\n\t() =>\n\t\tArray.isArray(wf.featureFlags.value) &&\n\t\twf.featureFlags.value.includes(\"blueprint_library\"),\n);\n\n// Check if the current blueprint is a shared blueprint\nconst isSharedBlueprint = computed(() => {\n\tconst blueprint = wf.getComponentById(blueprintComponentId);\n\treturn isSharedBlueprintComponent(blueprint);\n});\n\nconst triggerComponents = computed(() =>\n\twf\n\t\t.getComponents(blueprintComponentId)\n\t\t.filter(\n\t\t\t(c) => wf.getComponentDefinition(c.type)?.category === \"Triggers\",\n\t\t),\n);\n\nconst previousSelection = shallowRef<typeof wfbm.selection.value>([]);\n\nfunction onDropdownOpen() {\n\tpreviousSelection.value = toRaw(wfbm.selection.value);\n\twfbm.setSelection(null);\n}\n\nfunction onDropdownClose() {\n\tif (!previousSelection.value?.length) return;\n\twfbm.setSelection(null);\n\tfor (const s of previousSelection.value) {\n\t\twfbm.appendSelection(s.componentId, s.instancePath, s.source);\n\t}\n\tpreviousSelection.value = [];\n}\n\nfunction jumpToComponent(componentId: string) {\n\twfbm.setSelection(componentId, undefined, \"click\");\n\trunBlueprintBtn.value?.toggleDropdown(false);\n}\n\nasync function runBlueprint(componentId?: string) {\n\trunBlueprintBtn.value?.toggleDropdown(false);\n\tawait handleRun(componentId);\n}\n</script>\n\n<template>\n\t<div ref=\"root\" class=\"BlueprintToolbar\" :data-writer-unselectable=\"true\">\n\t\t<WdsButton\n\t\t\tvariant=\"tertiary\"\n\t\t\tsize=\"icon\"\n\t\t\tdata-automation-action=\"run-autogen\"\n\t\t\tdata-writer-tooltip=\"Autogen\"\n\t\t\tdata-writer-tooltip-placement=\"bottom\"\n\t\t\t@click=\"emit('autogenClick')\"\n\t\t>\n\t\t\t<WdsIcon name=\"wand-sparkles\" />\n\t\t</WdsButton>\n\t\t<WdsButton\n\t\t\tv-if=\"isBlueprintLibraryEnabled && isSharedBlueprint\"\n\t\t\tvariant=\"special\"\n\t\t\tdata-automation-action=\"publish-shared-blueprint\"\n\t\t\tdata-writer-tooltip=\"Publish this shared blueprint\"\n\t\t\tdata-writer-tooltip-placement=\"bottom\"\n\t\t\t@click=\"emit('deploy')\"\n\t\t>\n\t\t\t<WdsIcon name=\"rocket\" />\n\t\t\tPublish blueprint\n\t\t</WdsButton>\n\t\t<WdsButtonSplit\n\t\t\tv-if=\"triggerComponents.length && !isRunning\"\n\t\t\tref=\"runBlueprintBtn\"\n\t\t\tclass=\"BlueprintToolbar__runBlueprintDropdown\"\n\t\t\tvariant=\"special\"\n\t\t\t@main-click=\"runBlueprint()\"\n\t\t\t@dropdown-open=\"onDropdownOpen\"\n\t\t\t@dropdown-close=\"onDropdownClose\"\n\t\t>\n\t\t\t<template #button>\n\t\t\t\t<WdsIcon name=\"play\" />\n\t\t\t\tRun blueprint\n\t\t\t</template>\n\t\t\t<template #dropdown>\n\t\t\t\t<BlueprintToolbarBlocksDropdown\n\t\t\t\t\t:components=\"triggerComponents\"\n\t\t\t\t\t@jump-to-component=\"jumpToComponent\"\n\t\t\t\t\t@run-branch=\"runBlueprint($event)\"\n\t\t\t\t/>\n\t\t\t</template>\n\t\t</WdsButtonSplit>\n\t\t<WdsButton\n\t\t\tv-else\n\t\t\tclass=\"BlueprintToolbar__runBlueprint\"\n\t\t\tdata-automation-action=\"run-blueprint\"\n\t\t\tvariant=\"special\"\n\t\t\t@click=\"isRunning ? handleStop() : runBlueprint()\"\n\t\t>\n\t\t\t<WdsIcon :name=\"isRunning ? 'square' : 'play'\" />\n\t\t\t{{ isRunning ? \"Stop run\" : \"Run blueprint\" }}\n\t\t</WdsButton>\n\t</div>\n</template>\n\n<style lang=\"css\" scoped>\n.BlueprintToolbar__runBlueprint {\n\tmin-width: 160px;\n}\n.BlueprintToolbar__runBlueprintDropdown {\n\tmin-width: 185px;\n}\n</style>\n"],"names":["props","__props","classNames","computed","emits","__emit","btn","useTemplateRef","dropdown","isDropdownOpen","ref","floatingStyles","useFloating","offset","toggleDropdown","value","__expose","wf","inject","injectionKeys","getBlockType","component","def","isRunnable","fields","o","c","field","options","block","title","_a","description","emit","wfbm","blueprintComponentId","runBlueprintBtn","handleRun","handleStop","isRunning","useBlueprintRun","isBlueprintLibraryEnabled","isSharedBlueprint","blueprint","isSharedBlueprintComponent","triggerComponents","previousSelection","shallowRef","onDropdownOpen","toRaw","onDropdownClose","s","jumpToComponent","componentId","runBlueprint"],"mappings":"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"}