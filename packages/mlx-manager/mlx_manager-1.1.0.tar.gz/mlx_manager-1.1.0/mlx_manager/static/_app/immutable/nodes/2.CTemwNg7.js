var Yt=Object.defineProperty;var bt=t=>{throw TypeError(t)};var qt=(t,e,n)=>e in t?Yt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var P=(t,e,n)=>qt(t,typeof e!="symbol"?e+"":e,n),tt=(t,e,n)=>e.has(t)||bt("Cannot "+n);var h=(t,e,n)=>(tt(t,e,"read from private field"),n?n.call(t):e.get(t)),I=(t,e,n)=>e.has(t)?bt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),je=(t,e,n,r)=>(tt(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),se=(t,e,n)=>(tt(t,e,"access private method"),n);import{R as Vt}from"../chunks/qoE10lYN.js";import{h as Y,g as Ct,n as ue,I as Je,s as Qe,u as re,e as Xt,f as nt,d as xt,l as Jt,a as Qt,p as Zt,v as $t}from"../chunks/D9xfsXh9.js";import{c as z,a as f,f as K}from"../chunks/nUxvHMgL.js";import{o as St}from"../chunks/DPMBEg2i.js";import{s as X,b as en,u as Ze,g as c,c as T,h as D,p as ge,f as S,a as ve,d as _,l as Pe,r as w,e as R,ba as tn,t as ae,n as _t}from"../chunks/CNYbWU2B.js";import{s as J}from"../chunks/3fxp844U.js";/* empty css                */import{o as ce,s as We}from"../chunks/BWpKPX3N.js";import{p as F,i as V,r as at,s as fe,l as $e,a as nn,b as rn}from"../chunks/CxfCsaSi.js";import{c as ie}from"../chunks/BWQjEkJe.js";import{p as on}from"../chunks/DlJfzioE.js";import{r as rt}from"../chunks/CbhfpbUc.js";import{C as sn}from"../chunks/Nr6MLaIc.js";import{g as an,F as un,P as cn,M as wt,c as ln,d as Mt,a as dn,S as hn}from"../chunks/O39CLxRO.js";import{M as fn}from"../chunks/Ciw8QBp0.js";import"../chunks/CiMb2DjI.js";import{A as Ye,i as it,h as ut,f as Te,b as E,L as kt,J as It,n as le,I as pn,K as gn,E as Ft,S as ct,w as qe,W as Et,a as lt,u as dt,g as Ot,N as Nt,O as vn,d as oe,T as mn,X as yn,Y as bn,m as de,c as ht,C as xn}from"../chunks/BCcEFCgH.js";import{a as _n,b as ot,c as pe,d as ft,t as wn,g as Kt,e as Mn,f as Pn,h as Tn,C as An,j as Cn,l as Sn,P as kn}from"../chunks/C4CP8qua.js";import{U as In}from"../chunks/BrRL0KsS.js";import{d as Pt}from"../chunks/CFz_a2k3.js";function Tt(t,e){throw new Vt(t,e.toString())}const Fn=!1,En=!1;async function On(){if(typeof window<"u"&&!Y.isAuthenticated&&Y.initialize(),!Y.isAuthenticated)throw Tt(302,"/login");try{const t=await Ct.me();return Y.setAuth(Y.token,t),{user:t}}catch{throw Y.clearAuth(),Tt(302,"/login")}}const so=Object.freeze(Object.defineProperty({__proto__:null,load:On,prerender:En,ssr:Fn},Symbol.toStringTag,{value:"Module"}));function Nn(t){return window.getComputedStyle(t).getPropertyValue("direction")}function Kn(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?ut:it,vertical:Te}[e]}function Dn(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?it:ut,vertical:Ye}[e]}function Rn(t="ltr",e="horizontal"){return["ltr","rtl"].includes(t)||(t="ltr"),["horizontal","vertical"].includes(e)||(e="horizontal"),{nextKey:Kn(t,e),prevKey:Dn(t,e)}}function zn(t){const e=E(null);function n(){if(!_n)return[];const o=document.getElementById(t.rootNodeId.current);return o?t.candidateSelector?Array.from(o.querySelectorAll(t.candidateSelector)):t.candidateAttr?Array.from(o.querySelectorAll(`[${t.candidateAttr}]:not([data-disabled])`)):[]:[]}function r(){var a;const o=n();o.length&&((a=o[0])==null||a.focus())}function s(o,a,l=!1){var Q;const d=document.getElementById(t.rootNodeId.current);if(!d||!o)return;const i=n();if(!i.length)return;const g=i.indexOf(o),A=Nn(d),{nextKey:M,prevKey:C}=Rn(A,t.orientation.current),p=t.loop.current,v={[M]:g+1,[C]:g-1,[It]:0,[kt]:i.length-1};if(l){const $=M===Te?it:Te,B=C===Ye?ut:Ye;v[$]=g+1,v[B]=g-1}let G=v[a.key];if(G===void 0)return;a.preventDefault(),G<0&&p?G=i.length-1:G===i.length&&p&&(G=0);const y=i[G];if(y)return y.focus(),e.current=y.id,(Q=t.onCandidateFocus)==null||Q.call(t,y),y}function u(o){const a=n(),l=e.current!==null;return o&&!l&&a[0]===o?(e.current=o.id,0):(o==null?void 0:o.id)===e.current?0:-1}return{setCurrentTabStopId(o){e.current=o},getTabIndex:u,handleKeydown:s,focusFirstCandidate:r,currentTabStopId:e}}function Dt(t,e=1e4,n=le){let r=null,s=X(en(t));function u(){return window.setTimeout(()=>{T(s,t,!0),n(t)},e)}return Ze(()=>()=>{r&&clearTimeout(r)}),E.with(()=>c(s),o=>{T(s,o,!0),n(o),r&&clearTimeout(r),r=u()})}function Gn(t){const e=Dt("",1e3),n=(o=>o.focus()),r=(()=>document.activeElement);function s(o,a){var M,C;if(!a.length)return;e.current=e.current+o;const l=r(),d=((C=(M=a.find(p=>p===l))==null?void 0:M.textContent)==null?void 0:C.trim())??"",i=a.map(p=>{var v;return((v=p.textContent)==null?void 0:v.trim())??""}),g=an(i,e.current,d),A=a.find(p=>{var v;return((v=p.textContent)==null?void 0:v.trim())===g});return A&&n(A),A}function u(){e.current=""}return{search:e,handleTypeaheadSearch:s,resetTypeahead:u}}const Ln=[Ft,ct],Bn=[Te,pn,It],Rt=[Ye,gn,kt],Hn=[...Bn,...Rt];function At(t){return t.pointerType==="mouse"}function jn(t){const e=D(()=>t.enabled()),n=Dt(!1,t.transitTimeout??300,o=>{var a;c(e)&&((a=t.setIsPointerInTransit)==null||a.call(t,o))});let r=X(null);function s(){T(r,null),n.current=!1}function u(o,a){const l=o.currentTarget;if(!pe(l))return;const d={x:o.clientX,y:o.clientY},i=Wn(d,l.getBoundingClientRect()),g=Un(d,i),A=Yn(a.getBoundingClientRect()),M=Vn([...g,...A]);T(r,M,!0),n.current=!0}return qe([t.triggerNode,t.contentNode,t.enabled],([o,a,l])=>{if(!o||!a||!l)return;const d=g=>{u(g,a)},i=g=>{u(g,o)};return Et(ce(o,"pointerleave",d),ce(a,"pointerleave",i))}),qe(()=>c(r),()=>ce(document,"pointermove",a=>{var A,M;if(!c(r))return;const l=a.target;if(!ot(l))return;const d={x:a.clientX,y:a.clientY},i=((A=t.triggerNode())==null?void 0:A.contains(l))||((M=t.contentNode())==null?void 0:M.contains(l)),g=!qn(d,c(r));i?s():g&&(s(),t.onPointerExit())})),{isPointerInTransit:n}}function Wn(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),u=Math.abs(e.left-t.x);switch(Math.min(n,r,s,u)){case u:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Un(t,e,n=5){const r=n*1.5;switch(e){case"top":return[{x:t.x-n,y:t.y+n},{x:t.x,y:t.y-r},{x:t.x+n,y:t.y+n}];case"bottom":return[{x:t.x-n,y:t.y-n},{x:t.x,y:t.y+r},{x:t.x+n,y:t.y-n}];case"left":return[{x:t.x+n,y:t.y-n},{x:t.x-r,y:t.y},{x:t.x+n,y:t.y+n}];case"right":return[{x:t.x-n,y:t.y-n},{x:t.x+r,y:t.y},{x:t.x-n,y:t.y+n}]}}function Yn(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function qn(t,e){const{x:n,y:r}=t;let s=!1;for(let u=0,o=e.length-1;u<e.length;o=u++){const a=e[u].x,l=e[u].y,d=e[o].x,i=e[o].y;l>r!=i>r&&n<(d-a)*(r-l)/(i-l)+a&&(s=!s)}return s}function Vn(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Xn(e)}function Xn(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const u=e[e.length-1],o=e[e.length-2];if((u.x-o.x)*(s.y-o.y)>=(u.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const u=n[n.length-1],o=n[n.length-2];if((u.x-o.x)*(s.y-o.y)>=(u.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}function Me(){return{getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"}}function Jn(t,e){if(!ft(t,Me()))return Qn(t,e);const n=wn(Kt(t).body,Me());e==="prev"&&n.reverse();const r=n.indexOf(t);return r===-1?document.body:n.slice(r+1)[0]}function Qn(t,e){if(!Mn(t,Me()))return document.body;const n=Pn(Kt(t).body,Me());e==="prev"&&n.reverse();const r=n.indexOf(t);return r===-1?document.body:n.slice(r+1).find(u=>ft(u,Me()))??document.body}const Zn=new lt("Menu.Root"),pt=new lt("Menu.Root | Menu.Sub"),zt=new lt("Menu.Content"),$n=new An("bitsmenuopen",{bubbles:!1,cancelable:!0});var Ae,Ce;class er{constructor(e){P(this,"opts");P(this,"isUsingKeyboard",new st);I(this,Ae,X(!1));I(this,Ce,X(!1));this.opts=e}get ignoreCloseAutoFocus(){return c(h(this,Ae))}set ignoreCloseAutoFocus(e){T(h(this,Ae),e,!0)}get isPointerInTransit(){return c(h(this,Ce))}set isPointerInTransit(e){T(h(this,Ce),e,!0)}getAttr(e){return`data-${this.opts.variant.current}-${e}`}}Ae=new WeakMap,Ce=new WeakMap;var Se,ke;class tr{constructor(e,n,r){P(this,"opts");P(this,"root");P(this,"parentMenu");P(this,"contentId",E.with(()=>""));I(this,Se,X(null));I(this,ke,X(null));this.opts=e,this.root=n,this.parentMenu=r,r&&qe(()=>r.opts.open.current,()=>{r.opts.open.current||(this.opts.open.current=!1)})}get contentNode(){return c(h(this,Se))}set contentNode(e){T(h(this,Se),e,!0)}get triggerNode(){return c(h(this,ke))}set triggerNode(e){T(h(this,ke),e,!0)}toggleOpen(){this.opts.open.current=!this.opts.open.current}onOpen(){this.opts.open.current=!0}onClose(){this.opts.open.current=!1}}Se=new WeakMap,ke=new WeakMap;var Ie,Fe,Ee,Oe,Ne,ee,Gt,Ue,Ke,De;class nr{constructor(e,n){I(this,ee);P(this,"opts");P(this,"parentMenu");I(this,Ie,X(""));I(this,Fe,0);I(this,Ee);P(this,"rovingFocusGroup");I(this,Oe,X(!1));I(this,Ne);P(this,"onCloseAutoFocus",e=>{this.opts.onCloseAutoFocus.current(e),!(e.defaultPrevented||h(this,Ne))&&this.parentMenu.triggerNode&&ft(this.parentMenu.triggerNode)&&this.parentMenu.triggerNode.focus()});P(this,"onOpenAutoFocus",e=>{if(e.defaultPrevented)return;e.preventDefault();const n=this.parentMenu.contentNode;n==null||n.focus()});I(this,Ke,D(()=>({open:this.parentMenu.opts.open.current})));I(this,De,D(()=>({id:this.opts.id.current,role:"menu","aria-orientation":yn("vertical"),[this.parentMenu.root.getAttr("content")]:"","data-state":Ot(this.parentMenu.opts.open.current),onkeydown:this.onkeydown,onblur:this.onblur,onfocus:this.onfocus,dir:this.parentMenu.root.opts.dir.current,style:{pointerEvents:"auto"}})));P(this,"popperProps",{onCloseAutoFocus:e=>this.onCloseAutoFocus(e)});this.opts=e,this.parentMenu=n,n.contentId=e.id,je(this,Ne,e.isSub??!1),this.onkeydown=this.onkeydown.bind(this),this.onblur=this.onblur.bind(this),this.onfocus=this.onfocus.bind(this),this.handleInteractOutside=this.handleInteractOutside.bind(this),dt({...e,deps:()=>this.parentMenu.opts.open.current,onRefChange:r=>{this.parentMenu.contentNode!==r&&(this.parentMenu.contentNode=r)}}),jn({contentNode:()=>this.parentMenu.contentNode,triggerNode:()=>this.parentMenu.triggerNode,enabled:()=>{var r;return this.parentMenu.opts.open.current&&!!((r=this.parentMenu.triggerNode)!=null&&r.hasAttribute(this.parentMenu.root.getAttr("sub-trigger")))},onPointerExit:()=>{this.parentMenu.opts.open.current=!1},setIsPointerInTransit:r=>{this.parentMenu.root.isPointerInTransit=r}}),je(this,Ee,Gn().handleTypeaheadSearch),this.rovingFocusGroup=zn({rootNodeId:this.parentMenu.contentId,candidateAttr:this.parentMenu.root.getAttr("item"),loop:this.opts.loop,orientation:E.with(()=>"vertical")}),qe(()=>this.parentMenu.contentNode,r=>{if(!r)return;const s=()=>{oe(()=>{this.parentMenu.root.isUsingKeyboard.current&&this.rovingFocusGroup.focusFirstCandidate()})};return $n.listen(r,s)}),Ze(()=>{this.parentMenu.opts.open.current||window.clearTimeout(h(this,Fe))})}get search(){return c(h(this,Ie))}set search(e){T(h(this,Ie),e,!0)}get mounted(){return c(h(this,Oe))}set mounted(e){T(h(this,Oe),e,!0)}handleTabKeyDown(e){let n=this.parentMenu;for(;n.parentMenu!==null;)n=n.parentMenu;if(!n.triggerNode)return;e.preventDefault();const r=Jn(n.triggerNode,e.shiftKey?"prev":"next");r?(this.parentMenu.root.ignoreCloseAutoFocus=!0,n.onClose(),oe(()=>{r.focus(),oe(()=>{this.parentMenu.root.ignoreCloseAutoFocus=!1})})):document.body.focus()}onkeydown(e){var d,i;if(e.defaultPrevented)return;if(e.key===mn){this.handleTabKeyDown(e);return}const n=e.target,r=e.currentTarget;if(!pe(n)||!pe(r))return;const s=((d=n.closest(`[${this.parentMenu.root.getAttr("content")}]`))==null?void 0:d.id)===this.parentMenu.contentId.current,u=e.ctrlKey||e.altKey||e.metaKey,o=e.key.length===1;if(this.rovingFocusGroup.handleKeydown(n,e)||e.code==="Space")return;const l=se(this,ee,Gt).call(this);s&&!u&&o&&h(this,Ee).call(this,e.key,l),((i=e.target)==null?void 0:i.id)===this.parentMenu.contentId.current&&Hn.includes(e.key)&&(e.preventDefault(),Rt.includes(e.key)&&l.reverse(),Cn(l))}onblur(e){var n,r;ot(e.currentTarget)&&ot(e.target)&&((r=(n=e.currentTarget).contains)!=null&&r.call(n,e.target)||(window.clearTimeout(h(this,Fe)),this.search=""))}onfocus(e){this.parentMenu.root.isUsingKeyboard.current&&oe(()=>this.rovingFocusGroup.focusFirstCandidate())}onItemEnter(){return se(this,ee,Ue).call(this)}onItemLeave(e){if(e.currentTarget.hasAttribute(this.parentMenu.root.getAttr("sub-trigger"))||se(this,ee,Ue).call(this)||this.parentMenu.root.isUsingKeyboard.current)return;const n=this.parentMenu.contentNode;n==null||n.focus(),this.rovingFocusGroup.setCurrentTabStopId("")}onTriggerLeave(){return!!se(this,ee,Ue).call(this)}handleInteractOutside(e){var r;if(!Sn(e.target))return;const n=(r=this.parentMenu.triggerNode)==null?void 0:r.id;if(e.target.id===n){e.preventDefault();return}e.target.closest(`#${n}`)&&e.preventDefault()}get snippetProps(){return c(h(this,Ke))}set snippetProps(e){T(h(this,Ke),e)}get props(){return c(h(this,De))}set props(e){T(h(this,De),e)}}Ie=new WeakMap,Fe=new WeakMap,Ee=new WeakMap,Oe=new WeakMap,Ne=new WeakMap,ee=new WeakSet,Gt=function(){const e=this.parentMenu.contentNode;return e?Array.from(e.querySelectorAll(`[${this.parentMenu.root.getAttr("item")}]:not([data-disabled])`)):[]},Ue=function(){return this.parentMenu.root.isPointerInTransit},Ke=new WeakMap,De=new WeakMap;var he,Re;class rr{constructor(e,n){P(this,"opts");P(this,"content");I(this,he,X(!1));I(this,Re,D(()=>({id:this.opts.id.current,tabindex:-1,role:"menuitem","aria-disabled":bn(this.opts.disabled.current),"data-disabled":Nt(this.opts.disabled.current),"data-highlighted":c(h(this,he))?"":void 0,[this.content.parentMenu.root.getAttr("item")]:"",onpointermove:this.onpointermove,onpointerleave:this.onpointerleave,onfocus:this.onfocus,onblur:this.onblur})));this.opts=e,this.content=n,this.onpointermove=this.onpointermove.bind(this),this.onpointerleave=this.onpointerleave.bind(this),this.onfocus=this.onfocus.bind(this),this.onblur=this.onblur.bind(this),dt({...e,deps:()=>this.content.mounted})}onpointermove(e){if(!e.defaultPrevented&&At(e))if(this.opts.disabled.current)this.content.onItemLeave(e);else{if(this.content.onItemEnter())return;const r=e.currentTarget;if(!pe(r))return;r.focus()}}onpointerleave(e){e.defaultPrevented||At(e)&&this.content.onItemLeave(e)}onfocus(e){oe(()=>{e.defaultPrevented||this.opts.disabled.current||T(h(this,he),!0)})}onblur(e){oe(()=>{e.defaultPrevented||T(h(this,he),!1)})}get props(){return c(h(this,Re))}set props(e){T(h(this,Re),e)}}he=new WeakMap,Re=new WeakMap;var ze,Ve,Lt,Ge;class or{constructor(e,n){I(this,Ve);P(this,"opts");P(this,"item");I(this,ze,!1);P(this,"root");I(this,Ge,D(()=>de(this.item.props,{onclick:this.onclick,onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown})));this.opts=e,this.item=n,this.root=n.content.parentMenu.root,this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this)}onkeydown(e){const n=this.item.content.search!=="";if(!(this.item.opts.disabled.current||n&&e.key===ct)&&Ln.includes(e.key)){if(!pe(e.currentTarget))return;e.currentTarget.click(),e.preventDefault()}}onclick(e){this.item.opts.disabled.current||se(this,Ve,Lt).call(this)}onpointerup(e){var n;if(!e.defaultPrevented&&!h(this,ze)){if(!pe(e.currentTarget))return;(n=e.currentTarget)==null||n.click()}}onpointerdown(e){je(this,ze,!0)}get props(){return c(h(this,Ge))}set props(e){T(h(this,Ge),e)}}ze=new WeakMap,Ve=new WeakSet,Lt=function(){if(this.item.opts.disabled.current)return;const e=new CustomEvent("menuitemselect",{bubbles:!0,cancelable:!0});this.opts.onSelect.current(e),oe(()=>{if(e.defaultPrevented){this.item.content.parentMenu.root.isUsingKeyboard.current=!1;return}this.opts.closeOnSelect.current&&this.item.content.parentMenu.root.opts.onClose()})},Ge=new WeakMap;var Xe,Le;class sr{constructor(e,n){P(this,"opts");P(this,"parentMenu");I(this,Xe,D(()=>{if(this.parentMenu.opts.open.current&&this.parentMenu.contentId.current)return this.parentMenu.contentId.current}));I(this,Le,D(()=>({id:this.opts.id.current,disabled:this.opts.disabled.current,"aria-haspopup":"menu","aria-expanded":vn(this.parentMenu.opts.open.current),"aria-controls":c(h(this,Xe)),"data-disabled":Nt(this.opts.disabled.current),"data-state":Ot(this.parentMenu.opts.open.current),[this.parentMenu.root.getAttr("trigger")]:"",onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown})));this.opts=e,this.parentMenu=n,this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this),this.onkeydown=this.onkeydown.bind(this),dt({...e,onRefChange:r=>{this.parentMenu.triggerNode=r}})}onpointerdown(e){if(!this.opts.disabled.current){if(e.pointerType==="touch")return e.preventDefault();e.button===0&&e.ctrlKey===!1&&(this.parentMenu.toggleOpen(),this.parentMenu.opts.open.current||e.preventDefault())}}onpointerup(e){this.opts.disabled.current||e.pointerType==="touch"&&(e.preventDefault(),this.parentMenu.toggleOpen())}onkeydown(e){if(!this.opts.disabled.current){if(e.key===ct||e.key===Ft){this.parentMenu.toggleOpen(),e.preventDefault();return}e.key===Te&&(this.parentMenu.onOpen(),e.preventDefault())}}get props(){return c(h(this,Le))}set props(e){T(h(this,Le),e)}}Xe=new WeakMap,Le=new WeakMap;function ar(t){const e=new er(t);return Tn.set({get ignoreCloseAutoFocus(){return e.ignoreCloseAutoFocus}}),Zn.set(e)}function ir(t,e){return pt.set(new tr(e,t,null))}function ur(t){return new sr(t,pt.get())}function cr(t){return zt.set(new nr(t,pt.get()))}function lr(t){const e=new rr(t,zt.get());return new or(t,e)}var dr=K("<div><!></div>");function hr(t,e){ge(e,!0);let n=F(e,"ref",15,null),r=F(e,"id",19,ht),s=F(e,"disabled",3,!1),u=F(e,"onSelect",3,le),o=F(e,"closeOnSelect",3,!0),a=at(e,["$$slots","$$events","$$legacy","child","children","ref","id","disabled","onSelect","closeOnSelect"]);const l=lr({id:E.with(()=>r()),disabled:E.with(()=>s()),onSelect:E.with(()=>u()),ref:E.with(()=>n(),C=>n(C)),closeOnSelect:E.with(()=>o())}),d=D(()=>de(a,l.props));var i=z(),g=S(i);{var A=C=>{var p=z(),v=S(p);J(v,()=>e.child,()=>({props:c(d)})),f(C,p)},M=C=>{var p=dr();ue(p,()=>({...c(d)}));var v=_(p);J(v,()=>e.children??Pe),w(p),f(C,p)};V(g,C=>{e.child?C(A):C(M,!1)})}f(t,i),ve()}function fr(t,e){ge(e,!0);let n=F(e,"open",15,!1),r=F(e,"dir",3,"ltr"),s=F(e,"onOpenChange",3,le),u=F(e,"_internal_variant",3,"dropdown-menu");const o=ar({variant:E.with(()=>u()),dir:E.with(()=>r()),onClose:()=>{n(!1),s()(!1)}});ir(o,{open:E.with(()=>n(),a=>{n(a),s()(a)})}),un(t,{children:(a,l)=>{var d=z(),i=S(d);J(i,()=>e.children??Pe),f(a,d)},$$slots:{default:!0}}),ve()}var pr=K("<div><div><!></div></div>"),gr=K("<!> <!>",1),vr=K("<div><div><!></div></div>"),mr=K("<!> <!>",1);function yr(t,e){ge(e,!0);let n=F(e,"id",19,ht),r=F(e,"ref",15,null),s=F(e,"loop",3,!0),u=F(e,"onInteractOutside",3,le),o=F(e,"onEscapeKeydown",3,le),a=F(e,"onCloseAutoFocus",3,le),l=F(e,"forceMount",3,!1),d=at(e,["$$slots","$$events","$$legacy","id","child","children","ref","loop","onInteractOutside","onEscapeKeydown","onCloseAutoFocus","forceMount"]);const i=cr({id:E.with(()=>n()),loop:E.with(()=>s()),ref:E.with(()=>r(),y=>r(y)),onCloseAutoFocus:E.with(()=>a())}),g=D(()=>de(d,i.props));function A(y){i.handleInteractOutside(y),!y.defaultPrevented&&(u()(y),!y.defaultPrevented&&i.parentMenu.onClose())}function M(y){o()(y),!y.defaultPrevented&&i.parentMenu.onClose()}var C=z(),p=S(C);{var v=y=>{cn(y,fe(()=>c(g),()=>i.popperProps,{get enabled(){return i.parentMenu.opts.open.current},onInteractOutside:A,onEscapeKeydown:M,trapFocus:!0,get loop(){return s()},forceMount:!0,get id(){return n()},popper:($,B)=>{let te=()=>B==null?void 0:B().props,me=()=>B==null?void 0:B().wrapperProps;const m=D(()=>de(te(),{style:Mt("dropdown-menu")}));var x=gr(),O=S(x);{var N=b=>{var k=z(),j=S(k);{let ne=D(()=>({props:c(m),wrapperProps:me(),...i.snippetProps}));J(j,()=>e.child,()=>c(ne))}f(b,k)},L=b=>{var k=pr();ue(k,()=>({...me()}));var j=_(k);ue(j,()=>({...c(m)}));var ne=_(j);J(ne,()=>e.children??Pe),w(j),w(k),f(b,k)};V(O,b=>{e.child?b(N):b(L,!1)})}var H=R(O,2);wt(H,{get mounted(){return i.mounted},set mounted(b){i.mounted=b}}),f($,x)},$$slots:{popper:!0}}))},G=y=>{var Q=z(),$=S(Q);{var B=te=>{ln(te,fe(()=>c(g),()=>i.popperProps,{get present(){return i.parentMenu.opts.open.current},onInteractOutside:A,onEscapeKeydown:M,trapFocus:!0,get loop(){return s()},forceMount:!1,get id(){return n()},popper:(m,x)=>{let O=()=>x==null?void 0:x().props,N=()=>x==null?void 0:x().wrapperProps;const L=D(()=>de(O(),{style:Mt("dropdown-menu")}));var H=mr(),b=S(H);{var k=W=>{var q=z(),Z=S(q);{let ye=D(()=>({props:c(L),wrapperProps:N(),...i.snippetProps}));J(Z,()=>e.child,()=>c(ye))}f(W,q)},j=W=>{var q=vr();ue(q,()=>({...N()}));var Z=_(q);ue(Z,()=>({...c(L)}));var ye=_(Z);J(ye,()=>e.children??Pe),w(Z),w(q),f(W,q)};V(b,W=>{e.child?W(k):W(j,!1)})}var ne=R(b,2);wt(ne,{get mounted(){return i.mounted},set mounted(W){i.mounted=W}}),f(m,H)},$$slots:{popper:!0}}))};V($,te=>{l()||te(B)},!0)}f(y,Q)};V(p,y=>{l()?y(v):y(G,!1)})}f(t,C),ve()}var br=K("<button><!></button>");function xr(t,e){ge(e,!0);let n=F(e,"id",19,ht),r=F(e,"ref",15,null),s=F(e,"disabled",3,!1),u=F(e,"type",3,"button"),o=at(e,["$$slots","$$events","$$legacy","id","ref","child","children","disabled","type"]);const a=ur({id:E.with(()=>n()),disabled:E.with(()=>s()??!1),ref:E.with(()=>r(),d=>r(d))}),l=D(()=>de(o,a.props,{type:u()}));dn(t,{get id(){return n()},children:(d,i)=>{var g=z(),A=S(g);{var M=p=>{var v=z(),G=S(v);J(G,()=>e.child,()=>({props:c(l)})),f(p,v)},C=p=>{var v=br();ue(v,()=>({...c(l)}));var G=_(v);J(G,()=>e.children??Pe),w(v),f(p,v)};V(A,p=>{e.child?p(M):p(C,!1)})}f(d,g)},$$slots:{default:!0}}),ve()}let we=X(!1);const U=class U{constructor(){Ze(()=>(U._refs===0&&(U._cleanup=tn(()=>{const e=[],n=s=>{T(we,!1)},r=s=>{T(we,!0)};return e.push(ce(document,"pointerdown",n,{capture:!0}),ce(document,"pointermove",n,{capture:!0}),ce(document,"keydown",r,{capture:!0})),Et(...e)})),U._refs++,()=>{var e;U._refs--,U._refs===0&&(T(we,!1),(e=U._cleanup)==null||e.call(U))}))}get current(){return c(we)}set current(e){T(we,e,!0)}};P(U,"_refs",0),P(U,"_cleanup");let st=U;function _r(t,e){const n=$e(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}],["polyline",{points:"16 17 21 12 16 7"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12"}]];Je(t,fe({name:"log-out"},()=>n,{get iconNode(){return r},children:(s,u)=>{var o=z(),a=S(o);Qe(a,e,"default",{}),f(s,o)},$$slots:{default:!0}}))}function wr(t,e){const n=$e(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"}],["path",{d:"M12 22V12"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7"}],["path",{d:"m7.5 4.27 9 5.15"}]];Je(t,fe({name:"package"},()=>n,{get iconNode(){return r},children:(s,u)=>{var o=z(),a=S(o);Qe(a,e,"default",{}),f(s,o)},$$slots:{default:!0}}))}function Mr(t,e){const n=$e(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]];Je(t,fe({name:"settings"},()=>n,{get iconNode(){return r},children:(s,u)=>{var o=z(),a=S(o);Qe(a,e,"default",{}),f(s,o)},$$slots:{default:!0}}))}function Pr(t,e){const n=$e(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["circle",{cx:"9",cy:"7",r:"4"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}]];Je(t,fe({name:"users"},()=>n,{get iconNode(){return r},children:(s,u)=>{var o=z(),a=S(o);Qe(a,e,"default",{}),f(s,o)},$$slots:{default:!0}}))}var Tr=K("<a><!> </a>"),Ar=K('<span class="ml-1 inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-white bg-red-500 rounded-full"> </span>'),Cr=K("<a><!> Users <!></a>"),Sr=K('<div class="hidden sm:flex items-center gap-2 text-sm text-muted-foreground"><span>Memory:</span> <span class="font-mono"> </span> <div class="w-24 h-2 bg-gray-200 rounded-full overflow-hidden"><div class="h-full bg-mlx-500 transition-all"></div></div></div>'),kr=K("<!> <!>",1),Ir=K('<div class="px-3 py-2 border-b border-gray-200 dark:border-gray-700"><p class="text-sm font-medium text-gray-900 dark:text-gray-100">Signed in as</p> <p class="text-sm text-gray-500 dark:text-gray-400 truncate"> </p></div>'),Fr=K("<!> Logout",1),Er=K("<!> <!>",1),Or=K("<!> <!>",1),Nr=K('<nav class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between h-16"><div class="flex items-center"><a class="flex items-center gap-2"><!> <span class="font-bold text-xl">MLX Manager</span></a> <div class="hidden md:flex ml-10 space-x-4"><!> <!></div></div> <div class="flex items-center gap-4"><!> <!></div></div></div></nav>');function Kr(t,e){ge(e,!0);const n=()=>rn(on,"$page",r),[r,s]=nn(),u=[{href:"/servers",label:"Servers",icon:hn},{href:"/chat",label:"Chat",icon:fn},{href:"/models",label:"Models",icon:wr},{href:"/profiles",label:"Profiles",icon:Mr}];let o=X(0);Ze(()=>{re.memory||re.refreshMemory()}),St(()=>{if(Y.isAdmin){a();const m=setInterval(a,3e4);return()=>clearInterval(m)}});async function a(){try{const m=await Ct.getPendingCount();T(o,m.count,!0)}catch{}}function l(){Y.clearAuth(),window.location.href="/login"}var d=Nr(),i=_(d),g=_(i),A=_(g),M=_(A),C=_(M);sn(C,{class:"w-8 h-8 text-mlx-500"}),_t(2),w(M);var p=R(M,2),v=_(p);Xt(v,17,()=>u,m=>m.href,(m,x)=>{const O=D(()=>n().url.pathname.startsWith(c(x).href));var N=Tr(),L=_(N);ie(L,()=>c(x).icon,(b,k)=>{k(b,{class:"w-4 h-4"})});var H=R(L);w(N),ae(b=>{nt(N,"href",b),xt(N,1,`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors
								${c(O)?"bg-mlx-100 text-mlx-700 dark:bg-mlx-900 dark:text-mlx-100":"text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`),We(H,` ${c(x).label??""}`)},[()=>rt(c(x).href)]),f(m,N)});var G=R(v,2);{var y=m=>{const x=D(()=>n().url.pathname==="/users");var O=Cr(),N=_(O);Pr(N,{class:"w-4 h-4"});var L=R(N,2);{var H=b=>{var k=Ar(),j=_(k,!0);w(k),ae(()=>We(j,c(o))),f(b,k)};V(L,b=>{c(o)>0&&b(H)})}w(O),ae(b=>{nt(O,"href",b),xt(O,1,`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors
								${c(x)?"bg-mlx-100 text-mlx-700 dark:bg-mlx-900 dark:text-mlx-100":"text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`)},[()=>rt("/users")]),f(m,O)};V(G,m=>{Y.isAdmin&&m(y)})}w(p),w(A);var Q=R(A,2),$=_(Q);{var B=m=>{var x=Sr(),O=R(_(x),2),N=_(O);w(O);var L=R(O,2),H=_(L);w(L),w(x),ae((b,k)=>{We(N,`${b??""} / ${k??""} GB`),Jt(H,`width: ${re.memory.percent_used??""}%`)},[()=>re.memory.used_gb.toFixed(1),()=>re.memory.total_gb.toFixed(0)]),f(m,x)};V($,m=>{re.memory&&m(B)})}var te=R($,2);{var me=m=>{var x=z(),O=S(x);ie(O,()=>fr,(N,L)=>{L(N,{children:(H,b)=>{var k=Or(),j=S(k);ie(j,()=>xr,(W,q)=>{q(W,{class:"flex items-center gap-1 px-2 py-1.5 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors",children:(Z,ye)=>{var be=kr(),Be=S(be);In(Be,{class:"w-5 h-5"});var et=R(Be,2);xn(et,{class:"w-3 h-3"}),f(Z,be)},$$slots:{default:!0}})});var ne=R(j,2);ie(ne,()=>kn,(W,q)=>{q(W,{children:(Z,ye)=>{var be=z(),Be=S(be);ie(Be,()=>yr,(et,Bt)=>{Bt(et,{class:"z-50 min-w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1",sideOffset:5,align:"end",children:(Ht,Rr)=>{var gt=Er(),vt=S(gt);{var jt=xe=>{var _e=Ir(),He=R(_(_e),2),mt=_(He,!0);w(He),w(_e),ae(()=>We(mt,Y.user.email)),f(xe,_e)};V(vt,xe=>{Y.user&&xe(jt)})}var Wt=R(vt,2);ie(Wt,()=>hr,(xe,_e)=>{_e(xe,{class:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer transition-colors",onSelect:l,children:(He,mt)=>{var yt=Fr(),Ut=S(yt);_r(Ut,{class:"w-4 h-4"}),_t(),f(He,yt)},$$slots:{default:!0}})}),f(Ht,gt)},$$slots:{default:!0}})}),f(Z,be)},$$slots:{default:!0}})}),f(H,k)},$$slots:{default:!0}})}),f(m,x)};V(te,m=>{Y.isAuthenticated&&m(me)})}w(Q),w(g),w(i),w(d),ae(m=>nt(M,"href",m),[()=>rt("/")]),f(t,d),ve(),s()}var Dr=K('<div class="min-h-screen bg-gray-50 dark:bg-gray-900"><!> <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!></main></div>');function ao(t,e){ge(e,!0),St(()=>(Qt.startPolling(),Zt.startPolling(),re.startMemoryPolling(),Pt.loadActiveDownloads(),()=>{$t.destroy(),Pt.cleanup()}));var n=Dr(),r=_(n);Kr(r,{});var s=R(r,2),u=_(s);J(u,()=>e.children),w(s),w(n),f(t,n),ve()}export{ao as component,so as universal};
