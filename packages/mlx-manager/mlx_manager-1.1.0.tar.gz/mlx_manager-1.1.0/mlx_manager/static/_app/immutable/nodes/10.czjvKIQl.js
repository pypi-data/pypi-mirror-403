var Qt=Object.defineProperty;var Ot=a=>{throw TypeError(a)};var Xt=(a,e,t)=>e in a?Qt(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var G=(a,e,t)=>Xt(a,typeof e!="symbol"?e+"":e,t),Zt=(a,e,t)=>e.has(a)||Ot("Cannot "+t);var u=(a,e,t)=>(Zt(a,e,"read from private field"),t?t.call(a):e.get(a)),H=(a,e,t)=>e.has(a)?Ot("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(a):e.set(a,t);import{c as B,a as n,f as I,t as Fe}from"../chunks/nUxvHMgL.js";import{o as $t}from"../chunks/DPMBEg2i.js";import{p as fe,f as w,g as r,h as g,a as ve,c as o,s as z,u as Ae,K as Mt,l as Ee,e as y,d as c,r as f,b as er,t as Se,n as ce}from"../chunks/CNYbWU2B.js";import{o as tr,s as ae,d as rr,e as ir}from"../chunks/BWpKPX3N.js";import{p as C,i as E,r as ft,s as He,l as wt}from"../chunks/CxfCsaSi.js";import{n as ye,e as pt,o as sr,I as St,s as Pt,f as Oe,l as or,d as ar,a as m,j as Ft,p as De}from"../chunks/D9xfsXh9.js";import{b as nr}from"../chunks/DXz5Io-F.js";import{c as Ne}from"../chunks/BWQjEkJe.js";import{B as _e,C as Et,b as lr,d as dr}from"../chunks/BQ-_QVTP.js";import{s as me}from"../chunks/3fxp844U.js";import{m as Ce,s as ur,a as Vt,u as bt,w as ke,e as Lt,A as Me,f as gt,h as hr,i as cr,j as fr,k as vr,l as gr,o as pr,M as mr,E as Nt,F as _r,p as br,q as xr,r as yr,t as wr,v as Sr,x as Pr,y as Nr,z as Cr,B as kr,D as Ir,G as Or,T as At,H as Fr,I as Kt,J as zt,K as Ut,L as Bt,N as Ct,g as kt,O as Ar,S as Hr,Q as Tr,R as Rr,d as qt,U as Dr,V as Mr,b as U,n as Te,c as xt,C as Er}from"../chunks/BCcEFCgH.js";import{n as Vr,p as Lr,f as Kr,b as zr,F as Ur,a as Br,P as qr,c as jr,M as Wr,S as Gr}from"../chunks/O39CLxRO.js";import{i as Yr,P as Jr}from"../chunks/C4CP8qua.js";import{b as Qr,L as Ve}from"../chunks/DcWGgsJS.js";import{P as Xr,R as Zr,S as jt,b as $r,C as ei}from"../chunks/1cqaUJGZ.js";import{g as ti}from"../chunks/qoE10lYN.js";import{r as ri}from"../chunks/CbhfpbUc.js";import{f as ii,a as si}from"../chunks/CLON3Y_x.js";import{B as mt}from"../chunks/DrtKqSxJ.js";import{M as oi}from"../chunks/Ciw8QBp0.js";import"../chunks/CiMb2DjI.js";import{P as Ht}from"../chunks/BmwZupMj.js";var ai=I("<input/>"),ni=I("<input/>");function li(a,e){fe(e,!0);let t=C(e,"value",15),i=ft(e,["$$slots","$$events","$$legacy","value"]);const d=g(()=>Ce(i,{"aria-hidden":"true",tabindex:-1,style:ur}));var p=B(),l=w(p);{var v=x=>{var b=ai();ye(b,()=>({...r(d),value:t()}),void 0,void 0,void 0,void 0,!0),n(x,b)},F=x=>{var b=ni();ye(b,()=>({...r(d)}),void 0,void 0,void 0,void 0,!0),Qr(b,t),n(x,b)};E(l,x=>{r(d).type==="checkbox"?x(v):x(F,!1)})}n(a,p),ve()}const Tt=[hr,Lt,cr,fr,vr,gr,pr,mr,Nt,_r,br,xr,yr,wr,Sr,Pr,Nr,Cr,kr,Ir,Or],di=[gt,Kt,zt],ui=[Me,Ut,Bt],hi=[...di,...ui];var Le,Ke,ze,Ue,Be,qe,je,We,Ge,Ye;class Wt{constructor(e){G(this,"opts");H(this,Le,z(!1));H(this,Ke,z(""));H(this,ze,z(null));H(this,Ue,z(null));H(this,Be,z(null));H(this,qe,z(""));H(this,je,z(null));H(this,We,g(()=>this.highlightedNode?this.highlightedNode.getAttribute("data-value"):null));H(this,Ge,g(()=>{if(this.highlightedNode)return this.highlightedNode.id}));H(this,Ye,g(()=>this.highlightedNode?this.highlightedNode.getAttribute("data-label"):null));G(this,"isUsingKeyboard",!1);G(this,"isCombobox",!1);G(this,"bitsAttrs");this.opts=e,this.isCombobox=e.isCombobox,this.bitsAttrs=ki(this),Mt(()=>{this.opts.open.current||this.setHighlightedNode(null)})}get touchedInput(){return r(u(this,Le))}set touchedInput(e){o(u(this,Le),e,!0)}get inputValue(){return r(u(this,Ke))}set inputValue(e){o(u(this,Ke),e,!0)}get inputNode(){return r(u(this,ze))}set inputNode(e){o(u(this,ze),e,!0)}get contentNode(){return r(u(this,Ue))}set contentNode(e){o(u(this,Ue),e,!0)}get triggerNode(){return r(u(this,Be))}set triggerNode(e){o(u(this,Be),e,!0)}get valueId(){return r(u(this,qe))}set valueId(e){o(u(this,qe),e,!0)}get highlightedNode(){return r(u(this,je))}set highlightedNode(e){o(u(this,je),e,!0)}get highlightedValue(){return r(u(this,We))}set highlightedValue(e){o(u(this,We),e)}get highlightedId(){return r(u(this,Ge))}set highlightedId(e){o(u(this,Ge),e)}get highlightedLabel(){return r(u(this,Ye))}set highlightedLabel(e){o(u(this,Ye),e)}setHighlightedNode(e,t=!1){this.highlightedNode=e,e&&(this.isUsingKeyboard||t)&&e.scrollIntoView({block:this.opts.scrollAlignment.current})}getCandidateNodes(){const e=this.contentNode;return e?Array.from(e.querySelectorAll(`[${this.bitsAttrs.item}]:not([data-disabled])`)):[]}setHighlightedToFirstCandidate(){this.setHighlightedNode(null);const e=this.getCandidateNodes();e.length&&this.setHighlightedNode(e[0])}getNodeByValue(e){return this.getCandidateNodes().find(i=>i.dataset.value===e)??null}setOpen(e){this.opts.open.current=e}toggleOpen(){this.opts.open.current=!this.opts.open.current}handleOpen(){this.setOpen(!0)}handleClose(){this.setHighlightedNode(null),this.setOpen(!1)}toggleMenu(){this.toggleOpen()}}Le=new WeakMap,Ke=new WeakMap,ze=new WeakMap,Ue=new WeakMap,Be=new WeakMap,qe=new WeakMap,je=new WeakMap,We=new WeakMap,Ge=new WeakMap,Ye=new WeakMap;var Je,Qe,Xe,Ze;class ci extends Wt{constructor(t){super(t);G(this,"opts");G(this,"isMulti",!1);H(this,Je,g(()=>this.opts.value.current!==""));H(this,Qe,g(()=>{var i;return this.opts.items.current.length?((i=this.opts.items.current.find(d=>d.value===this.opts.value.current))==null?void 0:i.label)??"":""}));H(this,Xe,g(()=>this.opts.items.current.length?this.opts.items.current.filter(i=>!i.disabled).map(i=>i.label):[]));H(this,Ze,g(()=>!(this.isMulti||this.opts.items.current.length===0)));this.opts=t,Ae(()=>{!this.opts.open.current&&this.highlightedNode&&this.setHighlightedNode(null)}),ke(()=>this.opts.open.current,()=>{this.opts.open.current&&this.setInitialHighlightedNode()})}get hasValue(){return r(u(this,Je))}set hasValue(t){o(u(this,Je),t)}get currentLabel(){return r(u(this,Qe))}set currentLabel(t){o(u(this,Qe),t)}get candidateLabels(){return r(u(this,Xe))}set candidateLabels(t){o(u(this,Xe),t)}get dataTypeaheadEnabled(){return r(u(this,Ze))}set dataTypeaheadEnabled(t){o(u(this,Ze),t)}includesItem(t){return this.opts.value.current===t}toggleItem(t,i=t){this.opts.value.current=this.includesItem(t)?"":t,this.inputValue=i}setInitialHighlightedNode(){qt(()=>{if(this.highlightedNode&&document.contains(this.highlightedNode))return;if(this.opts.value.current!==""){const i=this.getNodeByValue(this.opts.value.current);if(i){this.setHighlightedNode(i,!0);return}}const t=this.getCandidateNodes()[0];t&&this.setHighlightedNode(t,!0)})}}Je=new WeakMap,Qe=new WeakMap,Xe=new WeakMap,Ze=new WeakMap;var $e;class fi extends Wt{constructor(t){super(t);G(this,"opts");G(this,"isMulti",!0);H(this,$e,g(()=>this.opts.value.current.length>0));this.opts=t,Ae(()=>{!this.opts.open.current&&this.highlightedNode&&this.setHighlightedNode(null)}),ke(()=>this.opts.open.current,()=>{this.opts.open.current&&this.setInitialHighlightedNode()})}get hasValue(){return r(u(this,$e))}set hasValue(t){o(u(this,$e),t)}includesItem(t){return this.opts.value.current.includes(t)}toggleItem(t,i=t){this.includesItem(t)?this.opts.value.current=this.opts.value.current.filter(d=>d!==t):this.opts.value.current=[...this.opts.value.current,t],this.inputValue=i}setInitialHighlightedNode(){qt(()=>{if(this.highlightedNode&&document.contains(this.highlightedNode))return;if(this.opts.value.current.length&&this.opts.value.current[0]!==""){const i=this.getNodeByValue(this.opts.value.current[0]);if(i){this.setHighlightedNode(i,!0);return}}const t=this.getCandidateNodes()[0];t&&this.setHighlightedNode(t,!0)})}}$e=new WeakMap;var et;class vi{constructor(e,t){G(this,"opts");G(this,"root");H(this,et,g(()=>({id:this.opts.id.current,role:"combobox",disabled:this.root.opts.disabled.current?!0:void 0,"aria-activedescendant":this.root.highlightedId,"aria-autocomplete":"list","aria-expanded":Ar(this.root.opts.open.current),"data-state":kt(this.root.opts.open.current),"data-disabled":Ct(this.root.opts.disabled.current),onkeydown:this.onkeydown,oninput:this.oninput,[this.root.bitsAttrs.input]:""})));this.opts=e,this.root=t,bt({...e,onRefChange:i=>{this.root.inputNode=i}}),this.onkeydown=this.onkeydown.bind(this),this.oninput=this.oninput.bind(this),ke([()=>this.root.opts.value.current,()=>this.opts.clearOnDeselect.current],([i,d],[p])=>{d&&(Array.isArray(i)&&Array.isArray(p)?i.length===0&&p.length!==0&&(this.root.inputValue=""):i===""&&p!==""&&(this.root.inputValue=""))})}onkeydown(e){if(this.root.isUsingKeyboard=!0,e.key!==Lt){if((e.key===Me||e.key===gt)&&e.preventDefault(),!this.root.opts.open.current){if(Tt.includes(e.key)||e.key===At||e.key===Fr&&this.root.inputValue===""||(this.root.handleOpen(),this.root.hasValue))return;const t=this.root.getCandidateNodes();if(!t.length)return;if(e.key===gt){const i=t[0];this.root.setHighlightedNode(i)}else if(e.key===Me){const i=t[t.length-1];this.root.setHighlightedNode(i)}return}if(e.key===At){this.root.handleClose();return}if(e.key===Nt&&!e.isComposing){e.preventDefault();const t=this.root.highlightedValue===this.root.opts.value.current;if(!this.root.opts.allowDeselect.current&&t&&!this.root.isMulti){this.root.handleClose();return}this.root.highlightedValue&&this.root.toggleItem(this.root.highlightedValue,this.root.highlightedLabel??void 0),!this.root.isMulti&&!t&&this.root.handleClose()}if(e.key===Me&&e.altKey&&this.root.handleClose(),hi.includes(e.key)){e.preventDefault();const t=this.root.getCandidateNodes(),i=this.root.highlightedNode,d=i?t.indexOf(i):-1,p=this.root.opts.loop.current;let l;if(e.key===gt?l=Vr(t,d,p):e.key===Me?l=Lr(t,d,p):e.key===Ut?l=Kr(t,d,10,p):e.key===Kt?l=zr(t,d,10,p):e.key===zt?l=t[0]:e.key===Bt&&(l=t[t.length-1]),!l)return;this.root.setHighlightedNode(l);return}Tt.includes(e.key)||this.root.highlightedNode||this.root.setHighlightedToFirstCandidate()}}oninput(e){this.root.inputValue=e.currentTarget.value,this.root.setHighlightedToFirstCandidate()}get props(){return r(u(this,et))}set props(e){o(u(this,et),e)}}et=new WeakMap;var tt;class gi{constructor(e,t){G(this,"opts");G(this,"root");H(this,tt,g(()=>({id:this.opts.id.current,disabled:this.root.opts.disabled.current?!0:void 0,"aria-haspopup":"listbox","data-state":kt(this.root.opts.open.current),"data-disabled":Ct(this.root.opts.disabled.current),[this.root.bitsAttrs.trigger]:"",onpointerdown:this.onpointerdown,onkeydown:this.onkeydown})));this.opts=e,this.root=t,bt(e),this.onkeydown=this.onkeydown.bind(this),this.onpointerdown=this.onpointerdown.bind(this)}onkeydown(e){var t;(e.key===Nt||e.key===Hr)&&(e.preventDefault(),document.activeElement!==this.root.inputNode&&((t=this.root.inputNode)==null||t.focus()),this.root.toggleMenu())}onpointerdown(e){var t;this.root.opts.disabled.current||(e.preventDefault(),document.activeElement!==this.root.inputNode&&((t=this.root.inputNode)==null||t.focus()),this.root.toggleMenu())}get props(){return r(u(this,tt))}set props(e){o(u(this,tt),e)}}tt=new WeakMap;var rt,it,_t,st,ot;class pi{constructor(e,t){G(this,"opts");G(this,"root");H(this,rt,z(null));H(this,it,z(!1));H(this,_t,g(()=>{const e=this.root.isCombobox?"--bits-combobox":"--bits-select";return{[`${e}-content-transform-origin`]:"var(--bits-floating-transform-origin)",[`${e}-content-available-width`]:"var(--bits-floating-available-width)",[`${e}-content-available-height`]:"var(--bits-floating-available-height)",[`${e}-anchor-width`]:" var(--bits-floating-anchor-width)",[`${e}-anchor-height`]:"var(--bits-floating-anchor-height)"}}));G(this,"onInteractOutside",e=>{if(e.target===this.root.triggerNode||e.target===this.root.inputNode){e.preventDefault();return}this.opts.onInteractOutside.current(e),!e.defaultPrevented&&this.root.handleClose()});G(this,"onEscapeKeydown",e=>{this.opts.onEscapeKeydown.current(e),!e.defaultPrevented&&this.root.handleClose()});G(this,"onOpenAutoFocus",e=>{e.preventDefault()});G(this,"onCloseAutoFocus",e=>{e.preventDefault()});H(this,st,g(()=>({open:this.root.opts.open.current})));H(this,ot,g(()=>({id:this.opts.id.current,role:"listbox","aria-multiselectable":this.root.isMulti?"true":void 0,"data-state":kt(this.root.opts.open.current),[this.root.bitsAttrs.content]:"",style:{display:"flex",flexDirection:"column",outline:"none",boxSizing:"border-box",pointerEvents:"auto",...r(u(this,_t))},onpointermove:this.onpointermove})));G(this,"popperProps",{onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown,onOpenAutoFocus:this.onOpenAutoFocus,onCloseAutoFocus:this.onCloseAutoFocus,trapFocus:!1,loop:!1,onPlaced:()=>{this.root.opts.open.current&&(this.isPositioned=!0)}});this.opts=e,this.root=t,bt({...e,onRefChange:i=>{this.root.contentNode=i},deps:()=>this.root.opts.open.current}),Tr(()=>{this.root.contentNode=null,this.isPositioned=!1}),ke(()=>this.root.opts.open.current,()=>{this.root.opts.open.current||(this.isPositioned=!1)}),this.onpointermove=this.onpointermove.bind(this)}get viewportNode(){return r(u(this,rt))}set viewportNode(e){o(u(this,rt),e,!0)}get isPositioned(){return r(u(this,it))}set isPositioned(e){o(u(this,it),e,!0)}onpointermove(e){this.root.isUsingKeyboard=!1}get snippetProps(){return r(u(this,st))}set snippetProps(e){o(u(this,st),e)}get props(){return r(u(this,ot))}set props(e){o(u(this,ot),e)}}rt=new WeakMap,it=new WeakMap,_t=new WeakMap,st=new WeakMap,ot=new WeakMap;var at,nt,lt,dt,ut;class mi{constructor(e,t){G(this,"opts");G(this,"root");H(this,at,g(()=>this.root.includesItem(this.opts.value.current)));H(this,nt,g(()=>this.root.highlightedValue===this.opts.value.current));G(this,"prevHighlighted",new Rr(()=>this.isHighlighted));H(this,lt,z(!1));H(this,dt,g(()=>({selected:this.isSelected,highlighted:this.isHighlighted})));H(this,ut,g(()=>({id:this.opts.id.current,role:"option","aria-selected":this.root.includesItem(this.opts.value.current)?"true":void 0,"data-value":this.opts.value.current,"data-disabled":Ct(this.opts.disabled.current),"data-highlighted":this.root.highlightedValue===this.opts.value.current&&!this.opts.disabled.current?"":void 0,"data-selected":this.root.includesItem(this.opts.value.current)?"":void 0,"data-label":this.opts.label.current,[this.root.bitsAttrs.item]:"",onpointermove:this.onpointermove,onpointerdown:this.onpointerdown,onpointerup:this.onpointerup})));this.opts=e,this.root=t,bt({...e,deps:()=>this.mounted}),ke([()=>this.isHighlighted,()=>this.prevHighlighted.current],()=>{this.isHighlighted?this.opts.onHighlight.current():this.prevHighlighted.current&&this.opts.onUnhighlight.current()}),ke(()=>this.mounted,()=>{this.mounted&&this.root.setInitialHighlightedNode()}),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this),this.onpointermove=this.onpointermove.bind(this)}get isSelected(){return r(u(this,at))}set isSelected(e){o(u(this,at),e)}get isHighlighted(){return r(u(this,nt))}set isHighlighted(e){o(u(this,nt),e)}get mounted(){return r(u(this,lt))}set mounted(e){o(u(this,lt),e,!0)}handleSelect(){if(this.opts.disabled.current)return;const e=this.opts.value.current===this.root.opts.value.current;if(!this.root.opts.allowDeselect.current&&e&&!this.root.isMulti){this.root.handleClose();return}this.root.toggleItem(this.opts.value.current,this.opts.label.current),!this.root.isMulti&&!e&&this.root.handleClose()}get snippetProps(){return r(u(this,dt))}set snippetProps(e){o(u(this,dt),e)}onpointerdown(e){e.preventDefault()}onpointerup(e){if(!(e.defaultPrevented||!this.opts.ref.current)){if(e.pointerType==="touch"&&!Yr){tr(this.opts.ref.current,"click",()=>{this.handleSelect(),this.root.setHighlightedNode(this.opts.ref.current)},{once:!0});return}e.preventDefault(),this.handleSelect(),e.pointerType==="touch"&&this.root.setHighlightedNode(this.opts.ref.current)}}onpointermove(e){e.pointerType!=="touch"&&this.root.highlightedNode!==this.opts.ref.current&&this.root.setHighlightedNode(this.opts.ref.current)}get props(){return r(u(this,ut))}set props(e){o(u(this,ut),e)}}at=new WeakMap,nt=new WeakMap,lt=new WeakMap,dt=new WeakMap,ut=new WeakMap;var ht,ct;class _i{constructor(e,t){G(this,"opts");G(this,"root");H(this,ht,g(()=>this.root.opts.name.current!==""));H(this,ct,g(()=>({disabled:Mr(this.root.opts.disabled.current),required:Dr(this.root.opts.required.current),name:this.root.opts.name.current,value:this.opts.value.current,onfocus:this.onfocus})));this.opts=e,this.root=t,this.onfocus=this.onfocus.bind(this)}get shouldRender(){return r(u(this,ht))}set shouldRender(e){o(u(this,ht),e)}onfocus(e){var t,i;e.preventDefault(),this.root.isCombobox?(i=this.root.inputNode)==null||i.focus():(t=this.root.triggerNode)==null||t.focus()}get props(){return r(u(this,ct))}set props(e){o(u(this,ct),e)}}ht=new WeakMap,ct=new WeakMap;const Re=new Vt("Select.Root | Combobox.Root"),bi=new Vt("Select.Content | Combobox.Content");function xi(a){const{type:e,...t}=a,i=e==="single"?new ci(t):new fi(t);return Re.set(i)}function yi(a){return new vi(a,Re.get())}function wi(a){return bi.set(new pi(a,Re.get()))}function Si(a){return new gi(a,Re.get())}function Pi(a){return new mi(a,Re.get())}function Ni(a){return new _i(a,Re.get())}const Ci=["trigger","content","item","viewport","scroll-up-button","scroll-down-button","group","group-label","separator","arrow","input","content-wrapper","item-text","value"];function ki(a){const e=a.isCombobox,t={};for(const i of Ci)t[i]=e?`data-combobox-${i}`:`data-select-${i}`;return t}function Rt(a,e){fe(e,!0);let t=C(e,"value",15,"");const i=Ni({value:U.with(()=>t())});var d=B(),p=w(d);{var l=v=>{li(v,He(()=>i.props,{get value(){return t()},set value(F){t(F)}}))};E(p,v=>{i.shouldRender&&v(l)})}n(a,d),ve()}var Ii=I("<!> <!>",1);function Oi(a,e){fe(e,!0);let t=C(e,"value",15),i=C(e,"onValueChange",3,Te),d=C(e,"name",3,""),p=C(e,"disabled",3,!1),l=C(e,"open",15,!1),v=C(e,"onOpenChange",3,Te),F=C(e,"loop",3,!1),x=C(e,"scrollAlignment",3,"nearest"),b=C(e,"required",3,!1),V=C(e,"items",19,()=>[]),N=C(e,"allowDeselect",3,!0);if(t()===void 0){const s=e.type==="single"?"":[];t(s)}ke.pre(()=>t(),()=>{t()===void 0&&t(e.type==="single"?"":[])});const k=xi({type:e.type,value:U.with(()=>t(),s=>{t(s),i()(s)}),disabled:U.with(()=>p()),required:U.with(()=>b()),open:U.with(()=>l(),s=>{l(s),v()(s)}),loop:U.with(()=>F()),scrollAlignment:U.with(()=>x()),name:U.with(()=>d()),isCombobox:!0,items:U.with(()=>V()),allowDeselect:U.with(()=>N())});var T=Ii(),Y=w(T);Ur(Y,{children:(s,h)=>{var O=B(),q=w(O);me(q,()=>e.children??Ee),n(s,O)},$$slots:{default:!0}});var P=y(Y,2);{var L=s=>{var h=B(),O=w(h);{var q=A=>{var j=B(),D=w(j);pt(D,17,()=>k.opts.value.current,sr,(W,R)=>{Rt(W,{get value(){return r(R)}})}),n(A,j)};E(O,A=>{k.opts.value.current.length&&A(q)})}n(s,h)},_=s=>{Rt(s,{get value(){return k.opts.value.current},set value(h){k.opts.value.current=h}})};E(P,s=>{Array.isArray(k.opts.value.current)?s(L):s(_,!1)})}n(a,T),ve()}var Fi=I("<input/>");function Ai(a,e){fe(e,!0);let t=C(e,"id",19,xt),i=C(e,"ref",15,null),d=C(e,"clearOnDeselect",3,!1),p=ft(e,["$$slots","$$events","$$legacy","id","ref","child","defaultValue","clearOnDeselect"]);const l=yi({id:U.with(()=>t()),ref:U.with(()=>i(),b=>i(b)),clearOnDeselect:U.with(()=>d())});e.defaultValue&&(l.root.inputValue=e.defaultValue);const v=g(()=>Ce(p,l.props,{value:l.root.inputValue}));var F=B(),x=w(F);Ne(x,()=>Br,(b,V)=>{V(b,{get id(){return t()},children:(N,k)=>{var T=B(),Y=w(T);{var P=_=>{var s=B(),h=w(s);me(h,()=>e.child,()=>({props:r(v)})),n(_,s)},L=_=>{var s=Fi();ye(s,()=>({...r(v)}),void 0,void 0,void 0,void 0,!0),n(_,s)};E(Y,_=>{e.child?_(P):_(L,!1)})}n(N,T)},$$slots:{default:!0}})}),n(a,F),ve()}var Hi=I("<button><!></button>");function Ti(a,e){fe(e,!0);let t=C(e,"id",19,xt),i=C(e,"ref",15,null),d=C(e,"type",3,"button"),p=ft(e,["$$slots","$$events","$$legacy","id","ref","child","children","type"]);const l=Si({id:U.with(()=>t()),ref:U.with(()=>i(),N=>i(N))}),v=g(()=>Ce(p,l.props,{type:d()}));var F=B(),x=w(F);{var b=N=>{var k=B(),T=w(k);me(T,()=>e.child,()=>({props:r(v)})),n(N,k)},V=N=>{var k=Hi();ye(k,()=>({...r(v)}));var T=c(k);me(T,()=>e.children??Ee),f(k),n(N,k)};E(x,N=>{e.child?N(b):N(V,!1)})}n(a,F),ve()}var Ri=I("<div><div><!></div></div>"),Di=I("<div><div><!></div></div>");function Mi(a,e){fe(e,!0);let t=C(e,"id",19,xt),i=C(e,"ref",15,null),d=C(e,"forceMount",3,!1),p=C(e,"side",3,"bottom"),l=C(e,"onInteractOutside",3,Te),v=C(e,"onEscapeKeydown",3,Te),F=C(e,"preventScroll",3,!1),x=ft(e,["$$slots","$$events","$$legacy","id","ref","forceMount","side","onInteractOutside","onEscapeKeydown","children","child","preventScroll"]);const b=wi({id:U.with(()=>t()),ref:U.with(()=>i(),P=>i(P)),onInteractOutside:U.with(()=>l()),onEscapeKeydown:U.with(()=>v())}),V=g(()=>Ce(x,b.props));var N=B(),k=w(N);{var T=P=>{qr(P,He(()=>r(V),()=>b.popperProps,{get side(){return p()},get enabled(){return b.root.opts.open.current},get id(){return t()},get preventScroll(){return F()},forceMount:!0,popper:(_,s)=>{let h=()=>s==null?void 0:s().props,O=()=>s==null?void 0:s().wrapperProps;const q=g(()=>Ce(h(),{style:b.props.style}));var A=B(),j=w(A);{var D=R=>{var J=B(),Z=w(J);{let ne=g(()=>({props:r(q),wrapperProps:O(),...b.snippetProps}));me(Z,()=>e.child,()=>r(ne))}n(R,J)},W=R=>{var J=Ri();ye(J,()=>({...O()}));var Z=c(J);ye(Z,()=>({...r(q)}));var ne=c(Z);me(ne,()=>e.children??Ee),f(Z),f(J),n(R,J)};E(j,R=>{e.child?R(D):R(W,!1)})}n(_,A)},$$slots:{popper:!0}}))},Y=P=>{var L=B(),_=w(L);{var s=h=>{jr(h,He(()=>r(V),()=>b.popperProps,{get side(){return p()},get present(){return b.root.opts.open.current},get id(){return t()},get preventScroll(){return F()},forceMount:!1,popper:(q,A)=>{let j=()=>A==null?void 0:A().props,D=()=>A==null?void 0:A().wrapperProps;const W=g(()=>Ce(j(),{style:b.props.style}));var R=B(),J=w(R);{var Z=re=>{var se=B(),oe=w(se);{let ge=g(()=>({props:r(W),wrapperProps:D(),...b.snippetProps}));me(oe,()=>e.child,()=>r(ge))}n(re,se)},ne=re=>{var se=Di();ye(se,()=>({...D()}));var oe=c(se);ye(oe,()=>({...r(W)}));var ge=c(oe);me(ge,()=>e.children??Ee),f(oe),f(se),n(re,se)};E(J,re=>{e.child?re(Z):re(ne,!1)})}n(q,R)},$$slots:{popper:!0}}))};E(_,h=>{d()||h(s)},!0)}n(P,L)};E(k,P=>{d()?P(T):P(Y,!1)})}n(a,N),ve()}var Ei=I("<div><!></div>"),Vi=I("<!> <!>",1);function Li(a,e){fe(e,!0);let t=C(e,"id",19,xt),i=C(e,"ref",15,null),d=C(e,"label",19,()=>e.value),p=C(e,"disabled",3,!1),l=C(e,"onHighlight",3,Te),v=C(e,"onUnhighlight",3,Te),F=ft(e,["$$slots","$$events","$$legacy","id","ref","value","label","disabled","children","child","onHighlight","onUnhighlight"]);const x=Pi({id:U.with(()=>t()),ref:U.with(()=>i(),P=>i(P)),value:U.with(()=>e.value),disabled:U.with(()=>p()),label:U.with(()=>d()),onHighlight:U.with(()=>l()),onUnhighlight:U.with(()=>v())}),b=g(()=>Ce(F,x.props));var V=Vi(),N=w(V);{var k=P=>{var L=B(),_=w(L);{let s=g(()=>({props:r(b),...x.snippetProps}));me(_,()=>e.child,()=>r(s))}n(P,L)},T=P=>{var L=Ei();ye(L,()=>({...r(b)}));var _=c(L);me(_,()=>e.children??Ee,()=>x.snippetProps),f(L),n(P,L)};E(N,P=>{e.child?P(k):P(T,!1)})}var Y=y(N,2);Wr(Y,{get mounted(){return x.mounted},set mounted(P){x.mounted=P}}),n(a,V),ve()}function Ki(a,e){const t=wt(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i=[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16 14"}]];St(a,He({name:"clock"},()=>t,{get iconNode(){return i},children:(d,p)=>{var l=B(),v=w(l);Pt(v,e,"default",{}),n(d,l)},$$slots:{default:!0}}))}function zi(a,e){const t=wt(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i=[["line",{x1:"4",x2:"20",y1:"9",y2:"9"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21"}]];St(a,He({name:"hash"},()=>t,{get iconNode(){return i},children:(d,p)=>{var l=B(),v=w(l);Pt(v,e,"default",{}),n(d,l)},$$slots:{default:!0}}))}function Ui(a,e){const t=wt(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]];St(a,He({name:"refresh-cw"},()=>t,{get iconNode(){return i},children:(d,p)=>{var l=B(),v=w(l);Pt(v,e,"default",{}),n(d,l)},$$slots:{default:!0}}))}var Bi=I('<span class="font-medium"> </span> <span class="truncate text-xs text-muted-foreground"> </span>',1),qi=I('<div class="px-2 py-4 text-center text-sm text-muted-foreground">No profiles found</div>'),ji=I("<!> <!>",1),Wi=I('<div class="relative flex-1"><!> <!></div> <!>',1),Gi=I("<!> Starting...",1),Yi=I("<!> Start",1),Ji=I('<div class="flex gap-2"><!> <!></div>');function Qi(a,e){fe(e,!0);let t=C(e,"disabled",3,!1),i=z(""),d=z(""),p=z(!1),l=z(!1),v=z(er([])),F=z("");Ae(()=>{const _=e.profiles.map(s=>s.id).join(",");_!==r(F)&&(o(v,[...e.profiles],!0),o(F,_,!0),r(i)&&!e.profiles.find(s=>{var h;return((h=s.id)==null?void 0:h.toString())===r(i)})&&o(i,""))});const x=g(()=>r(d)===""?r(v):r(v).filter(_=>_.name.toLowerCase().includes(r(d).toLowerCase())||_.model_path.toLowerCase().includes(r(d).toLowerCase()))),b=g(()=>r(v).find(_=>{var s;return((s=_.id)==null?void 0:s.toString())===r(i)}));async function V(){if(r(b)&&!r(l)){o(l,!0);try{await e.onStart(r(b)),o(i,""),o(d,"")}finally{o(l,!1)}}}function N(_){o(p,_,!0),_||o(d,"")}function k(_){o(i,_??"",!0)}function T(_){_.key==="Enter"&&!r(p)&&r(b)&&!r(l)&&!t()&&(_.preventDefault(),V())}var Y=Ji(),P=c(Y);Ne(P,()=>Oi,(_,s)=>{s(_,{type:"single",onOpenChange:N,onValueChange:k,get disabled(){return t()},get value(){return r(i)},set value(h){o(i,h,!0)},get open(){return r(p)},set open(h){o(p,h,!0)},children:(h,O)=>{var q=Wi(),A=w(q),j=c(A);Ne(j,()=>Ai,(R,J)=>{J(R,{class:"h-10 w-full rounded-md border border-input bg-background px-3 py-2 pr-8 text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Select profile to start...",oninput:Z=>o(d,Z.currentTarget.value,!0),onkeydown:T})});var D=y(j,2);Ne(D,()=>Ti,(R,J)=>{J(R,{class:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:(Z,ne)=>{Er(Z,{class:"h-4 w-4"})},$$slots:{default:!0}})}),f(A);var W=y(A,2);Ne(W,()=>Jr,(R,J)=>{J(R,{children:(Z,ne)=>{var re=B(),se=w(re);Ne(se,()=>Mi,(oe,ge)=>{ge(oe,{class:"z-50 max-h-60 overflow-auto rounded-md border bg-popover p-1 shadow-md",sideOffset:4,children:(be,ee)=>{var X=ji(),ue=w(X);pt(ue,17,()=>r(x),S=>S.id,(S,K)=>{var M=B(),Q=w(M);{let le=g(()=>{var $;return(($=r(K).id)==null?void 0:$.toString())??""});Ne(Q,()=>Li,($,he)=>{he($,{get value(){return r(le)},get label(){return r(K).name},class:"flex cursor-pointer flex-col gap-0.5 rounded px-2 py-1.5 text-sm data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground",children:(de,Ie)=>{var te=Bi(),xe=w(te),vt=c(xe,!0);f(xe);var Pe=y(xe,2),yt=c(Pe,!0);f(Pe),Se(()=>{ae(vt,r(K).name),ae(yt,r(K).model_path)}),n(de,te)},$$slots:{default:!0}})})}n(S,M)});var pe=y(ue,2);{var ie=S=>{var K=qi();n(S,K)};E(pe,S=>{r(x).length===0&&S(ie)})}n(be,X)},$$slots:{default:!0}})}),n(Z,re)},$$slots:{default:!0}})}),n(h,q)},$$slots:{default:!0}})});var L=y(P,2);{let _=g(()=>!r(b)||r(l)||t());_e(L,{onclick:V,get disabled(){return r(_)},children:(s,h)=>{var O=B(),q=w(O);{var A=D=>{var W=Gi(),R=w(W);Ve(R,{class:"mr-1 h-4 w-4 animate-spin"}),ce(),n(D,W)},j=D=>{var W=Yi(),R=w(W);Xr(R,{class:"mr-1 h-4 w-4"}),ce(),n(D,W)};E(q,D=>{r(l)?D(A):D(j,!1)})}n(s,O)},$$slots:{default:!0}})}f(Y),n(a,Y),ve()}var Xi=I('<div class="relative flex items-center justify-center"><svg viewBox="0 0 100 100" class="transform -rotate-90"><circle cx="50" cy="50" r="40" stroke="currentColor" fill="none" class="text-gray-200 dark:text-gray-700"></circle><circle cx="50" cy="50" r="40" stroke="currentColor" fill="none" stroke-linecap="round"></circle></svg> <div class="absolute text-center"><span class="text-sm font-semibold"> </span> <span class="block text-[10px] text-muted-foreground"> </span></div></div>');function Dt(a,e){fe(e,!0);let t=C(e,"max",3,100),i=C(e,"unit",3,"%"),d=C(e,"size",3,"md"),p=C(e,"thresholds",19,()=>({warning:75,danger:90}));const l=g(()=>Math.min(100,Math.max(0,e.value/t()*100))),v=2*Math.PI*40,F=g(()=>v-r(l)/100*v),x={sm:56,md:72},b={sm:5,md:6},V=g(()=>r(l)>=p().danger?"text-red-500":r(l)>=p().warning?"text-yellow-500":"text-green-500");var N=Xi(),k=c(N),T=c(k),Y=y(T);Oe(Y,"stroke-dasharray",v),f(k);var P=y(k,2),L=c(P),_=c(L);f(L);var s=y(L,2),h=c(s,!0);f(s),f(P),f(N),Se(O=>{or(N,`width: ${x[d()]??""}px; height: ${x[d()]??""}px;`),Oe(k,"width",x[d()]),Oe(k,"height",x[d()]),Oe(T,"stroke-width",b[d()]),Oe(Y,"stroke-width",b[d()]),Oe(Y,"stroke-dashoffset",r(F)),ar(Y,0,`${r(V)??""} transition-all duration-300`),ae(_,`${O??""}${i()??""}`),ae(h,e.label)},[()=>e.value.toFixed(0)]),n(a,N),ve()}var Zi=I('<div class="mb-3 flex items-start justify-between gap-2"><div class="min-w-0 flex-1"><div class="mb-1 flex items-center gap-2"><!> <h3 class="truncate font-semibold"> </h3></div> <p class="truncate text-sm text-muted-foreground"> </p></div> <div class="flex shrink-0 gap-1"><!> <!> <!></div></div> <div class="flex items-center gap-6"><div class="flex gap-3"><!> <!></div> <div class="flex flex-1 flex-col gap-1 text-sm text-muted-foreground"><div class="flex items-center gap-2"><!> <span> </span></div> <div class="flex items-center gap-2"><!> <span> </span></div> <div class="flex items-center gap-2"><!> <span> </span></div></div></div>',1);function $i(a,e){fe(e,!0);let t=z(!1),i=z(!1);const d=g(()=>m.isRestarting(e.server.profile_id));async function p(){o(t,!0);try{await m.stop(e.server.profile_id)}finally{o(t,!1)}}async function l(){o(i,!0);try{await m.restart(e.server.profile_id)}finally{o(i,!1)}}async function v(){const x=`${ri("/chat")}?profile=${e.server.profile_id}`;await ti(x)}const F=g(()=>e.server.profile_name);Et(a,{class:"p-4",children:(x,b)=>{var V=Zi(),N=w(V),k=c(N),T=c(k),Y=c(T);{var P=M=>{mt(M,{variant:"warning",class:"shrink-0",children:(Q,le)=>{ce();var $=Fe("Restarting...");n(Q,$)},$$slots:{default:!0}})},L=M=>{mt(M,{variant:"success",class:"shrink-0",children:(Q,le)=>{ce();var $=Fe("Running");n(Q,$)},$$slots:{default:!0}})};E(Y,M=>{r(d)?M(P):M(L,!1)})}var _=y(Y,2),s=c(_,!0);f(_),f(T);var h=y(T,2),O=c(h);f(h),f(k);var q=y(k,2),A=c(q);_e(A,{variant:"outline",size:"sm",onclick:v,title:"Open Chat",children:(M,Q)=>{oi(M,{class:"h-4 w-4"})},$$slots:{default:!0}});var j=y(A,2);{let M=g(()=>r(i)||r(t)||r(d));_e(j,{variant:"outline",size:"sm",onclick:l,get disabled(){return r(M)},title:"Restart Server",children:(Q,le)=>{var $=B(),he=w($);{var de=te=>{Ve(te,{class:"h-4 w-4 animate-spin"})},Ie=te=>{Zr(te,{class:"h-4 w-4"})};E(he,te=>{r(i)?te(de):te(Ie,!1)})}n(Q,$)},$$slots:{default:!0}})}var D=y(j,2);{let M=g(()=>r(t)||r(i)||r(d));_e(D,{variant:"destructive",size:"sm",onclick:p,get disabled(){return r(M)},title:"Stop Server",children:(Q,le)=>{var $=B(),he=w($);{var de=te=>{Ve(te,{class:"h-4 w-4 animate-spin"})},Ie=te=>{jt(te,{class:"h-4 w-4"})};E(he,te=>{r(t)?te(de):te(Ie,!1)})}n(Q,$)},$$slots:{default:!0}})}f(q),f(N);var W=y(N,2),R=c(W),J=c(R);Dt(J,{get value(){return e.server.memory_percent},label:"Memory",size:"md"});var Z=y(J,2);Dt(Z,{get value(){return e.server.cpu_percent},label:"CPU",size:"md"}),f(R);var ne=y(R,2),re=c(ne),se=c(re);Ki(se,{class:"h-3.5 w-3.5"});var oe=y(se,2),ge=c(oe);f(oe),f(re);var be=y(re,2),ee=c(be);Gr(ee,{class:"h-3.5 w-3.5"});var X=y(ee,2),ue=c(X);f(X),f(be);var pe=y(be,2),ie=c(pe);zi(ie,{class:"h-3.5 w-3.5"});var S=y(ie,2),K=c(S);f(S),f(pe),f(ne),f(W),Se((M,Q)=>{ae(s,r(F)),ae(O,`Port ${e.server.port??""}`),ae(ge,`Uptime: ${M??""}`),ae(ue,`Memory: ${Q??""}`),ae(K,`PID: ${e.server.pid??""}`)},[()=>ii(e.server.uptime_seconds),()=>si(e.server.memory_mb*1024*1024)]),n(x,V)},$$slots:{default:!0}}),ve()}var es=I("<!> <!>",1),ts=I("<!> Cancel",1),rs=I('<div class="flex items-center gap-2 text-sm text-muted-foreground"><!> <span>Loading model... this may take a minute</span></div>'),is=I('<details class="mt-2"><summary class="cursor-pointer text-xs text-red-500 hover:underline dark:text-red-400">Show server log</summary> <div class="relative mt-2"><button class="absolute right-2 top-2 rounded bg-red-200 p-1.5 transition-colors hover:bg-red-300 dark:bg-red-800 dark:hover:bg-red-700" title="Copy to clipboard"><!></button> <pre class="max-h-48 overflow-x-auto whitespace-pre-wrap rounded bg-red-100 p-2 pr-10 font-mono text-xs text-red-600 dark:bg-red-900/50 dark:text-red-300"> </pre></div></details>'),ss=I('<div class="rounded-lg border border-red-200 bg-red-50 p-3 dark:border-red-900 dark:bg-red-950/50"><div class="flex items-start gap-2"><!> <div class="min-w-0 flex-1"><p class="text-sm font-medium text-red-600 dark:text-red-400"> </p> <!></div></div></div>'),os=I('<div class="mb-3 flex items-start justify-between gap-2"><div class="min-w-0 flex-1"><div class="mb-1 flex items-center gap-2"><!> <h3 class="truncate font-semibold"> </h3></div> <p class="truncate text-sm text-muted-foreground"> </p></div> <div class="flex shrink-0 gap-1"><!></div></div> <!> <!>',1);function as(a,e){fe(e,!0);const t=12e4,i=3e3;let d=z(!1),p=z(null),l=z(null),v=z(!1);const F=g(()=>m.isFailed(e.profile.id)),x=g(()=>m.getFailure(e.profile.id));let b=z(!1),V=z(null),N=!1;Ae(()=>{const h=m.getFailure(e.profile.id);h&&r(V)!==e.profile.id?(o(V,e.profile.id,!0),N=!0,o(b,h.detailsOpen,!0),requestAnimationFrame(()=>{N=!1})):h||(o(V,null),o(b,!1))});function k(){N||m.toggleDetailsOpen(e.profile.id)}let T=z(!1);async function Y(){var h;if((h=r(x))!=null&&h.details)try{await navigator.clipboard.writeText(r(x).details),o(T,!0),setTimeout(()=>{o(T,!1)},2e3)}catch(O){console.error("Failed to copy to clipboard:",O)}}Ae(()=>(m.isStarting(e.profile.id)&&!r(v)&&!m.isProfilePolling(e.profile.id)&&m.startProfilePolling(e.profile.id)&&(o(v,!0),o(p,Date.now(),!0),P()),()=>{r(l)&&(clearTimeout(r(l)),o(l,null))}));async function P(){if(!r(v)){m.stopProfilePolling(e.profile.id);return}if(r(p)&&Date.now()-r(p)>t){m.markStartupFailed(e.profile.id,"Model loading timed out after 2 minutes. Check server logs for details."),o(v,!1),o(l,null),m.stopProfilePolling(e.profile.id);return}try{const h=await Ft.status(e.profile.id);if(!h.running){h.failed?m.markStartupFailed(e.profile.id,"Server crashed while loading model",h.error_message||"Server process exited unexpectedly"):m.markStartupSuccess(e.profile.id),o(v,!1),o(l,null),m.stopProfilePolling(e.profile.id);return}try{const O=await Ft.health(e.profile.id);if(O.status==="healthy"&&O.model_loaded){m.markStartupSuccess(e.profile.id),o(v,!1),o(l,null),m.stopProfilePolling(e.profile.id);return}}catch{}o(l,setTimeout(P,i),!0)}catch{o(l,setTimeout(P,i),!0)}}async function L(){o(d,!0),o(p,null),o(v,!1),r(l)&&(clearTimeout(r(l)),o(l,null)),m.stopProfilePolling(e.profile.id);try{await m.stop(e.profile.id)}catch(h){const O=h instanceof Error?h.message:"Failed to stop server";m.markStartupFailed(e.profile.id,O)}finally{o(d,!1)}}function _(){m.clearFailure(e.profile.id)}async function s(){if(m.clearFailure(e.profile.id),o(p,Date.now(),!0),r(l)&&(clearTimeout(r(l)),o(l,null)),!!m.startProfilePolling(e.profile.id)){o(v,!0);try{await m.start(e.profile.id),P()}catch(h){const O=h instanceof Error?h.message:"Failed to start server";m.markStartupFailed(e.profile.id,O),o(p,null),o(v,!1),m.stopProfilePolling(e.profile.id)}}}Et(a,{class:"p-4",children:(h,O)=>{var q=os(),A=w(q),j=c(A),D=c(j),W=c(D);{var R=S=>{mt(S,{variant:"destructive",class:"shrink-0",children:(K,M)=>{ce();var Q=Fe("Error");n(K,Q)},$$slots:{default:!0}})},J=S=>{mt(S,{variant:"warning",class:"shrink-0",children:(K,M)=>{ce();var Q=Fe("Starting");n(K,Q)},$$slots:{default:!0}})};E(W,S=>{r(F)?S(R):S(J,!1)})}var Z=y(W,2),ne=c(Z,!0);f(Z),f(D);var re=y(D,2),se=c(re,!0);f(re),f(j);var oe=y(j,2),ge=c(oe);{var be=S=>{var K=es(),M=w(K);_e(M,{variant:"outline",size:"sm",onclick:s,title:"Retry",children:(le,$)=>{ce();var he=Fe("Retry");n(le,he)},$$slots:{default:!0}});var Q=y(M,2);_e(Q,{variant:"outline",size:"sm",onclick:_,title:"Dismiss",children:(le,$)=>{ce();var he=Fe("Dismiss");n(le,he)},$$slots:{default:!0}}),n(S,K)},ee=S=>{_e(S,{variant:"outline",size:"sm",onclick:L,get disabled(){return r(d)},title:"Cancel Start",children:(K,M)=>{var Q=ts(),le=w(Q);{var $=de=>{Ve(de,{class:"mr-1 h-4 w-4 animate-spin"})},he=de=>{jt(de,{class:"mr-1 h-4 w-4"})};E(le,de=>{r(d)?de($):de(he,!1)})}ce(),n(K,Q)},$$slots:{default:!0}})};E(ge,S=>{r(F)?S(be):S(ee,!1)})}f(oe),f(A);var X=y(A,2);{var ue=S=>{var K=rs(),M=c(K);Ve(M,{class:"h-4 w-4 animate-spin"}),ce(2),f(K),n(S,K)};E(X,S=>{r(F)||S(ue)})}var pe=y(X,2);{var ie=S=>{var K=ss(),M=c(K),Q=c(M);lr(Q,{class:"mt-0.5 h-4 w-4 flex-shrink-0 text-red-500 dark:text-red-400"});var le=y(Q,2),$=c(le),he=c($,!0);f($);var de=y($,2);{var Ie=te=>{var xe=is(),vt=y(c(xe),2),Pe=c(vt);Pe.__click=Y;var yt=c(Pe);{var Gt=we=>{dr(we,{class:"h-3.5 w-3.5 text-green-600 dark:text-green-400"})},Yt=we=>{ei(we,{class:"h-3.5 w-3.5 text-red-600 dark:text-red-300"})};E(yt,we=>{r(T)?we(Gt):we(Yt,!1)})}f(Pe);var It=y(Pe,2),Jt=c(It,!0);f(It),f(vt),f(xe),Se(()=>ae(Jt,r(x).details)),ir("toggle",xe,k),$r("open","toggle",xe,we=>o(b,we),()=>r(b)),n(te,xe)};E(de,te=>{r(x).details&&te(Ie)})}f(le),f(M),f(K),Se(()=>ae(he,r(x).error)),n(S,K)};E(pe,S=>{r(x)&&S(ie)})}Se(()=>{ae(ne,e.profile.name),ae(se,e.profile.model_path)}),n(h,q)},$$slots:{default:!0}}),ve()}rr(["click"]);var ns=I("<!> Refresh",1),ls=I("<!> New Profile",1),ds=I('<div class="py-12 text-center text-muted-foreground">Loading servers...</div>'),us=I('<div class="py-12 text-center text-red-500 dark:text-red-400"> </div>'),hs=I('<section><h2 class="mb-3 text-lg font-semibold">Start Server</h2> <!></section>'),cs=I('<div class="rounded-lg border bg-white py-8 text-center text-muted-foreground dark:bg-gray-800">No servers running. Start a profile to begin.</div>'),fs=I('<div class="grid gap-4 overflow-auto max-h-[calc(100vh-300px)]" style="contain: layout;"><!> <!></div>'),vs=I("<!> Create Your First Profile",1),gs=I('<div class="py-12 text-center"><p class="mb-4 text-muted-foreground">No profiles configured yet.</p> <!></div>'),ps=I('<!> <section><h2 class="mb-4 text-lg font-semibold"> </h2> <!></section> <!>',1),ms=I('<div class="space-y-6"><div class="flex items-center justify-between"><h1 class="text-2xl font-bold">Server Dashboard</h1> <div class="flex gap-2"><!> <!></div></div> <!></div>');function zs(a,e){fe(e,!0);let t=z(!1),i=z(void 0),d=0;$t(()=>{m.refresh(),De.refresh()}),Mt(()=>{m.servers.length,r(i)&&(d=r(i).scrollTop)}),Ae(()=>{m.servers,r(i)&&d>0&&Math.abs(r(i).scrollTop-d)>10&&(r(i).scrollTop=d)});async function p(){o(t,!0),await Promise.all([m.refresh(),De.refresh()]),o(t,!1)}const l=g(()=>De.profiles.filter(s=>(m.isStarting(s.id)||m.isFailed(s.id))&&!m.isRestarting(s.id))),v=g(()=>m.servers.filter(s=>!m.isStarting(s.profile_id)&&!m.isFailed(s.profile_id)||m.isRestarting(s.profile_id))),F=g(()=>De.profiles.filter(s=>!m.isRunning(s.id)&&!m.isStarting(s.id)&&!m.isFailed(s.id))),x=g(()=>r(l).length+r(v).length);async function b(s){await m.start(s.id)}var V=ms(),N=c(V),k=y(c(N),2),T=c(k);_e(T,{variant:"outline",onclick:p,get disabled(){return r(t)},children:(s,h)=>{var O=ns(),q=w(O);{let A=g(()=>r(t)?"animate-spin":"");Ui(q,{get class(){return`w-4 h-4 mr-2 ${r(A)??""}`}})}ce(),n(s,O)},$$slots:{default:!0}});var Y=y(T,2);_e(Y,{href:"/profiles/new",children:(s,h)=>{var O=ls(),q=w(O);Ht(q,{class:"w-4 h-4 mr-2"}),ce(),n(s,O)},$$slots:{default:!0}}),f(k),f(N);var P=y(N,2);{var L=s=>{var h=ds();n(s,h)},_=s=>{var h=B(),O=w(h);{var q=j=>{var D=us(),W=c(D,!0);f(D),Se(()=>ae(W,m.error)),n(j,D)},A=j=>{var D=ps(),W=w(D);{var R=ee=>{var X=hs(),ue=y(c(X),2);Qi(ue,{get profiles(){return r(F)},onStart:b}),f(X),n(ee,X)};E(W,ee=>{r(F).length>0&&ee(R)})}var J=y(W,2),Z=c(J),ne=c(Z);f(Z);var re=y(Z,2);{var se=ee=>{var X=cs();n(ee,X)},oe=ee=>{var X=fs(),ue=c(X);pt(ue,17,()=>r(l),ie=>ie.id,(ie,S)=>{as(ie,{get profile(){return r(S)}})});var pe=y(ue,2);pt(pe,17,()=>r(v),ie=>ie.profile_id,(ie,S)=>{$i(ie,{get server(){return r(S)}})}),f(X),nr(X,ie=>o(i,ie),()=>r(i)),n(ee,X)};E(re,ee=>{r(x)===0?ee(se):ee(oe,!1)})}f(J);var ge=y(J,2);{var be=ee=>{var X=gs(),ue=y(c(X),2);_e(ue,{href:"/profiles/new",children:(pe,ie)=>{var S=vs(),K=w(S);Ht(K,{class:"mr-2 h-4 w-4"}),ce(),n(pe,S)},$$slots:{default:!0}}),f(X),n(ee,X)};E(ge,ee=>{De.profiles.length===0&&ee(be)})}Se(()=>ae(ne,`Active Servers (${r(x)??""})`)),n(j,D)};E(O,j=>{m.error?j(q):j(A,!1)},!0)}n(s,h)};E(P,s=>{m.loading&&m.servers.length===0?s(L):s(_,!1)})}f(V),n(a,V),ve()}export{zs as component};
