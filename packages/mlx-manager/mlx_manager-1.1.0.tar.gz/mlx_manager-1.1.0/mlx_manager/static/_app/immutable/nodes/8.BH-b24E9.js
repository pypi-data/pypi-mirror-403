import{f as g,a as o,c as m}from"../chunks/nUxvHMgL.js";import{o as H}from"../chunks/DPMBEg2i.js";import{p as J,a as K,c as d,s as v,g as e,h as N,e as O,d as b,r as y,f as c,t as Q}from"../chunks/CNYbWU2B.js";import{s as R}from"../chunks/BWpKPX3N.js";import{i as u,a as T,b as U}from"../chunks/CxfCsaSi.js";import{k as V}from"../chunks/C4CP8qua.js";import{g as w}from"../chunks/qoE10lYN.js";import{r as k}from"../chunks/CbhfpbUc.js";import{p as W}from"../chunks/DlJfzioE.js";import{b as X,p as Y}from"../chunks/D9xfsXh9.js";import{a as Z}from"../chunks/XA37G8Ta.js";var aa=g('<div class="text-center py-12 text-muted-foreground">Loading profile...</div>'),ea=g('<div class="text-center py-12 text-red-500 dark:text-red-400"> </div>'),ra=g('<div class="max-w-2xl mx-auto"><h1 class="text-2xl font-bold mb-6">Edit Server Profile</h1> <!></div>');function ca(S,C){J(C,!0);const E=()=>U(W,"$page",F),[F,I]=T();let s=v(null),_=v(!0),l=v(null);const x=N(()=>parseInt(E().params.id??"0",10));H(async()=>{try{d(s,await X.get(e(x)),!0)}catch(a){d(l,a instanceof Error?a.message:"Failed to load profile",!0)}finally{d(_,!1)}});async function P(a){await Y.update(e(x),a),await w(k("/profiles"))}async function $(){await w(k("/profiles"))}var f=ra(),L=O(b(f),2);{var M=a=>{var i=aa();o(a,i)},j=a=>{var i=m(),q=c(i);{var z=r=>{var t=ea(),n=b(t,!0);y(t),Q(()=>R(n,e(l))),o(r,t)},A=r=>{var t=m(),n=c(t);{var B=p=>{var h=m(),D=c(h);V(D,()=>e(s).id,G=>{Z(G,{get profile(){return e(s)},onSubmit:P,onCancel:$})}),o(p,h)};u(n,p=>{e(s)&&p(B)},!0)}o(r,t)};u(q,r=>{e(l)?r(z):r(A,!1)},!0)}o(a,i)};u(L,a=>{e(_)?a(M):a(j,!1)})}y(f),o(S,f),K(),I()}export{ca as component};
