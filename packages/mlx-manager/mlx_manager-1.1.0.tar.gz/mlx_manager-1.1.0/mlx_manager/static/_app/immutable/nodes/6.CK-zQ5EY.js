var vt=n=>{throw TypeError(n)};var Tt=(n,e,a)=>e.has(n)||vt("Cannot "+a);var dt=(n,e,a)=>(Tt(n,e,"read from private field"),a?a.call(n):e.get(n)),ft=(n,e,a)=>e.has(n)?vt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,a);import{c as X,a as o,f as g,t as Ae}from"../chunks/nUxvHMgL.js";import{Z as Nt,E as Lt,bg as Et,al as qt,i as Ot,k as Rt,bh as Bt,aB as yt,ab as Ut,q as It,l as Le,s as le,b as Ze,g as t,c as N,p as he,f as h,a as be,h as K,d as v,r as u,e as l,t as B,u as Xe,n as Z}from"../chunks/CNYbWU2B.js";import{j as Ht,s as q,d as nt,e as jt}from"../chunks/BWpKPX3N.js";import{p as de,i as z,r as wt,s as _e,l as ke}from"../chunks/CxfCsaSi.js";import{m as Ye,n as kt,I as Ce,s as Me,f as mt,l as Gt,e as qe,d as _t,r as Ge,w as Qe,u as Ke}from"../chunks/D9xfsXh9.js";import{L as Qt,a as Kt}from"../chunks/DcWGgsJS.js";import{g as Vt}from"../chunks/qoE10lYN.js";import{r as Wt}from"../chunks/CbhfpbUc.js";import{d as ct}from"../chunks/CFz_a2k3.js";import{a as gt,b as ht}from"../chunks/CLON3Y_x.js";import{C as ot,d as Zt,B as De,I as Xt}from"../chunks/BQ-_QVTP.js";import"../chunks/CiMb2DjI.js";import{u as Yt,a as Jt,b as ea,s as ta,T as Ct,C as Mt,D as aa,c as ra}from"../chunks/BIZ-GM10.js";import{B as $e}from"../chunks/DrtKqSxJ.js";import{c as je}from"../chunks/BWQjEkJe.js";import{F as oa,E as na,D as sa,T as ia,S as bt,P as la}from"../chunks/C4CP8qua.js";import{s as Je}from"../chunks/3fxp844U.js";import{n as Ve,b as Ee,c as Pt,m as rt,P as da,C as ca}from"../chunks/BCcEFCgH.js";import{X as We,W as ua}from"../chunks/B2MmRDq8.js";import{C as va}from"../chunks/Nr6MLaIc.js";import{H as zt}from"../chunks/CfIuuR-Z.js";const fa=()=>performance.now(),Fe={tick:n=>requestAnimationFrame(n),now:()=>fa(),tasks:new Set};function St(){const n=Fe.now();Fe.tasks.forEach(e=>{e.c(n)||(Fe.tasks.delete(e),e.f())}),Fe.tasks.size!==0&&Fe.tick(St)}function ma(n){let e;return Fe.tasks.size===0&&Fe.tick(St),{promise:new Promise(a=>{Fe.tasks.add(e={c:n,f:a})}),abort(){Fe.tasks.delete(e)}}}function at(n,e){yt(()=>{n.dispatchEvent(new CustomEvent(e))})}function _a(n){if(n==="float")return"cssFloat";if(n==="offset")return"cssOffset";if(n.startsWith("--"))return n;const e=n.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function pt(n){const e={},a=n.split(";");for(const s of a){const[r,i]=s.split(":");if(!r||i===void 0)break;const d=_a(r.trim());e[d]=i.trim()}return e}const ga=n=>n;function ha(n,e,a,s){var P;var r=(n&Bt)!==0,i="both",d,_=e.inert,p=e.style.overflow,c,b;function T(){return yt(()=>d??(d=a()(e,(s==null?void 0:s())??{},{direction:i})))}var x={is_global:r,in(){e.inert=_,at(e,"introstart"),c=ut(e,T(),b,1,()=>{at(e,"introend"),c==null||c.abort(),c=d=void 0,e.style.overflow=p})},out(k){e.inert=!0,at(e,"outrostart"),b=ut(e,T(),c,0,()=>{at(e,"outroend"),k==null||k()})},stop:()=>{c==null||c.abort(),b==null||b.abort()}},f=Nt;if(((P=f.nodes).t??(P.t=[])).push(x),Ht){var M=r;if(!M){for(var y=f.parent;y&&(y.f&Lt)!==0;)for(;(y=y.parent)&&(y.f&Et)===0;);M=!y||(y.f&qt)!==0}M&&Ot(()=>{Rt(()=>x.in())})}}function ut(n,e,a,s,r){var i=s===1;if(Ut(e)){var d,_=!1;return It(()=>{if(!_){var P=e({direction:i?"in":"out"});d=ut(n,P,a,s,r)}}),{abort:()=>{_=!0,d==null||d.abort()},deactivate:()=>d.deactivate(),reset:()=>d.reset(),t:()=>d.t()}}if(a==null||a.deactivate(),!(e!=null&&e.duration))return r(),{abort:Le,deactivate:Le,reset:Le,t:()=>s};const{delay:p=0,css:c,tick:b,easing:T=ga}=e;var x=[];if(i&&a===void 0&&(b&&b(0,1),c)){var f=pt(c(0,1));x.push(f,f)}var M=()=>1-s,y=n.animate(x,{duration:p,fill:"forwards"});return y.onfinish=()=>{y.cancel();var P=(a==null?void 0:a.t())??1-s;a==null||a.abort();var k=s-P,G=e.duration*Math.abs(k),Y=[];if(G>0){var ee=!1;if(c)for(var V=Math.ceil(G/16.666666666666668),O=0;O<=V;O+=1){var te=P+k*T(O/V),I=pt(c(te,1-te));Y.push(I),ee||(ee=I.overflow==="hidden")}ee&&(n.style.overflow="hidden"),M=()=>{var R=y.currentTime;return P+k*T(R/G)},b&&ma(()=>{if(y.playState!=="running")return!1;var R=M();return b(R,1-R),!0})}y=n.animate(Y,{duration:G,fill:"forwards"}),y.onfinish=()=>{M=()=>s,b==null||b(s,1-s),r()}},{abort:()=>{y&&(y.cancel(),y.effect=null,y.onfinish=Le)},deactivate:()=>{r=Le},reset:()=>{s===0&&(b==null||b(1,0))},t:()=>M()}}const ba=[[/\bllama[-_]?3/i,"Llama"],[/\bllama/i,"Llama"],[/\bqwen/i,"Qwen"],[/\bglm/i,"GLM"],[/\bmistral/i,"Mistral"],[/\bmixtral/i,"Mixtral"],[/\bphi[-_]?[234]/i,"Phi"],[/\bgemma/i,"Gemma"],[/\bdeepseek/i,"DeepSeek"],[/\byi[-_]/i,"Yi"],[/\bstarcoder/i,"StarCoder"],[/\bcodellama/i,"CodeLlama"],[/\bfalcon/i,"Falcon"],[/\bvicuna/i,"Vicuna"],[/\binternlm/i,"InternLM"],[/\bbaichuan/i,"Baichuan"],[/\bchatglm/i,"ChatGLM"],[/\borca/i,"Orca"],[/\bneuralchat/i,"NeuralChat"],[/\bopenchat/i,"OpenChat"],[/\bzephyr/i,"Zephyr"],[/\bhermes/i,"Hermes"],[/\bsolar/i,"Solar"],[/\bcommand[-_]?r/i,"Command-R"],[/\bdbrx/i,"DBRX"],[/\bolmo/i,"OLMo"],[/\bkokoro/i,"Kokoro"],[/\bwhisper/i,"Whisper"]],pa=[[/\b2[-_]?bit\b/i,2],[/\b3[-_]?bit\b/i,3],[/\b4[-_]?bit\b/i,4],[/\b5[-_]?bit\b/i,5],[/\b6[-_]?bit\b/i,6],[/\b8[-_]?bit\b/i,8],[/\b16[-_]?bit\b/i,16],[/\bbf16\b/i,16],[/\bfp16\b/i,16],[/\bmxfp4\b/i,4],[/[-_]2bit\b/i,2],[/[-_]3bit\b/i,3],[/[-_]4bit\b/i,4],[/[-_]5bit\b/i,5],[/[-_]6bit\b/i,6],[/[-_]8bit\b/i,8]],xa=[/\bvision\b/i,/\bvl\b/i,/\bmultimodal\b/i,/\bimage[-_]?text/i,/\bllava/i,/\bpixtral/i,/\bqwen[-_]?vl/i,/\binternvl/i],ya=[/\btool[-_]?use\b/i,/\bfunction[-_]?calling\b/i,/\btool[-_]?calling\b/i,/\btools\b/i],wa=new Set(["Qwen","GLM","MiniMax","DeepSeek","Hermes","Command-R","Mistral"]);function ka(n,e=[]){const a=n.split("/").pop()||n,s=`${a} ${e.join(" ")}`,r={};for(const[i,d]of ba)if(i.test(s)){r.architecture_family=d;break}for(const[i,d]of pa)if(i.test(a)){r.quantization_bits=d;break}for(const i of xa)if(i.test(s)){r.is_multimodal=!0,r.multimodal_type="vision";break}for(const i of ya)if(i.test(s)){r.is_tool_use=!0;break}return!r.is_tool_use&&r.architecture_family&&wa.has(r.architecture_family)&&(r.is_tool_use=!0),r}var et;class Ca{constructor(){ft(this,et,le(Ze(new Map)))}get configs(){return t(dt(this,et))}set configs(e){N(dt(this,et),e,!0)}getConfig(e){return this.configs.get(e)}async fetchConfig(e,a=[]){if(!this.configs.get(e)){this.configs=new Map(this.configs).set(e,{characteristics:null,loading:!0,error:null});try{const r=await Ye.getConfig(e,a.length>0?a:void 0);this.configs=new Map(this.configs).set(e,{characteristics:r,loading:!1,error:null})}catch{const r=ka(e,a),i=r.architecture_family||r.quantization_bits||r.is_multimodal||r.is_tool_use;this.configs=new Map(this.configs).set(e,{characteristics:i?r:null,loading:!1,error:null})}}}clearConfig(e){const a=new Map(this.configs);a.delete(e),this.configs=a}clearAll(){this.configs=new Map}}et=new WeakMap;const xt=new Ca;function Ma(n,e){he(e,!0);let a=de(e,"open",15,!1),s=de(e,"onOpenChange",3,Ve);Yt({variant:Ee.with(()=>"dialog"),open:Ee.with(()=>a(),d=>{a(d),s()(d)})});var r=X(),i=h(r);Je(i,()=>e.children??Le),o(n,r),be()}var Pa=g("<button><!></button>");function za(n,e){he(e,!0);let a=de(e,"id",19,Pt),s=de(e,"ref",15,null),r=de(e,"disabled",3,!1),i=wt(e,["$$slots","$$events","$$legacy","children","child","id","ref","disabled"]);const d=Jt({variant:Ee.with(()=>"close"),id:Ee.with(()=>a()),ref:Ee.with(()=>s(),x=>s(x)),disabled:Ee.with(()=>!!r())}),_=K(()=>rt(i,d.props));var p=X(),c=h(p);{var b=x=>{var f=X(),M=h(f);Je(M,()=>e.child,()=>({props:t(_)})),o(x,f)},T=x=>{var f=Pa();kt(f,()=>({...t(_)}));var M=v(f);Je(M,()=>e.children??Le),u(f),o(x,f)};z(c,x=>{e.child?x(b):x(T,!1)})}o(n,p),be()}var Sa=g("<!> <!>",1),Fa=g("<!> <div><!></div>",1);function Da(n,e){he(e,!0);let a=de(e,"id",19,Pt),s=de(e,"ref",15,null),r=de(e,"forceMount",3,!1),i=de(e,"onCloseAutoFocus",3,Ve),d=de(e,"onOpenAutoFocus",3,Ve),_=de(e,"onEscapeKeydown",3,Ve),p=de(e,"onInteractOutside",3,Ve),c=de(e,"trapFocus",3,!0),b=de(e,"preventScroll",3,!0),T=de(e,"restoreScrollDelay",3,null),x=wt(e,["$$slots","$$events","$$legacy","id","children","child","ref","forceMount","onCloseAutoFocus","onOpenAutoFocus","onEscapeKeydown","onInteractOutside","trapFocus","preventScroll","restoreScrollDelay"]);const f=ea({id:Ee.with(()=>a()),ref:Ee.with(()=>s(),y=>s(y))}),M=K(()=>rt(x,f.props));{const y=k=>{{const G=(ee,V)=>{let O=()=>V==null?void 0:V().props;na(ee,_e(()=>t(M),{get enabled(){return f.root.opts.open.current},onEscapeKeydown:te=>{_()(te),!te.defaultPrevented&&f.root.handleClose()},children:(te,I)=>{sa(te,_e(()=>t(M),{get enabled(){return f.root.opts.open.current},onInteractOutside:R=>{p()(R),!R.defaultPrevented&&f.root.handleClose()},children:(R,oe)=>{ia(R,_e(()=>t(M),{get enabled(){return f.root.opts.open.current},children:(ce,ge)=>{var se=X(),ne=h(se);{var S=L=>{var E=Sa(),J=h(E);{var ue=ae=>{bt(ae,{get preventScroll(){return b()},get restoreScrollDelay(){return T()}})};z(J,ae=>{f.root.opts.open.current&&ae(ue)})}var ve=l(J,2);{let ae=K(()=>({props:rt(t(M),O()),...f.snippetProps}));Je(ve,()=>e.child,()=>t(ae))}o(L,E)},U=L=>{var E=Fa(),J=h(E);bt(J,{get preventScroll(){return b()}});var ue=l(J,2);kt(ue,ae=>({...ae}),[()=>rt(t(M),O())]);var ve=v(ue);Je(ve,()=>e.children??Le),u(ue),o(L,E)};z(ne,L=>{e.child?L(S):L(U,!1)})}o(ce,se)},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{default:!0}}))};let Y=K(()=>ta({forceMount:r(),present:f.root.opts.open.current,trapFocus:c(),open:f.root.opts.open.current}));oa(k,{loop:!0,get trapFocus(){return t(Y)},get onOpenAutoFocus(){return d()},get id(){return a()},onCloseAutoFocus:ee=>{var V;i()(ee),!ee.defaultPrevented&&((V=f.root.triggerNode)==null||V.focus())},focusScope:G,$$slots:{focusScope:!0}})}};let P=K(()=>f.root.opts.open.current||r());da(n,_e(()=>t(M),{get forceMount(){return r()},get present(){return t(P)},presence:y,$$slots:{presence:!0}}))}be()}function $a(n,e){const a=ke(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s=[["path",{d:"M12 17V3"}],["path",{d:"m6 11 6 6 6-6"}],["path",{d:"M19 21H5"}]];Ce(n,_e({name:"arrow-down-to-line"},()=>a,{get iconNode(){return s},children:(r,i)=>{var d=X(),_=h(d);Me(_,e,"default",{}),o(r,d)},$$slots:{default:!0}}))}function Aa(n,e){const a=ke(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s=[["path",{d:"m18 15-6-6-6 6"}]];Ce(n,_e({name:"chevron-up"},()=>a,{get iconNode(){return s},children:(r,i)=>{var d=X(),_=h(d);Me(_,e,"default",{}),o(r,d)},$$slots:{default:!0}}))}function Ta(n,e){const a=ke(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]];Ce(n,_e({name:"circle-check-big"},()=>a,{get iconNode(){return s},children:(r,i)=>{var d=X(),_=h(d);Me(_,e,"default",{}),o(r,d)},$$slots:{default:!0}}))}function Na(n,e){const a=ke(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m15 9-6 6"}],["path",{d:"m9 9 6 6"}]];Ce(n,_e({name:"circle-x"},()=>a,{get iconNode(){return s},children:(r,i)=>{var d=X(),_=h(d);Me(_,e,"default",{}),o(r,d)},$$slots:{default:!0}}))}function Ft(n,e){const a=ke(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["polyline",{points:"7 10 12 15 17 10"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3"}]];Ce(n,_e({name:"download"},()=>a,{get iconNode(){return s},children:(r,i)=>{var d=X(),_=h(d);Me(_,e,"default",{}),o(r,d)},$$slots:{default:!0}}))}function La(n,e){const a=ke(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]];Ce(n,_e({name:"eye"},()=>a,{get iconNode(){return s},children:(r,i)=>{var d=X(),_=h(d);Me(_,e,"default",{}),o(r,d)},$$slots:{default:!0}}))}function Ea(n,e){const a=ke(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}]];Ce(n,_e({name:"filter"},()=>a,{get iconNode(){return s},children:(r,i)=>{var d=X(),_=h(d);Me(_,e,"default",{}),o(r,d)},$$slots:{default:!0}}))}function qa(n,e){const a=ke(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"}]];Ce(n,_e({name:"heart"},()=>a,{get iconNode(){return s},children:(r,i)=>{var d=X(),_=h(d);Me(_,e,"default",{}),o(r,d)},$$slots:{default:!0}}))}function Oa(n,e){const a=ke(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17"}]];Ce(n,_e({name:"layers"},()=>a,{get iconNode(){return s},children:(r,i)=>{var d=X(),_=h(d);Me(_,e,"default",{}),o(r,d)},$$slots:{default:!0}}))}function Ra(n,e){const a=ke(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s=[["circle",{cx:"11",cy:"11",r:"8"}],["path",{d:"m21 21-4.3-4.3"}]];Ce(n,_e({name:"search"},()=>a,{get iconNode(){return s},children:(r,i)=>{var d=X(),_=h(d);Me(_,e,"default",{}),o(r,d)},$$slots:{default:!0}}))}var Ba=g('<div class="text-xs text-muted-foreground"> </div>'),Ua=g('<div class="mt-1.5 space-y-1"><div class="w-full bg-muted rounded-full h-1.5 overflow-hidden"><div class="bg-primary h-1.5 rounded-full transition-all duration-300"></div></div> <!></div>'),Ia=g('<div class="mt-1 text-xs text-red-500 dark:text-red-400 truncate"> </div>'),Ha=g('<div class="flex items-center gap-3"><div class="flex-shrink-0"><!></div> <div class="flex-1 min-w-0"><div class="flex items-center justify-between gap-2"><span class="font-medium text-sm truncate"> </span> <span class="text-xs text-muted-foreground flex-shrink-0"> </span></div> <!> <!></div></div>');function ja(n,e){he(e,!0);const a=K(()=>()=>{const _=e.download.model_id.split("/");return _[_.length-1]}),s=K(()=>()=>{switch(e.download.status){case"pending":case"starting":return"Preparing...";case"downloading":return e.download.progress>0?`${e.download.progress}%`:"Starting...";case"completed":return"Complete";case"failed":return"Failed";default:return e.download.status}}),r=K(()=>e.download.status==="pending"||e.download.status==="starting"),i=K(()=>e.download.status==="completed"),d=K(()=>e.download.status==="failed");ot(n,{class:"p-3",children:(_,p)=>{var c=Ha(),b=v(c),T=v(b);{var x=I=>{Ta(I,{class:"w-5 h-5 text-green-500 dark:text-green-400"})},f=I=>{var R=X(),oe=h(R);{var ce=se=>{Na(se,{class:"w-5 h-5 text-red-500 dark:text-red-400"})},ge=se=>{var ne=X(),S=h(ne);{var U=E=>{Qt(E,{class:"w-5 h-5 text-primary animate-spin"})},L=E=>{Ft(E,{class:"w-5 h-5 text-primary"})};z(S,E=>{t(r)?E(U):E(L,!1)},!0)}o(se,ne)};z(oe,se=>{t(d)?se(ce):se(ge,!1)},!0)}o(I,R)};z(T,I=>{t(i)?I(x):I(f,!1)})}u(b);var M=l(b,2),y=v(M),P=v(y),k=v(P,!0);u(P);var G=l(P,2),Y=v(G,!0);u(G),u(y);var ee=l(y,2);{var V=I=>{var R=Ua(),oe=v(R),ce=v(oe);u(oe);var ge=l(oe,2);{var se=ne=>{var S=Ba(),U=v(S);u(S),B((L,E)=>q(U,`${L??""} / ${E??""}`),[()=>gt(e.download.downloaded_bytes),()=>gt(e.download.total_bytes)]),o(ne,S)};z(ge,ne=>{e.download.total_bytes>0&&ne(se)})}u(R),B(()=>Gt(ce,`width: ${e.download.progress??""}%`)),o(I,R)};z(ee,I=>{(e.download.status==="downloading"||e.download.status==="starting"||e.download.status==="pending")&&I(V)})}var O=l(ee,2);{var te=I=>{var R=Ia(),oe=v(R,!0);u(R),B(()=>{mt(R,"title",e.download.error),q(oe,e.download.error)}),o(I,R)};z(O,I=>{e.download.error&&I(te)})}u(M),u(c),B((I,R)=>{mt(P,"title",e.download.model_id),q(k,I),q(Y,R)},[()=>t(a)(),()=>t(s)()]),o(_,c)},$$slots:{default:!0}}),be()}var Ga=g("<!> Downloaded",1),Qa=g('<div class="mt-3 flex flex-wrap gap-1"><!> <!></div>'),Ka=g("<!> ",1),Va=g("<!> <!>",1),Wa=g("<!> Download",1),Za=g('<div class="mt-2 text-sm text-red-500 dark:text-red-400"> </div>'),Xa=g('<div class="flex items-start justify-between"><div class="flex-1 min-w-0"><h3 class="font-semibold text-base truncate"> </h3> <div class="flex items-center gap-4 mt-1 text-sm text-muted-foreground"><span class="flex items-center gap-1"><!> </span> <span class="flex items-center gap-1"><!> </span> <span class="flex items-center gap-1"><!> </span></div> <div class="mt-2"><!></div></div> <div class="flex items-center gap-2"><!></div></div> <!> <!> <div class="mt-4 flex justify-end gap-2"><!></div> <!>',1),Ya=g("<!> <!>",1);function Ja(n,e){he(e,!0);let a=le(!1),s=le(null),r=le(!1),i=le(null),d=K(()=>ct.getProgress(e.model.model_id)),_=K(()=>xt.getConfig(e.model.model_id)),p=K(()=>()=>{var P;return((P=t(d))==null?void 0:P.status)==="completed"?!0:t(i)!==null?t(i):e.model.is_downloaded});Xe(()=>{e.model.model_id,N(i,null)}),Xe(()=>{xt.fetchConfig(e.model.model_id,e.model.tags)});async function c(){N(s,null);try{await ct.startDownload(e.model.model_id)}catch(P){N(s,P instanceof Error?P.message:"Download failed",!0)}}Xe(()=>{var P,k;((P=t(d))==null?void 0:P.status)==="completed"?N(i,!0):((k=t(d))==null?void 0:k.status)==="failed"&&t(d).error&&N(s,t(d).error,!0)});function b(){N(r,!0)}async function T(){var P;N(a,!0),N(s,null);try{await Ye.delete(e.model.model_id),N(i,!1),(P=e.onDeleted)==null||P.call(e)}catch(k){N(s,k instanceof Error?k.message:"Delete failed",!0)}finally{N(a,!1)}}function x(){var P;(P=e.onUse)==null||P.call(e,e.model.model_id)}var f=Ya(),M=h(f);ot(M,{class:"p-4",children:(P,k)=>{var G=Xa(),Y=h(G),ee=v(Y),V=v(ee),O=v(V,!0);u(V);var te=l(V,2),I=v(te),R=v(I);$a(R,{class:"w-4 h-4"});var oe=l(R);u(I);var ce=l(I,2),ge=v(ce);qa(ge,{class:"w-4 h-4"});var se=l(ge);u(ce);var ne=l(ce,2),S=v(ne);zt(S,{class:"w-4 h-4"});var U=l(S);u(ne),u(te);var L=l(te,2),E=v(L);{let F=K(()=>{var C;return(C=t(_))==null?void 0:C.characteristics}),w=K(()=>{var C;return((C=t(_))==null?void 0:C.loading)??!0});$t(E,{get characteristics(){return t(F)},get loading(){return t(w)}})}u(L),u(ee);var J=l(ee,2),ue=v(J);{var ve=F=>{$e(F,{variant:"success",children:(w,C)=>{var D=Ga(),A=h(D);Zt(A,{class:"w-3 h-3 mr-1"}),Z(),o(w,D)},$$slots:{default:!0}})};z(ue,F=>{t(p)()&&F(ve)})}u(J),u(Y);var ae=l(Y,2);{var Pe=F=>{At(F,{get characteristics(){return t(_).characteristics}})};z(ae,F=>{var w;(w=t(_))!=null&&w.characteristics&&F(Pe)})}var xe=l(ae,2);{var Oe=F=>{var w=Qa(),C=v(w);qe(C,16,()=>e.model.tags.slice(0,5),H=>H,(H,Q)=>{$e(H,{variant:"secondary",class:"text-xs",children:(j,ie)=>{Z();var me=Ae();B(()=>q(me,Q)),o(j,me)},$$slots:{default:!0}})});var D=l(C,2);{var A=H=>{$e(H,{variant:"outline",class:"text-xs",children:(Q,j)=>{Z();var ie=Ae();B(()=>q(ie,`+${e.model.tags.length-5}`)),o(Q,ie)},$$slots:{default:!0}})};z(D,H=>{e.model.tags.length>5&&H(A)})}u(w),o(F,w)};z(xe,F=>{e.model.tags.length>0&&F(Oe)})}var Te=l(xe,2),Ne=v(Te);{var Re=F=>{var w=Va(),C=h(w);De(C,{variant:"outline",size:"sm",onclick:b,get disabled(){return t(a)},children:(A,H)=>{var Q=Ka(),j=h(Q);Ct(j,{class:"w-4 h-4 mr-1"});var ie=l(j);B(()=>q(ie,` ${t(a)?"Deleting...":"Delete"}`)),o(A,Q)},$$slots:{default:!0}});var D=l(C,2);De(D,{variant:"default",size:"sm",onclick:x,children:(A,H)=>{Z();var Q=Ae("Use");o(A,Q)},$$slots:{default:!0}}),o(F,w)},m=F=>{De(F,{variant:"default",size:"sm",onclick:c,children:(w,C)=>{var D=Wa(),A=h(D);Ft(A,{class:"w-4 h-4 mr-1"}),Z(),o(w,D)},$$slots:{default:!0}})};z(Ne,F=>{t(p)()?F(Re):F(m,!1)})}u(Te);var $=l(Te,2);{var W=F=>{var w=Za(),C=v(w,!0);u(w),B(()=>q(C,t(s))),o(F,w)};z($,F=>{t(s)&&F(W)})}B((F,w)=>{q(O,e.model.model_id),q(oe,` ${F??""}`),q(se,` ${w??""}`),q(U,` ${e.model.estimated_size_gb??""} GB`)},[()=>ht(e.model.downloads),()=>ht(e.model.likes)]),o(P,G)},$$slots:{default:!0}});var y=l(M,2);Mt(y,{title:"Delete Model",get description(){return`Are you sure you want to delete ${e.model.model_id??""}? This will remove the model from your local cache and free up disk space.`},confirmLabel:"Delete",cancelLabel:"Cancel",variant:"destructive",onConfirm:T,onCancel:()=>{},get open(){return t(r)},set open(P){N(r,P,!0)}}),o(n,f),be()}var er=g('<div class="flex rounded-full bg-muted p-1"><button type="button">My Models</button> <button type="button">HuggingFace</button></div>');function tr(n,e){he(e,!0);let a=de(e,"mode",15);function s(_){var p;a(_),(p=e.onModeChange)==null||p.call(e,_)}var r=er(),i=v(r);i.__click=()=>s("local");var d=l(i,2);d.__click=()=>s("online"),u(r),B(()=>{_t(i,1,`px-4 py-1.5 text-sm font-medium rounded-full transition-all
			${a()==="local"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"}`),_t(d,1,`px-4 py-1.5 text-sm font-medium rounded-full transition-all
			${a()==="online"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"}`)}),o(n,r),be()}nt(["click"]);const ar=["Llama","Qwen","Mistral","Gemma","Phi","DeepSeek","StarCoder","GLM","MiniMax"],rr=[2,3,4,8,16];function Dt(){return{architectures:[],multimodal:null,quantization:[]}}var or=g('<!> <span class="sr-only">Close</span>',1),nr=g('<label class="flex items-center gap-2 text-sm cursor-pointer"><input type="checkbox" class="rounded"/> </label>'),sr=g('<label class="flex items-center gap-2 text-sm cursor-pointer"><input type="checkbox" class="rounded"/> </label>'),ir=g('<div class="flex items-center justify-between mb-4"><!> <!></div> <section class="mb-6"><h4 class="text-sm font-medium mb-2">Architecture</h4> <div class="grid grid-cols-3 gap-2"></div></section> <section class="mb-6"><h4 class="text-sm font-medium mb-2">Capabilities</h4> <div class="space-y-2"><label class="flex items-center gap-2 text-sm cursor-pointer"><input type="radio" name="multimodal"/> Any</label> <label class="flex items-center gap-2 text-sm cursor-pointer"><input type="radio" name="multimodal"/> Text-only</label> <label class="flex items-center gap-2 text-sm cursor-pointer"><input type="radio" name="multimodal"/> Multimodal (Vision)</label></div></section> <section class="mb-6"><h4 class="text-sm font-medium mb-2">Quantization</h4> <div class="flex flex-wrap gap-3"></div></section> <div class="flex justify-between mt-6"><!> <!></div>',1),lr=g("<!> <!>",1);function dr(n,e){he(e,!0);let a=de(e,"open",15),s=de(e,"filters",15);function r(f){return{architectures:[...f.architectures],multimodal:f.multimodal,quantization:[...f.quantization]}}let i=le(Ze(r(s())));Xe(()=>{a()&&N(i,r(s()),!0)});function d(f){t(i).architectures.indexOf(f)>=0?t(i).architectures=t(i).architectures.filter(y=>y!==f):t(i).architectures=[...t(i).architectures,f]}function _(f){t(i).quantization.indexOf(f)>=0?t(i).quantization=t(i).quantization.filter(y=>y!==f):t(i).quantization=[...t(i).quantization,f]}function p(f){t(i).multimodal=f}function c(){N(i,Dt(),!0)}function b(){var f;s(r(t(i))),(f=e.onApply)==null||f.call(e,s()),a(!1)}var T=X(),x=h(T);je(x,()=>Ma,(f,M)=>{M(f,{get open(){return a()},set open(y){a(y)},children:(y,P)=>{var k=X(),G=h(k);je(G,()=>la,(Y,ee)=>{ee(Y,{children:(V,O)=>{var te=lr(),I=h(te);je(I,()=>aa,(oe,ce)=>{ce(oe,{class:"fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"})});var R=l(I,2);je(R,()=>Da,(oe,ce)=>{ce(oe,{class:"fixed left-[50%] top-[50%] z-50 w-full max-w-[400px] translate-x-[-50%] translate-y-[-50%] border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg max-h-[80vh] overflow-y-auto",children:(ge,se)=>{var ne=ir(),S=h(ne),U=v(S);je(U,()=>ra,(w,C)=>{C(w,{class:"text-lg font-semibold",children:(D,A)=>{Z();var H=Ae("Filter Models");o(D,H)},$$slots:{default:!0}})});var L=l(U,2);je(L,()=>za,(w,C)=>{C(w,{class:"rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:(D,A)=>{var H=or(),Q=h(H);We(Q,{class:"h-4 w-4"}),Z(2),o(D,H)},$$slots:{default:!0}})}),u(S);var E=l(S,2),J=l(v(E),2);qe(J,20,()=>ar,w=>w,(w,C)=>{var D=nr(),A=v(D);Ge(A),A.__change=()=>d(C);var H=l(A);u(D),B(Q=>{Qe(A,Q),q(H,` ${C??""}`)},[()=>t(i).architectures.includes(C)]),o(w,D)}),u(J),u(E);var ue=l(E,2),ve=l(v(ue),2),ae=v(ve),Pe=v(ae);Ge(Pe),Pe.__change=()=>p(null),Z(),u(ae);var xe=l(ae,2),Oe=v(xe);Ge(Oe),Oe.__change=()=>p(!1),Z(),u(xe);var Te=l(xe,2),Ne=v(Te);Ge(Ne),Ne.__change=()=>p(!0),Z(),u(Te),u(ve),u(ue);var Re=l(ue,2),m=l(v(Re),2);qe(m,20,()=>rr,w=>w,(w,C)=>{var D=sr(),A=v(D);Ge(A),A.__change=()=>_(C);var H=l(A);u(D),B(Q=>{Qe(A,Q),q(H,` ${C===16?"fp16":`${C}-bit`}`)},[()=>t(i).quantization.includes(C)]),o(w,D)}),u(m),u(Re);var $=l(Re,2),W=v($);De(W,{variant:"ghost",onclick:c,children:(w,C)=>{Z();var D=Ae("Clear All");o(w,D)},$$slots:{default:!0}});var F=l(W,2);De(F,{onclick:b,children:(w,C)=>{Z();var D=Ae("Apply");o(w,D)},$$slots:{default:!0}}),u($),B(()=>{Qe(Pe,t(i).multimodal===null),Qe(Oe,t(i).multimodal===!1),Qe(Ne,t(i).multimodal===!0)}),o(ge,ne)},$$slots:{default:!0}})}),o(V,te)},$$slots:{default:!0}})}),o(y,k)},$$slots:{default:!0}})}),o(n,T),be()}nt(["change"]);var cr=g(' <button type="button" class="ml-1 rounded-full hover:bg-muted-foreground/20 p-0.5"><!></button>',1),ur=g('Multimodal <button type="button" class="ml-1 rounded-full hover:bg-muted-foreground/20 p-0.5"><!></button>',1),vr=g('Text-only <button type="button" class="ml-1 rounded-full hover:bg-muted-foreground/20 p-0.5"><!></button>',1),fr=g(' <button type="button" class="ml-1 rounded-full hover:bg-muted-foreground/20 p-0.5"><!></button>',1),mr=g('<div class="flex flex-wrap gap-2"><!> <!> <!></div>');function _r(n,e){he(e,!0);var a=mr(),s=v(a);qe(s,16,()=>e.filters.architectures,p=>p,(p,c)=>{$e(p,{variant:"secondary",class:"cursor-pointer gap-1 pr-1",children:(b,T)=>{Z();var x=cr(),f=h(x),M=l(f);M.__click=()=>e.onRemove("architecture",c);var y=v(M);We(y,{class:"w-3 h-3"}),u(M),B(()=>q(f,`${c??""} `)),o(b,x)},$$slots:{default:!0}})});var r=l(s,2);{var i=p=>{$e(p,{variant:"secondary",class:"cursor-pointer gap-1 pr-1",children:(c,b)=>{Z();var T=ur(),x=l(h(T));x.__click=()=>e.onRemove("multimodal");var f=v(x);We(f,{class:"w-3 h-3"}),u(x),o(c,T)},$$slots:{default:!0}})},d=p=>{var c=X(),b=h(c);{var T=x=>{$e(x,{variant:"secondary",class:"cursor-pointer gap-1 pr-1",children:(f,M)=>{Z();var y=vr(),P=l(h(y));P.__click=()=>e.onRemove("multimodal");var k=v(P);We(k,{class:"w-3 h-3"}),u(P),o(f,y)},$$slots:{default:!0}})};z(b,x=>{e.filters.multimodal===!1&&x(T)},!0)}o(p,c)};z(r,p=>{e.filters.multimodal===!0?p(i):p(d,!1)})}var _=l(r,2);qe(_,16,()=>e.filters.quantization,p=>p,(p,c)=>{$e(p,{variant:"secondary",class:"cursor-pointer gap-1 pr-1",children:(b,T)=>{Z();var x=fr(),f=h(x),M=l(f);M.__click=()=>e.onRemove("quantization",c);var y=v(M);We(y,{class:"w-3 h-3"}),u(M),B(()=>q(f,`${c===16?"fp16":`${c}-bit`} `)),o(b,x)},$$slots:{default:!0}})}),u(a),o(n,a),be()}nt(["click"]);var gr=g('<div class="inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-700"><!> </div>');function hr(n,e){var a=gr(),s=v(a);va(s,{class:"w-3 h-3"});var r=l(s);u(a),B(()=>q(r,` ${e.family??""}`)),o(n,a)}var br=g('<div class="inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-xs font-medium bg-green-100 text-green-800 border-green-300 dark:bg-green-900/30 dark:text-green-300 dark:border-green-700"><!> </div>');function pr(n,e){he(e,!0);let a=K(()=>e.multimodalType?e.multimodalType.charAt(0).toUpperCase()+e.multimodalType.slice(1):"Vision");var s=br(),r=v(s);La(r,{class:"w-3 h-3"});var i=l(r);u(s),B(()=>q(i,` ${t(a)??""}`)),o(n,s),be()}var xr=g('<div class="inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-xs font-medium bg-purple-100 text-purple-800 border-purple-300 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-700"><!> </div>');function yr(n,e){var a=xr(),s=v(a);Oa(s,{class:"w-3 h-3"});var r=l(s);u(a),B(()=>q(r,` ${e.bits??""}-bit`)),o(n,a)}var wr=g('<div class="inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-xs font-medium bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-700"><!> Tool Use</div>');function kr(n){var e=wr(),a=v(e);ua(a,{class:"w-3 h-3"}),Z(),u(e),o(n,e)}var Cr=g('<div class="h-5 w-14 animate-pulse rounded-full bg-muted"></div> <div class="h-5 w-12 animate-pulse rounded-full bg-muted"></div>',1),Mr=g("<!> <!> <!> <!>",1),Pr=g('<div class="flex flex-wrap items-center gap-1.5"><!></div>');function $t(n,e){he(e,!0);let a=de(e,"loading",3,!1),s=K(()=>{var p;return((p=e.characteristics)==null?void 0:p.architecture_family)&&e.characteristics.architecture_family!=="Unknown"});var r=Pr(),i=v(r);{var d=p=>{var c=Cr();Z(2),o(p,c)},_=p=>{var c=X(),b=h(c);{var T=x=>{var f=Mr(),M=h(f);{var y=O=>{hr(O,{get family(){return e.characteristics.architecture_family}})};z(M,O=>{t(s)&&O(y)})}var P=l(M,2);{var k=O=>{pr(O,{get multimodalType(){return e.characteristics.multimodal_type}})};z(P,O=>{e.characteristics.is_multimodal&&O(k)})}var G=l(P,2);{var Y=O=>{yr(O,{get bits(){return e.characteristics.quantization_bits}})};z(G,O=>{e.characteristics.quantization_bits&&O(Y)})}var ee=l(G,2);{var V=O=>{kr(O)};z(ee,O=>{e.characteristics.is_tool_use&&O(V)})}o(x,f)};z(b,x=>{e.characteristics&&x(T)},!0)}o(p,c)};z(i,p=>{a()?p(d):p(_,!1)})}u(r),o(n,r),be()}function zr(n){const e=n-1;return e*e*e+1}function Sr(n,{delay:e=0,duration:a=400,easing:s=zr,axis:r="y"}={}){const i=getComputedStyle(n),d=+i.opacity,_=r==="y"?"height":"width",p=parseFloat(i[_]),c=r==="y"?["top","bottom"]:["left","right"],b=c.map(k=>`${k[0].toUpperCase()}${k.slice(1)}`),T=parseFloat(i[`padding${b[0]}`]),x=parseFloat(i[`padding${b[1]}`]),f=parseFloat(i[`margin${b[0]}`]),M=parseFloat(i[`margin${b[1]}`]),y=parseFloat(i[`border${b[0]}Width`]),P=parseFloat(i[`border${b[1]}Width`]);return{delay:e,duration:a,easing:s,css:k=>`overflow: hidden;opacity: ${Math.min(k*20,1)*d};${_}: ${k*p}px;padding-${c[0]}: ${k*T}px;padding-${c[1]}: ${k*x}px;margin-${c[0]}: ${k*f}px;margin-${c[1]}: ${k*M}px;border-${c[0]}-width: ${k*y}px;border-${c[1]}-width: ${k*P}px;min-${_}: 0`}}var Fr=g("<!> Hide specs",1),Dr=g("<!> Show specs",1),$r=g('<span class="font-medium">Context</span> <span> </span>',1),Ar=g('<span class="font-medium">Layers</span> <span> </span>',1),Tr=g('<span class="font-medium">Hidden size</span> <span> </span>',1),Nr=g('<span class="font-medium">Vocab size</span> <span> </span>',1),Lr=g('<span class="text-muted-foreground/70"> </span>'),Er=g('<span class="font-medium">Attention</span> <span> <!></span>',1),qr=g('<span class="font-medium">KV Cache</span> <span> </span>',1),Or=g('<div class="mt-2 grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-muted-foreground"><!> <!> <!> <!> <!> <!></div>'),Rr=g('<div class="mt-2"><button type="button" class="flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground transition-colors"><!></button> <!></div>');function At(n,e){he(e,!0);let a=le(!1);function s(){N(a,!t(a))}function r(c){return(c==null?void 0:c.toLocaleString())??"-"}let i=K(()=>e.characteristics.max_position_embeddings||e.characteristics.num_hidden_layers||e.characteristics.hidden_size||e.characteristics.vocab_size||e.characteristics.num_attention_heads);var d=X(),_=h(d);{var p=c=>{var b=Rr(),T=v(b);T.__click=s;var x=v(T);{var f=k=>{var G=Fr(),Y=h(G);Aa(Y,{class:"w-3 h-3"}),Z(),o(k,G)},M=k=>{var G=Dr(),Y=h(G);ca(Y,{class:"w-3 h-3"}),Z(),o(k,G)};z(x,k=>{t(a)?k(f):k(M,!1)})}u(T);var y=l(T,2);{var P=k=>{var G=Or(),Y=v(G);{var ee=S=>{var U=$r(),L=l(h(U),2),E=v(L,!0);u(L),B(J=>q(E,J),[()=>r(e.characteristics.max_position_embeddings)]),o(S,U)};z(Y,S=>{e.characteristics.max_position_embeddings&&S(ee)})}var V=l(Y,2);{var O=S=>{var U=Ar(),L=l(h(U),2),E=v(L,!0);u(L),B(J=>q(E,J),[()=>r(e.characteristics.num_hidden_layers)]),o(S,U)};z(V,S=>{e.characteristics.num_hidden_layers&&S(O)})}var te=l(V,2);{var I=S=>{var U=Tr(),L=l(h(U),2),E=v(L,!0);u(L),B(J=>q(E,J),[()=>r(e.characteristics.hidden_size)]),o(S,U)};z(te,S=>{e.characteristics.hidden_size&&S(I)})}var R=l(te,2);{var oe=S=>{var U=Nr(),L=l(h(U),2),E=v(L,!0);u(L),B(J=>q(E,J),[()=>r(e.characteristics.vocab_size)]),o(S,U)};z(R,S=>{e.characteristics.vocab_size&&S(oe)})}var ce=l(R,2);{var ge=S=>{var U=Er(),L=l(h(U),2),E=v(L),J=l(E);{var ue=ve=>{var ae=Lr(),Pe=v(ae);u(ae),B(xe=>q(Pe,`(KV: ${xe??""})`),[()=>r(e.characteristics.num_key_value_heads)]),o(ve,ae)};z(J,ve=>{e.characteristics.num_key_value_heads&&e.characteristics.num_key_value_heads!==e.characteristics.num_attention_heads&&ve(ue)})}u(L),B(ve=>q(E,`${ve??""} `),[()=>r(e.characteristics.num_attention_heads)]),o(S,U)};z(ce,S=>{e.characteristics.num_attention_heads&&S(ge)})}var se=l(ce,2);{var ne=S=>{var U=qr(),L=l(h(U),2),E=v(L,!0);u(L),B(()=>q(E,e.characteristics.use_cache?"Yes":"No")),o(S,U)};z(se,S=>{e.characteristics.use_cache!==void 0&&S(ne)})}u(G),ha(3,G,()=>Sr,()=>({duration:200})),o(k,G)};z(y,k=>{t(a)&&k(P)})}u(b),o(c,b)};z(_,c=>{t(i)&&c(p)})}o(n,d),be()}nt(["click"]);var Br=g("<!> ",1),Ur=g('<label class="flex items-center gap-2 text-sm"><input type="checkbox" class="rounded"/> <span>Fits in memory</span></label>'),Ir=g("<!> Filters <!>",1),Hr=g('<div class="mt-3"><!></div>'),jr=g('<form class="flex gap-4"><div class="flex-1 relative"><!> <!></div> <!></form> <div class="flex items-center gap-4 mt-4"><!> <!> <!></div> <!>',1),Gr=g('<div class="bg-background pb-4 border-b mb-2"><h2 class="text-sm font-medium text-muted-foreground mb-2"> </h2> <div class="space-y-2"></div></div>'),Qr=g('<div class="text-center py-8 text-red-500 dark:text-red-400"> </div>'),Kr=g("<!> <!>",1),Vr=g("<!> Delete",1),Wr=g('<div class="flex items-start justify-between"><div class="flex-1 min-w-0 space-y-1"><h3 class="font-medium"> </h3> <p class="text-sm text-muted-foreground"> </p> <!></div> <div class="flex gap-2 ml-4"><!> <!></div></div>'),Zr=g('<div class="grid gap-4"></div>'),Xr=g('<div class="text-center py-8 text-muted-foreground">No downloaded models match your filters.</div>'),Yr=g('<div class="text-center py-8 text-muted-foreground">No models downloaded yet. Switch to HuggingFace to search and download models.</div>'),Jr=g('<section><h2 class="text-lg font-semibold mb-4"> </h2> <!></section>'),eo=g('<section><h2 class="text-lg font-semibold mb-4"> </h2> <div class="grid gap-4"></div></section>'),to=g('<div class="text-center py-8 text-muted-foreground">No models found. Try a different search term.</div>'),ao=g('<div class="text-center py-12 text-muted-foreground">Search for models on HuggingFace to download.</div>'),ro=g('<div class="space-y-6"><div class="sticky top-0 z-20 bg-background pt-2 pb-4 -mx-4 px-4"><div class="flex items-center justify-between mb-4"><h1 class="text-2xl font-bold">Model Browser</h1> <!></div> <!></div> <!> <!> <!></div> <!> <!>',1);function zo(n,e){he(e,!0);let a=le(""),s=le(Ze([])),r=le(Ze([])),i=le(!1),d=le(null),_=le("local"),p=le(!0),c=le(Ze(Dt())),b=le(!1),T=le(!1),x=le(null),f=le(!1);Xe(()=>{M(),Ke.refreshMemory()});async function M(){try{N(r,await Ye.listLocal(),!0)}catch(m){console.error("Failed to load local models:",m)}}async function y(){if(t(a).trim()&&t(_)!=="local"){N(i,!0),N(d,null);try{const m=t(p)&&Ke.memory?Ke.memory.mlx_recommended_gb:void 0;N(s,await Ye.search(t(a),m,20),!0)}catch(m){N(d,m instanceof Error?m.message:"Search failed",!0)}finally{N(i,!1)}}}async function P(m){const $=`${Wt("/profiles/new")}?model=${encodeURIComponent(m)}`;await Vt($)}function k(){M()}function G(m){N(x,m,!0),N(T,!0)}async function Y(){if(t(x)){N(f,!0);try{await Ye.delete(t(x)),await M()}catch(m){N(d,m instanceof Error?m.message:"Delete failed",!0)}finally{N(f,!1),N(x,null)}}}function ee(m){return m?!(t(c).architectures.length>0&&(!m.architecture_family||!t(c).architectures.includes(m.architecture_family))||t(c).multimodal!==null&&(t(c).multimodal&&!m.is_multimodal||!t(c).multimodal&&m.is_multimodal)||t(c).quantization.length>0&&(!m.quantization_bits||!t(c).quantization.includes(m.quantization_bits))):!0}const V=K(()=>()=>{let m=t(r);if(t(a).trim()){const $=t(a).toLowerCase();m=m.filter(W=>W.model_id.toLowerCase().includes($))}return m=m.filter($=>ee($.characteristics)),m}),O=K(()=>()=>ct.getAllDownloads().filter(m=>m.status==="pending"||m.status==="starting"||m.status==="downloading")),te=K(()=>()=>{const m=new Set(t(O)().map($=>$.model_id));return t(s).filter($=>!m.has($.model_id))}),I=K(()=>t(_)==="local"),R=K(()=>t(s).length>0),oe=K(()=>t(c).architectures.length>0||t(c).multimodal!==null||t(c).quantization.length>0),ce=K(()=>t(c).architectures.length+(t(c).multimodal!==null?1:0)+t(c).quantization.length);function ge(m,$){m==="architecture"&&typeof $=="string"?t(c).architectures=t(c).architectures.filter(W=>W!==$):m==="multimodal"?t(c).multimodal=null:m==="quantization"&&typeof $=="number"&&(t(c).quantization=t(c).quantization.filter(W=>W!==$))}var se=ro(),ne=h(se),S=v(ne),U=v(S),L=l(v(U),2);{var E=m=>{$e(m,{variant:"outline",class:"text-sm",children:($,W)=>{var F=Br(),w=h(F);zt(w,{class:"w-4 h-4 mr-1"});var C=l(w);B(D=>q(C,` Recommended: <${D??""} GB`),[()=>Ke.memory.mlx_recommended_gb.toFixed(0)]),o($,F)},$$slots:{default:!0}})};z(L,m=>{Ke.memory&&m(E)})}u(U);var J=l(U,2);ot(J,{class:"p-4",children:(m,$)=>{var W=jr(),F=h(W),w=v(F),C=v(w);Ra(C,{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"});var D=l(C,2);{let re=K(()=>t(_)==="local"?"Filter downloaded models...":"Search MLX models...");Xt(D,{get placeholder(){return t(re)},class:"pl-10",get value(){return t(a)},set value(fe){N(a,fe,!0)}})}u(w);var A=l(w,2);{var H=re=>{De(re,{type:"submit",get disabled(){return t(i)},children:(fe,ye)=>{Z();var Se=Ae();B(()=>q(Se,t(i)?"Searching...":"Search")),o(fe,Se)},$$slots:{default:!0}})};z(A,re=>{t(_)==="online"&&re(H)})}u(F);var Q=l(F,2),j=v(Q);tr(j,{get mode(){return t(_)},set mode(re){N(_,re,!0)}});var ie=l(j,2);{var me=re=>{var fe=Ur(),ye=v(fe);Ge(ye),Z(2),u(fe),Kt(ye,()=>t(p),Se=>N(p,Se)),o(re,fe)};z(ie,re=>{t(_)==="online"&&re(me)})}var pe=l(ie,2);De(pe,{variant:"outline",size:"sm",onclick:()=>N(b,!0),children:(re,fe)=>{var ye=Ir(),Se=h(ye);Ea(Se,{class:"w-4 h-4 mr-1"});var st=l(Se,2);{var tt=He=>{$e(He,{variant:"secondary",class:"ml-1",children:(it,we)=>{Z();var Ue=Ae();B(()=>q(Ue,t(ce))),o(it,Ue)},$$slots:{default:!0}})};z(st,He=>{t(oe)&&He(tt)})}o(re,ye)},$$slots:{default:!0}}),u(Q);var ze=l(Q,2);{var Be=re=>{var fe=Hr(),ye=v(fe);_r(ye,{get filters(){return t(c)},onRemove:ge}),u(fe),o(re,fe)};z(ze,re=>{t(oe)&&re(Be)})}jt("submit",F,re=>{re.preventDefault(),y()}),o(m,W)},$$slots:{default:!0}}),u(S);var ue=l(S,2);{var ve=m=>{var $=Gr(),W=v($),F=v(W);u(W);var w=l(W,2);qe(w,21,()=>t(O)(),C=>C.model_id,(C,D)=>{ja(C,{get download(){return t(D)}})}),u(w),u($),B(C=>q(F,`Downloading (${C??""})`),[()=>t(O)().length]),o(m,$)};z(ue,m=>{t(O)().length>0&&m(ve)})}var ae=l(ue,2);{var Pe=m=>{var $=Qr(),W=v($,!0);u($),B(()=>q(W,t(d))),o(m,$)};z(ae,m=>{t(d)&&m(Pe)})}var xe=l(ae,2);{var Oe=m=>{var $=Jr(),W=v($),F=v(W);u(W);var w=l(W,2);{var C=A=>{var H=Zr();qe(H,21,()=>t(V)(),Q=>Q.model_id,(Q,j)=>{ot(Q,{class:"p-4",children:(ie,me)=>{var pe=Wr(),ze=v(pe),Be=v(ze),re=v(Be,!0);u(Be);var fe=l(Be,2),ye=v(fe);u(fe);var Se=l(fe,2);{var st=we=>{var Ue=Kr(),Ie=h(Ue);$t(Ie,{get characteristics(){return t(j).characteristics}});var lt=l(Ie,2);At(lt,{get characteristics(){return t(j).characteristics}}),o(we,Ue)};z(Se,we=>{t(j).characteristics&&we(st)})}u(ze);var tt=l(ze,2),He=v(tt);De(He,{variant:"outline",size:"sm",onclick:()=>G(t(j).model_id),get disabled(){return t(f)},children:(we,Ue)=>{var Ie=Vr(),lt=h(Ie);Ct(lt,{class:"w-4 h-4 mr-1"}),Z(),o(we,Ie)},$$slots:{default:!0}});var it=l(He,2);De(it,{size:"sm",onclick:()=>P(t(j).model_id),children:(we,Ue)=>{Z();var Ie=Ae("Use");o(we,Ie)},$$slots:{default:!0}}),u(tt),u(pe),B(we=>{q(re,t(j).model_id),q(ye,`${we??""} GB`)},[()=>t(j).size_gb.toFixed(2)]),o(ie,pe)},$$slots:{default:!0}})}),u(H),o(A,H)},D=A=>{var H=X(),Q=h(H);{var j=me=>{var pe=Xr();o(me,pe)},ie=me=>{var pe=Yr();o(me,pe)};z(Q,me=>{t(a)||t(oe)?me(j):me(ie,!1)},!0)}o(A,H)};z(w,A=>{t(V)().length>0?A(C):A(D,!1)})}u($),B(A=>q(F,`Downloaded Models (${A??""})`),[()=>t(V)().length]),o(m,$)},Te=m=>{var $=X(),W=h($);{var F=C=>{var D=eo(),A=v(D),H=v(A);u(A);var Q=l(A,2);qe(Q,21,()=>t(te)(),j=>j.model_id,(j,ie)=>{Ja(j,{get model(){return t(ie)},onUse:P,onDeleted:k})}),u(Q),u(D),B(j=>q(H,`Search Results (${j??""})`),[()=>t(te)().length]),o(C,D)},w=C=>{var D=X(),A=h(D);{var H=j=>{var ie=to();o(j,ie)},Q=j=>{var ie=X(),me=h(ie);{var pe=ze=>{var Be=ao();o(ze,Be)};z(me,ze=>{t(a)||ze(pe)},!0)}o(j,ie)};z(A,j=>{t(a)&&!t(i)?j(H):j(Q,!1)},!0)}o(C,D)};z(W,C=>{t(R)?C(F):C(w,!1)},!0)}o(m,$)};z(xe,m=>{t(I)?m(Oe):m(Te,!1)})}u(ne);var Ne=l(ne,2);dr(Ne,{get open(){return t(b)},set open(m){N(b,m,!0)},get filters(){return t(c)},set filters(m){N(c,m,!0)}});var Re=l(Ne,2);{let m=K(()=>t(x)?`Are you sure you want to delete ${t(x)}? This will remove the model from your local cache and free up disk space.`:"");Mt(Re,{title:"Delete Model",get description(){return t(m)},confirmLabel:"Delete",cancelLabel:"Cancel",variant:"destructive",onConfirm:Y,onCancel:()=>{N(x,null)},get open(){return t(T)},set open($){N(T,$,!0)}})}o(n,se),be()}export{zo as component};
