var st=Object.defineProperty;var Pe=r=>{throw TypeError(r)};var at=(r,e,t)=>e in r?st(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var F=(r,e,t)=>at(r,typeof e!="symbol"?e+"":e,t),Ie=(r,e,t)=>e.has(r)||Pe("Cannot "+t);var o=(r,e,t)=>(Ie(r,e,"read from private field"),t?t.call(r):e.get(r)),d=(r,e,t)=>e.has(r)?Pe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),S=(r,e,t,n)=>(Ie(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),ie=(r,e,t)=>(Ie(r,e,"access private method"),t);import{c as A,a as D}from"./nUxvHMgL.js";import{bb as ot,m as ut,o as ct,v as lt,f as x,l as q,p as G,bc as dt,a as X,g as E,h as Te,s as z,c as B,u as Q,ba as ft,k as ht}from"./CNYbWU2B.js";import{m as vt,u as bt,o as N}from"./BWpKPX3N.js";import{s as Y}from"./3fxp844U.js";import{p as g,i as yt}from"./CxfCsaSi.js";import{w as M,b as h,n as w,u as Oe,Q as mt,d as ke,W as Z,e as gt,c as He,a as pt,T as wt,a0 as St}from"./BCcEFCgH.js";import{B as Et}from"./DP8WhnTp.js";import{S as Tt}from"./D9xfsXh9.js";function Nt(r,e,t){ct&&lt();var n=new Et(r),i=!ot();ut(()=>{var s=e();i&&s!==null&&typeof s=="object"&&(s={}),n.ensure(s,t)})}function Ce(r,e){return setTimeout(e,r)}const Ae=typeof document<"u",Re=It();function It(){var r,e;return Ae&&((r=window==null?void 0:window.navigator)==null?void 0:r.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Fe(r){return r instanceof HTMLElement}function Ft(r){return r instanceof Element}function Lr(r){return r instanceof Element||r instanceof SVGElement}function Or(r){return r!==null}function Lt(r){return r instanceof HTMLInputElement&&"select"in r}function Ot(r,e){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function kt(r,e){var t=A(),n=x(t);Nt(n,()=>e.children,i=>{var s=A(),a=x(s);Y(a,()=>e.children??q),D(i,s)}),D(r,t)}function kr(r,e){G(e,!0);let t=g(e,"to",3,"body");const n=dt();let i=Te(s);function s(){if(!Ae||e.disabled)return null;let b=null;return typeof t()=="string"?b=document.querySelector(t()):(t()instanceof HTMLElement||t()instanceof DocumentFragment)&&(b=t()),b}let a;function u(){a&&(bt(a),a=null)}M([()=>E(i),()=>e.disabled],([b,I])=>{if(!b||I){u();return}return a=vt(kt,{target:b,props:{children:e.children},context:n}),()=>{u()}});var l=A(),f=x(l);{var m=b=>{var I=A(),P=x(I);Y(P,()=>e.children??q),D(b,I)};yt(f,b=>{e.disabled&&b(m)})}D(r,l),X()}function We(r,e,t,n){const i=Array.isArray(e)?e:[e];return i.forEach(s=>r.addEventListener(s,t,n)),()=>{i.forEach(s=>r.removeEventListener(s,t,n))}}class je{constructor(e,t={bubbles:!0,cancelable:!0}){F(this,"eventName");F(this,"options");this.eventName=e,this.options=t}createEvent(e){return new CustomEvent(this.eventName,{...this.options,detail:e})}dispatch(e,t){const n=this.createEvent(t);return e.dispatchEvent(n),n}listen(e,t,n){const i=s=>{t(s)};return N(e,this.eventName,i,n)}}function Be(r,e=500){let t=null;const n=(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{r(...i)},e)};return n.destroy=()=>{t!==null&&(clearTimeout(t),t=null)},n}function De(r,e){return r===e||r.contains(e)}function qe(r){return(r==null?void 0:r.ownerDocument)??document}function Cr(r){return(r==null?void 0:r.ownerDocument)??document}function Ct(r,e){const{clientX:t,clientY:n}=r,i=e.getBoundingClientRect();return t<i.left||t>i.right||n<i.top||n>i.bottom}globalThis.bitsDismissableLayers??(globalThis.bitsDismissableLayers=new Map);var K,R,k,V,U,C,J,$,T,de,j,Ge,fe,H,he,ve,be,ye,ee,Xe,me,ge;class At{constructor(e){d(this,j);F(this,"opts");d(this,K);d(this,R);d(this,k,{pointerdown:!1});d(this,V,!1);d(this,U,!1);F(this,"node",h(null));d(this,C);d(this,J);d(this,$,z(null));d(this,T,w);d(this,de,e=>{e.defaultPrevented||this.currNode&&ke(()=>{var t,n;!this.currNode||o(this,ye).call(this,e.target)||e.target&&!o(this,U)&&((n=(t=o(this,J)).current)==null||n.call(t,e))})});d(this,fe,e=>{let t=e;t.defaultPrevented&&(t=Me(e)),o(this,K).current(e)});d(this,H,Be(e=>{if(!this.currNode){o(this,T).call(this);return}const t=this.opts.isValidEvent.current(e,this.currNode)||Rt(e,this.currNode);if(!o(this,V)||ie(this,j,Xe).call(this)||!t){o(this,T).call(this);return}let n=e;if(n.defaultPrevented&&(n=Me(n)),o(this,R).current!=="close"&&o(this,R).current!=="defer-otherwise-close"){o(this,T).call(this);return}e.pointerType==="touch"?(o(this,T).call(this),S(this,T,We(o(this,C),"click",o(this,fe),{once:!0}))):o(this,K).current(n)},10));d(this,he,e=>{o(this,k)[e.type]=!0});d(this,ve,e=>{o(this,k)[e.type]=!1});d(this,be,()=>{this.node.current&&S(this,V,Pt(this.node.current))});d(this,ye,e=>this.node.current?De(this.node.current,e):!1);d(this,ee,Be(()=>{for(const e in o(this,k))o(this,k)[e]=!1;S(this,V,!1)},20));d(this,me,()=>{S(this,U,!0)});d(this,ge,()=>{S(this,U,!1)});F(this,"props",{onfocuscapture:o(this,me),onblurcapture:o(this,ge)});this.opts=e,Oe({id:e.id,ref:this.node,deps:()=>e.enabled.current,onRefChange:i=>{this.currNode=i}}),S(this,R,e.interactOutsideBehavior),S(this,K,e.onInteractOutside),S(this,J,e.onFocusOutside),Q(()=>{S(this,C,qe(this.currNode))});let t=w;const n=()=>{o(this,ee).call(this),globalThis.bitsDismissableLayers.delete(this),o(this,H).destroy(),t()};M([()=>this.opts.enabled.current,()=>this.currNode],([i,s])=>{if(!(!i||!s))return Ce(1,()=>{this.currNode&&(globalThis.bitsDismissableLayers.set(this,o(this,R)),t(),t=ie(this,j,Ge).call(this))}),n}),mt(()=>{o(this,ee).destroy(),globalThis.bitsDismissableLayers.delete(this),o(this,H).destroy(),o(this,T).call(this),t()})}get currNode(){return E(o(this,$))}set currNode(e){B(o(this,$),e,!0)}}K=new WeakMap,R=new WeakMap,k=new WeakMap,V=new WeakMap,U=new WeakMap,C=new WeakMap,J=new WeakMap,$=new WeakMap,T=new WeakMap,de=new WeakMap,j=new WeakSet,Ge=function(){return Z(N(o(this,C),"pointerdown",Z(o(this,he),o(this,be)),{capture:!0}),N(o(this,C),"pointerdown",Z(o(this,ve),o(this,H))),N(o(this,C),"focusin",o(this,de)))},fe=new WeakMap,H=new WeakMap,he=new WeakMap,ve=new WeakMap,be=new WeakMap,ye=new WeakMap,ee=new WeakMap,Xe=function(){return Object.values(o(this,k)).some(Boolean)},me=new WeakMap,ge=new WeakMap;function Dt(r){return new At(r)}function xt(r){return r.findLast(([e,{current:t}])=>t==="close"||t==="ignore")}function Pt(r){const e=[...globalThis.bitsDismissableLayers],t=xt(e);if(t)return t[0].node.current===r;const[n]=e[0];return n.node.current===r}function Rt(r,e){if("button"in r&&r.button>0)return!1;const t=r.target;return Ft(t)?qe(t).documentElement.contains(t)&&!De(e,t)&&Ct(r,e):!1}function Me(r){const e=r.currentTarget,t=r.target;let n;r instanceof PointerEvent?n=new PointerEvent(r.type,r):n=new PointerEvent("pointerdown",r);let i=!1;return new Proxy(n,{get:(a,u)=>u==="currentTarget"?e:u==="target"?t:u==="preventDefault"?()=>{i=!0,typeof a.preventDefault=="function"&&a.preventDefault()}:u==="defaultPrevented"?i:u in a?a[u]:r[u]})}function Ar(r,e){G(e,!0);let t=g(e,"interactOutsideBehavior",3,"close"),n=g(e,"onInteractOutside",3,w),i=g(e,"onFocusOutside",3,w),s=g(e,"isValidEvent",3,()=>!1);const a=Dt({id:h.with(()=>e.id),interactOutsideBehavior:h.with(()=>t()),onInteractOutside:h.with(()=>n()),enabled:h.with(()=>e.enabled),onFocusOutside:h.with(()=>i()),isValidEvent:h.with(()=>s())});var u=A(),l=x(u);Y(l,()=>e.children??q,()=>({props:a.props})),D(r,u),X()}globalThis.bitsEscapeLayers??(globalThis.bitsEscapeLayers=new Map);var pe,we;class Bt{constructor(e){F(this,"opts");d(this,pe,()=>N(document,"keydown",o(this,we),{passive:!1}));d(this,we,e=>{if(e.key!==gt||!_t(this))return;const t=new KeyboardEvent(e.type,e);e.preventDefault();const n=this.opts.escapeKeydownBehavior.current;n!=="close"&&n!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(t)});this.opts=e;let t=w;M(()=>e.enabled.current,n=>(n&&(globalThis.bitsEscapeLayers.set(this,e.escapeKeydownBehavior),t=o(this,pe).call(this)),()=>{t(),globalThis.bitsEscapeLayers.delete(this)}))}}pe=new WeakMap,we=new WeakMap;function Mt(r){return new Bt(r)}function _t(r){const e=[...globalThis.bitsEscapeLayers],t=e.findLast(([i,{current:s}])=>s==="close"||s==="ignore");if(t)return t[0]===r;const[n]=e[0];return n===r}function Dr(r,e){G(e,!0);let t=g(e,"escapeKeydownBehavior",3,"close"),n=g(e,"onEscapeKeydown",3,w);Mt({escapeKeydownBehavior:h.with(()=>t()),onEscapeKeydown:h.with(()=>n()),enabled:h.with(()=>e.enabled)});var i=A(),s=x(i);Y(s,()=>e.children??q),D(r,i),X()}const L=h([]);function Kt(){return{add(r){const e=L.current[0];e&&r.id!==e.id&&e.pause(),L.current=_e(L.current,r),L.current.unshift(r)},remove(r){var e;L.current=_e(L.current,r),(e=L.current[0])==null||e.resume()},get current(){return L.current}}}function Vt(){let r=z(!1),e=z(!1);return{id:He(),get paused(){return E(r)},get isHandlingFocus(){return E(e)},set isHandlingFocus(t){B(e,t,!0)},pause(){B(r,!0)},resume(){B(r,!1)}}}function _e(r,e){return[...r].filter(t=>t.id!==e.id)}function Ut(r){return r.filter(e=>e.tagName!=="A")}function O(r,{select:e=!1}={}){if(!(r&&r.focus)||document.activeElement===r)return;const t=document.activeElement;r.focus({preventScroll:!0}),r!==t&&Lt(r)&&e&&r.select()}function Ht(r,{select:e=!1}={}){const t=document.activeElement;for(const n of r)if(O(n,{select:e}),document.activeElement!==t)return!0}function Ke(r,e){for(const t of r)if(!Ot(t,e))return t}function Ye(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Wt(r){const e=Ye(r),t=Ke(e,r),n=Ke(e.reverse(),r);return[t,n]}/*!
* tabbable 6.4.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Ze=["input:not([inert]):not([inert] *)","select:not([inert]):not([inert] *)","textarea:not([inert]):not([inert] *)","a[href]:not([inert]):not([inert] *)","button:not([inert]):not([inert] *)","[tabindex]:not(slot):not([inert]):not([inert] *)","audio[controls]:not([inert]):not([inert] *)","video[controls]:not([inert]):not([inert] *)",'[contenteditable]:not([contenteditable="false"]):not([inert]):not([inert] *)',"details>summary:first-of-type:not([inert]):not([inert] *)","details:not([inert]):not([inert] *)"],ae=Ze.join(","),ze=typeof Element>"u",_=ze?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,oe=!ze&&Element.prototype.getRootNode?function(r){var e;return r==null||(e=r.getRootNode)===null||e===void 0?void 0:e.call(r)}:function(r){return r==null?void 0:r.ownerDocument},ue=function(e,t){var n;t===void 0&&(t=!0);var i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),s=i===""||i==="true",a=s||t&&e&&(typeof e.closest=="function"?e.closest("[inert]"):ue(e.parentNode));return a},jt=function(e){var t,n=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return n===""||n==="true"},Qe=function(e,t,n){if(ue(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(ae));return t&&_.call(e,ae)&&i.unshift(e),i=i.filter(n),i},ce=function(e,t,n){for(var i=[],s=Array.from(e);s.length;){var a=s.shift();if(!ue(a,!1))if(a.tagName==="SLOT"){var u=a.assignedElements(),l=u.length?u:a.children,f=ce(l,!0,n);n.flatten?i.push.apply(i,f):i.push({scopeParent:a,candidates:f})}else{var m=_.call(a,ae);m&&n.filter(a)&&(t||!e.includes(a))&&i.push(a);var b=a.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(a),I=!ue(b,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(a));if(b&&I){var P=ce(b===!0?a.children:b.children,!0,n);n.flatten?i.push.apply(i,P):i.push({scopeParent:a,candidates:P})}else s.unshift.apply(s,a.children)}}return i},Je=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},$e=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||jt(e))&&!Je(e)?0:e.tabIndex},qt=function(e,t){var n=$e(e);return n<0&&t&&!Je(e)?0:n},Gt=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},et=function(e){return e.tagName==="INPUT"},Xt=function(e){return et(e)&&e.type==="hidden"},Yt=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return t},Zt=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]},zt=function(e){if(!e.name)return!0;var t=e.form||oe(e),n=function(u){return t.querySelectorAll('input[type="radio"][name="'+u+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(e.name));else try{i=n(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var s=Zt(i,e.form);return!s||s===e},Qt=function(e){return et(e)&&e.type==="radio"},Jt=function(e){return Qt(e)&&!zt(e)},$t=function(e){var t,n=e&&oe(e),i=(t=n)===null||t===void 0?void 0:t.host,s=!1;if(n&&n!==e){var a,u,l;for(s=!!((a=i)!==null&&a!==void 0&&(u=a.ownerDocument)!==null&&u!==void 0&&u.contains(i)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&i;){var f,m,b;n=oe(i),i=(f=n)===null||f===void 0?void 0:f.host,s=!!((m=i)!==null&&m!==void 0&&(b=m.ownerDocument)!==null&&b!==void 0&&b.contains(i))}}return s},Ve=function(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return n===0&&i===0},er=function(e,t){var n=t.displayCheck,i=t.getShadowRoot;if(n==="full-native"&&"checkVisibility"in e){var s=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!s}if(getComputedStyle(e).visibility==="hidden")return!0;var a=_.call(e,"details>summary:first-of-type"),u=a?e.parentElement:e;if(_.call(u,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="full-native"||n==="legacy-full"){if(typeof i=="function"){for(var l=e;e;){var f=e.parentElement,m=oe(e);if(f&&!f.shadowRoot&&i(f)===!0)return Ve(e);e.assignedSlot?e=e.assignedSlot:!f&&m!==e.ownerDocument?e=m.host:e=f}e=l}if($t(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return Ve(e);return!1},tr=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var n=0;n<t.children.length;n++){var i=t.children.item(n);if(i.tagName==="LEGEND")return _.call(t,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}t=t.parentElement}return!1},le=function(e,t){return!(t.disabled||Xt(t)||er(t,e)||Yt(t)||tr(t))},Le=function(e,t){return!(Jt(t)||$e(t)<0||!le(e,t))},rr=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},tt=function(e){var t=[],n=[];return e.forEach(function(i,s){var a=!!i.scopeParent,u=a?i.scopeParent:i,l=qt(u,a),f=a?tt(i.candidates):u;l===0?a?t.push.apply(t,f):t.push(u):n.push({documentOrder:s,tabIndex:l,item:i,isScope:a,content:f})}),n.sort(Gt).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(t)},xr=function(e,t){t=t||{};var n;return t.getShadowRoot?n=ce([e],t.includeContainer,{filter:Le.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:rr}):n=Qe(e,t.includeContainer,Le.bind(null,t)),tt(n)},Pr=function(e,t){t=t||{};var n;return t.getShadowRoot?n=ce([e],t.includeContainer,{filter:le.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):n=Qe(e,t.includeContainer,le.bind(null,t)),n},nr=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return _.call(e,ae)===!1?!1:Le(t,e)},ir=Ze.concat("iframe:not([inert]):not([inert] *)").join(","),Rr=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return _.call(e,ir)===!1?!1:le(t,e)};const sr=new je("focusScope.autoFocusOnMount",{bubbles:!1,cancelable:!0}),ar=new je("focusScope.autoFocusOnDestroy",{bubbles:!1,cancelable:!0}),or=new pt("FocusScope");function ur({id:r,loop:e,enabled:t,onOpenAutoFocus:n,onCloseAutoFocus:i,forceMount:s}){const a=Kt(),u=Vt(),l=h(null),f=or.getOr({ignoreCloseAutoFocus:!1});let m=null;Oe({id:r,ref:l,deps:()=>t.current});function b(c){if(!(u.paused||!l.current||u.isHandlingFocus)){u.isHandlingFocus=!0;try{const v=c.target;if(!Fe(v))return;const y=l.current.contains(v);if(c.type==="focusin")if(y)m=v;else{if(f.ignoreCloseAutoFocus)return;O(m,{select:!0})}else c.type==="focusout"&&!y&&!f.ignoreCloseAutoFocus&&O(m,{select:!0})}finally{u.isHandlingFocus=!1}}}function I(c){if(!m||!l.current)return;let v=!1;for(const y of c){if(y.type==="childList"&&y.removedNodes.length>0)for(const p of y.removedNodes){if(p===m){v=!0;break}if(p.nodeType===Node.ELEMENT_NODE&&p.contains(m)){v=!0;break}}if(v)break}v&&l.current&&!l.current.contains(document.activeElement)&&O(l.current)}M([()=>l.current,()=>t.current],([c,v])=>{if(!c||!v)return;const y=Z(N(document,"focusin",b),N(document,"focusout",b)),p=new MutationObserver(I);return p.observe(c,{childList:!0,subtree:!0,attributes:!1}),()=>{y(),p.disconnect()}}),M([()=>s.current,()=>l.current],([c,v])=>{if(c)return;const y=document.activeElement;return P(v,y),()=>{v&&xe(y)}}),M([()=>s.current,()=>l.current,()=>t.current],([c,v])=>{if(!c)return;const y=document.activeElement;return P(v,y),()=>{v&&xe(y)}});function P(c,v){if(c||(c=document.getElementById(r.current)),!c||!t.current)return;if(a.add(u),!c.contains(v)){const p=sr.createEvent();n.current(p),p.defaultPrevented||ke(()=>{if(!c)return;Ht(Ut(Ye(c)),{select:!0})||O(c)})}}function xe(c){var p;const v=ar.createEvent();(p=i.current)==null||p.call(i,v);const y=f.ignoreCloseAutoFocus;Ce(0,()=>{!v.defaultPrevented&&c&&!y&&O(nr(c)?c:document.body,{select:!0}),a.remove(u)})}function nt(c){if(!t.current||!e.current&&!t.current||u.paused)return;const v=c.key===wt&&!c.ctrlKey&&!c.altKey&&!c.metaKey,y=document.activeElement;if(!(v&&y))return;const p=l.current;if(!p)return;const[ne,Ne]=Wt(p);ne&&Ne?!c.shiftKey&&y===Ne?(c.preventDefault(),e.current&&O(ne,{select:!0})):c.shiftKey&&y===ne&&(c.preventDefault(),e.current&&O(Ne,{select:!0})):y===p&&c.preventDefault()}const it=Te(()=>({id:r.current,tabindex:-1,onkeydown:nt}));return{get props(){return E(it)}}}function Br(r,e){G(e,!0);let t=g(e,"trapFocus",3,!1),n=g(e,"loop",3,!1),i=g(e,"onCloseAutoFocus",3,w),s=g(e,"onOpenAutoFocus",3,w),a=g(e,"forceMount",3,!1);const u=ur({enabled:h.with(()=>t()),loop:h.with(()=>n()),onCloseAutoFocus:h.with(()=>i()),onOpenAutoFocus:h.with(()=>s()),id:h.with(()=>e.id),forceMount:h.with(()=>a())});var l=A(),f=x(l);Y(f,()=>e.focusScope??q,()=>({props:u.props})),D(r,l),X()}globalThis.bitsTextSelectionLayers??(globalThis.bitsTextSelectionLayers=new Map);var W,te,Se,rt,Ee,re;class cr{constructor(e){d(this,Se);F(this,"opts");d(this,W,w);d(this,te,h(null));d(this,Ee,e=>{const t=o(this,te).current,n=e.target;!Fe(t)||!Fe(n)||!this.opts.enabled.current||!fr(this)||!De(t,n)||(this.opts.onPointerDown.current(e),!e.defaultPrevented&&S(this,W,dr(t)))});d(this,re,()=>{o(this,W).call(this),S(this,W,w)});this.opts=e,Oe({id:e.id,ref:o(this,te),deps:()=>this.opts.enabled.current});let t=w;M(()=>this.opts.enabled.current,n=>(n&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),t(),t=ie(this,Se,rt).call(this)),()=>{t(),o(this,re).call(this),globalThis.bitsTextSelectionLayers.delete(this)}))}}W=new WeakMap,te=new WeakMap,Se=new WeakSet,rt=function(){return Z(N(document,"pointerdown",o(this,Ee)),N(document,"pointerup",St(o(this,re),this.opts.onPointerUp.current)))},Ee=new WeakMap,re=new WeakMap;function lr(r){return new cr(r)}const Ue=r=>r.style.userSelect||r.style.webkitUserSelect;function dr(r){const e=document.body,t=Ue(e),n=Ue(r);return se(e,"none"),se(r,"text"),()=>{se(e,t),se(r,n)}}function se(r,e){r.style.userSelect=e,r.style.webkitUserSelect=e}function fr(r){const e=[...globalThis.bitsTextSelectionLayers];if(!e.length)return!1;const t=e.at(-1);return t?t[0]===r:!1}function Mr(r,e){G(e,!0);let t=g(e,"preventOverflowTextSelection",3,!0),n=g(e,"onPointerDown",3,w),i=g(e,"onPointerUp",3,w);lr({id:h.with(()=>e.id),onPointerDown:h.with(()=>n()),onPointerUp:h.with(()=>i()),enabled:h.with(()=>e.enabled&&t())});var s=A(),a=x(s);Y(a,()=>e.children??q),D(r,s),X()}function hr(r){let e=0,t=z(void 0),n;function i(){e-=1,n&&e<=0&&(n(),B(t,void 0),n=void 0)}return(...s)=>(e+=1,E(t)===void 0&&(n=ft(()=>{B(t,r(...s),!0)})),Q(()=>()=>{i()}),E(t))}const vr=hr(()=>{const r=new Tt,e=Te(()=>{for(const s of r.values())if(s)return!0;return!1});let t=z(null),n=null;function i(){Ae&&(document.body.setAttribute("style",E(t)??""),document.body.style.removeProperty("--scrollbar-width"),Re&&(n==null||n()))}return Q(()=>{const s=E(e);return ht(()=>{if(!s)return;B(t,document.body.getAttribute("style"),!0);const a=getComputedStyle(document.body),u=window.innerWidth-document.documentElement.clientWidth,f={padding:Number.parseInt(a.paddingRight??"0",10)+u,margin:Number.parseInt(a.marginRight??"0",10)};u>0&&(document.body.style.paddingRight=`${f.padding}px`,document.body.style.marginRight=`${f.margin}px`,document.body.style.setProperty("--scrollbar-width",`${u}px`),document.body.style.overflow="hidden"),Re&&(n=We(document,"touchmove",m=>{m.target===document.documentElement&&(m.touches.length>1||m.preventDefault())},{passive:!1})),ke(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})})}),Q(()=>()=>{n==null||n()}),{get map(){return r},resetBodyStyle:i}});function br(r,e=()=>null){const t=He(),n=vr();if(!n)return;const i=Te(e);n.map.set(t,r??!1);const s=h.with(()=>n.map.get(t)??!1,a=>n.map.set(t,a));return Q(()=>()=>{n.map.delete(t),!yr(n.map)&&(E(i)===null?requestAnimationFrame(()=>n.resetBodyStyle()):Ce(E(i),()=>n.resetBodyStyle()))}),s}function yr(r){for(const[e,t]of r)if(t)return!0;return!1}function _r(r,e){G(e,!0);let t=g(e,"preventScroll",3,!0),n=g(e,"restoreScrollDelay",3,null);br(t(),()=>n()),X()}export{je as C,Ar as D,Dr as E,Br as F,kr as P,_r as S,Mr as T,Ae as a,Ft as b,Fe as c,nr as d,Rr as e,Pr as f,Cr as g,or as h,Re as i,Ht as j,Nt as k,Lr as l,Or as m,xr as t};
