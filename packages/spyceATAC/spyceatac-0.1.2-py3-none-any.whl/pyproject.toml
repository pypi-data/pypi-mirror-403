[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[project]
name = "spyceATAC"
version = "0.1.2"
authors = [
  { name="Leo Zeitler", email="leo.zeitler@pasteur.fr" },
]
description = "sPYce is a Python package for the cross-species integration of single-nucleus ATAC-seq data (snATAC-seq)"
readme = {file = "README.md", content-type = "text/markdown"}
license = "CC-BY-NC-SA-4.0"
license-files = ["LICENSE.md"]
requires-python = ">=3.6"
classifiers = [
    "Programming Language :: Python :: 3",
    "Operating System :: OS Independent",
]
keywords = ["evolution", "snatac-seq", "atac", "single cell", "single nucleus", "cross-species", "data integration"]

dependencies = [
  "numpy~=1.23.5",
  "anndata==0.10.8",
  "jax==0.4.23",
  "jaxlib==0.4.23",
  "matplotlib~=3.8.4",
  "pandas<2.0.0",
  "umap-learn~=0.5.6",
  "numba~=0.59.1",
  "polars~=1.19.0",
  "scipy==1.12.0",
  "pysam~=0.22.1",
  "tqdm~=4.66.4",
  "leidenalg~=0.10.1",
  "igraph~=0.11.4",
  "scikit-learn~=1.3.2",
  "dill~=0.3.8",
  "gimmemotifs~=0.18.0",
  "logomaker~=0.8",
  "seaborn~=0.13.2",
  "networkx~=3.2.1",
  "harmonypy~=0.0.10"
]

[project.urls]
Documentation = "https://cofugeno.pages.pasteur.fr/spyce/"
Repository = "https://gitlab.pasteur.fr/cofugeno/spyce"
Issues = "https://gitlab.pasteur.fr/cofugeno/spyce/-/issues"

[tool.pip-compile]
dependencies = {file = ["requirements.txt"]}
[tool.pip-compile.optional-dependencies]
optional-dependencies = {dev = { file = ["requirements_dev.txt"] }}

[tool.hatch.build]
include = [
  "src/spyce/__init__.py",
  "src/spyce/compare.py",
  "src/spyce/constants.py",
  "src/spyce/dataType.py",
  "src/spyce/kmerMatrix.py",
  "src/spyce/normalize.py",
  "src/spyce/plotting.py",
  "src/spyce/tf.py",
  "src/spyce/utils.py",
  "createKmer.py",
  "main.py",
  "__init__"
]

[tool.hatch.build.targets.wheel]
packages = ["src/spyce", "."]

[project.scripts]
spyce-create = "createKmer:main"

