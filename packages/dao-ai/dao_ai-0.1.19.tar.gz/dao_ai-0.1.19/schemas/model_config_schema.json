{
  "$defs": {
    "AgentModel": {
      "additionalProperties": false,
      "description": "Configuration model for an agent in the DAO AI framework.\n\nAgents combine an LLM with tools and middleware to create systems that can\nreason about tasks, decide which tools to use, and iteratively work towards solutions.\n\nMiddleware replaces the previous pre_agent_hook and post_agent_hook patterns,\nproviding a more flexible and composable way to customize agent behavior.",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "model": {
          "$ref": "#/$defs/LLMModel"
        },
        "tools": {
          "items": {
            "$ref": "#/$defs/ToolModel"
          },
          "title": "Tools",
          "type": "array"
        },
        "guardrails": {
          "items": {
            "$ref": "#/$defs/GuardrailModel"
          },
          "title": "Guardrails",
          "type": "array"
        },
        "prompt": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/PromptModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Prompt"
        },
        "handoff_prompt": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Handoff Prompt"
        },
        "middleware": {
          "description": "List of middleware to apply to this agent",
          "items": {
            "$ref": "#/$defs/MiddlewareModel"
          },
          "title": "Middleware",
          "type": "array"
        },
        "response_format": {
          "anyOf": [
            {
              "$ref": "#/$defs/ResponseFormatModel"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Response Format"
        }
      },
      "required": [
        "name",
        "model"
      ],
      "title": "AgentModel",
      "type": "object"
    },
    "AppModel": {
      "additionalProperties": false,
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "service_principal": {
          "anyOf": [
            {
              "$ref": "#/$defs/ServicePrincipalModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "log_level": {
          "anyOf": [
            {
              "$ref": "#/$defs/LogLevel"
            },
            {
              "type": "null"
            }
          ],
          "default": "WARNING"
        },
        "registered_model": {
          "$ref": "#/$defs/RegisteredModelModel"
        },
        "endpoint_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Endpoint Name"
        },
        "tags": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "title": "Tags"
        },
        "scale_to_zero": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": true,
          "title": "Scale To Zero"
        },
        "environment_vars": {
          "anyOf": [
            {
              "additionalProperties": {
                "anyOf": [
                  {
                    "$ref": "#/$defs/CompositeVariableModel"
                  },
                  {
                    "$ref": "#/$defs/EnvironmentVariableModel"
                  },
                  {
                    "$ref": "#/$defs/SecretVariableModel"
                  },
                  {
                    "$ref": "#/$defs/PrimitiveVariableModel"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "boolean"
                  }
                ]
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "title": "Environment Vars"
        },
        "budget_policy_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Budget Policy Id"
        },
        "workload_size": {
          "anyOf": [
            {
              "$ref": "#/$defs/WorkloadSize"
            },
            {
              "type": "null"
            }
          ],
          "default": "Small"
        },
        "permissions": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/AppPermissionModel"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "title": "Permissions"
        },
        "agents": {
          "items": {
            "$ref": "#/$defs/AgentModel"
          },
          "title": "Agents",
          "type": "array"
        },
        "orchestration": {
          "anyOf": [
            {
              "$ref": "#/$defs/OrchestrationModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "alias": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Alias"
        },
        "initialization_hooks": {
          "anyOf": [
            {
              "$ref": "#/$defs/PythonFunctionModel"
            },
            {
              "$ref": "#/$defs/FactoryFunctionModel"
            },
            {
              "type": "string"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "$ref": "#/$defs/PythonFunctionModel"
                  },
                  {
                    "$ref": "#/$defs/FactoryFunctionModel"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "title": "Initialization Hooks"
        },
        "shutdown_hooks": {
          "anyOf": [
            {
              "$ref": "#/$defs/PythonFunctionModel"
            },
            {
              "$ref": "#/$defs/FactoryFunctionModel"
            },
            {
              "type": "string"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "$ref": "#/$defs/PythonFunctionModel"
                  },
                  {
                    "$ref": "#/$defs/FactoryFunctionModel"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "title": "Shutdown Hooks"
        },
        "input_example": {
          "anyOf": [
            {
              "$ref": "#/$defs/ChatPayload"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "chat_history": {
          "anyOf": [
            {
              "$ref": "#/$defs/ChatHistoryModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "code_paths": {
          "items": {
            "type": "string"
          },
          "title": "Code Paths",
          "type": "array"
        },
        "pip_requirements": {
          "items": {
            "type": "string"
          },
          "title": "Pip Requirements",
          "type": "array"
        },
        "python_version": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "3.12",
          "description": "Python version for Model Serving deployment. Defaults to 3.12 which is supported by Databricks Model Serving. This allows deploying from environments with different Python versions (e.g., Databricks Apps with 3.11).",
          "title": "Python Version"
        },
        "deployment_target": {
          "anyOf": [
            {
              "$ref": "#/$defs/DeploymentTarget"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Default deployment target. If not specified, defaults to MODEL_SERVING. Can be overridden via CLI --target flag. Options: 'model_serving' or 'apps'."
        }
      },
      "required": [
        "name",
        "registered_model"
      ],
      "title": "AppModel",
      "type": "object"
    },
    "AppPermissionModel": {
      "additionalProperties": false,
      "properties": {
        "principals": {
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ServicePrincipalModel"
              },
              {
                "type": "string"
              }
            ]
          },
          "title": "Principals",
          "type": "array"
        },
        "entitlements": {
          "items": {
            "$ref": "#/$defs/Entitlement"
          },
          "title": "Entitlements",
          "type": "array"
        }
      },
      "required": [
        "entitlements"
      ],
      "title": "AppPermissionModel",
      "type": "object"
    },
    "ChatHistoryModel": {
      "additionalProperties": false,
      "description": "Configuration for chat history summarization.\n\nAttributes:\n    model: The LLM to use for generating summaries.\n    max_tokens: Maximum tokens to keep after summarization (the \"keep\" threshold).\n        After summarization, recent messages totaling up to this many tokens are preserved.\n    max_tokens_before_summary: Token threshold that triggers summarization.\n        When conversation exceeds this, summarization runs. Mutually exclusive with\n        max_messages_before_summary. If neither is set, defaults to max_tokens * 10.\n    max_messages_before_summary: Message count threshold that triggers summarization.\n        When conversation exceeds this many messages, summarization runs.\n        Mutually exclusive with max_tokens_before_summary.",
      "properties": {
        "model": {
          "$ref": "#/$defs/LLMModel"
        },
        "max_tokens": {
          "default": 2048,
          "description": "Maximum tokens to keep after summarization",
          "exclusiveMinimum": 0,
          "title": "Max Tokens",
          "type": "integer"
        },
        "max_tokens_before_summary": {
          "anyOf": [
            {
              "exclusiveMinimum": 0,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Token threshold that triggers summarization",
          "title": "Max Tokens Before Summary"
        },
        "max_messages_before_summary": {
          "anyOf": [
            {
              "exclusiveMinimum": 0,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Message count threshold that triggers summarization",
          "title": "Max Messages Before Summary"
        }
      },
      "required": [
        "model"
      ],
      "title": "ChatHistoryModel",
      "type": "object"
    },
    "ChatPayload": {
      "additionalProperties": false,
      "properties": {
        "input": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/Message"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Input"
        },
        "messages": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/Message"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Messages"
        },
        "custom_inputs": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "title": "Custom Inputs"
        }
      },
      "title": "ChatPayload",
      "type": "object"
    },
    "CheckpointerModel": {
      "additionalProperties": false,
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "database": {
          "anyOf": [
            {
              "$ref": "#/$defs/DatabaseModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "name"
      ],
      "title": "CheckpointerModel",
      "type": "object"
    },
    "ColumnInfo": {
      "additionalProperties": false,
      "description": "Column metadata for dynamic schema generation in structured output.\n\nWhen provided, column information is embedded directly into the JSON schema\nthat with_structured_output sends to the LLM, improving filter accuracy.",
      "properties": {
        "name": {
          "description": "Column name as it appears in the database",
          "title": "Name",
          "type": "string"
        },
        "type": {
          "default": "string",
          "description": "Column data type for value validation",
          "enum": [
            "string",
            "number",
            "boolean",
            "datetime"
          ],
          "title": "Type",
          "type": "string"
        },
        "operators": {
          "default": [
            "",
            "NOT",
            "<",
            "<=",
            ">",
            ">=",
            "LIKE",
            "NOT LIKE"
          ],
          "description": "Valid filter operators for this column",
          "items": {
            "type": "string"
          },
          "title": "Operators",
          "type": "array"
        }
      },
      "required": [
        "name"
      ],
      "title": "ColumnInfo",
      "type": "object"
    },
    "CompositeVariableModel": {
      "properties": {
        "default_value": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Default Value"
        },
        "options": {
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/EnvironmentVariableModel"
              },
              {
                "$ref": "#/$defs/SecretVariableModel"
              },
              {
                "$ref": "#/$defs/PrimitiveVariableModel"
              },
              {
                "type": "string"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "boolean"
              }
            ]
          },
          "title": "Options",
          "type": "array"
        }
      },
      "title": "CompositeVariableModel",
      "type": "object"
    },
    "ConnectionModel": {
      "properties": {
        "on_behalf_of_user": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "On Behalf Of User"
        },
        "service_principal": {
          "anyOf": [
            {
              "$ref": "#/$defs/ServicePrincipalModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "client_id": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Id"
        },
        "client_secret": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Secret"
        },
        "workspace_host": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Workspace Host"
        },
        "pat": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pat"
        },
        "name": {
          "title": "Name",
          "type": "string"
        }
      },
      "required": [
        "name"
      ],
      "title": "ConnectionModel",
      "type": "object"
    },
    "DatabaseModel": {
      "additionalProperties": false,
      "description": "Configuration for database connections supporting both Databricks Lakebase and standard PostgreSQL.\n\nAuthentication is inherited from IsDatabricksResource. Additionally supports:\n- user/password: For user-based database authentication\n\nConnection Types (determined by fields provided):\n- Databricks Lakebase: Provide `instance_name` (authentication optional, supports ambient auth)\n- Standard PostgreSQL: Provide `host` (authentication required via user/password)\n\nNote: For Lakebase connections, `name` is optional and defaults to `instance_name`.\nFor PostgreSQL connections, `name` is required.\n\nExample Databricks Lakebase (minimal):\n```yaml\ndatabases:\n  my_lakebase:\n    instance_name: my-lakebase-instance  # name defaults to instance_name\n```\n\nExample Databricks Lakebase with Service Principal:\n```yaml\ndatabases:\n  my_lakebase:\n    instance_name: my-lakebase-instance\n    service_principal:\n      client_id:\n        env: SERVICE_PRINCIPAL_CLIENT_ID\n      client_secret:\n        scope: my-scope\n        secret: sp-client-secret\n    workspace_host:\n      env: DATABRICKS_HOST\n```\n\nExample Databricks Lakebase with Ambient Authentication:\n```yaml\ndatabases:\n  my_lakebase:\n    instance_name: my-lakebase-instance\n    on_behalf_of_user: true\n```\n\nExample Standard PostgreSQL:\n```yaml\ndatabases:\n  my_postgres:\n    name: my-database\n    host: my-postgres-host.example.com\n    port: 5432\n    database: my_db\n    user: my_user\n    password:\n      env: PGPASSWORD\n```",
      "properties": {
        "on_behalf_of_user": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "On Behalf Of User"
        },
        "service_principal": {
          "anyOf": [
            {
              "$ref": "#/$defs/ServicePrincipalModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "client_id": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Id"
        },
        "client_secret": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Secret"
        },
        "workspace_host": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Workspace Host"
        },
        "pat": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pat"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Name"
        },
        "instance_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Instance Name"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "host": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Host"
        },
        "database": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": "databricks_postgres",
          "title": "Database"
        },
        "port": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": 5432,
          "title": "Port"
        },
        "connection_kwargs": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "title": "Connection Kwargs"
        },
        "max_pool_size": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": 10,
          "title": "Max Pool Size"
        },
        "timeout_seconds": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": 10,
          "title": "Timeout Seconds"
        },
        "capacity": {
          "anyOf": [
            {
              "enum": [
                "CU_1",
                "CU_2"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "CU_2",
          "title": "Capacity"
        },
        "node_count": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Node Count"
        },
        "user": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "User"
        },
        "password": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Password"
        }
      },
      "title": "DatabaseModel",
      "type": "object"
    },
    "DatabricksAppModel": {
      "additionalProperties": false,
      "description": "Configuration for a Databricks App resource.\n\nThe `name` is the unique instance name of the Databricks App within the workspace.\nThe `url` is dynamically retrieved from the workspace client by calling\n`apps.get(name)` and returning the app's URL.\n\nExample:\n    ```yaml\n    resources:\n      apps:\n        my_app:\n          name: my-databricks-app\n    ```",
      "properties": {
        "on_behalf_of_user": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "On Behalf Of User"
        },
        "service_principal": {
          "anyOf": [
            {
              "$ref": "#/$defs/ServicePrincipalModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "client_id": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Id"
        },
        "client_secret": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Secret"
        },
        "workspace_host": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Workspace Host"
        },
        "pat": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pat"
        },
        "name": {
          "title": "Name",
          "type": "string"
        }
      },
      "required": [
        "name"
      ],
      "title": "DatabricksAppModel",
      "type": "object"
    },
    "DatasetFormat": {
      "enum": [
        "csv",
        "delta",
        "json",
        "parquet",
        "orc",
        "sql",
        "excel"
      ],
      "title": "DatasetFormat",
      "type": "string"
    },
    "DatasetModel": {
      "additionalProperties": false,
      "properties": {
        "table": {
          "anyOf": [
            {
              "$ref": "#/$defs/TableModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "ddl": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/VolumeModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Ddl"
        },
        "data": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/VolumePathModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Data"
        },
        "format": {
          "anyOf": [
            {
              "$ref": "#/$defs/DatasetFormat"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "read_options": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "title": "Read Options"
        },
        "table_schema": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Table Schema"
        },
        "parameters": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "title": "Parameters"
        }
      },
      "title": "DatasetModel",
      "type": "object"
    },
    "DeploymentTarget": {
      "description": "Target platform for agent deployment.",
      "enum": [
        "model_serving",
        "apps"
      ],
      "title": "DeploymentTarget",
      "type": "string"
    },
    "Entitlement": {
      "enum": [
        "CAN_MANAGE",
        "CAN_QUERY",
        "CAN_VIEW",
        "CAN_REVIEW",
        "NO_PERMISSIONS"
      ],
      "title": "Entitlement",
      "type": "string"
    },
    "EnvironmentVariableModel": {
      "properties": {
        "env": {
          "title": "Env",
          "type": "string"
        },
        "default_value": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Default Value"
        }
      },
      "required": [
        "env"
      ],
      "title": "EnvironmentVariableModel",
      "type": "object"
    },
    "EvaluationDatasetEntryModel": {
      "additionalProperties": false,
      "properties": {
        "inputs": {
          "$ref": "#/$defs/ChatPayload"
        },
        "expectations": {
          "$ref": "#/$defs/EvaluationDatasetExpectationsModel"
        }
      },
      "required": [
        "inputs",
        "expectations"
      ],
      "title": "EvaluationDatasetEntryModel",
      "type": "object"
    },
    "EvaluationDatasetExpectationsModel": {
      "additionalProperties": false,
      "properties": {
        "expected_response": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Expected Response"
        },
        "expected_facts": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Expected Facts"
        }
      },
      "title": "EvaluationDatasetExpectationsModel",
      "type": "object"
    },
    "EvaluationDatasetModel": {
      "additionalProperties": false,
      "properties": {
        "schema": {
          "anyOf": [
            {
              "$ref": "#/$defs/SchemaModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "name": {
          "title": "Name",
          "type": "string"
        },
        "data": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/EvaluationDatasetEntryModel"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "title": "Data"
        },
        "overwrite": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "Overwrite"
        }
      },
      "required": [
        "name"
      ],
      "title": "EvaluationDatasetModel",
      "type": "object"
    },
    "EvaluationModel": {
      "additionalProperties": false,
      "description": "Configuration for MLflow GenAI evaluation.\n\nAttributes:\n    model: LLM model used as the judge for LLM-based scorers (e.g., Guidelines, Safety).\n           This model evaluates agent responses during evaluation.\n    table: Table to store evaluation results.\n    num_evals: Number of evaluation samples to generate.\n    agent_description: Description of the agent for evaluation data generation.\n    question_guidelines: Guidelines for generating evaluation questions.\n    custom_inputs: Custom inputs to pass to the agent during evaluation.\n    guidelines: List of guideline configurations for Guidelines scorers.",
      "properties": {
        "model": {
          "$ref": "#/$defs/LLMModel",
          "description": "LLM model used as the judge for LLM-based evaluation scorers"
        },
        "table": {
          "$ref": "#/$defs/TableModel"
        },
        "num_evals": {
          "title": "Num Evals",
          "type": "integer"
        },
        "agent_description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Agent Description"
        },
        "question_guidelines": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Question Guidelines"
        },
        "custom_inputs": {
          "additionalProperties": true,
          "title": "Custom Inputs",
          "type": "object"
        },
        "guidelines": {
          "items": {
            "$ref": "#/$defs/GuidelineModel"
          },
          "title": "Guidelines",
          "type": "array"
        }
      },
      "required": [
        "model",
        "table",
        "num_evals"
      ],
      "title": "EvaluationModel",
      "type": "object"
    },
    "FactoryFunctionModel": {
      "additionalProperties": false,
      "properties": {
        "type": {
          "const": "factory",
          "default": "factory",
          "title": "Type",
          "type": "string"
        },
        "human_in_the_loop": {
          "anyOf": [
            {
              "$ref": "#/$defs/HumanInTheLoopModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "name": {
          "title": "Name",
          "type": "string"
        },
        "args": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "title": "Args"
        }
      },
      "required": [
        "name"
      ],
      "title": "FactoryFunctionModel",
      "type": "object"
    },
    "FunctionModel": {
      "additionalProperties": false,
      "properties": {
        "on_behalf_of_user": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "On Behalf Of User"
        },
        "service_principal": {
          "anyOf": [
            {
              "$ref": "#/$defs/ServicePrincipalModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "client_id": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Id"
        },
        "client_secret": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Secret"
        },
        "workspace_host": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Workspace Host"
        },
        "pat": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pat"
        },
        "schema": {
          "anyOf": [
            {
              "$ref": "#/$defs/SchemaModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Name"
        }
      },
      "title": "FunctionModel",
      "type": "object"
    },
    "GenieRoomModel": {
      "additionalProperties": false,
      "properties": {
        "on_behalf_of_user": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "On Behalf Of User"
        },
        "service_principal": {
          "anyOf": [
            {
              "$ref": "#/$defs/ServicePrincipalModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "client_id": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Id"
        },
        "client_secret": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Secret"
        },
        "workspace_host": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Workspace Host"
        },
        "pat": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pat"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Name"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "space_id": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            }
          ],
          "title": "Space Id"
        }
      },
      "required": [
        "space_id"
      ],
      "title": "GenieRoomModel",
      "type": "object"
    },
    "GuardrailModel": {
      "additionalProperties": false,
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "model": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/LLMModel"
            }
          ],
          "title": "Model"
        },
        "prompt": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/PromptModel"
            }
          ],
          "title": "Prompt"
        },
        "num_retries": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": 3,
          "title": "Num Retries"
        }
      },
      "required": [
        "name",
        "model",
        "prompt"
      ],
      "title": "GuardrailModel",
      "type": "object"
    },
    "GuidelineModel": {
      "additionalProperties": false,
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "guidelines": {
          "items": {
            "type": "string"
          },
          "title": "Guidelines",
          "type": "array"
        }
      },
      "required": [
        "name",
        "guidelines"
      ],
      "title": "GuidelineModel",
      "type": "object"
    },
    "HumanInTheLoopModel": {
      "additionalProperties": false,
      "description": "Configuration for Human-in-the-Loop tool approval.\n\nThis model configures when and how tools require human approval before execution.\nIt maps to LangChain's HumanInTheLoopMiddleware.\n\nLangChain supports three decision types:\n- \"approve\": Execute tool with original arguments\n- \"edit\": Modify arguments before execution\n- \"reject\": Skip execution with optional feedback message",
      "properties": {
        "review_prompt": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Message shown to the reviewer when approval is requested",
          "title": "Review Prompt"
        },
        "allowed_decisions": {
          "description": "List of allowed decision types for this tool",
          "items": {
            "enum": [
              "approve",
              "edit",
              "reject"
            ],
            "type": "string"
          },
          "title": "Allowed Decisions",
          "type": "array"
        }
      },
      "title": "HumanInTheLoopModel",
      "type": "object"
    },
    "IndexModel": {
      "additionalProperties": false,
      "description": "Model representing a Databricks Vector Search index.",
      "properties": {
        "on_behalf_of_user": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "On Behalf Of User"
        },
        "service_principal": {
          "anyOf": [
            {
              "$ref": "#/$defs/ServicePrincipalModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "client_id": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Id"
        },
        "client_secret": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Secret"
        },
        "workspace_host": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Workspace Host"
        },
        "pat": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pat"
        },
        "schema": {
          "anyOf": [
            {
              "$ref": "#/$defs/SchemaModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "name": {
          "title": "Name",
          "type": "string"
        }
      },
      "required": [
        "name"
      ],
      "title": "IndexModel",
      "type": "object"
    },
    "InstructedRetrieverModel": {
      "additionalProperties": false,
      "description": "Configuration for instructed retrieval with query decomposition and RRF merging.\n\nInstructed retrieval decomposes user queries into multiple subqueries with\nmetadata filters, executes them in parallel, and merges results using\nReciprocal Rank Fusion (RRF) before reranking.\n\nExample:\n    ```yaml\n    retriever:\n      vector_store: *products_vector_store\n      instructed:\n        decomposition_model: *fast_llm\n        schema_description: |\n          Products table: product_id, brand_name, category, price, updated_at\n          Filter operators: {\"col\": val}, {\"col >\": val}, {\"col NOT\": val}\n        columns:\n          - name: brand_name\n            type: string\n          - name: price\n            type: number\n            operators: [\"\", \"<\", \"<=\", \">\", \">=\"]\n        constraints:\n          - \"Prefer recent products\"\n        max_subqueries: 3\n        examples:\n          - query: \"cheap drills\"\n            filters: {\"price <\": 100}\n    ```",
      "properties": {
        "decomposition_model": {
          "anyOf": [
            {
              "$ref": "#/$defs/LLMModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "LLM for query decomposition (smaller/faster model recommended)"
        },
        "schema_description": {
          "description": "Column names, types, and valid filter syntax for the LLM",
          "title": "Schema Description",
          "type": "string"
        },
        "columns": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/ColumnInfo"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Structured column info for dynamic schema generation. When provided, column names are embedded in the JSON schema for better LLM accuracy.",
          "title": "Columns"
        },
        "constraints": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Default constraints to always apply",
          "title": "Constraints"
        },
        "max_subqueries": {
          "default": 3,
          "description": "Maximum number of parallel subqueries",
          "title": "Max Subqueries",
          "type": "integer"
        },
        "rrf_k": {
          "default": 60,
          "description": "RRF constant (lower values weight top ranks more heavily)",
          "title": "Rrf K",
          "type": "integer"
        },
        "examples": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Few-shot examples for domain-specific filter translation",
          "title": "Examples"
        },
        "normalize_filter_case": {
          "anyOf": [
            {
              "enum": [
                "uppercase",
                "lowercase"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Auto-normalize filter string values to uppercase or lowercase",
          "title": "Normalize Filter Case"
        }
      },
      "required": [
        "schema_description"
      ],
      "title": "InstructedRetrieverModel",
      "type": "object"
    },
    "InstructionAwareRerankModel": {
      "additionalProperties": false,
      "description": "LLM-based reranking considering user instructions and constraints.\n\nUse fast models (GPT-3.5, Haiku, Llama 3 8B) to minimize latency (~100ms).\nRuns AFTER FlashRank as an additional constraint-aware reranking stage.\nSkipped for 'standard' mode when auto_bypass=true in router config.\n\nExample:\n    ```yaml\n    rerank:\n      model: ms-marco-MiniLM-L-12-v2\n      top_n: 20\n      instruction_aware:\n        model: *fast_llm\n        instructions: |\n          Prioritize results matching price and brand constraints.\n        top_n: 10\n    ```",
      "properties": {
        "model": {
          "anyOf": [
            {
              "$ref": "#/$defs/LLMModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "LLM for instruction reranking (fast model recommended)"
        },
        "instructions": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Custom reranking instructions for constraint prioritization",
          "title": "Instructions"
        },
        "top_n": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Number of documents to return after instruction reranking",
          "title": "Top N"
        }
      },
      "title": "InstructionAwareRerankModel",
      "type": "object"
    },
    "LLMModel": {
      "additionalProperties": false,
      "properties": {
        "on_behalf_of_user": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "On Behalf Of User"
        },
        "service_principal": {
          "anyOf": [
            {
              "$ref": "#/$defs/ServicePrincipalModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "client_id": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Id"
        },
        "client_secret": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Secret"
        },
        "workspace_host": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Workspace Host"
        },
        "pat": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pat"
        },
        "name": {
          "title": "Name",
          "type": "string"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "temperature": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": 0.1,
          "title": "Temperature"
        },
        "max_tokens": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": 8192,
          "title": "Max Tokens"
        },
        "fallbacks": {
          "anyOf": [
            {
              "items": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/LLMModel"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "title": "Fallbacks"
        },
        "use_responses_api": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "description": "Use Responses API for ResponsesAgent endpoints",
          "title": "Use Responses Api"
        }
      },
      "required": [
        "name"
      ],
      "title": "LLMModel",
      "type": "object"
    },
    "LogLevel": {
      "enum": [
        "TRACE",
        "DEBUG",
        "INFO",
        "WARNING",
        "ERROR"
      ],
      "title": "LogLevel",
      "type": "string"
    },
    "McpFunctionModel": {
      "additionalProperties": false,
      "description": "MCP Function Model with authentication inherited from IsDatabricksResource.\n\nAuthentication for MCP connections uses the same options as other resources:\n- Service Principal (client_id + client_secret + workspace_host)\n- PAT (pat + workspace_host)\n- OBO (on_behalf_of_user)",
      "properties": {
        "on_behalf_of_user": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "On Behalf Of User"
        },
        "service_principal": {
          "anyOf": [
            {
              "$ref": "#/$defs/ServicePrincipalModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "client_id": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Id"
        },
        "client_secret": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Secret"
        },
        "workspace_host": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Workspace Host"
        },
        "pat": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pat"
        },
        "type": {
          "const": "mcp",
          "default": "mcp",
          "title": "Type",
          "type": "string"
        },
        "human_in_the_loop": {
          "anyOf": [
            {
              "$ref": "#/$defs/HumanInTheLoopModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "transport": {
          "$ref": "#/$defs/TransportType",
          "default": "streamable_http"
        },
        "command": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "python",
          "title": "Command"
        },
        "url": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Url"
        },
        "headers": {
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/$defs/CompositeVariableModel"
              },
              {
                "$ref": "#/$defs/EnvironmentVariableModel"
              },
              {
                "$ref": "#/$defs/SecretVariableModel"
              },
              {
                "$ref": "#/$defs/PrimitiveVariableModel"
              },
              {
                "type": "string"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "boolean"
              }
            ]
          },
          "title": "Headers",
          "type": "object"
        },
        "args": {
          "items": {
            "type": "string"
          },
          "title": "Args",
          "type": "array"
        },
        "app": {
          "anyOf": [
            {
              "$ref": "#/$defs/DatabricksAppModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "connection": {
          "anyOf": [
            {
              "$ref": "#/$defs/ConnectionModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "functions": {
          "anyOf": [
            {
              "$ref": "#/$defs/SchemaModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "genie_room": {
          "anyOf": [
            {
              "$ref": "#/$defs/GenieRoomModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "sql": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Sql"
        },
        "vector_search": {
          "anyOf": [
            {
              "$ref": "#/$defs/VectorStoreModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "include_tools": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional list of tool names or glob patterns to include from the MCP server. If specified, only tools matching these patterns will be loaded. Supports glob patterns: * (any chars), ? (single char), [abc] (char set). Examples: ['execute_query', 'list_*', 'get_?_data']",
          "title": "Include Tools"
        },
        "exclude_tools": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional list of tool names or glob patterns to exclude from the MCP server. Tools matching these patterns will not be loaded. Takes precedence over include_tools. Supports glob patterns: * (any chars), ? (single char), [abc] (char set). Examples: ['drop_*', 'delete_*', 'execute_ddl']",
          "title": "Exclude Tools"
        }
      },
      "title": "McpFunctionModel",
      "type": "object"
    },
    "MemoryModel": {
      "additionalProperties": false,
      "properties": {
        "checkpointer": {
          "anyOf": [
            {
              "$ref": "#/$defs/CheckpointerModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "store": {
          "anyOf": [
            {
              "$ref": "#/$defs/StoreModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "title": "MemoryModel",
      "type": "object"
    },
    "Message": {
      "additionalProperties": false,
      "properties": {
        "role": {
          "$ref": "#/$defs/MessageRole"
        },
        "content": {
          "title": "Content",
          "type": "string"
        }
      },
      "required": [
        "role",
        "content"
      ],
      "title": "Message",
      "type": "object"
    },
    "MessageRole": {
      "enum": [
        "user",
        "assistant",
        "system"
      ],
      "title": "MessageRole",
      "type": "string"
    },
    "MiddlewareModel": {
      "additionalProperties": false,
      "description": "Configuration for middleware that can be applied to agents.\n\nMiddleware is defined at the AppConfig level and can be referenced by name\nin agent configurations using YAML anchors for reusability.",
      "properties": {
        "name": {
          "description": "Fully qualified name of the middleware factory function",
          "title": "Name",
          "type": "string"
        },
        "args": {
          "additionalProperties": true,
          "description": "Arguments to pass to the middleware factory function",
          "title": "Args",
          "type": "object"
        }
      },
      "required": [
        "name"
      ],
      "title": "MiddlewareModel",
      "type": "object"
    },
    "OptimizationsModel": {
      "additionalProperties": false,
      "properties": {
        "training_datasets": {
          "additionalProperties": {
            "$ref": "#/$defs/EvaluationDatasetModel"
          },
          "title": "Training Datasets",
          "type": "object"
        },
        "prompt_optimizations": {
          "additionalProperties": {
            "$ref": "#/$defs/PromptOptimizationModel"
          },
          "title": "Prompt Optimizations",
          "type": "object"
        }
      },
      "title": "OptimizationsModel",
      "type": "object"
    },
    "OrchestrationModel": {
      "additionalProperties": false,
      "properties": {
        "supervisor": {
          "anyOf": [
            {
              "$ref": "#/$defs/SupervisorModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "swarm": {
          "anyOf": [
            {
              "$ref": "#/$defs/SwarmModel"
            },
            {
              "const": true,
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Swarm"
        },
        "memory": {
          "anyOf": [
            {
              "$ref": "#/$defs/MemoryModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "title": "OrchestrationModel",
      "type": "object"
    },
    "PermissionModel": {
      "additionalProperties": false,
      "properties": {
        "principals": {
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ServicePrincipalModel"
              },
              {
                "type": "string"
              }
            ]
          },
          "title": "Principals",
          "type": "array"
        },
        "privileges": {
          "items": {
            "$ref": "#/$defs/Privilege"
          },
          "title": "Privileges",
          "type": "array"
        }
      },
      "required": [
        "privileges"
      ],
      "title": "PermissionModel",
      "type": "object"
    },
    "PrimitiveVariableModel": {
      "properties": {
        "value": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            }
          ],
          "title": "Value"
        }
      },
      "required": [
        "value"
      ],
      "title": "PrimitiveVariableModel",
      "type": "object"
    },
    "Privilege": {
      "enum": [
        "ALL_PRIVILEGES",
        "USE_CATALOG",
        "USE_SCHEMA",
        "SELECT",
        "INSERT",
        "UPDATE",
        "DELETE",
        "MODIFY",
        "CREATE",
        "USAGE",
        "CREATE_SCHEMA",
        "CREATE_TABLE",
        "CREATE_VIEW",
        "CREATE_FUNCTION",
        "CREATE_EXTERNAL_LOCATION",
        "CREATE_STORAGE_CREDENTIAL",
        "CREATE_MATERIALIZED_VIEW",
        "CREATE_TEMPORARY_FUNCTION",
        "EXECUTE",
        "READ_FILES",
        "WRITE_FILES"
      ],
      "title": "Privilege",
      "type": "string"
    },
    "PromptModel": {
      "additionalProperties": false,
      "properties": {
        "schema": {
          "anyOf": [
            {
              "$ref": "#/$defs/SchemaModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "name": {
          "title": "Name",
          "type": "string"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "default_template": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Default Template"
        },
        "alias": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Alias"
        },
        "version": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Version"
        },
        "tags": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "title": "Tags"
        },
        "auto_register": {
          "default": false,
          "description": "Whether to automatically register the default_template to the prompt registry. If False, the prompt will only be loaded from the registry (never created/updated). Defaults to True for backward compatibility.",
          "title": "Auto Register",
          "type": "boolean"
        }
      },
      "required": [
        "name"
      ],
      "title": "PromptModel",
      "type": "object"
    },
    "PromptOptimizationModel": {
      "additionalProperties": false,
      "description": "Configuration for prompt optimization using GEPA.\n\nGEPA (Generative Evolution of Prompts and Agents) is an evolutionary\noptimizer that uses reflective mutation to improve prompts based on\nevaluation feedback.\n\nExample:\n    prompt_optimization:\n      name: optimize_my_prompt\n      prompt: *my_prompt\n      agent: *my_agent\n      dataset: *my_training_dataset\n      reflection_model: databricks-meta-llama-3-3-70b-instruct\n      num_candidates: 50",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "prompt": {
          "anyOf": [
            {
              "$ref": "#/$defs/PromptModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "agent": {
          "$ref": "#/$defs/AgentModel"
        },
        "dataset": {
          "$ref": "#/$defs/EvaluationDatasetModel"
        },
        "reflection_model": {
          "anyOf": [
            {
              "$ref": "#/$defs/LLMModel"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Reflection Model"
        },
        "num_candidates": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": 50,
          "title": "Num Candidates"
        }
      },
      "required": [
        "name",
        "agent",
        "dataset"
      ],
      "title": "PromptOptimizationModel",
      "type": "object"
    },
    "PythonFunctionModel": {
      "additionalProperties": false,
      "properties": {
        "type": {
          "const": "python",
          "default": "python",
          "title": "Type",
          "type": "string"
        },
        "human_in_the_loop": {
          "anyOf": [
            {
              "$ref": "#/$defs/HumanInTheLoopModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "name": {
          "title": "Name",
          "type": "string"
        }
      },
      "required": [
        "name"
      ],
      "title": "PythonFunctionModel",
      "type": "object"
    },
    "RegisteredModelModel": {
      "additionalProperties": false,
      "properties": {
        "schema": {
          "anyOf": [
            {
              "$ref": "#/$defs/SchemaModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "name": {
          "title": "Name",
          "type": "string"
        }
      },
      "required": [
        "name"
      ],
      "title": "RegisteredModelModel",
      "type": "object"
    },
    "RerankParametersModel": {
      "additionalProperties": false,
      "description": "Configuration for reranking retrieved documents.\n\nSupports three reranking options that can be combined:\n1. FlashRank (local cross-encoder) - set `model`\n2. Databricks server-side reranking - set `columns`\n3. LLM instruction-aware reranking - set `instruction_aware`\n\nExample with Databricks columns + instruction-aware (no FlashRank):\n    ```yaml\n    rerank:\n      columns:                    # Databricks server-side reranking\n        - product_name\n        - brand_name\n      instruction_aware:          # LLM-based constraint reranking\n        model: *fast_llm\n        instructions: \"Prioritize by brand preferences\"\n        top_n: 10\n    ```\n\nExample with FlashRank:\n    ```yaml\n    rerank:\n      model: ms-marco-MiniLM-L-12-v2  # FlashRank model\n      top_n: 10\n    ```\n\nAvailable FlashRank models (see https://github.com/PrithivirajDamodaran/FlashRank):\n- \"ms-marco-TinyBERT-L-2-v2\" (~4MB, fastest)\n- \"ms-marco-MiniLM-L-12-v2\" (~34MB, best cross-encoder)\n- \"rank-T5-flan\" (~110MB, best non cross-encoder)\n- \"ms-marco-MultiBERT-L-12\" (~150MB, multilingual 100+ languages)",
      "properties": {
        "model": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "FlashRank model name. If None, FlashRank is not used (use columns for Databricks reranking).",
          "title": "Model"
        },
        "top_n": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Number of documents to return after reranking. If None, uses search_parameters.num_results.",
          "title": "Top N"
        },
        "cache_dir": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "~/.dao_ai/cache/flashrank",
          "description": "Directory to cache downloaded model weights. Supports tilde expansion (e.g., ~/.dao_ai).",
          "title": "Cache Dir"
        },
        "columns": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "description": "Columns to rerank using DatabricksReranker",
          "title": "Columns"
        },
        "instruction_aware": {
          "anyOf": [
            {
              "$ref": "#/$defs/InstructionAwareRerankModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional LLM-based reranking stage after FlashRank"
        }
      },
      "title": "RerankParametersModel",
      "type": "object"
    },
    "ResourcesModel": {
      "additionalProperties": false,
      "properties": {
        "llms": {
          "additionalProperties": {
            "$ref": "#/$defs/LLMModel"
          },
          "title": "Llms",
          "type": "object"
        },
        "vector_stores": {
          "additionalProperties": {
            "$ref": "#/$defs/VectorStoreModel"
          },
          "title": "Vector Stores",
          "type": "object"
        },
        "genie_rooms": {
          "additionalProperties": {
            "$ref": "#/$defs/GenieRoomModel"
          },
          "title": "Genie Rooms",
          "type": "object"
        },
        "tables": {
          "additionalProperties": {
            "$ref": "#/$defs/TableModel"
          },
          "title": "Tables",
          "type": "object"
        },
        "volumes": {
          "additionalProperties": {
            "$ref": "#/$defs/VolumeModel"
          },
          "title": "Volumes",
          "type": "object"
        },
        "functions": {
          "additionalProperties": {
            "$ref": "#/$defs/FunctionModel"
          },
          "title": "Functions",
          "type": "object"
        },
        "warehouses": {
          "additionalProperties": {
            "$ref": "#/$defs/WarehouseModel"
          },
          "title": "Warehouses",
          "type": "object"
        },
        "databases": {
          "additionalProperties": {
            "$ref": "#/$defs/DatabaseModel"
          },
          "title": "Databases",
          "type": "object"
        },
        "connections": {
          "additionalProperties": {
            "$ref": "#/$defs/ConnectionModel"
          },
          "title": "Connections",
          "type": "object"
        },
        "apps": {
          "additionalProperties": {
            "$ref": "#/$defs/DatabricksAppModel"
          },
          "title": "Apps",
          "type": "object"
        }
      },
      "title": "ResourcesModel",
      "type": "object"
    },
    "ResponseFormatModel": {
      "additionalProperties": false,
      "description": "Configuration for structured response formats.\n\nThe response_schema field accepts either a type or a string:\n- Type (Pydantic model, dataclass, etc.): Used directly for structured output\n- String: First attempts to load as a fully qualified type name, falls back to JSON schema string\n\nThis unified approach simplifies the API while maintaining flexibility.",
      "properties": {
        "use_tool": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Strategy for structured output: None (default) = auto-detect from model capabilities, False = force ProviderStrategy (native), True = force ToolStrategy (function calling)",
          "title": "Use Tool"
        },
        "response_schema": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Type or string for response format. String attempts FQN import, falls back to JSON schema.",
          "title": "Response Schema"
        }
      },
      "title": "ResponseFormatModel",
      "type": "object"
    },
    "RetrieverModel": {
      "additionalProperties": false,
      "properties": {
        "vector_store": {
          "$ref": "#/$defs/VectorStoreModel"
        },
        "columns": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "title": "Columns"
        },
        "search_parameters": {
          "$ref": "#/$defs/SearchParametersModel"
        },
        "router": {
          "anyOf": [
            {
              "$ref": "#/$defs/RouterModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional query router for selecting execution mode (standard vs instructed)."
        },
        "rerank": {
          "anyOf": [
            {
              "$ref": "#/$defs/RerankParametersModel"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional reranking configuration. Set to true for defaults, or provide ReRankParametersModel for custom settings.",
          "title": "Rerank"
        },
        "instructed": {
          "anyOf": [
            {
              "$ref": "#/$defs/InstructedRetrieverModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional instructed retrieval with query decomposition and RRF merging."
        },
        "verifier": {
          "anyOf": [
            {
              "$ref": "#/$defs/VerifierModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional result verification with structured feedback for retry."
        }
      },
      "required": [
        "vector_store"
      ],
      "title": "RetrieverModel",
      "type": "object"
    },
    "RouterModel": {
      "additionalProperties": false,
      "description": "Select internal execution mode based on query characteristics.\n\nUse fast models (GPT-3.5, Haiku, Llama 3 8B) to minimize latency (~50-100ms).\nRoutes to internal modes within the same retriever, not external retrievers.\nCross-index routing belongs at the agent/tool-selection level.\n\nExecution Modes:\n- \"standard\": Single similarity_search() for simple keyword/product searches\n- \"instructed\": Decompose -> Parallel Search -> RRF for constrained queries\n\nExample:\n    ```yaml\n    retriever:\n      router:\n        model: *fast_llm\n        default_mode: standard\n        auto_bypass: true\n    ```",
      "properties": {
        "model": {
          "anyOf": [
            {
              "$ref": "#/$defs/LLMModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "LLM for routing decision (fast model recommended)"
        },
        "default_mode": {
          "default": "standard",
          "description": "Fallback mode if routing fails",
          "enum": [
            "standard",
            "instructed"
          ],
          "title": "Default Mode",
          "type": "string"
        },
        "auto_bypass": {
          "default": true,
          "description": "Skip Instruction Reranker and Verifier for standard mode",
          "title": "Auto Bypass",
          "type": "boolean"
        }
      },
      "title": "RouterModel",
      "type": "object"
    },
    "SchemaModel": {
      "additionalProperties": false,
      "properties": {
        "catalog_name": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            }
          ],
          "title": "Catalog Name"
        },
        "schema_name": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            }
          ],
          "title": "Schema Name"
        },
        "permissions": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/PermissionModel"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "title": "Permissions"
        }
      },
      "required": [
        "catalog_name",
        "schema_name"
      ],
      "title": "SchemaModel",
      "type": "object"
    },
    "SearchParametersModel": {
      "additionalProperties": false,
      "properties": {
        "num_results": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": 10,
          "title": "Num Results"
        },
        "filters": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "title": "Filters"
        },
        "query_type": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "ANN",
          "title": "Query Type"
        }
      },
      "title": "SearchParametersModel",
      "type": "object"
    },
    "SecretVariableModel": {
      "properties": {
        "scope": {
          "title": "Scope",
          "type": "string"
        },
        "secret": {
          "title": "Secret",
          "type": "string"
        },
        "default_value": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Default Value"
        }
      },
      "required": [
        "scope",
        "secret"
      ],
      "title": "SecretVariableModel",
      "type": "object"
    },
    "ServicePrincipalModel": {
      "properties": {
        "client_id": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            }
          ],
          "title": "Client Id"
        },
        "client_secret": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            }
          ],
          "title": "Client Secret"
        }
      },
      "required": [
        "client_id",
        "client_secret"
      ],
      "title": "ServicePrincipalModel",
      "type": "object"
    },
    "StoreModel": {
      "additionalProperties": false,
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "embedding_model": {
          "anyOf": [
            {
              "$ref": "#/$defs/LLMModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "dims": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": 1536,
          "title": "Dims"
        },
        "database": {
          "anyOf": [
            {
              "$ref": "#/$defs/DatabaseModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "namespace": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Namespace"
        }
      },
      "required": [
        "name"
      ],
      "title": "StoreModel",
      "type": "object"
    },
    "SupervisorModel": {
      "additionalProperties": false,
      "properties": {
        "model": {
          "$ref": "#/$defs/LLMModel"
        },
        "tools": {
          "items": {
            "$ref": "#/$defs/ToolModel"
          },
          "title": "Tools",
          "type": "array"
        },
        "prompt": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Prompt"
        },
        "middleware": {
          "description": "List of middleware to apply to the supervisor",
          "items": {
            "$ref": "#/$defs/MiddlewareModel"
          },
          "title": "Middleware",
          "type": "array"
        }
      },
      "required": [
        "model"
      ],
      "title": "SupervisorModel",
      "type": "object"
    },
    "SwarmModel": {
      "additionalProperties": false,
      "properties": {
        "default_agent": {
          "anyOf": [
            {
              "$ref": "#/$defs/AgentModel"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Default Agent"
        },
        "middleware": {
          "description": "List of middleware to apply to all agents in the swarm",
          "items": {
            "$ref": "#/$defs/MiddlewareModel"
          },
          "title": "Middleware",
          "type": "array"
        },
        "handoffs": {
          "anyOf": [
            {
              "additionalProperties": {
                "anyOf": [
                  {
                    "items": {
                      "anyOf": [
                        {
                          "$ref": "#/$defs/AgentModel"
                        },
                        {
                          "type": "string"
                        }
                      ]
                    },
                    "type": "array"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "title": "Handoffs"
        }
      },
      "title": "SwarmModel",
      "type": "object"
    },
    "TableModel": {
      "additionalProperties": false,
      "properties": {
        "on_behalf_of_user": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "On Behalf Of User"
        },
        "service_principal": {
          "anyOf": [
            {
              "$ref": "#/$defs/ServicePrincipalModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "client_id": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Id"
        },
        "client_secret": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Secret"
        },
        "workspace_host": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Workspace Host"
        },
        "pat": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pat"
        },
        "schema": {
          "anyOf": [
            {
              "$ref": "#/$defs/SchemaModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Name"
        }
      },
      "title": "TableModel",
      "type": "object"
    },
    "ToolModel": {
      "additionalProperties": false,
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "function": {
          "anyOf": [
            {
              "$ref": "#/$defs/PythonFunctionModel"
            },
            {
              "$ref": "#/$defs/FactoryFunctionModel"
            },
            {
              "$ref": "#/$defs/UnityCatalogFunctionModel"
            },
            {
              "$ref": "#/$defs/McpFunctionModel"
            },
            {
              "type": "string"
            }
          ],
          "title": "Function"
        }
      },
      "required": [
        "name",
        "function"
      ],
      "title": "ToolModel",
      "type": "object"
    },
    "TransportType": {
      "enum": [
        "streamable_http",
        "stdio"
      ],
      "title": "TransportType",
      "type": "string"
    },
    "UnityCatalogFunctionModel": {
      "additionalProperties": false,
      "properties": {
        "type": {
          "const": "unity_catalog",
          "default": "unity_catalog",
          "title": "Type",
          "type": "string"
        },
        "human_in_the_loop": {
          "anyOf": [
            {
              "$ref": "#/$defs/HumanInTheLoopModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "resource": {
          "$ref": "#/$defs/FunctionModel"
        },
        "partial_args": {
          "anyOf": [
            {
              "additionalProperties": {
                "anyOf": [
                  {
                    "$ref": "#/$defs/CompositeVariableModel"
                  },
                  {
                    "$ref": "#/$defs/EnvironmentVariableModel"
                  },
                  {
                    "$ref": "#/$defs/SecretVariableModel"
                  },
                  {
                    "$ref": "#/$defs/PrimitiveVariableModel"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "boolean"
                  }
                ]
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "title": "Partial Args"
        }
      },
      "required": [
        "resource"
      ],
      "title": "UnityCatalogFunctionModel",
      "type": "object"
    },
    "UnityCatalogFunctionSqlModel": {
      "additionalProperties": false,
      "properties": {
        "function": {
          "$ref": "#/$defs/FunctionModel"
        },
        "ddl": {
          "title": "Ddl",
          "type": "string"
        },
        "parameters": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "title": "Parameters"
        },
        "test": {
          "anyOf": [
            {
              "$ref": "#/$defs/UnityCatalogFunctionSqlTestModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "function",
        "ddl"
      ],
      "title": "UnityCatalogFunctionSqlModel",
      "type": "object"
    },
    "UnityCatalogFunctionSqlTestModel": {
      "additionalProperties": false,
      "properties": {
        "parameters": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "title": "Parameters"
        }
      },
      "title": "UnityCatalogFunctionSqlTestModel",
      "type": "object"
    },
    "VectorSearchEndpoint": {
      "additionalProperties": false,
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "type": {
          "$ref": "#/$defs/VectorSearchEndpointType",
          "default": "STANDARD"
        }
      },
      "required": [
        "name"
      ],
      "title": "VectorSearchEndpoint",
      "type": "object"
    },
    "VectorSearchEndpointType": {
      "enum": [
        "STANDARD",
        "OPTIMIZED_STORAGE"
      ],
      "title": "VectorSearchEndpointType",
      "type": "string"
    },
    "VectorStoreModel": {
      "additionalProperties": false,
      "description": "Configuration model for a Databricks Vector Search store.\n\nSupports two modes:\n1. **Use Existing Index**: Provide only `index` (fully qualified name).\n   Used for querying an existing vector search index at runtime.\n2. **Provisioning Mode**: Provide `source_table` + `embedding_source_column`.\n   Used for creating a new vector search index.\n\nExamples:\n    Minimal configuration (use existing index):\n    ```yaml\n    vector_stores:\n      products_search:\n        index:\n          name: catalog.schema.my_index\n    ```\n\n    Full provisioning configuration:\n    ```yaml\n    vector_stores:\n      products_search:\n        source_table:\n          schema: *my_schema\n          name: products\n        embedding_source_column: description\n        endpoint:\n          name: my_endpoint\n    ```",
      "properties": {
        "on_behalf_of_user": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "On Behalf Of User"
        },
        "service_principal": {
          "anyOf": [
            {
              "$ref": "#/$defs/ServicePrincipalModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "client_id": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Id"
        },
        "client_secret": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Secret"
        },
        "workspace_host": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Workspace Host"
        },
        "pat": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pat"
        },
        "index": {
          "anyOf": [
            {
              "$ref": "#/$defs/IndexModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "source_table": {
          "anyOf": [
            {
              "$ref": "#/$defs/TableModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "embedding_source_column": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Embedding Source Column"
        },
        "embedding_model": {
          "anyOf": [
            {
              "$ref": "#/$defs/LLMModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "endpoint": {
          "anyOf": [
            {
              "$ref": "#/$defs/VectorSearchEndpoint"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "source_path": {
          "anyOf": [
            {
              "$ref": "#/$defs/VolumePathModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "checkpoint_path": {
          "anyOf": [
            {
              "$ref": "#/$defs/VolumePathModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "primary_key": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Primary Key"
        },
        "columns": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "title": "Columns"
        },
        "doc_uri": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Doc Uri"
        }
      },
      "title": "VectorStoreModel",
      "type": "object"
    },
    "VerifierModel": {
      "additionalProperties": false,
      "description": "Validate results against user constraints with structured feedback.\n\nUse fast models (GPT-3.5, Haiku, Llama 3 8B) to minimize latency (~50-100ms).\nSkipped for 'standard' mode when auto_bypass=true in router config.\nReturns structured feedback for intelligent retry, not blind retry.\n\nExample:\n    ```yaml\n    retriever:\n      verifier:\n        model: *fast_llm\n        on_failure: warn_and_retry\n        max_retries: 1\n    ```",
      "properties": {
        "model": {
          "anyOf": [
            {
              "$ref": "#/$defs/LLMModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "LLM for verification (fast model recommended)"
        },
        "on_failure": {
          "default": "warn",
          "description": "Behavior when verification fails",
          "enum": [
            "warn",
            "retry",
            "warn_and_retry"
          ],
          "title": "On Failure",
          "type": "string"
        },
        "max_retries": {
          "default": 1,
          "description": "Maximum retry attempts before returning with warning",
          "title": "Max Retries",
          "type": "integer"
        }
      },
      "title": "VerifierModel",
      "type": "object"
    },
    "VolumeModel": {
      "additionalProperties": false,
      "properties": {
        "on_behalf_of_user": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "On Behalf Of User"
        },
        "service_principal": {
          "anyOf": [
            {
              "$ref": "#/$defs/ServicePrincipalModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "client_id": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Id"
        },
        "client_secret": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Secret"
        },
        "workspace_host": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Workspace Host"
        },
        "pat": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pat"
        },
        "schema": {
          "anyOf": [
            {
              "$ref": "#/$defs/SchemaModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "name": {
          "title": "Name",
          "type": "string"
        }
      },
      "required": [
        "name"
      ],
      "title": "VolumeModel",
      "type": "object"
    },
    "VolumePathModel": {
      "additionalProperties": false,
      "properties": {
        "volume": {
          "anyOf": [
            {
              "$ref": "#/$defs/VolumeModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "path": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Path"
        }
      },
      "title": "VolumePathModel",
      "type": "object"
    },
    "WarehouseModel": {
      "additionalProperties": false,
      "properties": {
        "on_behalf_of_user": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "On Behalf Of User"
        },
        "service_principal": {
          "anyOf": [
            {
              "$ref": "#/$defs/ServicePrincipalModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "client_id": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Id"
        },
        "client_secret": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Secret"
        },
        "workspace_host": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Workspace Host"
        },
        "pat": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pat"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Name"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "warehouse_id": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompositeVariableModel"
            },
            {
              "$ref": "#/$defs/EnvironmentVariableModel"
            },
            {
              "$ref": "#/$defs/SecretVariableModel"
            },
            {
              "$ref": "#/$defs/PrimitiveVariableModel"
            },
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            }
          ],
          "title": "Warehouse Id"
        }
      },
      "required": [
        "warehouse_id"
      ],
      "title": "WarehouseModel",
      "type": "object"
    },
    "WorkloadSize": {
      "enum": [
        "Small",
        "Medium",
        "Large"
      ],
      "title": "WorkloadSize",
      "type": "string"
    }
  },
  "additionalProperties": false,
  "properties": {
    "version": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Version"
    },
    "variables": {
      "additionalProperties": {
        "anyOf": [
          {
            "$ref": "#/$defs/CompositeVariableModel"
          },
          {
            "$ref": "#/$defs/EnvironmentVariableModel"
          },
          {
            "$ref": "#/$defs/SecretVariableModel"
          },
          {
            "$ref": "#/$defs/PrimitiveVariableModel"
          },
          {
            "type": "string"
          },
          {
            "type": "integer"
          },
          {
            "type": "number"
          },
          {
            "type": "boolean"
          }
        ]
      },
      "title": "Variables",
      "type": "object"
    },
    "service_principals": {
      "additionalProperties": {
        "$ref": "#/$defs/ServicePrincipalModel"
      },
      "title": "Service Principals",
      "type": "object"
    },
    "schemas": {
      "additionalProperties": {
        "$ref": "#/$defs/SchemaModel"
      },
      "title": "Schemas",
      "type": "object"
    },
    "resources": {
      "anyOf": [
        {
          "$ref": "#/$defs/ResourcesModel"
        },
        {
          "type": "null"
        }
      ],
      "default": null
    },
    "retrievers": {
      "additionalProperties": {
        "$ref": "#/$defs/RetrieverModel"
      },
      "title": "Retrievers",
      "type": "object"
    },
    "tools": {
      "additionalProperties": {
        "$ref": "#/$defs/ToolModel"
      },
      "title": "Tools",
      "type": "object"
    },
    "guardrails": {
      "additionalProperties": {
        "$ref": "#/$defs/GuardrailModel"
      },
      "title": "Guardrails",
      "type": "object"
    },
    "middleware": {
      "additionalProperties": {
        "$ref": "#/$defs/MiddlewareModel"
      },
      "title": "Middleware",
      "type": "object"
    },
    "memory": {
      "anyOf": [
        {
          "$ref": "#/$defs/MemoryModel"
        },
        {
          "type": "null"
        }
      ],
      "default": null
    },
    "prompts": {
      "additionalProperties": {
        "$ref": "#/$defs/PromptModel"
      },
      "title": "Prompts",
      "type": "object"
    },
    "agents": {
      "additionalProperties": {
        "$ref": "#/$defs/AgentModel"
      },
      "title": "Agents",
      "type": "object"
    },
    "app": {
      "anyOf": [
        {
          "$ref": "#/$defs/AppModel"
        },
        {
          "type": "null"
        }
      ],
      "default": null
    },
    "evaluation": {
      "anyOf": [
        {
          "$ref": "#/$defs/EvaluationModel"
        },
        {
          "type": "null"
        }
      ],
      "default": null
    },
    "optimizations": {
      "anyOf": [
        {
          "$ref": "#/$defs/OptimizationsModel"
        },
        {
          "type": "null"
        }
      ],
      "default": null
    },
    "datasets": {
      "anyOf": [
        {
          "items": {
            "$ref": "#/$defs/DatasetModel"
          },
          "type": "array"
        },
        {
          "type": "null"
        }
      ],
      "title": "Datasets"
    },
    "unity_catalog_functions": {
      "anyOf": [
        {
          "items": {
            "$ref": "#/$defs/UnityCatalogFunctionSqlModel"
          },
          "type": "array"
        },
        {
          "type": "null"
        }
      ],
      "title": "Unity Catalog Functions"
    },
    "providers": {
      "anyOf": [
        {
          "additionalProperties": true,
          "type": "object"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Providers"
    }
  },
  "title": "AppConfig",
  "type": "object"
}
