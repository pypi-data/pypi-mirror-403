apiVersion: v1beta1
kind: SecretStore
metadata:
  namespace: {{ .Values.Namespace }}
spec:
  provider:
  {{- if .Values }}
  keys:
    auth:
      id:
        name: {{ .Values.name | default "{{ .Values.name }}-external-name" }}
  {{- else if .Values.services }}
  services:
    service: {{ .Values.service }}
    {{- if .Values.resource }}
    role: {{ .Values.role }}
    {{- end }}
    auth:
      id:
        name:
          example: {{ .Values.name | default "{{ .Values.name }}-external-id" }}
          key: key
  {{- end }}