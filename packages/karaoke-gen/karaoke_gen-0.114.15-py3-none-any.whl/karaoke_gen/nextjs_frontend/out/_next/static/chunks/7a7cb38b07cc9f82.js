(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41947,e=>{"use strict";let t=(0,e.i(75254).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["default",()=>t])},37727,e=>{"use strict";var t=e.i(41947);e.s(["X",()=>t.default])},86536,e=>{"use strict";let t=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},24672,e=>{"use strict";var t=e.i(68834),n=e.i(54858);let r={logo_url:null,logo_height:40,primary_color:"#ff5bb8",secondary_color:"#8b5cf6",accent_color:"#ffdf6b",background_color:null,favicon_url:null,site_title:"Nomad Karaoke Generator",tagline:null},a={audio_search:!0,file_upload:!0,youtube_url:!0,youtube_upload:!0,dropbox_upload:!0,gdrive_upload:!0,theme_selection:!0,color_overrides:!0,enable_cdg:!0,enable_4k:!0,admin_access:!0},i={theme_id:null,locked_theme:null,distribution_mode:"all"},o=(0,t.create)()((e,t)=>({tenant:null,isDefault:!0,isLoading:!1,error:null,isInitialized:!1,get branding(){let{tenant:e}=t();return e?.branding??r},get features(){let{tenant:e}=t();return e?.features??a},get defaults(){let{tenant:e}=t();return e?.defaults??i},get tenantId(){let{tenant:e}=t();return e?.id??null},fetchTenantConfig:async()=>{if(!t().isLoading){e({isLoading:!0,error:null});try{let t=function(){let e=window.location.hostname.toLowerCase();if("localhost"===e||"127.0.0.1"===e)return new URLSearchParams(window.location.search).get("tenant");if(e.includes("nomadkaraoke.com")){let t=e.split(".");if((3===t.length||4===t.length&&"gen"===t[1])&&!["gen","api","www","buy","admin","app","beta"].includes(t[0]))return t[0]}return null}(),r=`${n.API_BASE_URL}/api/tenant/config`;t&&(r+=`?tenant=${encodeURIComponent(t)}`);let a=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json",...t?{"X-Tenant-ID":t}:{}}});if(!a.ok)throw Error("Failed to fetch tenant configuration");let i=await a.json();e({tenant:i.tenant,isDefault:i.is_default,isLoading:!1,isInitialized:!0}),i.tenant&&l(i.tenant.branding)}catch(t){console.error("Failed to fetch tenant config:",t),e({tenant:null,isDefault:!0,isLoading:!1,error:t instanceof Error?t.message:"Failed to load tenant configuration",isInitialized:!0})}}},setTenant:(t,n)=>{e({tenant:t,isDefault:n,isInitialized:!0}),t&&l(t.branding)},clearError:()=>e({error:null})}));function l(e){if("undefined"==typeof document)return;let t=document.documentElement;if(t.style.setProperty("--tenant-primary",e.primary_color),t.style.setProperty("--tenant-secondary",e.secondary_color),e.accent_color&&t.style.setProperty("--tenant-accent",e.accent_color),e.background_color&&t.style.setProperty("--tenant-background",e.background_color),e.site_title&&(document.title=e.site_title),e.favicon_url){let t=document.querySelector("link[rel~='icon']");t&&(t.href=e.favicon_url)}}e.s(["useTenant",0,o])},89554,e=>{"use strict";var t=e.i(43476),n=e.i(71645),r=(e,t,n,r,a,i,o,l)=>{let s=document.documentElement,c=["light","dark"];function d(t){var n;(Array.isArray(e)?e:[e]).forEach(e=>{let n="class"===e,r=n&&i?a.map(e=>i[e]||e):a;n?(s.classList.remove(...r),s.classList.add(i&&i[t]?i[t]:t)):s.setAttribute(e,t)}),n=t,l&&c.includes(n)&&(s.style.colorScheme=n)}if(r)d(r);else try{let e=localStorage.getItem(t)||n,r=o&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;d(r)}catch(e){}},a=["light","dark"],i="(prefers-color-scheme: dark)",o="undefined"==typeof window,l=n.createContext(void 0),s=e=>n.useContext(l)?n.createElement(n.Fragment,null,e.children):n.createElement(d,{...e}),c=["light","dark"],d=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:o=!0,storageKey:s="theme",themes:d=c,defaultTheme:h=r?"system":"light",attribute:p="data-theme",value:y,children:b,nonce:v,scriptProps:_})=>{let[w,k]=n.useState(()=>f(s,h)),[S,E]=n.useState(()=>"system"===w?g():w),T=y?Object.values(y):d,x=n.useCallback(e=>{let n=e;if(!n)return;"system"===e&&r&&(n=g());let i=y?y[n]:n,l=t?m(v):null,s=document.documentElement,c=e=>{"class"===e?(s.classList.remove(...T),i&&s.classList.add(i)):e.startsWith("data-")&&(i?s.setAttribute(e,i):s.removeAttribute(e))};if(Array.isArray(p)?p.forEach(c):c(p),o){let e=a.includes(h)?h:null,t=a.includes(n)?n:e;s.style.colorScheme=t}null==l||l()},[v]),I=n.useCallback(e=>{let t="function"==typeof e?e(w):e;k(t);try{localStorage.setItem(s,t)}catch(e){}},[w]),j=n.useCallback(t=>{E(g(t)),"system"===w&&r&&!e&&x("system")},[w,e]);n.useEffect(()=>{let e=window.matchMedia(i);return e.addListener(j),j(e),()=>e.removeListener(j)},[j]),n.useEffect(()=>{let e=e=>{e.key===s&&(e.newValue?k(e.newValue):I(h))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[I]),n.useEffect(()=>{x(null!=e?e:w)},[e,w]);let C=n.useMemo(()=>({theme:w,setTheme:I,forcedTheme:e,resolvedTheme:"system"===w?S:w,themes:r?[...d,"system"]:d,systemTheme:r?S:void 0}),[w,I,e,S,r,d]);return n.createElement(l.Provider,{value:C},n.createElement(u,{forcedTheme:e,storageKey:s,attribute:p,enableSystem:r,enableColorScheme:o,defaultTheme:h,value:y,themes:d,nonce:v,scriptProps:_}),b)},u=n.memo(({forcedTheme:e,storageKey:t,attribute:a,enableSystem:i,enableColorScheme:o,defaultTheme:l,value:s,themes:c,nonce:d,scriptProps:u})=>{let f=JSON.stringify([a,t,l,e,c,s,i,o]).slice(1,-1);return n.createElement("script",{...u,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?d:"",dangerouslySetInnerHTML:{__html:`(${r.toString()})(${f})`}})}),f=(e,t)=>{let n;if(!o){try{n=localStorage.getItem(e)||void 0}catch(e){}return n||t}},m=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},g=e=>(e||(e=window.matchMedia(i)),e.matches?"dark":"light");function h({children:e,...n}){return(0,t.jsx)(s,{...n,children:e})}e.s(["ThemeProvider",()=>h],89554)},57091,e=>{"use strict";var t=e.i(43476),n=e.i(71645),r=e.i(24672);function a({children:e}){let{fetchTenantConfig:a,isInitialized:i}=(0,r.useTenant)();return(0,n.useEffect)(()=>{i||a()},[a,i]),(0,t.jsx)(t.Fragment,{children:e})}function i(){let{isInitialized:e,isLoading:t}=(0,r.useTenant)();return e&&!t}function o({children:e,fallback:n}){return i()?(0,t.jsx)(t.Fragment,{children:e}):n??null}e.s(["TenantProvider",()=>a,"TenantReady",()=>o,"useTenantReady",()=>i])},48030,e=>{"use strict";var t=e.i(43476),n=e.i(38036),r=e.i(67881),a=e.i(37727),i=e.i(86536);function o(){let{isImpersonating:e,impersonatedUserEmail:o,endImpersonation:l}=(0,n.useAuth)();return e?(0,t.jsxs)("div",{className:"bg-amber-500 text-amber-950 px-4 py-2 flex items-center justify-between gap-4 text-sm font-medium",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.Eye,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:["Viewing as ",(0,t.jsx)("strong",{children:o})]})]}),(0,t.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:l,className:"bg-amber-100 hover:bg-amber-200 text-amber-950 border-amber-600 h-7 px-3",children:[(0,t.jsx)(a.X,{className:"w-3 h-3 mr-1"}),"Stop Impersonating"]})]}):null}function l(){return(0,t.jsx)(o,{})}e.s(["ImpersonationBannerWrapper",()=>l],48030)},72285,e=>{"use strict";var t=e.i(71645);function n(){return(0,t.useEffect)(()=>{let e="localhost"===window.location.hostname;"https:"===window.location.protocol||e?"serviceWorker"in navigator?navigator.serviceWorker.register("/sw.js",{scope:"/"}).then(e=>{console.log("[SW] Service worker registered:",e.scope),e.addEventListener("updatefound",()=>{let t=e.installing;t&&(console.log("[SW] New service worker installing..."),t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&console.log("[SW] New service worker installed, refresh for updates")}))})}).catch(e=>{console.error("[SW] Service worker registration failed:",e)}):console.log("[SW] Service workers not supported"):console.log("[SW] Skipping service worker registration: requires HTTPS")},[]),null}e.s(["ServiceWorkerRegistration",()=>n])},8341,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={cancelIdleCallback:function(){return o},requestIdleCallback:function(){return i}};for(var a in r)Object.defineProperty(n,a,{enumerable:!0,get:r[a]});let i="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},o="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},79520,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={default:function(){return v},handleClientScriptLoad:function(){return p},initScriptLoader:function(){return y}};for(var a in r)Object.defineProperty(n,a,{enumerable:!0,get:r[a]});let i=e.r(55682),o=e.r(90809),l=e.r(43476),s=i._(e.r(74080)),c=o._(e.r(71645)),d=e.r(42732),u=e.r(22737),f=e.r(8341),m=new Map,g=new Set,h=e=>{let{src:t,id:n,onLoad:r=()=>{},onReady:a=null,dangerouslySetInnerHTML:i,children:o="",strategy:l="afterInteractive",onError:c,stylesheets:d}=e,f=n||t;if(f&&g.has(f))return;if(m.has(t)){g.add(f),m.get(t).then(r,c);return}let h=()=>{a&&a(),g.add(f)},p=document.createElement("script"),y=new Promise((e,t)=>{p.addEventListener("load",function(t){e(),r&&r.call(this,t),h()}),p.addEventListener("error",function(e){t(e)})}).catch(function(e){c&&c(e)});i?(p.innerHTML=i.__html||"",h()):o?(p.textContent="string"==typeof o?o:Array.isArray(o)?o.join(""):"",h()):t&&(p.src=t,m.set(t,y)),(0,u.setAttributesFromProps)(p,e),"worker"===l&&p.setAttribute("type","text/partytown"),p.setAttribute("data-nscript",l),d&&(e=>{if(s.default.preinit)return e.forEach(e=>{s.default.preinit(e,{as:"style"})});if("undefined"!=typeof window){let t=document.head;e.forEach(e=>{let n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.appendChild(n)})}})(d),document.body.appendChild(p)};function p(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,f.requestIdleCallback)(()=>h(e))}):h(e)}function y(e){e.forEach(p),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");g.add(t)})}function b(e){let{id:t,src:n="",onLoad:r=()=>{},onReady:a=null,strategy:i="afterInteractive",onError:o,stylesheets:u,...m}=e,{updateScripts:p,scripts:y,getIsSsr:b,appDir:v,nonce:_}=(0,c.useContext)(d.HeadManagerContext);_=m.nonce||_;let w=(0,c.useRef)(!1);(0,c.useEffect)(()=>{let e=t||n;w.current||(a&&e&&g.has(e)&&a(),w.current=!0)},[a,t,n]);let k=(0,c.useRef)(!1);if((0,c.useEffect)(()=>{if(!k.current){if("afterInteractive"===i)h(e);else"lazyOnload"===i&&("complete"===document.readyState?(0,f.requestIdleCallback)(()=>h(e)):window.addEventListener("load",()=>{(0,f.requestIdleCallback)(()=>h(e))}));k.current=!0}},[e,i]),("beforeInteractive"===i||"worker"===i)&&(p?(y[i]=(y[i]||[]).concat([{id:t,src:n,onLoad:r,onReady:a,onError:o,...m,nonce:_}]),p(y)):b&&b()?g.add(t||n):b&&!b()&&h({...e,nonce:_})),v){if(u&&u.forEach(e=>{s.default.preinit(e,{as:"style"})}),"beforeInteractive"===i)if(!n)return m.dangerouslySetInnerHTML&&(m.children=m.dangerouslySetInnerHTML.__html,delete m.dangerouslySetInnerHTML),(0,l.jsx)("script",{nonce:_,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([0,{...m,id:t}])})`}});else return s.default.preload(n,m.integrity?{as:"script",integrity:m.integrity,nonce:_,crossOrigin:m.crossOrigin}:{as:"script",nonce:_,crossOrigin:m.crossOrigin}),(0,l.jsx)("script",{nonce:_,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([n,{...m,id:t}])})`}});"afterInteractive"===i&&n&&s.default.preload(n,m.integrity?{as:"script",integrity:m.integrity,nonce:_,crossOrigin:m.crossOrigin}:{as:"script",nonce:_,crossOrigin:m.crossOrigin})}return null}Object.defineProperty(b,"__nextScript",{value:!0});let v=b;("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},3303,(e,t,n)=>{t.exports=e.r(79520)},43316,e=>{"use strict";var t=e.i(47167),n=e.i(43476),r=e.i(3303);let a=t.default.env.NEXT_PUBLIC_GA_MEASUREMENT_ID||"G-D0E63LB9FY";function i(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.default,{src:`https://www.googletagmanager.com/gtag/js?id=${a}`,strategy:"afterInteractive"}),(0,n.jsx)(r.default,{id:"google-analytics",strategy:"afterInteractive",children:`
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', '${a}');
        `})]})}e.s(["GoogleAnalytics",()=>i])}]);