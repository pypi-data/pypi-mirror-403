(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,73884,e=>{"use strict";let t=(0,e.i(75254).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],73884)},31278,17521,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["default",()=>t],17521),e.s(["Loader2",()=>t],31278)},18566,(e,t,r)=>{t.exports=e.r(76562)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},65418,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),a=e.i(31278),i=e.i(69638),l=e.i(73884),c=e.i(67881),n=e.i(38036);function d(){let e=(0,s.useRouter)(),d=(0,s.useSearchParams)(),[o,u]=(0,r.useState)("loading"),[m,x]=(0,r.useState)(""),h=(0,r.useRef)(!1),{verifyMagicLink:p,user:f,error:g}=(0,n.useAuth)();return(0,r.useEffect)(()=>{if(h.current)return;h.current=!0;let t=d.get("token");if(!t){u("error"),x("No verification token provided");return}(async()=>{await p(t)?(u("success"),setTimeout(()=>{e.push("/app")},2e3)):(u("error"),x(n.useAuth.getState().error||"Invalid or expired link"))})()},[d,p,e]),(0,t.jsxs)("div",{className:"max-w-md w-full bg-card border border-border rounded-xl p-8 text-center",children:["loading"===o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Loader2,{className:"w-12 h-12 text-primary animate-spin mx-auto mb-4"}),(0,t.jsx)("h1",{className:"text-xl font-semibold text-foreground mb-2",children:"Verifying your sign-in link..."}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Please wait while we sign you in."})]}),"success"===o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.CheckCircle,{className:"w-12 h-12 text-success mx-auto mb-4"}),(0,t.jsx)("h1",{className:"text-xl font-semibold text-foreground mb-2",children:"Successfully signed in!"}),(0,t.jsxs)("p",{className:"text-muted-foreground mb-4",children:["Welcome back",f?.email?`, ${f.email}`:"","!"]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Redirecting you to the app..."})]}),"error"===o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.XCircle,{className:"w-12 h-12 text-destructive mx-auto mb-4"}),(0,t.jsx)("h1",{className:"text-xl font-semibold text-foreground mb-2",children:"Sign-in failed"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:m||"The link may have expired or already been used."}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Button,{onClick:()=>e.push("/app"),className:"w-full bg-primary hover:bg-primary/90",children:"Go to App"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"You can request a new sign-in link from the app."})]})]})]})}function o(){return(0,t.jsxs)("div",{className:"max-w-md w-full bg-card border border-border rounded-xl p-8 text-center",children:[(0,t.jsx)(a.Loader2,{className:"w-12 h-12 text-primary animate-spin mx-auto mb-4"}),(0,t.jsx)("h1",{className:"text-xl font-semibold text-foreground mb-2",children:"Loading..."}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Please wait."})]})}function u(){return(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)(o,{}),children:(0,t.jsx)(d,{})})})}e.s(["default",()=>u])}]);