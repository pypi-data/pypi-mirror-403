(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20682,e=>{"use strict";var s=e.i(71645);let t=0,a=new Map,r=e=>{if(a.has(e))return;let s=setTimeout(()=>{a.delete(e),n({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,s)},d=[],i={toasts:[]};function n(e){i=((e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?r(t):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}})(i,e),d.forEach(e=>{e(i)})}function l({...e}){let s=(t=(t+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>n({type:"DISMISS_TOAST",toastId:s});return n({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>n({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function c(){let[e,t]=s.useState(i);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:l,dismiss:e=>n({type:"DISMISS_TOAST",toastId:e})}}e.s(["useToast",()=>c])},86311,e=>{"use strict";let s=(0,e.i(75254).default)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);e.s(["MessageSquare",()=>s],86311)},16715,e=>{"use strict";let s=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>s],16715)},94179,e=>{"use strict";var s=e.i(43476),t=e.i(91918),a=e.i(25913),r=e.i(47163);let d=(0,a.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:a,asChild:i=!1,...n}){let l=i?t.Slot:"span";return(0,s.jsx)(l,{"data-slot":"badge",className:(0,r.cn)(d({variant:a}),e),...n})}e.s(["Badge",()=>i])},70065,e=>{"use strict";var s=e.i(43476),t=e.i(47163);function a({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-1 rounded-lg border py-6 shadow-sm",e),...a})}function r({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function d({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...a})}function i({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...a})}function n({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>n,"CardDescription",()=>i,"CardHeader",()=>r,"CardTitle",()=>d])},59276,e=>{"use strict";var s=e.i(43476),t=e.i(70065),a=e.i(71428),r=e.i(47163);function d({title:e,value:d,description:i,icon:n,trend:l,loading:c,className:o,valueClassName:x}){return c?(0,s.jsxs)(t.Card,{className:(0,r.cn)("",o),children:[(0,s.jsx)(t.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,s.jsx)(t.CardTitle,{className:"text-sm font-medium",children:(0,s.jsx)(a.Skeleton,{className:"h-4 w-24"})})}),(0,s.jsxs)(t.CardContent,{children:[(0,s.jsx)(a.Skeleton,{className:"h-8 w-16"}),(0,s.jsx)(a.Skeleton,{className:"h-3 w-32 mt-2"})]})]}):(0,s.jsxs)(t.Card,{className:(0,r.cn)("",o),children:[(0,s.jsxs)(t.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(t.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:e}),n&&(0,s.jsx)(n,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(t.CardContent,{children:[(0,s.jsx)("div",{className:(0,r.cn)("text-2xl font-bold",x),children:d}),i&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:i}),l&&(0,s.jsxs)("p",{className:(0,r.cn)("text-xs mt-1",!0===l.positive?"text-green-500":!1===l.positive?"text-red-500":"text-muted-foreground"),children:[!0===l.positive?"+":"",l.value,"% ",l.label]})]})]})}function i({children:e,className:t,columns:a}){return(0,s.jsx)("div",{className:(0,r.cn)("grid gap-4",2===a?"md:grid-cols-2":3===a?"md:grid-cols-2 lg:grid-cols-3":"md:grid-cols-2 lg:grid-cols-4",t),children:e})}e.s(["StatsCard",()=>d,"StatsGrid",()=>i])},44747,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(54858),r=e.i(54458),d=e.i(59276),i=e.i(70065),n=e.i(94179),l=e.i(61911),c=e.i(86311),o=e.i(75254);let x=(0,o.default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var m=e.i(16715),u=e.i(31278);let h=(0,o.default)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),g=(0,o.default)("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);var f=e.i(67881),p=e.i(20682);function v(){let{toast:e}=(0,p.useToast)(),{showTestData:o}=(0,r.useAdminSettings)(),[v,j]=(0,t.useState)(null),[N,b]=(0,t.useState)([]),[_,y]=(0,t.useState)(!0),w=async()=>{try{y(!0);let[e,s]=await Promise.all([a.adminApi.getBetaStats({exclude_test:!o}),a.adminApi.getBetaFeedback(50)]);j(e),b(s.feedback||[])}catch(s){console.error("Failed to load beta data:",s),e({title:"Error",description:s.message||"Failed to load beta program data",variant:"destructive"})}finally{y(!1)}};(0,t.useEffect)(()=>{w()},[o]);let S=e=>e?(0,s.jsx)("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(t=>(0,s.jsx)(x,{className:`w-4 h-4 ${t<=e?"fill-yellow-400 text-yellow-400":"text-muted"}`},t))}):"—";return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Beta Program"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage beta testers and view feedback"})]}),(0,s.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:w,disabled:_,children:[(0,s.jsx)(m.RefreshCw,{className:`w-4 h-4 mr-2 ${_?"animate-spin":""}`}),"Refresh"]})]}),(0,s.jsxs)(d.StatsGrid,{children:[(0,s.jsx)(d.StatsCard,{title:"Total Beta Testers",value:v?.total_beta_testers??0,icon:l.Users,loading:_}),(0,s.jsx)(d.StatsCard,{title:"Active Testers",value:v?.active_testers??0,icon:l.Users,loading:_}),(0,s.jsx)(d.StatsCard,{title:"Pending Feedback",value:v?.pending_feedback??0,icon:c.MessageSquare,loading:_}),(0,s.jsx)(d.StatsCard,{title:"Total Feedback",value:v?.total_feedback_submissions??0,icon:c.MessageSquare,loading:_})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsx)(i.CardTitle,{className:"text-base",children:"Average Ratings"}),(0,s.jsx)(i.CardDescription,{children:"Overall feedback scores from beta testers"})]}),(0,s.jsx)(i.CardContent,{children:_?(0,s.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,s.jsx)(u.Loader2,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):v?.average_ratings?(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,s.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Overall"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsx)("span",{className:"text-2xl font-bold",children:v.average_ratings.overall?.toFixed(1)||"—"}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"/ 5"})]})]}),(0,s.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ease of Use"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsx)("span",{className:"text-2xl font-bold",children:v.average_ratings.ease_of_use?.toFixed(1)||"—"}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"/ 5"})]})]}),(0,s.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Lyrics Accuracy"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsx)("span",{className:"text-2xl font-bold",children:v.average_ratings.lyrics_accuracy?.toFixed(1)||"—"}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"/ 5"})]})]}),(0,s.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Correction Experience"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsx)("span",{className:"text-2xl font-bold",children:v.average_ratings.correction_experience?.toFixed(1)||"—"}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"/ 5"})]})]})]}):(0,s.jsx)("p",{className:"text-muted-foreground",children:"No ratings available yet"})})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsx)(i.CardTitle,{className:"text-base",children:"Recent Feedback"}),(0,s.jsx)(i.CardDescription,{children:"Feedback submissions from beta testers"})]}),(0,s.jsx)(i.CardContent,{children:_?(0,s.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,s.jsx)(u.Loader2,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):0===N.length?(0,s.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No feedback submissions yet"}):(0,s.jsx)("div",{className:"space-y-4",children:N.map(e=>(0,s.jsx)("div",{className:"border rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"font-medium text-sm",children:e.user_email}),e.job_id&&(0,s.jsxs)(n.Badge,{variant:"outline",className:"text-xs",children:["Job: ",e.job_id]}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:(e=>{if(!e)return"—";let s=new Date(e);return isNaN(s.getTime())?"—":s.toLocaleDateString()})(e.created_at)})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 mb-3 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Overall:"}),S(e.overall_rating)]}),e.ease_of_use_rating&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Ease:"}),S(e.ease_of_use_rating)]}),e.lyrics_accuracy_rating&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Accuracy:"}),S(e.lyrics_accuracy_rating)]})]}),e.what_went_well&&(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"What went well:"}),(0,s.jsx)("p",{className:"text-sm",children:e.what_went_well})]}),e.what_could_improve&&(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"What could improve:"}),(0,s.jsx)("p",{className:"text-sm",children:e.what_could_improve})]}),e.additional_comments&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Additional comments:"}),(0,s.jsx)("p",{className:"text-sm",children:e.additional_comments})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1 text-sm",children:[void 0!==e.would_recommend&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[e.would_recommend?(0,s.jsx)(h,{className:"w-4 h-4 text-green-500"}):(0,s.jsx)(g,{className:"w-4 h-4 text-red-500"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"Recommend"})]}),void 0!==e.would_use_again&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[e.would_use_again?(0,s.jsx)(h,{className:"w-4 h-4 text-green-500"}):(0,s.jsx)(g,{className:"w-4 h-4 text-red-500"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"Use Again"})]})]})]})},e.id))})})]})]})}e.s(["default",()=>v],44747)}]);