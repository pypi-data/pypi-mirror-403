
[tool.poetry]
name = "topolib"
# Poetry requires a version field, but poetry-dynamic-versioning will override it
version = "0.16.0"
description = "A compact Python library for modeling, analyzing, and visualizing optical network topologies."
authors = ["Danilo BÃ³rquez-Paredes <danilo.borquez.p@uai.cl>"]
license = "MIT"
readme = "README.md"
repository = "https://gitlab.com/DaniloBorquez/topolib"
documentation = "https://topolib.readthedocs.io/"
homepage = "https://gitlab.com/DaniloBorquez/topolib"
keywords = ["network", "topology", "optical", "analysis", "visualization"]
classifiers = [
    "Development Status :: 4 - Beta",
    "License :: OSI Approved :: MIT License",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Operating System :: OS Independent",
    "Intended Audience :: Science/Research",
    "Intended Audience :: Developers",
    "Intended Audience :: Telecommunications Industry",
    "Topic :: Scientific/Engineering",
    "Topic :: Scientific/Engineering :: Information Analysis",
    "Topic :: Scientific/Engineering :: Visualization",
    "Topic :: Software Development :: Libraries :: Python Modules",
]
packages = [
    { include = "topolib" }
]
include = [
    "topolib/assets/*.json",
    "LICENSE",
    "README.md",
]

[tool.poetry.dependencies]
python = ">=3.10"
numpy = ">=1.21"
networkx = ">=2.6"
scipy = ">=1.7"
folium = ">=0.14.0"
jsonschema = ">=4.0"
PyQt6 = ">=6.0"
PyQt6-WebEngine = ">=6.0"

[tool.poetry.group.dev.dependencies]
pytest = "*"
pytest-cov = "*"

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"

[tool.poetry-dynamic-versioning]
enable = false
vcs = "git"
style = "pep440"
pattern = '(?P<base>\d+\.\d+\.\d+)'
strict = true
format-jinja = """
    {%- if distance == 0 -%}
        {{ base }}
    {%- else -%}
        {{ base }}.post{{ distance }}.dev0
    {%- endif -%}
"""

[tool.coverage.run]
omit = [
    "topolib/visualization/_qt_screenshot.py",
    "topolib/visualization/_qt_window.py",
]

[tool.coverage.report]
exclude_lines = [
    "pragma: no cover",
    "def __repr__",
    "raise AssertionError",
    "raise NotImplementedError",
    "if __name__ == .__main__.:",
]

