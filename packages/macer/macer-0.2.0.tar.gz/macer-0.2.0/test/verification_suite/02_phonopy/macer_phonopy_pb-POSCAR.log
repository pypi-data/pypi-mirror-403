
===== macer phonon workflow: START =====
Command: /opt/homebrew/Caskroom/miniforge/base/bin/macer phonopy pb -p POSCAR --ff emt --dim 2 2 2 --dos --write-arrow --output-dir verif_pb
  MLFF Model: (no model specified, using EMT internal default)
Output directory: /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb
Input structure: /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb/POSCAR
Output directory: /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb
Displacement distance: 0.01 Ã…

--- Step 0: Initial structure preparation ---
Using simple 'macer relax' (ISIF=3).
Running command: /opt/homebrew/Caskroom/miniforge/base/bin/python3.12 -m macer.cli.main relax -p /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb/POSCAR --isif 3 --fmax 0.005 --device cpu --contcar CONTCAR-POSCAR --no-pdf --symprec 1e-05 --ff emt
  Space group of prepared structure (CONTCAR-POSCAR): Fm-3m (No. 225)

--- Step 1: Loading MLFF model (emt) ---
EMT calculator selected. Supported elements: Al, Cu, Ag, Au, Ni, Pd, Pt

--- Step 1: Generating displacements with phonopy ---
Using user-provided diagonal supercell DIM = [2, 2, 2]
Supercell (DIM): 2 2 2
Wrote phonopy_disp.yaml
Wrote SPOSCAR

--- Step 3: Creating FORCE_SETS and FORCE_CONSTANTS ---
Force constants produced via API.
FORCE_SETS created successfully.
FORCE_CONSTANTS created successfully.

--- Step 4: Creating band.conf ---
[OK] Wrote /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb/band.conf
------------------------------------------------------------
[Seekpath] POSCAR: /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb/CONTCAR-POSCAR
[Seekpath] Space group: Fm-3m (No.225), Bravais: cF
[Seekpath] Q-path (labels): GM - X - U - K - GM - L - W - X
[Seekpath] Q-points (reciprocal crystal units):
    GM : 0.000  0.000  0.000
     X : 0.500  0.000  0.500
     U : 0.625  0.250  0.625
     K : 0.375  0.375  0.750
    GM : 0.000  0.000  0.000
     L : 0.500  0.500  0.500
     W : 0.500  0.250  0.750
     X : 0.500  0.000  0.500
[Seekpath] Total q-points: 8
[Seekpath] DIM = 2 2 2  (source: phonopy_disp.yaml)
------------------------------------------------------------
band.conf created successfully.

--- Step 5: Plotting band structure ---
Generating band structure from band.conf using phonopy API...
band.yaml created successfully.
band.pdf created successfully.
Band structure data written to /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb/band.dat

--- Step 5.1: Calculating and Plotting Phonon DOS ---
Calculating DOS with mesh: [20, 20, 20] (with_eigenvectors=True, is_mesh_symmetry=False)
DOS frequency range: -0.6743 to 11.7701 (n_points=201)
DEBUG: raw_pdos shape: (1, 201)
DEBUG: Transposing raw_pdos to (n_freqs, n_atoms)
Grouping PDOS by elements: ['Ni']
phonon_dos.dat created successfully.
phonon_dos.pdf created successfully (Total + Projected).

--- Step 6: Renaming outputs ---
Copied phonopy_disp.yaml -> phonopy_disp-POSCAR.yaml
Renamed band.conf -> band-POSCAR.conf
Renamed band.pdf -> band-POSCAR.pdf
Renamed band.yaml -> band-POSCAR.yaml
Renamed band.dat -> band-POSCAR.dat
Renamed phonon_dos.dat -> phonon_dos-POSCAR.dat
Renamed phonon_dos.pdf -> phonon_dos-POSCAR.pdf
Copied FORCE_SETS -> FORCE_SETS_POSCAR
Copied FORCE_CONSTANTS -> FORCE_CONSTANTS_POSCAR
Copied SPOSCAR -> SPOSCAR_POSCAR
Warning: Could not copy input POSCAR: PosixPath('/Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb/POSCAR') and PosixPath('/Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb/POSCAR') are the same file

--- Step 7: Writing VESTA files for phonon modes ---
  Mode: Writing arrows for Special Q-points detected in band path.
  - Processing Q-point 1: GM [0. 0. 0.]
  Generated base VESTA file: /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb/ARROW-POSCAR/QPOINTS_001-GM=0.000_0.000_0.000/CONTCAR-POSCAR.vesta
  Mode: Writing arrows for specific target q-point: [0. 0. 0.]
  Preparing to write VESTA files for 1 q-points...
  Done. VESTA and MCIF files for arrows are written in /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb/ARROW-POSCAR/QPOINTS_001-GM=0.000_0.000_0.000
  - Processing Q-point 2: X [0.5 0.  0.5]
  Generated base VESTA file: /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb/ARROW-POSCAR/QPOINTS_002-X=0.500_0.000_0.500/CONTCAR-POSCAR.vesta
  Mode: Writing arrows for specific target q-point: [0.5 0.  0.5]
  Preparing to write VESTA files for 1 q-points...
  Done. VESTA and MCIF files for arrows are written in /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb/ARROW-POSCAR/QPOINTS_002-X=0.500_0.000_0.500
  - Processing Q-point 3: U [0.625 0.25  0.625]
  Generated base VESTA file: /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb/ARROW-POSCAR/QPOINTS_003-U=0.625_0.250_0.625/CONTCAR-POSCAR.vesta
  Mode: Writing arrows for specific target q-point: [0.625 0.25  0.625]
  Preparing to write VESTA files for 1 q-points...
  Done. VESTA and MCIF files for arrows are written in /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb/ARROW-POSCAR/QPOINTS_003-U=0.625_0.250_0.625
  - Processing Q-point 4: K [0.375 0.375 0.75 ]
  Generated base VESTA file: /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb/ARROW-POSCAR/QPOINTS_004-K=0.375_0.375_0.750/CONTCAR-POSCAR.vesta
  Mode: Writing arrows for specific target q-point: [0.375 0.375 0.75 ]
  Preparing to write VESTA files for 1 q-points...
  Done. VESTA and MCIF files for arrows are written in /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb/ARROW-POSCAR/QPOINTS_004-K=0.375_0.375_0.750
  - Processing Q-point 5: L [0.5 0.5 0.5]
  Generated base VESTA file: /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb/ARROW-POSCAR/QPOINTS_005-L=0.500_0.500_0.500/CONTCAR-POSCAR.vesta
  Mode: Writing arrows for specific target q-point: [0.5 0.5 0.5]
  Preparing to write VESTA files for 1 q-points...
  Done. VESTA and MCIF files for arrows are written in /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb/ARROW-POSCAR/QPOINTS_005-L=0.500_0.500_0.500
  - Processing Q-point 6: W [0.5  0.25 0.75]
  Generated base VESTA file: /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb/ARROW-POSCAR/QPOINTS_006-W=0.500_0.250_0.750/CONTCAR-POSCAR.vesta
  Mode: Writing arrows for specific target q-point: [0.5  0.25 0.75]
  Preparing to write VESTA files for 1 q-points...
  Done. VESTA and MCIF files for arrows are written in /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb/ARROW-POSCAR/QPOINTS_006-W=0.500_0.250_0.750

--- Step 8: Writing modulation-example.conf ---
Created modulation-example.conf

--- Cleaning up ---

Workflow for POSCAR completed.

--- Final summary ---
  Space group of CONTCAR-POSCAR: Fm-3m (No. 225)

--- Post-processing Help ---
Calculation directory: /Users/bama/Dropbox/data/code/macer/develop/macer/test/verification_suite/02_phonopy/verif_pb
To re-calculate irreducible representations (example):
  phonopy --dim="2 2 2" --irreps="0 0 0" -c POSCAR-input --tolerance 0.005
To re-plot band structure (example):
  phonopy --dim="2 2 2" -c POSCAR-input -p -s band-POSCAR.conf
===== macer phonon workflow: DONE =====

