[build-system]
requires = ["setuptools>=61.0", "numpy"]
build-backend = "setuptools.build_meta"

[project]
name = "macer"
dynamic = ["version"]
description = "Machine-learning accelerated Atomic Computational Environment for automated Research workflows"
readme = "README.md"
license = { text = "MIT" }
requires-python = ">=3.10"
dependencies = [
    "numpy",
    "matplotlib",
    "ase",
    "pymatgen",
    "emmet-core",
    "monty",
    "phonopy==2.47.1",
    "phono3py==3.24.0",
    "seekpath==2.1.0",
    "vise==0.9.5",
    "pydefect==0.9.11",
    "dynaphopy==1.18.0",
    "symfc",
    "scipy",
    "tqdm",
    "pyyaml",
    "torch",
    "torch_ema",
    "typing-extensions",
    "e3nn>=0.5.1",
    "chgnet",
    "matgl",
    "mattersim",
    "sevenn",
    "fairchem-core",
    "orb-models",
    "nequip",
    "huggingface_hub",
]

authors = [
    { name = "Soungmin Bae", email = "soungminbae@gmail.com" },
]

[tool.setuptools.dynamic]
version = {attr = "macer.__version__"}

[project.scripts]
macer = "macer.cli.main:main"
macer_phonopy = "macer.cli.phonopy_main:main"
macer_pydefect = "macer.cli.pydefect_main:main"
macer_util = "macer.cli.util_main:main"

[tool.setuptools]
include-package-data = true

[tool.setuptools.packages.find]
# This tells setuptools to find packages in the current directory ('.')
# and include 'macer' as a package.
where = ["."]
include = ["macer*"]

[tool.setuptools.package-data]
macer = [
    "*.yaml", 
    "externals/e3nn_legacy/o3/constants.pt",
    "externals/mace_bundled/py.typed",
]
