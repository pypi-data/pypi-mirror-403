#!/bin/bash
# Ontos pre-push hook v3.0
# All logic delegated to Python for testability

# Bypass if Ontos not installed
python3 -c "import importlib.util, sys; sys.exit(0 if importlib.util.find_spec('ontos._scripts.ontos_pre_push_check') else 1)"
if [ $? -ne 0 ]; then
    exit 0
fi

# Hand off to bundled module
python3 -m ontos._scripts.ontos_pre_push_check
exit $?
