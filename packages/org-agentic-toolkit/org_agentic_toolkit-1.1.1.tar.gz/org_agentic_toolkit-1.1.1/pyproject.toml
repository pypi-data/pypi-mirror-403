[build-system]
requires = ["setuptools>=61.0", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "org-agentic-toolkit"
version = "1.1.1"
description = "Governance infrastructure that compiles and validates organization-level agent rules"
readme = "README.md"
requires-python = ">=3.12"
license = { text = "MIT" }
authors = [{ name = "Alain Prasquier [alain-sv](https://github.com/alain-sv/)"  }]
keywords = ["agent", "governance", "rules", "compilation", "validation"]
classifiers = [
    "Development Status :: 4 - Beta",
    "Intended Audience :: Developers",
    "License :: OSI Approved :: MIT License",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
]

dependencies = ["pyyaml>=6.0", "click>=8.3.0", "questionary>=2.1.1"]

[project.optional-dependencies]
dev = [
    "pytest>=9.0.0",
    "pytest-cov>=7.0.0",
    "jsonschema>=4.0.0",
    "watchdog>=6.0.0",
]

[project.scripts]
oat = "oat.cli:main"

[tool.setuptools]
packages = ["oat", "oat.templates"]

[tool.setuptools.package-data]
"oat.templates" = ["**"]

[tool.pytest.ini_options]
testpaths = ["tests"]
python_files = ["test_*.py"]
python_classes = ["Test*"]
python_functions = ["test_*"]

[tool.bumpversion]
current_version = "1.1.1"
commit = true
tag = true
tag_name = "v{new_version}"                                 # Format of the tag name (default is "v{new_version}")
tag_message = "Release {new_version}"                       # Message for the tag
message = "Bump version: {current_version} â†’ {new_version}"
parse = "(?P<major>\\d+)\\.(?P<minor>\\d+)\\.(?P<patch>\\d+)"
serialize = ["{major}.{minor}.{patch}"]

[[tool.bumpversion.files]]
filename = "oat/__init__.py"
search   = '__version__ = "{current_version}"'
replace  = '__version__ = "{new_version}"'

[[tool.bumpversion.files]]
filename = "pyproject.toml"
search   = 'current_version = "{current_version}"'
replace  = 'current_version = "{new_version}"'


