{% extends "base.html" %}
{% load static %}

{% block title %}KayÄ±t Ol - SafePass{% endblock %}

{% block body_class %}register-page{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/components/auth.css' %}?v={{ APP_VERSION }}">
{% endblock %}

{% block content %}
<!-- Animated Background Icons -->
<div class="floating-icons">
    <span class="float-icon" style="--delay: 0s; --x: 10%; --y: 20%;">*</span>
    <span class="float-icon" style="--delay: 0.5s; --x: 85%; --y: 15%;">ğŸ”</span>
    <span class="float-icon" style="--delay: 1s; --x: 15%; --y: 70%;">ğŸ”‘</span>
    <span class="float-icon" style="--delay: 1.5s; --x: 80%; --y: 65%;">#</span>
    <span class="float-icon" style="--delay: 2s; --x: 50%; --y: 10%;">@</span>
    <span class="float-icon" style="--delay: 2.5s; --x: 25%; --y: 45%;">â€¢</span>
    <span class="float-icon" style="--delay: 3s; --x: 70%; --y: 35%;">*</span>
    <span class="float-icon" style="--delay: 3.5s; --x: 40%; --y: 80%;">ğŸ”’</span>
    <span class="float-icon" style="--delay: 4s; --x: 90%; --y: 50%;">*</span>
    <span class="float-icon" style="--delay: 4.5s; --x: 5%; --y: 90%;">#</span>
    <span class="float-icon" style="--delay: 5s; --x: 60%; --y: 25%;">â€¢</span>
    <span class="float-icon" style="--delay: 5.5s; --x: 30%; --y: 60%;">@</span>
</div>

<div class="auth-container">
    <!-- Fixed Info Button -->
    <button type="button" class="btn-info-fixed" id="info-btn" title="NasÄ±l Ã‡alÄ±ÅŸÄ±r?">
        â„¹ï¸
    </button>

    <div class="auth-card">
        <div class="auth-header">
            <h1>ğŸ” SafePass</h1>
            <p>DÄ±ÅŸ dÃ¼nyaya kapalÄ± gÃ¼venliÄŸinizi baÅŸlatÄ±n.</p>
        </div>

        <form id="register-form" method="post" action="/api/auth/register">
            {% csrf_token %}

            <div class="form-group">
                <label class="form-label" for="username">KullanÄ±cÄ± AdÄ±</label>
                <input type="text" class="form-input" id="username" name="username" required
                    placeholder="KullanÄ±cÄ± AdÄ±nÄ±zÄ± Girin">
            </div>

            <div class="form-group">
                <label class="form-label" for="master-password">Åifre</label>
                <div class="password-input-wrapper">
                    <input type="password" class="form-input" id="master-password" name="master_password" required
                        minlength="8" placeholder="Åifrenizi Girin">
                    <button type="button" class="password-toggle" data-target="master-password" tabindex="-1">
                        <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round"
                            stroke-linejoin="round">
                            <path class="eye-open"
                                d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0" />
                            <circle class="eye-open" cx="12" cy="12" r="3" />
                            <path class="eye-closed"
                                d="M2 2l20 20M6.71 6.71a10.75 10.75 0 0 0-4.648 5.638 1 1 0 0 0 0 .696 10.75 10.75 0 0 0 14.569 5.586M12 9a3 3 0 0 1 2.995 3.176M17.29 6.71a10.75 10.75 0 0 1 4.648 5.638 1 1 0 0 1 0 .696c-.36 1.006-.862 1.932-1.478 2.756" />
                        </svg>
                    </button>
                </div>
                <div class="password-strength" id="password-strength" style="display:none;">
                    <div class="strength-bar">
                        <div class="strength-fill" id="strength-fill"></div>
                    </div>
                    <div class="strength-requirements">
                        <div class="requirement" id="req-length">
                            <span class="req-icon">âŒ</span>
                            <span>En az 8 karakter</span>
                        </div>
                        <div class="requirement" id="req-digit">
                            <span class="req-icon">âŒ</span>
                            <span>Rakam (0-9)</span>
                        </div>
                        <div class="requirement" id="req-upper">
                            <span class="req-icon">âŒ</span>
                            <span>BÃ¼yÃ¼k harf (A-Z)</span>
                        </div>
                        <div class="requirement" id="req-lower">
                            <span class="req-icon">âŒ</span>
                            <span>KÃ¼Ã§Ã¼k harf (a-z)</span>
                        </div>
                        <div class="requirement" id="req-special">
                            <span class="req-icon">âœ¨</span>
                            <span>Sembol (!@#$%)</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label" for="master-password-confirm">Åifre (Tekrar)</label>
                <div class="password-input-wrapper">
                    <input type="password" class="form-input" id="master-password-confirm"
                        name="master_password_confirm" required placeholder="Åifrenizi Tekrar Girin">
                    <button type="button" class="password-toggle" data-target="master-password-confirm" tabindex="-1">
                        <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round"
                            stroke-linejoin="round">
                            <path class="eye-open"
                                d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0" />
                            <circle class="eye-open" cx="12" cy="12" r="3" />
                            <path class="eye-closed"
                                d="M2 2l20 20M6.71 6.71a10.75 10.75 0 0 0-4.648 5.638 1 1 0 0 0 0 .696 10.75 10.75 0 0 0 14.569 5.586M12 9a3 3 0 0 1 2.995 3.176M17.29 6.71a10.75 10.75 0 0 1 4.648 5.638 1 1 0 0 1 0 .696c-.36 1.006-.862 1.932-1.478 2.756" />
                        </svg>
                    </button>
                </div>
                <small class="form-hint password-match-hint" id="password-match-hint"></small>
            </div>

            <div class="form-group checkbox-group">
                <label class="checkbox-label">
                    <input type="checkbox" required>
                    <span>âš ï¸ Ana ÅŸifremi unutursam verilerime eriÅŸemeyeceÄŸimi anlÄ±yorum</span>
                </label>
            </div>

            <button type="submit" class="btn btn-primary btn-auth">KayÄ±t Ol</button>

            <div class="auth-link">
                <span>Zaten hesabÄ±n var mÄ±?</span>
                <a href="/auth/login">GiriÅŸ yap</a>
            </div>
        </form>

        {% if error %}
        <div class="alert alert-error mt-3">{{ error }}</div>
        {% endif %}
    </div>

    <!-- Info Modal -->
    <div class="info-modal" id="info-modal">
        <div class="info-modal-content">
            <button class="info-modal-close" id="close-modal">âœ•</button>
            <h2>ğŸ”’ SafePass HakkÄ±nda</h2>

            <div class="info-section">
                <h3>â“ SafePass Nedir?</h3>
                <p>SafePass, ÅŸifrelerinizi gÃ¼venli bir ÅŸekilde bilgisayarÄ±nÄ±zda saklayan offline bir ÅŸifre
                    yÃ¶neticisidir. LastPass veya 1Password gibi Ã§alÄ±ÅŸÄ±r, ancak tamamen yerel ve internet gerektirmez.
                </p>
            </div>

            <div class="info-section">
                <h3>ğŸ’¾ Verilerim Nerede SaklanÄ±yor?</h3>
                <p>TÃ¼m ÅŸifreleriniz sadece kendi bilgisayarÄ±nÄ±zda, <code>~/.safepass/</code> klasÃ¶rÃ¼nde saklanÄ±r. HiÃ§bir
                    bulut sunucuya, internete veya baÅŸka bir yere gÃ¶nderilmez. Verileriniz tamamen sizin kontrolÃ¼nÃ¼zde.
                </p>
            </div>

            <div class="info-section">
                <h3>ğŸ” Åifrelerim GÃ¼vende mi?</h3>
                <p>Evet! TÃ¼m ÅŸifreleriniz gÃ¼Ã§lÃ¼ ÅŸifreleme ile korunur. Ana ÅŸifrenizi sadece siz bilirsiniz ve hiÃ§bir
                    yerde saklanmaz. Bu sayede verilerinize sadece siz eriÅŸebilirsiniz.</p>
            </div>

            <div class="info-section">
                <h3>âš ï¸ Ana Åifremi Unutursam Ne Olur?</h3>
                <p><strong>Ã‡ok Ã¶nemli:</strong> Ana ÅŸifrenizi unutursanÄ±z verilerinize eriÅŸemezsiniz ve kurtarma yolu
                    yoktur. Bu bir gÃ¼venlik Ã¶zelliÄŸidir - hiÃ§ kimse (biz bile) ÅŸifrelerinize eriÅŸemez. Ana ÅŸifrenizi
                    gÃ¼venli bir yerde not edin!</p>
            </div>

            <div class="info-section">
                <h3>ğŸ’» Birden Fazla Bilgisayarda Kullanabilir miyim?</h3>
                <p>Her bilgisayarda ayrÄ± hesap oluÅŸturmanÄ±z gerekir. Ancak <code>~/.safepass/</code> klasÃ¶rÃ¼nÃ¼ USB veya
                    bulut depolama ile yedekleyip baÅŸka bir bilgisayara taÅŸÄ±yabilirsiniz.</p>
            </div>

            <div class="info-section">
                <h3>ğŸŒ Ä°nternet BaÄŸlantÄ±sÄ± Gerekli mi?</h3>
                <p>HayÄ±r! SafePass tamamen offline Ã§alÄ±ÅŸÄ±r. Kurulumdan sonra internet baÄŸlantÄ±sÄ±na ihtiyacÄ±nÄ±z olmaz. Bu
                    sayede daha gÃ¼venli ve hÄ±zlÄ±dÄ±r.</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/modules/auth.js' %}?v={{ APP_VERSION }}"></script>
{% endblock %}