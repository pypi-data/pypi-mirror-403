[build-system]
requires = ["setuptools>=45", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "pydasa"
dynamic = ["version"]
description = "Python package for Dimensional Analysis for Scientific Applications and Software Architecture (PyDASA)."
readme = "README.md"
requires-python = ">=3.10"
license = "GPL-3.0-or-later"
authors = [
    {name = "@SFAM", email = "sa-artea@uniandes.edu.co"}
]
classifiers = [
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Development Status :: 3 - Alpha",
    "Operating System :: OS Independent",
    "Intended Audience :: Science/Research",
    "Intended Audience :: Developers",
    "Topic :: Scientific/Engineering",
]
dependencies = [
    "antlr4-python3-runtime==4.11",
    "numpy>=1.26.4",
    "scipy>=1.13.0",
    "sympy>=1.12",
    "matplotlib>=3.8.0",
    "pandas>=2.1.0",
    "SALib>=1.4.5",
]

[project.optional-dependencies]
dev = [
    "pytest>=8.1.1",
    "twine>=6.1.0",
]
docs = [
    "sphinx>=7.3.7",
    "pydata-sphinx-theme>=0.14.0",
    "sphinx-autodoc-typehints>=1.24.0",
    "sphinx-autoapi>=3.0.0",
    "myst-parser>=2.0.0",
    "sphinx-copybutton>=0.5.2",
    "sphinx-favicon>=1.0.1",
    "sphinx-gitstamp>=0.3.3",
    "sphinx-prompt>=1.8.0",
    "sphinx-markdown-builder>=0.6.5",
    "myst-parser>=2.0.0",  # For Markdown support
    "nbsphinx>=0.9.0",     # For Jupyter notebooks
]

[project.urls]
Homepage = "https://github.com/DASA-Design/PyDASA"

[tool.setuptools]
package-dir = {"" = "src"}

[tool.setuptools.packages.find]
where = ["src"]

[tool.setuptools.package-data]
pydasa = ["core/cfg/*.json"]

[tool.setuptools.dynamic]
version = {attr = "pydasa._version.__version__"}

[tool.semantic_release]
version_toml = ["pyproject.toml:project.version"]
version_variables = ["src/pydasa/_version.py:__version__"]
branch = "main"
build_command = "python -m build"
hvcs = "github"
commit_message = "chore(release): {version} [skip ci]"
tag_format = "v{version}"
major_on_zero = false
allow_zero_version = true

[tool.semantic_release.branches.main]
match = "main"
prerelease = false

[tool.semantic_release.commit_parser_options]
allowed_tags = ["feat", "fix", "docs", "style", "refactor", "perf", "test", "build", "ci", "chore"]
minor_tags = ["feat"]
patch_tags = ["fix", "perf"]