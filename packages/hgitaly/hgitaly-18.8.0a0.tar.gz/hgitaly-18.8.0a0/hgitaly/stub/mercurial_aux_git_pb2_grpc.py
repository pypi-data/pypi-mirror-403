# Generated by the gRPC Python protocol compiler plugin. DO NOT EDIT!
"""Client and server classes corresponding to protobuf-defined services."""
import grpc
import warnings

from . import mercurial_aux_git_pb2 as mercurial__aux__git__pb2
from . import repository_pb2 as repository__pb2

GRPC_GENERATED_VERSION = '1.74.0'
GRPC_VERSION = grpc.__version__
_version_not_supported = False

try:
    from grpc._utilities import first_version_is_lower
    _version_not_supported = first_version_is_lower(GRPC_VERSION, GRPC_GENERATED_VERSION)
except ImportError:
    _version_not_supported = True

if _version_not_supported:
    raise RuntimeError(
        f'The grpc package installed is at version {GRPC_VERSION},'
        + f' but the generated code in mercurial_aux_git_pb2_grpc.py depends on'
        + f' grpcio>={GRPC_GENERATED_VERSION}.'
        + f' Please upgrade your grpc module to grpcio>={GRPC_GENERATED_VERSION}'
        + f' or downgrade your generated code using grpcio-tools<={GRPC_VERSION}.'
    )


class MercurialAuxGitServiceStub(object):
    """Methods working on auxiliary Git repositories

    The auxiliary Git repositories are mostly meant to support mirroring
    to external Git services.
    These are set aside so that Gitaly does not handle them.
    """

    def __init__(self, channel):
        """Constructor.

        Args:
            channel: A grpc.Channel.
        """
        self.AuxGitCreateBundle = channel.unary_stream(
                '/hgitaly.MercurialAuxGitService/AuxGitCreateBundle',
                request_serializer=repository__pb2.CreateBundleRequest.SerializeToString,
                response_deserializer=repository__pb2.CreateBundleResponse.FromString,
                _registered_method=True)
        self.AuxGitCreateFromBundle = channel.stream_unary(
                '/hgitaly.MercurialAuxGitService/AuxGitCreateFromBundle',
                request_serializer=repository__pb2.CreateRepositoryFromBundleRequest.SerializeToString,
                response_deserializer=repository__pb2.CreateRepositoryFromBundleResponse.FromString,
                _registered_method=True)
        self.AuxGitRepositorySize = channel.unary_unary(
                '/hgitaly.MercurialAuxGitService/AuxGitRepositorySize',
                request_serializer=repository__pb2.RepositorySizeRequest.SerializeToString,
                response_deserializer=repository__pb2.RepositorySizeResponse.FromString,
                _registered_method=True)
        self.AuxGitCommitMapping = channel.unary_unary(
                '/hgitaly.MercurialAuxGitService/AuxGitCommitMapping',
                request_serializer=mercurial__aux__git__pb2.AuxGitCommitMappingRequest.SerializeToString,
                response_deserializer=mercurial__aux__git__pb2.AuxGitCommitMappingResponse.FromString,
                _registered_method=True)


class MercurialAuxGitServiceServicer(object):
    """Methods working on auxiliary Git repositories

    The auxiliary Git repositories are mostly meant to support mirroring
    to external Git services.
    These are set aside so that Gitaly does not handle them.
    """

    def AuxGitCreateBundle(self, request, context):
        """Missing associated documentation comment in .proto file."""
        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
        context.set_details('Method not implemented!')
        raise NotImplementedError('Method not implemented!')

    def AuxGitCreateFromBundle(self, request_iterator, context):
        """Missing associated documentation comment in .proto file."""
        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
        context.set_details('Method not implemented!')
        raise NotImplementedError('Method not implemented!')

    def AuxGitRepositorySize(self, request, context):
        """Missing associated documentation comment in .proto file."""
        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
        context.set_details('Method not implemented!')
        raise NotImplementedError('Method not implemented!')

    def AuxGitCommitMapping(self, request, context):
        """/ Resolve Mercurial commit ID from Git commit ID and conversely
        """
        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
        context.set_details('Method not implemented!')
        raise NotImplementedError('Method not implemented!')


def add_MercurialAuxGitServiceServicer_to_server(servicer, server):
    rpc_method_handlers = {
            'AuxGitCreateBundle': grpc.unary_stream_rpc_method_handler(
                    servicer.AuxGitCreateBundle,
                    request_deserializer=repository__pb2.CreateBundleRequest.FromString,
                    response_serializer=repository__pb2.CreateBundleResponse.SerializeToString,
            ),
            'AuxGitCreateFromBundle': grpc.stream_unary_rpc_method_handler(
                    servicer.AuxGitCreateFromBundle,
                    request_deserializer=repository__pb2.CreateRepositoryFromBundleRequest.FromString,
                    response_serializer=repository__pb2.CreateRepositoryFromBundleResponse.SerializeToString,
            ),
            'AuxGitRepositorySize': grpc.unary_unary_rpc_method_handler(
                    servicer.AuxGitRepositorySize,
                    request_deserializer=repository__pb2.RepositorySizeRequest.FromString,
                    response_serializer=repository__pb2.RepositorySizeResponse.SerializeToString,
            ),
            'AuxGitCommitMapping': grpc.unary_unary_rpc_method_handler(
                    servicer.AuxGitCommitMapping,
                    request_deserializer=mercurial__aux__git__pb2.AuxGitCommitMappingRequest.FromString,
                    response_serializer=mercurial__aux__git__pb2.AuxGitCommitMappingResponse.SerializeToString,
            ),
    }
    generic_handler = grpc.method_handlers_generic_handler(
            'hgitaly.MercurialAuxGitService', rpc_method_handlers)
    server.add_generic_rpc_handlers((generic_handler,))
    server.add_registered_method_handlers('hgitaly.MercurialAuxGitService', rpc_method_handlers)


 # This class is part of an EXPERIMENTAL API.
class MercurialAuxGitService(object):
    """Methods working on auxiliary Git repositories

    The auxiliary Git repositories are mostly meant to support mirroring
    to external Git services.
    These are set aside so that Gitaly does not handle them.
    """

    @staticmethod
    def AuxGitCreateBundle(request,
            target,
            options=(),
            channel_credentials=None,
            call_credentials=None,
            insecure=False,
            compression=None,
            wait_for_ready=None,
            timeout=None,
            metadata=None):
        return grpc.experimental.unary_stream(
            request,
            target,
            '/hgitaly.MercurialAuxGitService/AuxGitCreateBundle',
            repository__pb2.CreateBundleRequest.SerializeToString,
            repository__pb2.CreateBundleResponse.FromString,
            options,
            channel_credentials,
            insecure,
            call_credentials,
            compression,
            wait_for_ready,
            timeout,
            metadata,
            _registered_method=True)

    @staticmethod
    def AuxGitCreateFromBundle(request_iterator,
            target,
            options=(),
            channel_credentials=None,
            call_credentials=None,
            insecure=False,
            compression=None,
            wait_for_ready=None,
            timeout=None,
            metadata=None):
        return grpc.experimental.stream_unary(
            request_iterator,
            target,
            '/hgitaly.MercurialAuxGitService/AuxGitCreateFromBundle',
            repository__pb2.CreateRepositoryFromBundleRequest.SerializeToString,
            repository__pb2.CreateRepositoryFromBundleResponse.FromString,
            options,
            channel_credentials,
            insecure,
            call_credentials,
            compression,
            wait_for_ready,
            timeout,
            metadata,
            _registered_method=True)

    @staticmethod
    def AuxGitRepositorySize(request,
            target,
            options=(),
            channel_credentials=None,
            call_credentials=None,
            insecure=False,
            compression=None,
            wait_for_ready=None,
            timeout=None,
            metadata=None):
        return grpc.experimental.unary_unary(
            request,
            target,
            '/hgitaly.MercurialAuxGitService/AuxGitRepositorySize',
            repository__pb2.RepositorySizeRequest.SerializeToString,
            repository__pb2.RepositorySizeResponse.FromString,
            options,
            channel_credentials,
            insecure,
            call_credentials,
            compression,
            wait_for_ready,
            timeout,
            metadata,
            _registered_method=True)

    @staticmethod
    def AuxGitCommitMapping(request,
            target,
            options=(),
            channel_credentials=None,
            call_credentials=None,
            insecure=False,
            compression=None,
            wait_for_ready=None,
            timeout=None,
            metadata=None):
        return grpc.experimental.unary_unary(
            request,
            target,
            '/hgitaly.MercurialAuxGitService/AuxGitCommitMapping',
            mercurial__aux__git__pb2.AuxGitCommitMappingRequest.SerializeToString,
            mercurial__aux__git__pb2.AuxGitCommitMappingResponse.FromString,
            options,
            channel_credentials,
            insecure,
            call_credentials,
            compression,
            wait_for_ready,
            timeout,
            metadata,
            _registered_method=True)
