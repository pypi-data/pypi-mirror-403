# Salesforce MCP Server Configuration
# =====================================

# ============================================
# HTTP Server Settings
# ============================================
# Port for HTTP server (streamable-http mode)
FASTMCP_PORT=8000

# Base URL for OAuth callbacks (must match your deployment URL)
FASTMCP_BASE_URL=http://localhost:8000

# ============================================
# OAuth Redirect Configuration
# ============================================
# Path for OAuth callback from Salesforce (upstream redirect)
# Full redirect URI = FASTMCP_BASE_URL + OAUTH_REDIRECT_PATH
# This must match the Callback URL in your Salesforce Connected App
OAUTH_REDIRECT_PATH=/auth/callback

# Restrict allowed MCP client redirect URIs (comma-separated, optional)
# Leave empty to allow any localhost redirect
# Example: http://localhost:54321/callback,http://127.0.0.1:54321/callback
OAUTH_ALLOWED_CLIENT_REDIRECT_URIS=

# ============================================
# Salesforce OAuth (Required)
# ============================================
# Connected App client ID (required)
SALESFORCE_CLIENT_ID=your_connected_app_client_id

# Client secret (leave empty for PKCE-only, recommended)
SALESFORCE_CLIENT_SECRET=

# ============================================
# Salesforce Instance
# ============================================
# Login URL (authorization server)
# - Production: https://login.salesforce.com
# - Sandbox: https://test.salesforce.com
SALESFORCE_LOGIN_URL=https://login.salesforce.com

# Instance URL for API calls and token verification
# - Production: https://login.salesforce.com
# - Sandbox: https://test.salesforce.com
# - Custom domain: https://your-domain.my.salesforce.com
SALESFORCE_INSTANCE_URL=https://login.salesforce.com

# ============================================
# OAuth Storage Configuration
# ============================================
# Storage type for OAuth client data
# - memory: In-memory storage (default, fast, data lost on restart)
# - redis: Redis storage (persistent, supports distributed deployments)
OAUTH_STORAGE_TYPE=memory

# Redis connection URL (required if OAUTH_STORAGE_TYPE=redis)
REDIS_URL=redis://localhost:6379

# Fernet encryption key for encrypting stored OAuth data (optional)
# Generate with:
#   python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
#   openssl rand -base64 32
STORAGE_ENCRYPTION_KEY=

# ============================================
# Logging
# ============================================
# Valid levels: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO
