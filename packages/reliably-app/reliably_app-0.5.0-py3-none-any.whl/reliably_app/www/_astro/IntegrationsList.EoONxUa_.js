import{i as x,a as D,b as S,f as B}from"./integrations.CUprebZ9.js";import{N as V}from"./NoData.CWOJbPLy.js";import{M as j}from"./ModalWindow.Go1bYN-e.js";import{I as M}from"./IntegrationPreview.B-AT9fdu.js";import{L as P}from"./LoadingPlaceholder.BoWrztnb.js";import{J}from"./JsonViewer.CMLqmGhq.js";import{_ as h}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{u as b}from"./index.CwJxcYEt.js";import{d as w,t as O,r as i,o as k,h as o,l as s,c as p,e as d,f as F,F as f,k as R,m as L,b as W,j as z,i as A}from"./runtime-core.esm-bundler.Y6RLDZTT.js";import{P as E}from"./Pager.Cmasf88E.js";import"./user.BEEfOshe.js";import"./user.Bg1Nd46A.js";import"./index.BSdFiPHn.js";import"./loader.BQDlK3Tc.js";import"./notifications.NSMm1_5U.js";/* empty css                        */import"./index.DUHDLdXK.js";import"./CloseIcon.DLOPA8gH.js";/* empty css                        */import"./runtime-dom.esm-bundler.DChKj6X8.js";import"./TimeAgo.hHi23vP_.js";import"./dayjs.min.xlbmdZiw.js";import"./DeleteButton.Ch6PF2gM.js";import"./TrashIcon.BzGEjUcP.js";import"./ConfirmDeleteIntegration.6-Iox7ZZ.js";/* empty css                       */import"./IntegrationVendorIcon.DaK4Ze8p.js";import"./SlackLogo.DsMAXqZJ.js";import"./HoneycombMark.CTdYfWPx.js";import"./GoogleCloudLogo.D_PfFuNt.js";import"./ReliablyRLogo.BeZqNTy5.js";/* empty css                       *//* empty css                       */import"./js-yaml.C-pQuU5J.js";/* empty css                        */import"./preload-helper.CLcXU_4U.js";/* empty css                       */const T=w({__name:"IntegrationControl",props:{id:{}},setup(m,{expose:n}){n();const a=m,{id:e}=O(a),r=i(!0),l=b(x);k(async()=>{r.value=!0,await D(e.value),r.value=!1});const t={props:a,id:e,isLoading:r,control:l,LoadingPlaceholder:P,JsonViewer:J};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}});function U(m,n,a,e,r,l){return e.isLoading?(o(),s(e.LoadingPlaceholder,{key:0})):(o(),s(e.JsonViewer,{key:1,json:JSON.stringify(e.control,null,2),"no-padding":!0},null,8,["json"]))}const Y=h(T,[["render",U]]),q=w({__name:"IntegrationsList",setup(m,{expose:n}){n();const a=i(!0),e=i(void 0),r=i({currentPage:1,lastPage:1,urlBase:""}),l=b(S),t=()=>{let c=window.location,C=new URLSearchParams(c.search);C.has("page")?e.value=parseInt(C.get("page")):e.value=1},v=()=>{let c={currentPage:e.value,lastPage:Math.ceil(l.value.total/10),urlBase:"/integrations/?page="};r.value=c},g=i(!1),u=i(""),_=i("");function I(c){u.value=c.id,_.value=c.name,g.value=!0}function N(){u.value="",_.value="",g.value=!1}k(async()=>{a.value=!0,t(),await B(e.value),v(),a.value=!1});const y={isLoading:a,page:e,pagerData:r,ints:l,getCurrentPage:t,getpagerData:v,isControlDisplayed:g,controlId:u,controlName:_,displayControl:I,closeControl:N,NoData:V,ModalWindow:j,IntegrationPreview:M,IntegrationControl:Y,LoadingPlaceholder:P,Pager:E};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),G={key:2,class:"environmentsList tableList"};function H(m,n,a,e,r,l){return o(),p(f,null,[e.isLoading?(o(),s(e.LoadingPlaceholder,{key:0,size:"large"})):d("",!0),e.ints.total===0?(o(),s(e.NoData,{key:1,message:"You don't have any active integration yet"})):(o(),p("ul",G,[n[0]||(n[0]=F('<li class="tableList__row tableList__row--header"><div class="tableList__cell"></div><div class="tableList__cell">Name</div><div class="tableList__cell">Provider</div><div class="tableList__cell"><span class="screen-reader-text">Actions</span></div></li>',1)),(o(!0),p(f,null,R(e.ints.integrations,t=>(o(),p(f,{key:t.id},[t.vendor==="reliably"&&(t.provider==="assistant"||t.provider==="snapshot")?d("",!0):(o(),s(e.IntegrationPreview,{key:0,integration:t,page:e.page,onDisplayControl:e.displayControl},null,8,["integration","page"]))],64))),128))])),e.isControlDisplayed?(o(),s(e.ModalWindow,{key:3,hasCloseButton:!0,hasPadding:!0,onClose:e.closeControl},{title:L(()=>[W("Control for integration "+z(e.controlName),1)]),content:L(()=>[A(e.IntegrationControl,{id:e.controlId,name:e.controlName,onClose:e.closeControl},null,8,["id","name"])]),_:1})):d("",!0),e.ints.total>10?(o(),s(e.Pager,{key:4,page:e.pagerData},null,8,["page"])):d("",!0)],64)}const Ve=h(q,[["render",H]]);export{Ve as default};
