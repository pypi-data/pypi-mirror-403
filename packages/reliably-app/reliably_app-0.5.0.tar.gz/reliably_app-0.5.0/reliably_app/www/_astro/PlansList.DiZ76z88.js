import{p as P,f as h}from"./plans.CKfMLPs_.js";import{N as b}from"./NoData.CWOJbPLy.js";import{E as y}from"./EntityFilter.DE3cAZtq.js";import{P as k}from"./PlanPreview.Zap9om5u.js";import{L as w}from"./LoadingPlaceholder.BoWrztnb.js";import{P as N}from"./Pager.Cmasf88E.js";/* empty css                       */import{_ as x}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{u as S}from"./index.CwJxcYEt.js";import{d as D,c as n,i as B,l as c,e as m,f as E,F as _,k as F,r as d,o as V,h as t}from"./runtime-core.esm-bundler.Y6RLDZTT.js";import"./user.BEEfOshe.js";import"./user.Bg1Nd46A.js";import"./index.BSdFiPHn.js";import"./loader.BQDlK3Tc.js";import"./notifications.NSMm1_5U.js";import"./environments.zePoF_Ox.js";import"./deployments._Dzuk3-5.js";/* empty css                        */import"./runtime-dom.esm-bundler.DChKj6X8.js";import"./strings.Fm4VVZpd.js";import"./dayjs.min.xlbmdZiw.js";import"./duration.BGVtNWJ9.js";/* empty css                       */import"./TimeAgo.hHi23vP_.js";import"./ConfirmDeletePlan.Doxxn7Bj.js";/* empty css                      */import"./GithubLogo.AFEE3hFH.js";import"./ReliablyRLogo.BeZqNTy5.js";import"./DockerLogo.DO2Y8vmm.js";import"./KubernetesLogo.HTj9OyEL.js";import"./ModalWindow.Go1bYN-e.js";import"./index.DUHDLdXK.js";import"./CloseIcon.DLOPA8gH.js";/* empty css                        *//* empty css                      */import"./experiments.E3MiUWYx.js";import"./experiments.rwiqw3d6.js";import"./objects.CrQdKsRW.js";import"./DeleteButton.Ch6PF2gM.js";import"./TrashIcon.BzGEjUcP.js";/* empty css                       *//* empty css                       */const A=D({__name:"PlansList",setup(f,{expose:s}){s();const i=d(!0),a=d(void 0),e=d(""),p=d({currentPage:1,lastPage:1,urlBase:""}),r=S(P),v=()=>{let o=window.location,l=new URLSearchParams(o.search);l.has("page")?a.value=parseInt(l.get("page")):a.value=1,l.has("search")?e.value=l.get("search"):e.value=""},u=()=>{let o="/plans/?page=";e.value!==""&&(o=`/plans/?search=${e.value}&page=`);let l={currentPage:a.value,lastPage:Math.ceil(r.value.total/10),urlBase:o};p.value=l};async function g(){i.value=!0,v(),await h(a.value,e.value),u(),i.value=!1}V(async()=>{await g()});const L={isLoading:i,page:a,searchTerm:e,pagerData:p,data:r,getParams:v,getPagerData:u,refreshList:g,NoData:b,EntityFilter:y,PlanPreview:k,LoadingPlaceholder:w,Pager:N};return Object.defineProperty(L,"__isScriptSetup",{enumerable:!1,value:!0}),L}}),C={key:2,class:"plansList tableList"};function I(f,s,i,a,e,p){return t(),n(_,null,[B(a.EntityFilter,{onSearch:a.refreshList}),a.isLoading?(t(),c(a.LoadingPlaceholder,{key:0,size:"large"})):m("",!0),a.data.total===0?(t(),c(a.NoData,{key:1,message:"No plans found"})):(t(),n("ul",C,[s[0]||(s[0]=E('<li class="tableList__row tableList__row--header" data-v-4a5ad995><div class="tableList__cell tableList__cell--center tableList__cell--status" data-v-4a5ad995></div><div class="tableList__cell" data-v-4a5ad995>Plan</div><div class="tableList__cell" data-v-4a5ad995>Environment</div><div class="tableList__cell" data-v-4a5ad995>Deployment</div><div class="tableList__cell tableList__cell--right" data-v-4a5ad995>TotalÂ Runs</div><div class="tableList__cell tableList__cell--right" data-v-4a5ad995>Last</div><div class="tableList__cell tableList__cell--right" data-v-4a5ad995>Next</div><div class="tableList__cell" data-v-4a5ad995>Schedule</div><div class="tableList__cell" data-v-4a5ad995><span class="screen-reader-text" data-v-4a5ad995>Actions</span></div></li>',1)),(t(!0),n(_,null,F(a.data.plans,r=>(t(),n(_,{key:r.id},[r.status!=="deleting"?(t(),c(a.PlanPreview,{key:0,plan:r,page:a.page,class:"tableList__row"},null,8,["plan","page"])):m("",!0)],64))),128))])),a.data.total>10?(t(),c(a.Pager,{key:3,page:a.pagerData},null,8,["page"])):m("",!0)],64)}const wa=x(A,[["render",I],["__scopeId","data-v-4a5ad995"]]);export{wa as default};
