import{e as x,f as L}from"./executions.DP8bhDFR.js";import{N as v}from"./NoData.CWOJbPLy.js";import{E as P}from"./ExecutionPreview.78ceAT_d.js";import{P as b}from"./Pager.Cmasf88E.js";import{L as h}from"./LoadingPlaceholder.BoWrztnb.js";import{_ as k}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{u as w}from"./index.CwJxcYEt.js";import{d as y,c,l as i,e as d,f as E,F as g,k as N,r as p,o as S,h as t}from"./runtime-core.esm-bundler.Y6RLDZTT.js";import"./user.BEEfOshe.js";import"./user.Bg1Nd46A.js";import"./index.BSdFiPHn.js";import"./loader.BQDlK3Tc.js";import"./notifications.NSMm1_5U.js";/* empty css                        */import"./runtime-dom.esm-bundler.DChKj6X8.js";import"./TimeAgo.hHi23vP_.js";import"./dayjs.min.xlbmdZiw.js";import"./ModalWindow.Go1bYN-e.js";import"./index.DUHDLdXK.js";import"./CloseIcon.DLOPA8gH.js";/* empty css                        */import"./ConfirmDeleteExecution.CvrzBu3R.js";/* empty css                       */import"./ExecutionMiniStatus.DOYC0zW8.js";/* empty css                       */import"./DeleteButton.Ch6PF2gM.js";import"./TrashIcon.BzGEjUcP.js";/* empty css                       *//* empty css                       *//* empty css                       */const B=y({__name:"ExecutionsList",setup(f,{expose:r}){r();const a=p(void 0),e=p({currentPage:1,lastPage:1,urlBase:""}),l=w(x),s=p(!0),o=()=>{let n=window.location,_=new URLSearchParams(n.search);_.has("page")?a.value=parseInt(_.get("page")):a.value=1},m=()=>{let n={currentPage:a.value,lastPage:Math.ceil(l.value.total/10),urlBase:"/executions/?page="};e.value=n};S(async()=>{s.value=!0,o(),await L(a.value),m(),s.value=!1});const u={page:a,pagerData:e,execs:l,isLoading:s,getCurrentPage:o,getpagerData:m,NoData:v,ExecutionPreview:P,Pager:b,LoadingPlaceholder:h};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),D={key:2,class:"executionsList tableList"};function C(f,r,a,e,l,s){return t(),c(g,null,[e.isLoading?(t(),i(e.LoadingPlaceholder,{key:0,size:"large"})):d("",!0),e.execs.executions.length===0?(t(),i(e.NoData,{key:1,message:"No executions found"})):(t(),c("ul",D,[r[0]||(r[0]=E('<li class="tableList__row tableList__row--header"><div class="tableList__cell tableList__cell tableList__cell--status"> Status </div><div class="tableList__cell"></div><div class="tableList__cell">Run</div><div class="tableList__cell"><span class="screen-reader-text">Actions</span></div></li>',1)),(t(!0),c(g,null,N(e.execs.executions,o=>(t(),i(e.ExecutionPreview,{execution:o,page:e.page,key:o.id,class:"tableList__row"},null,8,["execution","page"]))),128))])),e.execs.total>10?(t(),i(e.Pager,{key:3,page:e.pagerData},null,8,["page"])):d("",!0)],64)}const ne=k(B,[["render",C]]);export{ne as default};
