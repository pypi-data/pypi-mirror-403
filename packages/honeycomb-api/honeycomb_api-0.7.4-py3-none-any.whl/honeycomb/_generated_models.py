# generated by datamodel-codegen:
#   filename:  .api-patched.yaml

from __future__ import annotations

from enum import Enum, IntEnum
from typing import Annotated, Any, Literal

from pydantic import AwareDatetime, BaseModel, ConfigDict, Field, RootModel


class Error(BaseModel):
    """
    A legacy error, containing only a textual description.
    """

    error: str | None = None


class JSONAPIErrorErrorSource(BaseModel):
    pointer: str | None = None
    header: str | None = None
    parameter: str | None = None


class JSONAPIErrorError(BaseModel):
    id: str
    status: str | None = None
    code: str
    title: str | None = None
    detail: str | None = None
    source: JSONAPIErrorErrorSource | None = None


class JSONAPIError(BaseModel):
    """
    A JSONAPI-formatted error message.
    """

    errors: list[JSONAPIErrorError] | None = None


class DetailedError(BaseModel):
    """
    An RFC7807 'Problem Detail' formatted error message.
    """

    error: str
    status: float = Field(..., description="The HTTP status code of the error.")
    type: str = Field(..., description="Type is a URI used to uniquely identify the type of error.")
    title: str = Field(
        ...,
        description="Title is a human-readable summary that explains the `type` of the problem.",
    )
    detail: str | None = Field(
        default=None, description="The general, human-readable error message."
    )
    instance: str | None = Field(
        default=None, description="The unique identifier (ID) for this specific error."
    )


class RateLimitedProblem(DetailedError):
    """
    An RFC7807 'Problem Detail' formatted Rate Limited error.
    """


class RateLimitedJSONAPI(JSONAPIError):
    """
    An JSON:API formatted Rate Limited error.
    """


class TypeDetailItemCode(Enum):
    invalid = "invalid"
    missing = "missing"
    incorrect_type = "incorrect_type"
    already_exists = "already_exists"


class TypeDetailItem(BaseModel):
    field: str | None = None
    code: TypeDetailItemCode | None = None
    description: str | None = None


class ValidationError(DetailedError):
    status: float | None = Field(default=422, description="The HTTP status code of the error.")
    type: str | None = Field(
        default="https://api.honeycomb.io/problems/validation-failed",
        description="Type is a URI used to uniquely identify the type of error.",
    )
    title: str | None = Field(
        default="The provided input is invalid.",
        description="Title is a human-readable summary that explains the `type` of the problem.",
    )
    type_detail: list[TypeDetailItem] | None = None


class AuthType(Enum):
    """
    The type of API Key.
    """

    configuration = "configuration"
    ingest = "ingest"


class AuthApiKeyAccess(BaseModel):
    events: bool | None = False
    markers: bool | None = False
    triggers: bool | None = False
    boards: bool | None = False
    queries: bool | None = False
    columns: bool | None = False
    createDatasets: bool | None = False
    slos: bool | None = False
    recipients: bool | None = False
    privateBoards: bool | None = False


class AuthEnvironment(BaseModel):
    name: str | None = Field(
        default=None,
        description="The name of the Environment. Will be empty for Classic environments.",
    )
    slug: str | None = Field(
        default=None,
        description="The slug of the Environment. Will be empty for Classic environments.",
    )


class AuthTeam(BaseModel):
    name: str | None = None
    slug: str | None = None


class Auth(BaseModel):
    id: str = Field(..., description="Unique identifier (ID) of the API Key.")
    type: AuthType = Field(..., description="The type of API Key.")
    time_to_live: str | None = Field(
        default=None,
        description="An optional property of an ingest key that determines the time at which the key becomes unauthorized.\nWhen the time_to_live passes, the key will no longer be usable. Expressed as a RFC3339-formatted time.\n",
        examples=["2025-11-19T18:01:02+00:00"],
    )
    api_key_access: AuthApiKeyAccess
    environment: AuthEnvironment
    team: AuthTeam


class BoardType(Enum):
    """
    The type of the board. Only flexible boards are supported.
    """

    flexible = "flexible"


class BoardLinks(BaseModel):
    board_url: str | None = Field(
        default=None,
        examples=["https://ui.honeycomb.io/myteam/environments/myenvironment/board/2NeeaE9bBLd"],
    )


class BoardLayoutGeneration(Enum):
    """
    The layout generation mode for the board. When set to "auto", the board will be automatically laid out based on the panels. When set to "manual", the board will be laid out manually by the user.

    """

    auto = "auto"
    manual = "manual"


class PresetFilter(BaseModel):
    column: str = Field(..., description="Original name of the column to alias.")
    alias: str = Field(
        ..., description="The alias of the preset filter. Maximum length is 50 characters."
    )


class BoardViewFilterBoardViewFilterOperation(Enum):
    """
    The filter operation.
    """

    EQUALS = "="
    NOT_EQUALS = "!="
    GREATER_THAN = ">"
    GREATER_THAN_OR_EQUAL = ">="
    LESS_THAN = "<"
    LESS_THAN_OR_EQUAL = "<="
    STARTS_WITH = "starts-with"
    DOES_NOT_START_WITH = "does-not-start-with"
    ENDS_WITH = "ends-with"
    DOES_NOT_END_WITH = "does-not-end-with"
    EXISTS = "exists"
    DOES_NOT_EXIST = "does-not-exist"
    CONTAINS = "contains"
    DOES_NOT_CONTAIN = "does-not-contain"
    IN = "in"
    NOT_IN = "not-in"


class BoardViewFilter(BaseModel):
    column: str = Field(..., description="The column name to filter on.", examples=["status"])
    operation: BoardViewFilterBoardViewFilterOperation = Field(
        ..., description="The filter operation.", examples=["="], title="BoardViewFilterOperation"
    )
    value: Any | None = Field(
        default=None, description="The value to filter by.", examples=["error"]
    )


class CreateBoardViewRequest(BaseModel):
    name: str = Field(
        ..., description="The name of the view.", examples=["My View"], max_length=255, min_length=1
    )
    filters: list[BoardViewFilter] = Field(
        ..., description="The filters to apply to this view.", min_length=1
    )


class UpdateBoardViewRequest(BaseModel):
    id: str | None = Field(
        default=None, description="Unique identifier for the board view.", examples=["eC_abc123"]
    )
    name: str = Field(
        ..., description="The name of the view.", examples=["My View"], max_length=255, min_length=1
    )
    filters: list[BoardViewFilter] = Field(
        ..., description="The filters to apply to this view.", min_length=1
    )


class BoardViewResponse(BaseModel):
    id: str | None = Field(
        default=None, description="Unique identifier for the board view.", examples=["eC_abc123"]
    )
    name: str | None = Field(
        default=None, description="The name of the view.", examples=["My View"]
    )
    filters: list[BoardViewFilter] | None = None


class BoardPanelPosition(BaseModel):
    """
    The position of the panel within the layout. When X and Y coordinates are not specified for any of the panels, the layout will be generated automatically.

    """

    x_coordinate: int | None = Field(
        default=None,
        description="The x-axis origin point for placing the panel within the layout.",
        ge=0,
    )
    y_coordinate: int | None = Field(
        default=None,
        description="The y-axis origin point for placing the panel within the layout.",
        ge=0,
    )
    height: int | None = Field(
        default=None,
        description="The height of the panel. When not specified or set to 0, the height of the panel is calculated dynamically based on the panel type.",
        ge=0,
    )
    width: int | None = Field(
        default=None,
        description="The width of the panel. When not specified or set to 0, the width of the panel is calculated dynamically based on the panel type.",
        ge=0,
    )


class QueryPanelQueryPanelQueryStyle(Enum):
    """
    How the query should be displayed on the board.
    """

    graph = "graph"
    table = "table"
    combo = "combo"


class SLOPanelSloPanel(BaseModel):
    slo_id: str | None = Field(
        default=None,
        description="The ID of the SLO to display on the board. The SLO must be in the same environment as the board.\n",
        examples=["BGfyxhFto"],
    )


class SLOPanel(BaseModel):
    type: Literal["slo"] = Field(..., description="The type of the board panel.")
    position: BoardPanelPosition | None = None
    slo_panel: SLOPanelSloPanel


class TextPanelTextPanel(BaseModel):
    content: str = Field(
        ...,
        description="The text content to display on the board panel. This field supports Markdown formatting.\n",
        examples=["# This is a text panel with some content"],
        max_length=10000,
    )


class TextPanel(BaseModel):
    type: Literal["text"] = Field(..., description="The type of the board panel.")
    position: BoardPanelPosition | None = None
    text_panel: TextPanelTextPanel


class BoardQueryVisualizationSettingsChartChartType(Enum):
    default = "default"
    line = "line"
    stacked = "stacked"
    stat = "stat"
    tsbar = "tsbar"
    cbar = "cbar"
    cpie = "cpie"


class BoardQueryVisualizationSettingsChart(BaseModel):
    chart_index: int | None = 0
    chart_type: BoardQueryVisualizationSettingsChartChartType | None = (
        BoardQueryVisualizationSettingsChartChartType.default
    )
    log_scale: bool | None = False
    omit_missing_values: bool | None = False


class BoardQueryVisualizationSettings(BaseModel):
    """
    A map of values to control the display settings for the Query on the Board. Unspecified boolean values are assumed to be `false`. Unspecified integers are assumed to be `0`, unspecified arrays are assumed to be null and unspecified strings are assumed to be empty. This is incompatible with the `graph_settings` field.

    """

    hide_compare: bool | None = False
    hide_hovers: bool | None = False
    hide_markers: bool | None = False
    utc_xaxis: bool | None = False
    overlaid_charts: bool | None = False
    charts: list[BoardQueryVisualizationSettingsChart] | None = None


class CalculatedField(BaseModel):
    id: str = Field(..., description="Unique identifier (ID), returned in response bodies.")
    alias: str = Field(
        ...,
        description="The human-readable name of the Calculated Field (also called Derived Column), as it will be referenced when building queries.",
        max_length=255,
        min_length=1,
    )
    expression: str = Field(
        ...,
        description="The expression to evaluate to construct this Calculated Field's value. (Calculated Field is also called Derived Column.) Refer to the [Calculated Field Reference](https://docs.honeycomb.io/reference/derived-column-formula/).\n",
        max_length=4095,
        min_length=1,
    )
    description: str | None = Field(
        default="",
        description="A human-readable description for the Calculated Field that displays in the UI.",
        max_length=255,
    )
    created_at: str = Field(..., description="ISO8601 formatted time when the field was created.")
    updated_at: str = Field(..., description="ISO8601 formatted time when the field was updated.")


class CalculatedFieldList(RootModel[list[CalculatedField]]):
    root: list[CalculatedField]


class CreateColumnColumnType(Enum):
    """
    Type of data that the Column will contain. Histogram is in beta and only works in your Metrics dataset.
    """

    string = "string"
    float = "float"
    integer = "integer"
    boolean = "boolean"
    histogram = "histogram"


class CreateColumn(BaseModel):
    key_name: str = Field(
        ..., description="Name of the Column.", examples=["my_column"], max_length=255, min_length=1
    )
    type: CreateColumnColumnType | None = Field(
        default=CreateColumnColumnType.string,
        description="Type of data that the Column will contain. Histogram is in beta and only works in your Metrics dataset.",
        examples=["integer"],
        title="ColumnType",
    )
    description: str | None = Field(
        default=None,
        description="Column description.",
        examples=["An integer column"],
        max_length=255,
    )
    hidden: bool | None = Field(
        default=False,
        description="If `true`, the column is excluded from autocomplete and raw data field lists.",
    )
    id: str | None = Field(
        default=None, description="Unique identifier (ID), returned in response bodies."
    )
    last_written: str | None = Field(
        default=None,
        description="ISO8601 formatted time the column was last written to (received event data).",
    )
    created_at: str | None = Field(
        default=None, description="ISO8601 formatted time the column was created."
    )
    updated_at: str | None = Field(
        default=None, description="ISO8601 formatted time the column was updated."
    )


class Column(CreateColumn):
    key_name: str | None = None


class DatasetDefinitionColumnType(Enum):
    """
    Optional: `column` for regular columns and `derived_column` for Calculated Fields (also called Derived Columns) when setting Dataset Definitions. Honeycomb does not use this field when updating Dataset definitions.
    """

    column = "column"
    derived_column = "derived_column"


class DatasetDefinition(BaseModel):
    name: str = Field(
        ...,
        description="The name of the Column or of the Calculated Field (also called Derived Column) to map to this Dataset Definition Type. An empty string clears the mapping, potentially reverting to a default mapping.",
        max_length=255,
        min_length=0,
    )
    column_type: DatasetDefinitionColumnType | None = Field(
        default=None,
        description="Optional: `column` for regular columns and `derived_column` for Calculated Fields (also called Derived Columns) when setting Dataset Definitions. Honeycomb does not use this field when updating Dataset definitions.",
    )


class DatasetDefinitions(BaseModel):
    """
    Dataset Definitions describe the fields with special meaning in the Dataset.

    """

    span_id: DatasetDefinition | None = Field(
        default=None, description="The unique identifier (ID) for each span."
    )
    trace_id: DatasetDefinition | None = Field(
        default=None, description="The ID of the trace this span belongs to."
    )
    parent_id: DatasetDefinition | None = Field(
        default=None,
        description="The Parent Span ID - The ID of this span's parent span, the call location the current span was called from.",
    )
    name: DatasetDefinition | None = Field(
        default=None, description="The name of the function or method where the span was created."
    )
    service_name: DatasetDefinition | None = Field(
        default=None, description="The name of the instrumented service."
    )
    duration_ms: DatasetDefinition | None = Field(
        default=None, description="Span Duration - How much time the span took, in milliseconds."
    )
    span_kind: DatasetDefinition | None = Field(
        default=None,
        description="Metadata: Kind - The kind of Span. For example, `client` or `server`. The use of this field to identify Span Events and Links is deprecated. Use the field Metadata: Annotation Type.",
    )
    annotation_type: DatasetDefinition | None = Field(
        default=None,
        description="Metadata: Annotation Type - The type of span annotation. For example, `span_event` or `link`. This lets Honeycomb visualize this type of event differently in a trace. Do not use this field for other purposes.",
    )
    link_span_id: DatasetDefinition | None = Field(
        default=None,
        description="Metadata: Link Span ID - Links let you tie traces and spans to one another. The Link Span ID lets you link to a different span (when used with Link Trace ID).",
    )
    link_trace_id: DatasetDefinition | None = Field(
        default=None,
        description="Metadata: Link Trace ID - Links let you tie traces and spans to one another. The Link Trace Id lets you link to a different trace or a different span in the same trace (when used with Link Span ID).",
    )
    error: DatasetDefinition | None = Field(
        default=None, description="Use a Boolean or String to indicate error."
    )
    status: DatasetDefinition | None = Field(
        default=None, description="Indicates the success, failure, or other status of a request."
    )
    route: DatasetDefinition | None = Field(
        default=None, description="The HTTP URL or equivalent route processed by the request."
    )
    user: DatasetDefinition | None = Field(
        default=None, description="The user making the request in the system."
    )
    log_severity: DatasetDefinition | None = Field(
        default=None,
        description="Severity level of the event (also known as log level). Supported values: trace, debug, info, warn, error, fatal, unspecified.",
    )
    log_message: DatasetDefinition | None = Field(
        default=None,
        description="A value containing the log event message. Can be a human-readable string message (including multi-line) describing the event in a free form.",
    )


class DatasetSettings(BaseModel):
    delete_protected: bool | None = Field(
        default=None, description="If true, the dataset cannot be deleted."
    )


class Dataset(BaseModel):
    """
    Datasets are a collection of events from a specific source or related source.

    """

    name: str = Field(
        ...,
        description="The name of the dataset.",
        examples=["My Dataset!"],
        max_length=255,
        min_length=1,
    )
    description: str | None = Field(
        default="",
        description="A description for the dataset.",
        examples=["A nice description of my dataset"],
        max_length=1024,
        min_length=0,
    )
    settings: DatasetSettings | None = None
    expand_json_depth: int | None = Field(
        default=0,
        description="The maximum unpacking depth of nested JSON fields.",
        examples=[3],
        ge=0,
        le=10,
    )
    slug: str | None = Field(
        default=None,
        description="The 'slug' of the dataset to be used in URLs.",
        examples=["my-dataset-"],
    )
    regular_columns_count: int | None = Field(
        default=None,
        description="The total number of unique fields for this Dataset. The value will be null if the dataset does not contain any fields yet.\n",
        examples=[100],
    )
    last_written_at: str | None = Field(
        default=None,
        description="The ISO8601-formatted time when the dataset last received event data. The value will be null if no data has been received yet.\n",
        examples=["2022-07-21T18:39:23Z"],
    )
    created_at: str | None = Field(
        default=None,
        description="The ISO8601-formatted time when the dataset was created.",
        examples=["2022-09-22T17:32:11Z"],
    )


class DatasetCreationPayload(BaseModel):
    """
    an object to send to the Dataset API via PUT
    """

    name: str = Field(..., description="The name of the dataset.", max_length=255, min_length=1)
    description: str | None = Field(
        default="",
        description="A description for the dataset.",
        examples=["A nice description of my dataset"],
        max_length=1024,
        min_length=0,
    )
    expand_json_depth: int | None = Field(
        default=0,
        description="The maximum unpacking depth of nested JSON fields.",
        examples=[3],
        ge=0,
        le=10,
    )


class DatasetUpdatePayloadSettings(DatasetSettings):
    pass


class DatasetUpdatePayload(BaseModel):
    """
    an object to send to the Dataset API via PUT
    """

    description: str | None = Field(
        default="",
        description="A description for the dataset.",
        examples=["A nice description of my dataset"],
        max_length=1024,
        min_length=0,
    )
    expand_json_depth: int | None = Field(
        default=0,
        description="The maximum unpacking depth of nested JSON fields.",
        examples=[3],
        ge=0,
        le=10,
    )
    settings: DatasetUpdatePayloadSettings | None = None


class KinesisEventRecord(BaseModel):
    data: str | None = Field(default=None, description="Base64 encoded Kinesis record from AWS")


class KinesisResponse(BaseModel):
    requestId: str | None = None
    timestamp: int | None = None
    errorMessage: str | None = None


class Marker(BaseModel):
    start_time: int | None = Field(
        default=None,
        description="Indicates the time the Marker should be placed. If missing, defaults to the time the request arrives. Expressed in Unix Time.",
        examples=[1471040808],
    )
    end_time: int | None = Field(
        default=None,
        description="Specifies end time, and allows a Marker to be recorded as representing a time range, such as a 5 minute deploy. Expressed in Unix Time.",
        examples=[1668453920],
    )
    message: str | None = Field(
        default=None,
        description="A message to describe this specific Marker.",
        examples=["backend deploy #123"],
    )
    type: str | None = Field(
        default=None,
        description="Groups similar Markers. For example, `deploys`. All Markers of the same type appear with the same color on the graph. Refer to the [Marker Settings](/api/marker-settings/) API for altering the color of each type.",
        examples=["deploy"],
    )
    url: str | None = Field(
        default=None,
        description="A target for the marker. Clicking the marker text will take you to this URL.",
        examples=["http://link-to-build.here"],
    )
    id: str | None = Field(
        default=None, description="A 6 character hexadecimal string assigned on Marker creation."
    )
    created_at: str | None = Field(
        default=None, description="The ISO8601-formatted time when the Marker was created."
    )
    updated_at: str | None = Field(
        default=None, description="The ISO8601-formatted time when the Marker was updated."
    )
    color: str | None = Field(
        default=None,
        description="Color can be assigned to Markers using the Marker Settings endpoint. This field will be populated when List All Markers is called.",
    )


class MarkerSetting(BaseModel):
    type: str = Field(
        ...,
        description="Groups similar Markers. For example, 'deploys'. All Markers of the same type appears with the same color on the graph.\n",
        examples=["deploy"],
    )
    color: str = Field(
        ...,
        description='Color to use for display of this marker type. Specified as hexadecimal RGB. For example, "#F96E11".\n',
        examples=["#7b1fa2"],
    )
    id: str | None = Field(
        default=None,
        description="The unique identifier (ID) for the Marker Setting.",
        examples=["gwAHiE5TS4j"],
    )
    created_at: str | None = Field(
        default=None,
        description="The ISO8601-formatted time when the Marker Setting was created.",
        examples=["2022-09-15T05:39:42Z"],
    )
    updated_at: str | None = Field(
        default=None,
        description="The ISO8601-formatted time when the Marker Setting was updated.",
        examples=["2022-12-15T04:25:14Z"],
    )


class NotificationRecipientDetailsPagerdutySeverity(Enum):
    """
    When using a Recipient of `type = "pagerduty"`, the severity of the alert can be specified.

    """

    critical = "critical"
    error = "error"
    warning = "warning"
    info = "info"


class NotificationRecipientDetailsVariable(BaseModel):
    name: str = Field(
        ..., examples=["severity"], max_length=64, pattern="^[a-z](?:[a-zA-Z0-9]+$)?$"
    )
    value: str | None = Field(default=None, examples=["warning"], max_length=256)


class NotificationRecipientDetails(BaseModel):
    pagerduty_severity: NotificationRecipientDetailsPagerdutySeverity | None = Field(
        default=NotificationRecipientDetailsPagerdutySeverity.critical,
        description='When using a Recipient of `type = "pagerduty"`, the severity of the alert can be specified.\n',
    )
    variables: list[NotificationRecipientDetailsVariable] | None = Field(
        default=None,
        description='When using a Recipient of `type = "webhook"`, the alert-level variables can be specified.\n',
    )


class FilterOp(Enum):
    EQUALS = "="
    NOT_EQUALS = "!="
    GREATER_THAN = ">"
    GREATER_THAN_OR_EQUAL = ">="
    LESS_THAN = "<"
    LESS_THAN_OR_EQUAL = "<="
    STARTS_WITH = "starts-with"
    DOES_NOT_START_WITH = "does-not-start-with"
    ENDS_WITH = "ends-with"
    DOES_NOT_END_WITH = "does-not-end-with"
    EXISTS = "exists"
    DOES_NOT_EXIST = "does-not-exist"
    CONTAINS = "contains"
    DOES_NOT_CONTAIN = "does-not-contain"
    IN = "in"
    NOT_IN = "not-in"


class HavingOp(Enum):
    EQUALS = "="
    NOT_EQUALS = "!="
    GREATER_THAN = ">"
    GREATER_THAN_OR_EQUAL = ">="
    LESS_THAN = "<"
    LESS_THAN_OR_EQUAL = "<="


class HavingCalculateOp(Enum):
    COUNT = "COUNT"
    CONCURRENCY = "CONCURRENCY"
    SUM = "SUM"
    AVG = "AVG"
    COUNT_DISTINCT = "COUNT_DISTINCT"
    MAX = "MAX"
    MIN = "MIN"
    P001 = "P001"
    P01 = "P01"
    P05 = "P05"
    P10 = "P10"
    P20 = "P20"
    P25 = "P25"
    P50 = "P50"
    P75 = "P75"
    P80 = "P80"
    P90 = "P90"
    P95 = "P95"
    P99 = "P99"
    P999 = "P999"
    RATE_AVG = "RATE_AVG"
    RATE_SUM = "RATE_SUM"
    RATE_MAX = "RATE_MAX"


class PipelineConfigurationResponseType(Enum):
    pipeline_configuration = "pipeline_configuration"


class PipelineConfigurationResponseLinks(BaseModel):
    self: str | None = None


class PipelineConfigurationResponseAttributesConfig(BaseModel):
    kind: str = Field(..., description="The configuration kind.", examples=["refinery_config"])
    configData: str = Field(
        ...,
        description="The pipeline configuration data.",
        examples=[
            'refinery_config:\n  GRPCServerParameters:\n    Enabled: true\n    ListenAddr: 0.0.0.0:4317\n  General:\n    ConfigurationVersion: 2\n    MinRefineryVersion: "v2.0"\n'
        ],
    )


class PipelineConfigurationResponseAttributes(BaseModel):
    rolloutID: str | None = Field(
        default=None,
        description="The ID of the pipeline configuration rollout. Only returned if 'current' was requested.",
    )
    configs: list[PipelineConfigurationResponseAttributesConfig] = Field(
        ..., description="The configurations for different pipeline components."
    )


class PipelineConfigurationResponse(BaseModel):
    id: str
    type: PipelineConfigurationResponseType
    links: PipelineConfigurationResponseLinks
    attributes: PipelineConfigurationResponseAttributes


class UpdatePipelineConfigurationRolloutRequestDataType(Enum):
    pipeline_configuration_rollout = "pipeline_configuration_rollout"


class UpdatePipelineConfigurationRolloutRequestDataAttributesStatus(Enum):
    """
    The status of the pipeline configuration rollout.
    """

    pending = "pending"
    deploying = "deploying"
    live = "live"
    removing = "removing"
    archived = "archived"
    failed = "failed"


class UpdatePipelineConfigurationRolloutRequestDataAttributes(BaseModel):
    status: UpdatePipelineConfigurationRolloutRequestDataAttributesStatus = Field(
        ..., description="The status of the pipeline configuration rollout.", examples=["deploying"]
    )


class UpdatePipelineConfigurationRolloutRequestData(BaseModel):
    id: str
    type: UpdatePipelineConfigurationRolloutRequestDataType
    attributes: UpdatePipelineConfigurationRolloutRequestDataAttributes


class UpdatePipelineConfigurationRolloutRequest(BaseModel):
    data: UpdatePipelineConfigurationRolloutRequestData


class CreatePipelineHealthRecordRequestDataType(Enum):
    pipeline_usage = "pipeline_usage"


class CreatePipelineHealthRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSumAggregationTemporality(
    IntEnum
):
    integer_1 = 1


class CreatePipelineHealthRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSumDatapointAttributeValue(
    BaseModel
):
    stringValue: str | None = None


class CreatePipelineHealthRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSumDatapointAttribute(
    BaseModel
):
    key: str
    value: CreatePipelineHealthRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSumDatapointAttributeValue


class CreatePipelineHealthRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSumDatapoint(
    BaseModel
):
    timeUnixNano: int
    asInt: int
    attributes: list[
        CreatePipelineHealthRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSumDatapointAttribute
    ]


class CreatePipelineHealthRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSum(
    BaseModel
):
    aggregationTemporality: CreatePipelineHealthRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSumAggregationTemporality
    datapoints: list[
        CreatePipelineHealthRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSumDatapoint
    ]


class CreatePipelineHealthRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetric(
    BaseModel
):
    name: str
    sum: (
        CreatePipelineHealthRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSum
        | None
    ) = None


class CreatePipelineHealthRecordRequestDataAttributesUsageDataResourceMetricScopeMetric(BaseModel):
    metrics: list[
        CreatePipelineHealthRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetric
    ]


class CreatePipelineHealthRecordRequestDataAttributesUsageDataResourceMetric(BaseModel):
    scopeMetrics: list[
        CreatePipelineHealthRecordRequestDataAttributesUsageDataResourceMetricScopeMetric
    ]


class CreatePipelineHealthRecordRequestDataAttributesUsageData(BaseModel):
    resourceMetrics: list[CreatePipelineHealthRecordRequestDataAttributesUsageDataResourceMetric]


class CreatePipelineHealthRecordRequestDataAttributes(BaseModel):
    usageData: CreatePipelineHealthRecordRequestDataAttributesUsageData | None = None


class CreatePipelineHealthRecordRequestData(BaseModel):
    id: str
    type: CreatePipelineHealthRecordRequestDataType
    attributes: CreatePipelineHealthRecordRequestDataAttributes


class CreatePipelineHealthRecordRequest(BaseModel):
    data: CreatePipelineHealthRecordRequestData


class CreateEnhanceIndexerUsageRecordRequestDataType(Enum):
    enhance_indexer_usage = "enhance_indexer_usage"


class CreateEnhanceIndexerUsageRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSumDatapointAttributeValue(
    CreatePipelineHealthRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSumDatapointAttributeValue
):
    pass


class CreateEnhanceIndexerUsageRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSumDatapointAttribute(
    BaseModel
):
    key: str
    value: CreateEnhanceIndexerUsageRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSumDatapointAttributeValue


class CreateEnhanceIndexerUsageRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSumDatapoint(
    BaseModel
):
    timeUnixNano: int
    asInt: int
    attributes: list[
        CreateEnhanceIndexerUsageRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSumDatapointAttribute
    ]


class CreateEnhanceIndexerUsageRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSum(
    BaseModel
):
    aggregationTemporality: CreatePipelineHealthRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSumAggregationTemporality
    datapoints: list[
        CreateEnhanceIndexerUsageRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSumDatapoint
    ]


class CreateEnhanceIndexerUsageRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetric(
    BaseModel
):
    name: str
    sum: (
        CreateEnhanceIndexerUsageRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetricSum
        | None
    ) = None


class CreateEnhanceIndexerUsageRecordRequestDataAttributesUsageDataResourceMetricScopeMetric(
    BaseModel
):
    metrics: list[
        CreateEnhanceIndexerUsageRecordRequestDataAttributesUsageDataResourceMetricScopeMetricMetric
    ]


class CreateEnhanceIndexerUsageRecordRequestDataAttributesUsageDataResourceMetric(BaseModel):
    scopeMetrics: list[
        CreateEnhanceIndexerUsageRecordRequestDataAttributesUsageDataResourceMetricScopeMetric
    ]


class CreateEnhanceIndexerUsageRecordRequestDataAttributesUsageData(BaseModel):
    resourceMetrics: list[
        CreateEnhanceIndexerUsageRecordRequestDataAttributesUsageDataResourceMetric
    ]


class CreateEnhanceIndexerUsageRecordRequestDataAttributes(BaseModel):
    s3Bucket: str = Field(..., description="The S3 bucket name")
    s3FilePrefix: str | None = Field(default=None, description="The S3 file prefix")
    usageData: CreateEnhanceIndexerUsageRecordRequestDataAttributesUsageData


class CreateEnhanceIndexerUsageRecordRequestData(BaseModel):
    type: CreateEnhanceIndexerUsageRecordRequestDataType
    attributes: CreateEnhanceIndexerUsageRecordRequestDataAttributes


class CreateEnhanceIndexerUsageRecordRequest(BaseModel):
    data: CreateEnhanceIndexerUsageRecordRequestData


class UpdatePipelineConfigurationRolloutAttributes(BaseModel):
    status: UpdatePipelineConfigurationRolloutRequestDataAttributesStatus = Field(
        ..., description="The status of the pipeline configuration rollout.", examples=["success"]
    )


class UpdatePipelineConfigurationRollout(BaseModel):
    id: str
    type: UpdatePipelineConfigurationRolloutRequestDataType
    attributes: UpdatePipelineConfigurationRolloutAttributes


class PipelineConfigurationRolloutLinks(PipelineConfigurationResponseLinks):
    pass


class PipelineConfigurationRolloutAttributes(
    UpdatePipelineConfigurationRolloutRequestDataAttributes
):
    pass


class PipelineConfigurationRollout(BaseModel):
    id: str
    type: UpdatePipelineConfigurationRolloutRequestDataType
    links: PipelineConfigurationRolloutLinks
    attributes: PipelineConfigurationRolloutAttributes


class QueryOp(Enum):
    COUNT = "COUNT"
    CONCURRENCY = "CONCURRENCY"
    SUM = "SUM"
    AVG = "AVG"
    COUNT_DISTINCT = "COUNT_DISTINCT"
    HEATMAP = "HEATMAP"
    MAX = "MAX"
    MIN = "MIN"
    P001 = "P001"
    P01 = "P01"
    P05 = "P05"
    P10 = "P10"
    P20 = "P20"
    P25 = "P25"
    P50 = "P50"
    P75 = "P75"
    P80 = "P80"
    P90 = "P90"
    P95 = "P95"
    P99 = "P99"
    P999 = "P999"
    RATE_AVG = "RATE_AVG"
    RATE_SUM = "RATE_SUM"
    RATE_MAX = "RATE_MAX"


class QueryCalculation(BaseModel):
    op: QueryOp
    column: str | None = Field(default=None, description="the name of the column")


class QueryFilter(BaseModel):
    op: FilterOp
    column: str | None
    value: int | float | str | bool | list[Any] | None = None


class QueryFilterCombination(Enum):
    """
    set to "OR" to match ANY filter in the filter list
    """

    AND = "AND"
    OR = "OR"


class QueryOrderOrder(Enum):
    ascending = "ascending"
    descending = "descending"


class QueryOrder(BaseModel):
    column: str | None = None
    op: QueryOp | None = None
    order: QueryOrderOrder | None = QueryOrderOrder.ascending


class QueryHaving(BaseModel):
    calculate_op: HavingCalculateOp
    column: str | None = Field(default=None, description="The name of the column to filter against")
    op: HavingOp | None = None
    value: float | None = 10


class QueryCalculatedField(BaseModel):
    name: str = Field(..., description="The field name")
    expression: str = Field(
        ...,
        description="The formula for your Calculated Field. To learn more about syntax and available functions, and to explore some example formulas, visit [Calculated Field Formula Reference](https://docs.honeycomb.io/reference/derived-column-formula/).",
    )


class QueryCompareTimeOffsetSeconds(IntEnum):
    """
    When set, offsets the query's time range by this number of seconds into the past, allowing comparison with historical data from an earlier time period. For example, setting this to 86400 (24 hours) will compare current results against data from 24 hours ago.
    ##### Note
      - The offset must be greater than or equal to the query's time range duration.

    ##### Allowed values
    - same time range as query time range
    - `1800` - 30 minutes
    - `3600` - 1 hour
    - `7200` - 2 hours
    - `28800` - 8 hours
    - `86400` - 24 hours
    - `604800` - 7 days
    - `2419200` - 28 days
    - `15724800` - 6 months

    """

    integer_1800 = 1800
    integer_3600 = 3600
    integer_7200 = 7200
    integer_28800 = 28800
    integer_86400 = 86400
    integer_604800 = 604800
    integer_2419200 = 2419200
    integer_15724800 = 15724800


class Query(BaseModel):
    id: str | None = None
    breakdowns: list[str] | None = Field(
        default=None,
        description="the columns by which to break events down into groups",
        max_length=100,
    )
    calculations: list[QueryCalculation] | None = Field(
        default=None,
        description="the calculations to return as a time series and summary table",
        max_length=100,
    )
    filters: list[QueryFilter] | None = Field(
        default=None,
        description="the filters with which to restrict the considered events",
        max_length=100,
    )
    filter_combination: QueryFilterCombination | None = Field(
        default=QueryFilterCombination.AND,
        description='set to "OR" to match ANY filter in the filter list',
    )
    granularity: int | None = Field(
        default=None,
        description="The time resolution of the query's graph, in seconds. Given a query time range T, valid values (T/1000...T/1). If left blank, granularity may be set to a sub-second value for queries with short time ranges.\n",
        ge=1,
    )
    orders: list[QueryOrder] | None = Field(
        default=None,
        description="The terms on which to order the query results. Each term must appear in either the `breakdowns` field or the `calculations` field.\n",
        max_length=100,
    )
    limit: int | None = Field(
        default=None,
        description="The maximum number of unique groups returned in 'results'. Aggregating many unique groups across a large time range is computationally expensive, and too high a limit with too many unique groups may cause queries to fail completely. Limiting the results to only the needed values can significantly speed up queries.\nThe normal allowed maximum value when creating a query is 1_000. When running 'disable_series' queries, this can be overridden to be up to 10_000, so the maximum value returned from the API when fetching a query may be up to 10_000.\n",
        ge=1,
        le=10000,
    )
    start_time: int | None = Field(
        default=None,
        description="Absolute start time of query, in seconds since UNIX epoch. Must be <= `end_time`.\n",
        ge=1,
    )
    end_time: int | None = Field(
        default=None, description="Absolute end time of query, in seconds since UNIX epoch.", ge=1
    )
    time_range: int | None = Field(
        default=7200,
        description="Time range of query in seconds. Can be used with either `start_time` (seconds after `start_time`), `end_time` (seconds before `end_time`), or without either (seconds before now).\n",
        ge=1,
    )
    havings: list[QueryHaving] | None = Field(
        default=None,
        description="The Having clause allows you to filter on the results table. This operation is distinct from the Where clause, which filters the underlying events. Order By allows you to order the results, and Having filters them.\n",
        max_length=100,
    )
    calculated_fields: list[QueryCalculatedField] | None = Field(
        default=None,
        description="Computed properties that are calculated by a formula.\n",
        max_length=100,
    )
    compare_time_offset_seconds: QueryCompareTimeOffsetSeconds | None = Field(
        default=None,
        description="When set, offsets the query's time range by this number of seconds into the past, allowing comparison with historical data from an earlier time period. For example, setting this to 86400 (24 hours) will compare current results against data from 24 hours ago.\n##### Note\n  - The offset must be greater than or equal to the query's time range duration.\n\n##### Allowed values\n- same time range as query time range\n- `1800` - 30 minutes\n- `3600` - 1 hour\n- `7200` - 2 hours\n- `28800` - 8 hours\n- `86400` - 24 hours\n- `604800` - 7 days\n- `2419200` - 28 days\n- `15724800` - 6 months\n",
    )


class QueryAnnotationSource(Enum):
    """
    The source of the Query Annotation.
    """

    query = "query"
    board = "board"


class QueryAnnotation(BaseModel):
    """
    A Query Annotation consists of a name and description associated with a query to add context when collaborating.
    """

    name: str = Field(
        ...,
        description="A name for the Query.",
        examples=["My Named Query"],
        max_length=320,
        min_length=1,
    )
    description: str | None = Field(
        default=None,
        description="A description of the Query.",
        examples=["A nice description of My Named Query"],
        max_length=1023,
    )
    query_id: str = Field(
        ...,
        description="The ID of the Query that the annotation describes. **Note**: Once created, it is NOT possible to change the query ID associated with an annotation. It is possible to have multiple annotations associated with a Query.\n",
        examples=["mabAMpSPDjH"],
    )
    id: str | None = Field(
        default=None,
        description="The unique identifier (ID) of a Query Annotation.",
        examples=["sGUnkBHgRFN"],
    )
    created_at: AwareDatetime | None = Field(
        default=None,
        description="ISO8601 formatted time when the Query Annotation was created.",
        examples=["2022-10-26T21:36:04Z"],
    )
    updated_at: AwareDatetime | None = Field(
        default=None,
        description="ISO8601 formatted time when the Query Annotation was updated.",
        examples=["2022-12-04T08:14:26Z"],
    )
    source: QueryAnnotationSource | None = Field(
        default=None, description="The source of the Query Annotation.", examples=["query"]
    )


class CreateQueryResultRequest(BaseModel):
    """
    A Query Result is created with the Query ID.
    """

    query_id: str = Field(
        ...,
        description="The ID of a query returned from the [Queries endpoint](/api/queries/).\n",
        examples=["mabAMpSPDjH"],
    )
    disable_series: bool | None = Field(
        default=False,
        description="If `true`, timeseries data will not be returned in the `series` response field, and only summarized data will be returned in the `results` response field.\n",
    )
    disable_total_by_aggregate: bool | None = Field(
        default=True,
        description="If `true`, data representing each aggregate in the query's total value will not be returned. Ensure `disable_series` is false to return the timeseries data.\n",
    )
    disable_other_by_aggregate: bool | None = Field(
        default=True,
        description='If true, the "other_by_aggregate" data is excluded from the query result.\n',
    )
    limit: int | None = Field(
        default=None,
        description="If `disable_series` is `true`, a limit may be optionally given. The limit will override the default limit of 1_000 results with a maximum available limit of 10_000. If `disable_series` is `false`, this field will be ignored.\n",
        le=10000,
    )


class QueryResultLinks(BaseModel):
    """
    An object containing UI links to the query result and query result graph
    """

    query_url: str | None = Field(
        default=None,
        examples=["https://ui.honeycomb.io/myteam/datasets/test-via-curl/result/HprJhV1fYy"],
    )
    graph_image_url: str | None = Field(
        default=None,
        examples=[
            "https://ui.honeycomb.io/myteam/datasets/test-via-curl/result/HprJhV1fYy/snapshot"
        ],
    )


class QueryResult(BaseModel):
    """
    A Query Result is created with the Query ID.
    """

    query: Query | None = None
    id: str | None = Field(
        default=None,
        description="The unique identifier (ID) of a Query Result.",
        examples=["sGUnkBHgRFN"],
    )
    complete: bool | None = Field(
        default=None,
        description="Indicates if the query results are available yet or not. For example, is the query still being processed or complete?",
        examples=[False],
    )
    links: QueryResultLinks | None = Field(
        default=None,
        description="An object containing UI links to the query result and query result graph",
    )


class QueryResultsData(BaseModel):
    """
    Query result details
    """

    data: dict[str, str | bool | float] | None = Field(
        default=None,
        examples=[
            {
                "COUNT": 1,
                "P99(duration_ms)": 210,
                "name": "TestGoogleCallbackLogin",
                "test.classname": "github.com/honeycombio/hound/cmd/poodle/handlers",
                "test.status": "passed",
            },
            {
                "COUNT": 77481,
                "P99(duration_ms)": 857.0309715273646,
                "name": "TestGoogleCallbackLogin",
                "test.classname": "github.com/honeycombio/hound/cmd/poodle/handlers",
                "test.status": "passed",
            },
        ],
    )


class QueryResultsSeries(QueryResultsData):
    time: str | None = Field(default=None, examples=["2021-04-09T14:16:00Z"])


class QueryResultDetailsData(BaseModel):
    """
    An object containing the query result data
    """

    series: list[QueryResultsSeries] | None = Field(
        default=None,
        description="Timeseries data from the query result (equivalent to the graph data in the Honeycomb UI)",
    )
    results: list[QueryResultsData] | None = Field(
        default=None,
        description="Query results data (equivalent to the Overview in the Honeycomb UI below the graph)",
    )
    total_by_aggregate: QueryResultsData | None = Field(
        default=None,
        description="An object containing each aggregate in the query mapped to its total value across all groups. Aggregate values do not respect any Having clauses included in a query. Only available if query was run with `disable_total_by_aggregate` set to `false`.\n",
    )
    total_by_aggregate_series: list[QueryResultsSeries] | None = Field(
        default=None,
        description="Timeseries data showing the total value of each aggregate returned in `total_by_aggregate` across the time range. Aggregate values returned do not respect any Having clauses included in a query. Only available if both `disable_total_by_aggregate` and `disable_series` are set to `false`.\n",
    )
    other_by_aggregate: QueryResultsData | None = Field(
        default=None,
        description="An object containing each aggregate in the query mapped to its value for the groups not included in the query limit. Aggregate values do not respect any Having clauses included in a query. Only available if query was run with `disable_other_by_aggregate` set to `false`.\n",
    )


class QueryResultDetailsLinks(BaseModel):
    """
    An object containing UI links to the query result and query result graph
    """

    query_url: str | None = Field(
        default=None,
        description="A link to the query result in the Honeycomb UI",
        examples=["https://ui.honeycomb.io/myteam/datasets/test-via-curl/result/HprJhV1fYy"],
    )
    graph_image_url: str | None = Field(
        default=None,
        description="A direct link to the graph image from the query result",
        examples=[
            "https://ui.honeycomb.io/myteam/datasets/test-via-curl/result/HprJhV1fYy/snapshot"
        ],
    )


class QueryResultDetails(BaseModel):
    """
    Query Results for the Query ID.
    The response body will be a JSON object with "complete": true and the results populated once the query is complete. The response body will contain caching headers to indicate that once complete, and the Query Result may be cached, as it will not change.

    """

    query: Query | None = None
    id: str | None = Field(
        default=None,
        description="The unique identifier (ID) of a Query Result",
        examples=["sGUnkBHgRFN"],
    )
    complete: bool | None = Field(
        default=None,
        description="Indicates if the query results are available yet or not. For example, is the query still being processed or complete?",
        examples=[True],
    )
    data: QueryResultDetailsData | None = Field(
        default=None, description="An object containing the query result data"
    )
    links: QueryResultDetailsLinks | None = Field(
        default=None,
        description="An object containing UI links to the query result and query result graph",
    )


class RecipientType(Enum):
    """
    One of the supported Recipient Types
    """

    pagerduty = "pagerduty"
    email = "email"
    slack = "slack"
    webhook = "webhook"
    msteams = "msteams"
    msteams_workflow = "msteams_workflow"


class Type(Enum):
    """
    One of the supported Recipient Types
    """

    pagerduty = "pagerduty"
    email = "email"
    slack = "slack"
    webhook = "webhook"
    msteams = "msteams"
    msteams_workflow = "msteams_workflow"
    pagerduty_1 = "pagerduty"


class PagerDutyRecipientDetails(BaseModel):
    """
    Specific schema for the Pagerduty Recipient Type
    """

    model_config = ConfigDict(
        extra="forbid",
    )
    pagerduty_integration_name: str = Field(
        ..., description="A name for this Integration.", examples=["Example PagerDuty Service"]
    )
    pagerduty_integration_key: str = Field(
        ...,
        description="Pagerduty Integration Key.",
        examples=["7zOwh1edS8xHGcwfb2bA4sqY8E6PJzSK"],
        max_length=32,
        min_length=32,
    )


class Type1(Enum):
    """
    One of the supported Recipient Types
    """

    pagerduty = "pagerduty"
    email = "email"
    slack = "slack"
    webhook = "webhook"
    msteams = "msteams"
    msteams_workflow = "msteams_workflow"
    email_1 = "email"


class EmailRecipientDetails(BaseModel):
    """
    Specific schema for the Email Recipient Type
    """

    model_config = ConfigDict(
        extra="forbid",
    )
    email_address: str = Field(
        ..., description="Email address to notify.", examples=["notify-me@example-email.com"]
    )


class Type2(Enum):
    """
    One of the supported Recipient Types
    """

    pagerduty = "pagerduty"
    email = "email"
    slack = "slack"
    webhook = "webhook"
    msteams = "msteams"
    msteams_workflow = "msteams_workflow"
    slack_1 = "slack"


class SlackRecipientDetails(BaseModel):
    """
    Specific schema for the Slack Recipient Type.
    """

    model_config = ConfigDict(
        extra="forbid",
    )
    slack_channel: str = Field(
        ..., description="Slack channel to notify.", examples=["#alerts-channel"]
    )


class Type3(Enum):
    """
    One of the supported Recipient Types
    """

    pagerduty = "pagerduty"
    email = "email"
    slack = "slack"
    webhook = "webhook"
    msteams = "msteams"
    msteams_workflow = "msteams_workflow"
    msteams_1 = "msteams"


class MSTeamsRecipientDetails(BaseModel):
    """
    Specific schema for the MS Teams Recipient Type. Now deprecated, please use the `msteams_workflow` type instead.
    """

    model_config = ConfigDict(
        extra="forbid",
    )
    webhook_name: str = Field(
        ..., description="A name for this recipient.", examples=["My Teams Channel"]
    )
    webhook_url: str = Field(
        ...,
        description="Incoming webhook URL of an Teams instance.",
        examples=["https://yourco.webhook.office.com/webhook/xxxx"],
    )


class Type4(Enum):
    """
    One of the supported Recipient Types
    """

    pagerduty = "pagerduty"
    email = "email"
    slack = "slack"
    webhook = "webhook"
    msteams = "msteams"
    msteams_workflow = "msteams_workflow"
    msteams_workflow_1 = "msteams_workflow"


class MSTeamsWorkflowRecipientDetails(BaseModel):
    """
    Specific schema for the MS Teams Workflow Recipient Type.
    """

    model_config = ConfigDict(
        extra="forbid",
    )
    webhook_name: str = Field(
        ..., description="A name for this recipient.", examples=["My Teams Channel"], max_length=255
    )
    webhook_url: str = Field(
        ...,
        description="Incoming webhook URL of an Teams instance.",
        examples=[
            "https://test-123.westus.logic.azure.com:443/workflows/54321/triggers/manual/paths/invoke"
        ],
        max_length=2048,
    )


class Type5(Enum):
    """
    One of the supported Recipient Types
    """

    pagerduty = "pagerduty"
    email = "email"
    slack = "slack"
    webhook = "webhook"
    msteams = "msteams"
    msteams_workflow = "msteams_workflow"
    webhook_1 = "webhook"


class WebhookHeader(BaseModel):
    header: str = Field(..., max_length=64)
    value: str | None = Field(default=None, max_length=750)


class TemplateVariableDefinition(BaseModel):
    name: str = Field(
        ..., examples=["severity"], max_length=64, pattern="^[a-z](?:[a-zA-Z0-9]+$)?$"
    )
    default_value: str | None = Field(default=None, examples=["CRITICAL"], max_length=256)


class PayloadTemplate(BaseModel):
    body: str | None = Field(
        default=None, examples=['{ \\"alert\\": \\"{{.Alert.Description}}\\" }']
    )


class RecipientProperties(BaseModel):
    id: str | None = Field(default=None, examples=["yUheCUmgZ8p"])
    created_at: AwareDatetime | None = Field(
        default=None,
        description="ISO8601 formatted time the Recipient was created.",
        examples=["2022-07-26T22:38:04Z"],
    )
    updated_at: AwareDatetime | None = Field(
        default=None,
        description="ISO8601 formatted time the Recipient was updated.",
        examples=["2022-07-26T22:38:04Z"],
    )
    type: RecipientType | None = None


class Tag(BaseModel):
    key: str = Field(
        ..., description="A key to identify the tag, lowercase letters only.", max_length=32
    )
    value: str = Field(
        ...,
        description="A value for the tag, must begin with a lowercase letter, contain only alphanumeric characters (all letters lowercase) and special characters of `/` and `-` allowed.",
        max_length=128,
    )


class BaseTriggerThresholdOp(Enum):
    GREATER_THAN = ">"
    GREATER_THAN_OR_EQUAL = ">="
    LESS_THAN = "<"
    LESS_THAN_OR_EQUAL = "<="


class BaseTriggerThreshold(BaseModel):
    """
    The threshold over which the trigger will fire, specified as both an operator and a value.

    """

    op: BaseTriggerThresholdOp
    value: float
    exceeded_limit: int | None = Field(
        default=1,
        description="The number of times the threshold must be met before an alert is sent.\n",
        ge=1,
        le=5,
    )


class BaseTriggerAlertType(Enum):
    """
    How often to fire an alert when a trigger threshold is crossed.
    - `on_change` sends a trigger notification when the result of the specified calculation crosses the threshold.
      The trigger resolves only when the result of the query no longer satisfies the threshold condition.
    - `on_true` keeps sending a trigger notification at current frequency when and while the threshold is met.
      (This reflects the same behavior as the "Send an alert every time a threshold is met" checkbox in the Honeycomb UI.)

    """

    on_change = "on_change"
    on_true = "on_true"


class BaseTriggerEvaluationScheduleType(Enum):
    """
    The schedule type used by the trigger. The default is frequency, where the trigger runs at the
    specified frequency. The window type means that the trigger will run at the specified frequency,
    but only in the time window specified in the evaluation_schedule field.

    """

    frequency = "frequency"
    window = "window"


class BaseTriggerEvaluationScheduleWindowDaysOfWeekEnum(Enum):
    sunday = "sunday"
    monday = "monday"
    tuesday = "tuesday"
    wednesday = "wednesday"
    thursday = "thursday"
    friday = "friday"
    saturday = "saturday"


class BaseTriggerEvaluationScheduleWindow(BaseModel):
    """
    Window start/end times and days of the week are calculated in UTC. If the end time is the same as or earlier than the start time, the end time is treated as being in the following day.

    """

    days_of_week: list[BaseTriggerEvaluationScheduleWindowDaysOfWeekEnum] = Field(
        ..., max_length=7, min_length=1
    )
    start_time: str = Field(
        ...,
        description="A UTC time in HH:mm format (13:00)",
        examples=[840],
        pattern="^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$",
    )
    end_time: str = Field(
        ...,
        description="A UTC time in HH:mm format (13:00)",
        examples=[1260],
        pattern="^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$",
    )


class BaseTriggerEvaluationSchedule(BaseModel):
    """
    A schedule that determines when the trigger is run. When the time is within the scheduled
    window, the trigger will be run at the specified frequency. Outside of the window, the trigger
    will not be run.

    """

    window: BaseTriggerEvaluationScheduleWindow = Field(
        ...,
        description="Window start/end times and days of the week are calculated in UTC. If the end time is the same as or earlier than the start time, the end time is treated as being in the following day.\n",
    )


class BaseTriggerBaselineDetailsOffsetMinutes(IntEnum):
    """
    For a given trigger run, how far back we should look to compare results. Currently only support comparison 1 hour, 24 hours, 7 days, or 28 days in the past.

    """

    integer_60 = 60
    integer_1440 = 1440
    integer_10080 = 10080
    integer_40320 = 40320


class BaseTriggerBaselineDetailsType(Enum):
    """
    How to compare the change in the two time periods. Currently supports the difference in values (b-a) or the percentage difference in values (b-a)/b.

    """

    percentage = "percentage"
    value = "value"


class BaseTriggerBaselineDetails(BaseModel):
    """
    Additional properties needed to configure this trigger with a dynamic baseline threshold.

    """

    offset_minutes: BaseTriggerBaselineDetailsOffsetMinutes = Field(
        ...,
        description="For a given trigger run, how far back we should look to compare results. Currently only support comparison 1 hour, 24 hours, 7 days, or 28 days in the past.\n",
    )
    type: BaseTriggerBaselineDetailsType = Field(
        ...,
        description="How to compare the change in the two time periods. Currently supports the difference in values (b-a) or the percentage difference in values (b-a)/b.\n",
    )


class SLOCreateSli(BaseModel):
    """
    Reference to the [Calculated Field (also called Derived Column)](/api/calculated-fields/) used as the indicator of event success.
    """

    alias: str = Field(
        ...,
        description="The alias of the Calculated Field (also called Derived Column).",
        max_length=255,
        min_length=1,
    )


class SLOCreate(BaseModel):
    id: str | None = None
    name: str = Field(
        ..., description="The name of the SLO.", examples=["My SLO"], max_length=120, min_length=1
    )
    description: str | None = Field(
        default=None,
        description="A nice description of the SLO's intent and context.",
        examples=["SLO to ensure requests succeed and are fast"],
        max_length=1023,
        min_length=0,
    )
    sli: SLOCreateSli = Field(
        ...,
        description="Reference to the [Calculated Field (also called Derived Column)](/api/calculated-fields/) used as the indicator of event success.",
        examples=[{"alias": "error_sli"}],
    )
    time_period_days: int = Field(
        ...,
        description="The time period, in days, over which the SLO will be evaluated.",
        examples=[30],
        ge=1,
    )
    target_per_million: int = Field(
        ...,
        description="The number of events out of one million (1,000,000) that you expected qualified events to succeed.",
        examples=[990000],
        ge=0,
        le=999999,
    )
    tags: list[Tag] | None = Field(
        default=None,
        description="A list of key-value pairs to help identify the SLO.",
        examples=[[{"key": "team", "value": "blue"}]],
        max_length=10,
    )
    reset_at: AwareDatetime | None = Field(
        default=None,
        description="The ISO8601-formatted time the SLO was last reset. The value will be `null` if the SLO has not yet been reset.",
        examples=["2022-011-11T09:53:04Z"],
    )
    created_at: AwareDatetime | None = Field(
        default=None,
        description="The ISO8601-formatted time when the SLO was created.",
        examples=["2022-09-22T17:32:11Z"],
    )
    updated_at: AwareDatetime | None = Field(
        default=None,
        description="The ISO8601-formatted time when the SLO was updated.",
        examples=["2022-10-31T15:08:11Z"],
    )
    dataset_slugs: list[Any] | None = Field(
        default=None,
        description="The dataset(s) the SLO will be evaluated against. Required if using `__all__` in the path.",
        examples=[["mydataset1", "mydataset2"]],
        max_length=10,
        min_length=1,
    )


class SLOSli(BaseModel):
    """
    Reference to the [Calculated Field](/api/calculated-fields/) used as the indicator of event success.
    """

    alias: str = Field(
        ...,
        description="The alias of the Calculated Field (also called Derived Column).",
        max_length=255,
        min_length=1,
    )


class SLO(BaseModel):
    id: str | None = None
    name: str = Field(
        ..., description="The name of the SLO.", examples=["My SLO"], max_length=120, min_length=1
    )
    description: str | None = Field(
        default=None,
        description="A nice description of the SLO's intent and context.",
        examples=["SLO to ensure requests succeed and are fast"],
        max_length=1023,
        min_length=0,
    )
    sli: SLOSli = Field(
        ...,
        description="Reference to the [Calculated Field](/api/calculated-fields/) used as the indicator of event success.",
        examples=[{"alias": "error_sli"}],
    )
    time_period_days: int = Field(
        ...,
        description="The time period, in days, over which the SLO will be evaluated.",
        examples=[30],
        ge=1,
    )
    target_per_million: int = Field(
        ...,
        description="The number of events out of one million (1,000,000) that you expected qualified events to succeed.",
        examples=[990000],
        ge=0,
        le=999999,
    )
    tags: list[Tag] | None = Field(
        default=None,
        description="A list of key-value pairs to help identify the SLO.",
        examples=[[{"key": "team", "value": "blue"}]],
        max_length=10,
    )
    reset_at: AwareDatetime | None = Field(
        default=None,
        description="The ISO8601-formatted time the SLO was last reset. The value will be `null` if the SLO has not yet been reset.",
        examples=["2022-011-11T09:53:04Z"],
    )
    created_at: AwareDatetime | None = Field(
        default=None,
        description="The ISO8601-formatted time when the SLO was created.",
        examples=["2022-09-22T17:32:11Z"],
    )
    updated_at: AwareDatetime | None = Field(
        default=None,
        description="The ISO8601-formatted time when the SLO was updated.",
        examples=["2022-10-31T15:08:11Z"],
    )
    dataset_slugs: list[Any] | None = Field(
        default=None,
        description="The dataset(s) the SLO will be evaluated against. Required if using `__all__` in the path.",
        examples=[["mydataset1", "mydataset2"]],
        max_length=10,
        min_length=1,
    )


class Status(Enum):
    """
    Reporting data to express the status of the SLO.

    Status can be one of the following:
    - `normal`   : The SLO has no burn alerts triggered.
    - `triggered`: The SLO has at least one burn alert triggered.
    - `no_alerts`: The SLO has no burn alerts associated with it.
    - `no_events`: The SLO has no events streaming in.

    Only included when the `?detailed` query param is passed.

    """

    normal = "normal"
    triggered = "triggered"
    no_alerts = "no_alerts"
    no_events = "no_events"


class SLODetailedResponse(SLO):
    compliance: float | None = Field(
        default=None,
        description="Reporting data to express historical compliance of the SLO. Only included when the `?detailed` query param is passed.\n",
        examples=[95.39],
    )
    budget_remaining: float | None = Field(
        default=None,
        description="Reporting data to express how much error budget remains for the time period of the SLO. Only included when the `?detailed` query param is passed.\n",
        examples=[7.73],
    )
    status: Status | None = Field(
        default=None,
        description="Reporting data to express the status of the SLO.\n\nStatus can be one of the following:\n- `normal`   : The SLO has no burn alerts triggered.\n- `triggered`: The SLO has at least one burn alert triggered.\n- `no_alerts`: The SLO has no burn alerts associated with it.\n- `no_events`: The SLO has no events streaming in.\n\nOnly included when the `?detailed` query param is passed.\n",
        examples=["normal"],
    )
    burn_rate: float | None = Field(
        default=None,
        description="Reporting data to express the ratio of actual failures in the SLO\nto expected failures in the given time window.\n\nThe time window defaults to 4 hours for the API response.\n\nOnly included when the `?detailed` query param is passed.\n",
        examples=[5.39],
    )


class SLOHistoryRequest(BaseModel):
    ids: list[Any] = Field(
        ...,
        description="A list of SLO IDs to retrieve history for. Cannot be an empty array or more than 24 in length.\n",
        examples=[["2LBq9LckbcA", "CzcpPs7cJ4d"]],
        max_length=24,
        min_length=1,
    )
    start_time: int = Field(
        ...,
        description="The starting Unix timestamp, in seconds since the epoch, to retrieve historical data for. Cannot be more than a year in the past.",
        examples=[1742230800],
    )
    end_time: int = Field(
        ...,
        description="The ending Unix timestamp, in seconds since the epoch, to retrieve historical data for. Must be greater than `start_time`. Cannot be a future timestamp.",
        examples=[1745254800],
    )


class SLOHistory(BaseModel):
    timestamp: int | None = Field(
        default=None,
        description="The starting Unix timestamp, in seconds since the epoch, for the interval.",
        examples=[1744650000],
    )
    compliance: float | None = Field(
        default=None,
        description="Historical compliance of the SLO in this interval.\n",
        examples=[91.44851657940663],
    )
    budget_remaining: float | None = Field(
        default=None,
        description="How much error budget remains for the SLO in this interval.\n",
        examples=[14.48516579406632],
    )


class BurnAlertSharedParams(BaseModel):
    id: str | None = Field(
        default=None,
        description="Unique identifier (ID) of a Burn alert.",
        examples=["fS7vfB81Wcy"],
    )
    description: str | None = Field(
        default=None,
        description="A description of the Burn Alert.",
        examples=["Use this runbook if this alert fires."],
        max_length=1023,
    )
    triggered: bool | None = Field(
        default=None,
        description="Indicates if the Burn Alert has been triggered. This field is read-only and is set to `true` when the alert is triggered.\n",
        examples=[False],
    )
    created_at: AwareDatetime | None = Field(
        default=None,
        description="The ISO8601-formatted time when the Burn Alert was created.",
        examples=["2022-09-22T17:32:11Z"],
    )
    updated_at: AwareDatetime | None = Field(
        default=None,
        description="The ISO8601-formatted time when the Burn Alert was updated.",
        examples=["2022-10-31T15:08:11Z"],
    )


class AlertType(Enum):
    """
    One of the supported alert types:
    1. `exhaustion_time`: Notifies when you are about to run out of SLO budget within a specified number of hours.
    1. `budget_rate`: Notifies when budget drops by at least a specified percentage within a defined time window.

    """

    exhaustion_time = "exhaustion_time"
    budget_rate = "budget_rate"


class ExhaustionTime(BurnAlertSharedParams):
    alert_type: AlertType | None = Field(
        default=AlertType.exhaustion_time,
        description="One of the supported alert types:\n1. `exhaustion_time`: Notifies when you are about to run out of SLO budget within a specified number of hours.\n1. `budget_rate`: Notifies when budget drops by at least a specified percentage within a defined time window.\n",
        examples=["exhaustion_time"],
    )
    exhaustion_minutes: int = Field(
        ...,
        description="Required when `alert_type` is `exhaustion_time`.\n\nMust not be specified when `alert_type` is `budget_rate`.\n\nAmount of time (in minutes) left until your projected SLO budget is exhausted.\nThe alert will fire when this exhaustion threshold is reached.\n",
        examples=[120],
        ge=0,
    )


class CreateExhaustionTimeBurnAlertRequestSlo(BaseModel):
    """
    Details about the SLO associated with the burn alert.
    """

    id: str = Field(..., description="Unique identifier (ID) of a SLO.")


class BudgetRate(BurnAlertSharedParams):
    alert_type: AlertType = Field(
        ...,
        description="One of the supported alert types:\n1. `exhaustion_time`: Notifies when you are about to run out of SLO budget within a specified number of hours.\n1. `budget_rate`: Notifies when budget drops by at least a specified percentage within a defined time window.\n",
        examples=["budget_rate"],
    )
    budget_rate_window_minutes: int = Field(
        ...,
        description="Required when `alert_type` is `budget_rate`.\n\nMust not be specified when `alert_type` is `exhaustion_time`.\n\nTime period (in minutes) over which a budget rate will be calculated.\n\nMust be no greater than the associated SLO's time period.\n",
        examples=[120],
        ge=60,
    )
    budget_rate_decrease_threshold_per_million: int = Field(
        ...,
        description="Required when `alert_type` is `budget_rate`.\n\nMust not be specified when `alert_type` is `exhaustion_time`.\n\nThe percent the budget has decreased over the budget rate window, represented as a value out of one million.\nThe alert will fire when this budget decrease threshold is reached.\n\nSee the table below for some example conversions from desired budget decrease percent to the representation as a value out of one million\n| Desired percent | Value per million |\n|-----------------|-------------------|\n| 0.001%          | 1                 |\n| 1%              | 10,000            |\n| 5%              | 50,000            |\n| 99.99%          | 999,900           |\n",
        examples=[1000],
        ge=1,
        le=1000000,
    )


class CreateBudgetRateBurnAlertRequestSlo(CreateExhaustionTimeBurnAlertRequestSlo):
    """
    Details about the SLO associated with the burn alert.
    """


class KeyType(Enum):
    """
    The type of API Key
    """

    ingest = "ingest"


class Permissions(BaseModel):
    """
    The permissions granted to this Ingest API Key
    """

    create_datasets: bool | None = Field(
        default=False, description="Whether this API Key can create new Datasets"
    )


class Timestamps(BaseModel):
    created: AwareDatetime | None = Field(
        default=None,
        description="The ISO8601-formatted time when the API Key was created.",
        examples=["2022-09-22T17:32:11Z"],
    )
    updated: AwareDatetime | None = Field(
        default=None,
        description="The ISO8601-formatted time when the API Key was updated.",
        examples=["2022-10-31T15:08:11Z"],
    )


class ConfigurationKeyKeyType(Enum):
    """
    The type of API Key
    """

    configuration = "configuration"


class ConfigurationKeyPermissions(BaseModel):
    """
    The permissions granted to this Configuration API Key
    """

    create_datasets: bool | None = Field(
        default=False, description="Whether this API Key can create new Datasets"
    )
    send_events: bool | None = Field(
        default=False, description="Whether this API Key can send Events"
    )
    manage_markers: bool | None = Field(
        default=False, description="Whether this API Key can manage Markers"
    )
    manage_triggers: bool | None = Field(
        default=False, description="Whether this API Key can manage Triggers"
    )
    manage_boards: bool | None = Field(
        default=False, description="Whether this API Key can manage Boards"
    )
    run_queries: bool | None = Field(
        default=False, description="Whether this API Key can run Queries"
    )
    manage_columns: bool | None = Field(
        default=False, description="Whether this API Key can manage Columns and Queries"
    )
    manage_slos: bool | None = Field(
        default=False, description="Whether this API Key can manage SLOs"
    )
    manage_recipients: bool | None = Field(
        default=False, description="Whether this API Key can manage Recipients"
    )
    manage_privateBoards: bool | None = Field(
        default=False, description="Whether this API Key can manage Private Boards"
    )
    read_service_maps: bool | None = Field(
        default=False, description="Whether this API Key can read Service Maps"
    )
    visible_team_members: bool | None = Field(
        default=False,
        description="Whether this API Key secret can be accessed by members in the Honeycomb dashboard. The user will only\nsee a redacted key if they aren't an owner when this setting is enabled.\n\nThis parameter has no effect when used through the API since the API never returns the configuration\nkey secret except at creation.\n",
    )


class ConfigurationKeyTimestamps(Timestamps):
    pass


class ConfigurationKey(BaseModel):
    key_type: Literal["configuration"] = Field(
        ..., description="The type of API Key", examples=["configuration"]
    )
    name: str = Field(
        ...,
        description="A human-readable name for the API Key",
        examples=["us-west-2 collectors key"],
        max_length=100,
    )
    disabled: bool | None = Field(
        default=False, description="Whether the API Key is disabled", examples=[False]
    )
    permissions: ConfigurationKeyPermissions | None = Field(
        default=None, description="The permissions granted to this Configuration API Key"
    )
    timestamps: ConfigurationKeyTimestamps | None = None


class IngestKeyType(BaseModel):
    key_type: KeyType = Field(..., description="The type of API Key", examples=["ingest"])
    time_to_live: str | None = Field(
        default=None,
        description="An optional property of an ingest key that determines the time at which the key becomes unauthorized.\nWhen the time_to_live passes, the key will no longer be usable. The time_to_live property can only\nbe set when the key is created and cannot be changed.\nExpressed as a RFC3339-formatted time.\n",
        examples=["2025-11-19T18:01:02+00:00"],
    )


class UserRelationshipDataType(Enum):
    users = "users"


class UserRelationshipData(BaseModel):
    id: str = Field(
        ..., description="The ID of this user.\n", examples=["hcxus_01hzqr5g7jg9qz40xtgx7rjwj0"]
    )
    type: UserRelationshipDataType


class UserRelationship(BaseModel):
    data: UserRelationshipData


class CreatorRelationship(RootModel[UserRelationship | None]):
    root: UserRelationship | None = Field(
        ..., description="The User who initially created this resource."
    )


class EditorRelationship(RootModel[UserRelationship | None]):
    root: UserRelationship | None = Field(
        ..., description="The User who last edited this resource."
    )


class EnvironmentRelationshipDataType(Enum):
    environments = "environments"


class EnvironmentRelationshipData(BaseModel):
    id: str = Field(
        ...,
        description="The ID of the Environment this object is associated with.",
        examples=["hxenv_12345678901234567890123456"],
    )
    type: EnvironmentRelationshipDataType


class EnvironmentRelationship(BaseModel):
    """
    The Environment this object is associated with.
    """

    data: EnvironmentRelationshipData


class DatasetRelationshipDataType(Enum):
    datasets = "datasets"


class DatasetRelationshipData(BaseModel):
    id: str = Field(
        ...,
        description='The dataset slug or "__all__" for environment-wide resources.',
        examples=["my-dataset"],
    )
    type: DatasetRelationshipDataType


class DatasetRelationship(BaseModel):
    """
    The Dataset this object is associated with.
    """

    data: DatasetRelationshipData


class TeamRelationshipTeamDataType(Enum):
    teams = "teams"


class TeamRelationshipTeamData(BaseModel):
    id: str = Field(
        ...,
        description="The ID of the Team this object is associated with",
        examples=["hxctm_12345678901234567890123456"],
    )
    type: TeamRelationshipTeamDataType


class TeamRelationshipTeam(BaseModel):
    data: TeamRelationshipTeamData


class TeamRelationship(BaseModel):
    team: TeamRelationshipTeam


class ApiKeyObjectType(Enum):
    api_keys = "api-keys"


class ApiKeyObjectRelationships(BaseModel):
    environment: EnvironmentRelationship
    creator: UserRelationship | None = Field(
        default=None, description="The User who initially created this resource."
    )
    editor: UserRelationship | None = Field(
        default=None, description="The User who last edited this resource."
    )


class ApiKeyObjectLinks(BaseModel):
    self: str | None = Field(
        default=None,
        description="The URL of this resource",
        examples=["/2/teams/my-team/api-keys/hcxik_12345678901234567890123456"],
    )


class IncludedResource(BaseModel):
    id: str | None = Field(
        default=None,
        description="The unique identifier of the resource",
        examples=["hcxen_01hznmeqrcq8rz533xrvtc6mk0"],
    )
    type: str | None = Field(default=None, examples=["environments"])
    attributes: dict[str, Any] | None = Field(
        default=None, examples=[{"name": "Production", "slug": "production"}]
    )


class ApiKeyCreateRequestDataRelationships(BaseModel):
    environment: EnvironmentRelationship


class ApiKeyCreateResponseDataRelationships(ApiKeyObjectRelationships):
    pass


class ApiKeyCreateResponseDataLinks(ApiKeyObjectLinks):
    pass


class IngestKeyUpdateAttributes(BaseModel):
    name: str | None = Field(
        default=None,
        description="A human-readable name for the Ingest Key",
        examples=["updated key name"],
    )
    disabled: bool | None = Field(
        default=None, description="Whether the Ingest Key is disabled", examples=[False]
    )


class IngestKeyUpdate(BaseModel):
    id: str = Field(
        ...,
        description="The unique identifier of the Ingest Key ID with hcxik_ prefix",
        examples=["hcxik_12345678901234567890123456"],
        pattern="^hc[a-z]ik_[a-zA-Z0-9]{26}$",
    )
    type: ApiKeyObjectType
    attributes: IngestKeyUpdateAttributes


class ConfigurationKeyUpdateAttributesPermissions(BaseModel):
    """
    The permissions granted to this Configuration API Key. Values omitted will not be replaced.
    """

    create_datasets: bool | None = Field(
        default=None, description="Whether this API Key can create new Datasets"
    )
    send_events: bool | None = Field(
        default=None, description="Whether this API Key can send Events"
    )
    manage_markers: bool | None = Field(
        default=None, description="Whether this API Key can manage Markers"
    )
    manage_triggers: bool | None = Field(
        default=None, description="Whether this API Key can manage Triggers"
    )
    manage_boards: bool | None = Field(
        default=None, description="Whether this API Key can manage Boards"
    )
    run_queries: bool | None = Field(
        default=None, description="Whether this API Key can run Queries"
    )
    manage_columns: bool | None = Field(
        default=None, description="Whether this API Key can manage Columns and Queries"
    )
    manage_slos: bool | None = Field(
        default=None, description="Whether this API Key can manage SLOs"
    )
    manage_recipients: bool | None = Field(
        default=None, description="Whether this API Key can manage Recipients"
    )
    manage_privateBoards: bool | None = Field(
        default=None, description="Whether this API Key can manage Private Boards"
    )
    read_service_maps: bool | None = Field(
        default=None, description="Whether this API Key can read Service Maps"
    )
    visible_team_members: bool | None = Field(
        default=None,
        description="Whether this API Key can be accessed by members.\nThis value is not checked when fetching API keys through the API, there are no permissions check in the\nAPI.\n",
    )


class ConfigurationKeyUpdateAttributes(BaseModel):
    name: str | None = Field(
        default=None,
        description="A human-readable name for the API Key",
        examples=["updated key name"],
    )
    disabled: bool | None = Field(
        default=None, description="Whether the API Key is enabled", examples=[False]
    )
    permissions: ConfigurationKeyUpdateAttributesPermissions | None = Field(
        default=None,
        description="The permissions granted to this Configuration API Key. Values omitted will not be replaced.",
    )


class ConfigurationKeyUpdate(BaseModel):
    id: str = Field(
        ...,
        description="The unique identifier of the Configuration Key ID with hcxlk_ prefix",
        examples=["hcxlk_12345678901234567890123456"],
        pattern="^hc[a-z]lk_[a-zA-Z0-9]{26}$",
    )
    type: ApiKeyObjectType
    attributes: ConfigurationKeyUpdateAttributes


class UpdateEnvironmentRequestDataAttributesSettings(BaseModel):
    delete_protected: bool | None = Field(
        default=None, description="If true, the environment cannot be deleted."
    )


class EnvironmentColor(Enum):
    blue = "blue"
    green = "green"
    gold = "gold"
    red = "red"
    purple = "purple"
    lightBlue = "lightBlue"
    lightGreen = "lightGreen"
    lightGold = "lightGold"
    lightRed = "lightRed"
    lightPurple = "lightPurple"


class EnvironmentLinks(BaseModel):
    self: str


class EnvironmentAttributesColor(Enum):
    """
    'classic' color is used only for auto-created Classic environments and cannot be set on any other environment. Classic environments cannot be set to any other color.

    """

    classic = "classic"


class EnvironmentAttributesSettings(BaseModel):
    delete_protected: bool = Field(..., description="If true, the environment cannot be deleted.")


class EnvironmentAttributes(BaseModel):
    name: str
    description: str
    color: EnvironmentColor | EnvironmentAttributesColor = Field(
        ...,
        description="'classic' color is used only for auto-created Classic environments and cannot be set on any other environment. Classic environments cannot be set to any other color.\n",
    )
    slug: str
    settings: EnvironmentAttributesSettings


class Environment(BaseModel):
    id: str
    type: EnvironmentRelationshipDataType
    links: EnvironmentLinks
    attributes: EnvironmentAttributes


class EnvironmentResponse(BaseModel):
    data: Environment


class MarkerObjectType(Enum):
    markers = "markers"


class MarkerObjectAttributesTimestamps(BaseModel):
    created: AwareDatetime | None = Field(
        default=None,
        description="The ISO8601-formatted time when the Marker was created.",
        examples=["2022-09-22T17:32:11Z"],
    )
    updated: AwareDatetime | None = Field(
        default=None,
        description="The ISO8601-formatted time when the Marker was updated.",
        examples=["2022-10-31T15:08:11Z"],
    )


class MarkerObjectAttributes(BaseModel):
    start_time: int = Field(
        ...,
        description="The time the Marker should be placed. Expressed in Unix Time (seconds since epoch).",
        examples=[1471040808],
    )
    end_time: int | None = Field(
        default=None,
        description="Optional end time, allows a Marker to represent a time range. Expressed in Unix Time (seconds since epoch).",
        examples=[1471040908],
    )
    message: str | None = Field(
        default=None,
        description="A message to describe this specific Marker.",
        examples=["backend deploy #123"],
    )
    type: str | None = Field(
        default=None,
        description="Groups similar Markers. All Markers of the same type appear with the same color on the graph.",
        examples=["deploy"],
    )
    url: str | None = Field(
        default=None,
        description="A target URL for the marker. Clicking the marker text will navigate to this URL.",
        examples=["https://github.com/myorg/myrepo/commit/abc123"],
    )
    color: str | None = Field(
        default=None,
        description="Color assigned to this marker type via Marker Settings. Specified as hexadecimal RGB.",
        examples=["#F96E11"],
    )
    timestamps: MarkerObjectAttributesTimestamps | None = None


class MarkerObjectRelationshipsDatasetData(BaseModel):
    type: DatasetRelationshipDataType | None = None
    id: str | None = Field(
        default=None, description="The dataset ID", examples=["hcxds_12345678901234567890123456"]
    )


class MarkerObjectRelationshipsDataset(BaseModel):
    """
    Optional dataset relationship. If null, this is an environment-wide marker.
    """

    data: MarkerObjectRelationshipsDatasetData | None = None


class MarkerObjectRelationships(BaseModel):
    environment: EnvironmentRelationship | None = None
    dataset: MarkerObjectRelationshipsDataset | None = Field(
        default=None,
        description="Optional dataset relationship. If null, this is an environment-wide marker.",
    )


class MarkerObjectLinks(BaseModel):
    self: str | None = Field(
        default=None,
        description="The URL of this resource",
        examples=[
            "/2/teams/my-team/environments/hcxen_12345678901234567890123456/markers/d1c84ec0"
        ],
    )


class MarkerObject(BaseModel):
    id: str = Field(..., description="The unique identifier of the Marker", examples=["d1c84ec0"])
    type: MarkerObjectType
    attributes: MarkerObjectAttributes
    relationships: MarkerObjectRelationships | None = None
    links: MarkerObjectLinks


class MarkerResponse(BaseModel):
    data: MarkerObject


class MarkerCreateRequestDataAttributes(BaseModel):
    start_time: int = Field(
        ...,
        description="The time the Marker should be placed. Expressed in Unix Time (seconds since epoch).",
        examples=[1471040808],
    )
    end_time: int | None = Field(
        default=None,
        description="Optional end time. Must be >= start_time if provided. Expressed in Unix Time (seconds since epoch).",
        examples=[1471040908],
    )
    message: str | None = Field(
        default=None,
        description="A message to describe this specific Marker.",
        examples=["backend deploy #123"],
    )
    type: str | None = Field(
        default=None,
        description='Groups similar Markers. For example, "deploys".',
        examples=["deploy"],
    )
    url: str | None = Field(
        default=None,
        description="A target URL for the marker.",
        examples=["https://github.com/myorg/myrepo/commit/abc123"],
    )


class MarkerCreateRequestDataRelationships(BaseModel):
    environment: EnvironmentRelationship
    dataset: DatasetRelationship


class MarkerCreateRequestData(BaseModel):
    type: MarkerObjectType
    attributes: MarkerCreateRequestDataAttributes
    relationships: MarkerCreateRequestDataRelationships


class MarkerCreateRequest(BaseModel):
    data: MarkerCreateRequestData


class MarkerUpdateRequestDataAttributes(BaseModel):
    start_time: int | None = Field(
        default=None,
        description="The time the Marker should be placed. Expressed in Unix Time (seconds since epoch).",
        examples=[1471040808],
    )
    end_time: int | None = Field(
        default=None,
        description="Optional end time. Must be >= start_time if provided. Expressed in Unix Time (seconds since epoch).",
        examples=[1471040908],
    )
    message: str | None = Field(
        default=None,
        description="A message to describe this specific Marker.",
        examples=["backend deploy #123"],
    )
    type: str | None = Field(
        default=None, description="Groups similar Markers.", examples=["deploy"]
    )
    url: str | None = Field(
        default=None,
        description="A target URL for the marker.",
        examples=["https://github.com/myorg/myrepo/commit/abc123"],
    )


class MarkerUpdateRequestDataRelationships(MarkerCreateRequestDataRelationships):
    pass


class MarkerUpdateRequestData(BaseModel):
    type: MarkerObjectType
    attributes: MarkerUpdateRequestDataAttributes
    relationships: MarkerUpdateRequestDataRelationships


class MarkerUpdateRequest(BaseModel):
    data: MarkerUpdateRequestData


class AuthV2ResponseDataAttributesKeyType(Enum):
    """
    The type of API Key
    """

    management = "management"


class AuthV2ResponseDataAttributesTimestamps(Timestamps):
    pass


class AuthV2ResponseDataAttributes(BaseModel):
    name: str | None = Field(
        default=None,
        description="A human-readable name for the API Key",
        examples=["mgmt write key"],
    )
    key_type: AuthV2ResponseDataAttributesKeyType | None = Field(
        default=None, description="The type of API Key"
    )
    disabled: bool | None = Field(default=False, description="Whether the API Key is disabled")
    scopes: list[Any] | None = Field(
        default=None,
        description="The scopes assigned to this API Key",
        examples=[["api-keys:write"]],
    )
    timestamps: AuthV2ResponseDataAttributesTimestamps | None = None


class AuthV2ResponseData(BaseModel):
    id: str = Field(
        ...,
        description="The unique identifier of the API Key making the request",
        examples=["hcxik_12345678901234567890123456"],
    )
    type: ApiKeyObjectType
    relationships: TeamRelationship | None = None
    attributes: AuthV2ResponseDataAttributes


class AuthV2Response(BaseModel):
    included: list[IncludedResource] | None = Field(
        default=None,
        examples=[
            [
                {
                    "id": "hcxtm_12345678901234567890123456",
                    "type": "teams",
                    "attributes": {"name": "My Team", "slug": "my-team"},
                }
            ]
        ],
    )
    data: AuthV2ResponseData


class PaginationLinks(BaseModel):
    """
    Links to iterate through the pages of results.
    """

    next: str | None = Field(
        ...,
        description="The URL for the next page of results.",
        examples=["/2/teams/my-team/api-keys?page[after]=3025fa645ad1100d&page[size]=10"],
    )


class CreateMapDependenciesResponseStatus(Enum):
    """
    Status of the Map Dependency Request.

    """

    pending = "pending"
    ready = "ready"
    error = "error"


class CreateMapDependenciesResponse(BaseModel):
    """
    Response for a Map Dependency Request.
    """

    request_id: str | None = Field(
        default=None,
        description="Unique identifier for the Map Dependency Request.\n",
        examples=["abc123"],
    )
    status: CreateMapDependenciesResponseStatus | None = Field(
        default=None, description="Status of the Map Dependency Request.\n", examples=["pending"]
    )


class MapNodeType(Enum):
    """
    Type of the node. Currently only "service" is supported. Defaults to "service" if not specified.

    """

    service = "service"


class MapNode(BaseModel):
    """
    A node in the service map (typically a service).
    """

    name: str = Field(..., description="Name of the service or node.\n", examples=["user-service"])
    type: MapNodeType | None = Field(
        default=None,
        description='Type of the node. Currently only "service" is supported. Defaults to "service" if not specified.\n',
        examples=["service"],
    )


class ApiKeySecret(BaseModel):
    secret: str = Field(
        ...,
        description="The API Key secret. This is the only time it will be returned.",
        examples=["12345678901234567890123456789"],
    )


class BurnAlertListSloSlo(BaseModel):
    """
    Details about the SLO associated with the burn alert.
    """

    id: str | None = Field(default=None, description="Unique identifier (ID) of a SLO.")


class BurnAlertListSlo(BaseModel):
    slo: BurnAlertListSloSlo | None = Field(
        default=None,
        description="Details about the SLO associated with the burn alert.",
        examples=[{"id": "2LBq9LckbcA"}],
    )


class ConfigurationKeyCreateAttributes(ConfigurationKey, ApiKeySecret):
    key_type: Literal["configuration"]


class RateLimitedError(RootModel[RateLimitedProblem | RateLimitedJSONAPI]):
    root: RateLimitedProblem | RateLimitedJSONAPI = Field(
        ...,
        description="You have exceeded your assigned limit for the requested API action.\n\nHoneycomb supports two response formats for rate limited errors:\n\n  * JSON:API errors are in use for 'V2' API endpoints.\n  * RFC7807 'Problem Detail' errors are in use for 'V1' API endpoints.\n\nIn either case, an HTTP 429 'Rate Limited' response will include the RFC7231 `Retry-After` header with the time at which you may retry the request,\nwith the exception of the Query Data, and Events and OpenTelemetry ingestion APIs.\nIn the case of the Query Data, and Events and OpenTelemetry ingestion APIs, the `Retry-After` header is not included in the Rate Limited response.\n\nIn addition to the `Retry-After` header when rate limiting is in effect,\nthe API response may include `RateLimit` and `RateLimitPolicy` headers with detailed information about your limits for that type of interaction.\nThe documentation for the specific endpoint will indicate if these headers are included in the response.\n",
        examples=[
            {
                "RateLimited V1": {
                    "status": 429,
                    "type": "https://api.honeycomb.io/problems/rate-limited",
                    "title": "You have exceeded your rate limit.",
                    "error": "You have exceeded your rate limit.",
                    "detail": "Please try again after 2025-02-01T15:23:12Z.",
                }
            },
            {
                "RateLimited V2": None,
                "errors": [
                    {
                        "id": "06dcdd6508ca822f0e7e2bb4121c1f52",
                        "code": "rate-limited/may-retry",
                        "title": "request rate limit exceeded",
                        "detail": "Please try again after 2025-02-01T15:23:12Z.",
                    }
                ],
            },
        ],
    )


class BatchEvent(BaseModel):
    data: dict[str, str | float | bool] = Field(
        ...,
        description="A collection of key-value properties that represent the Event. Honeycomb supports basic data types for the values of each Event attribute.\n\n### Limits\n- 2,000 fields per event. The entire event must be less than 1 MB of uncompressed JSON.\n- String Fields: Each string field has a maximum length of 64KB.\n- Number Fields: Integers and Floats are both 64-bit.\n",
        max_length=2000,
        min_length=1,
    )
    time: str | None = Field(
        default=None,
        description="Should be in RFC3339 high precision format (for example, YYYY-MM-DDTHH:MM:SS.mmmZ). May be a Unix epoch (seconds since 1970) with second or greater precision (for example, 1452759330927). Optional. If not set, defaults to the time that the API receives the event.\n",
    )
    samplerate: int | None = Field(
        default=None,
        description='An integer representing the denominator in the fraction 1/n when client-side sampling has been applied. Optional. If not set, defaults to `1`, meaning "not sampled". Refer to [Sampling](https://docs.honeycomb.io/manage-data-volume/sample/sampled-data-in-honeycomb/) for more detail.\n',
    )


class QueryPanelQueryPanel(BaseModel):
    query_id: str = Field(
        ...,
        description="The ID of the Query to display on the board. The Query must be in the same environment as the board.\n",
        examples=["abc1234e"],
    )
    query_style: QueryPanelQueryPanelQueryStyle | None = Field(
        default=QueryPanelQueryPanelQueryStyle.graph,
        description="How the query should be displayed on the board.",
    )
    query_annotation_id: str = Field(
        ...,
        description="The ID of a Query Annotation that provides a name and description for the Query. The Query Annotation must apply to the `query_id` or `query` specified.\n",
        examples=["e4c24a35"],
    )
    dataset: str | None = Field(
        default=None,
        description="The dataset name to which the query is scoped. Empty for environment-wide queries.\n",
        examples=["My Dataset"],
    )
    visualization_settings: BoardQueryVisualizationSettings | None = None


class QueryPanel(BaseModel):
    type: Literal["query"] = Field(..., description="The type of the board panel.")
    position: BoardPanelPosition | None = None
    query_panel: QueryPanelQueryPanel


class ColumnList(RootModel[list[Column]]):
    root: list[Column]


class KinesisEvent(BaseModel):
    requestId: str | None = None
    timestamp: int | None = None
    records: list[KinesisEventRecord] | None = None


class NotificationRecipient(BaseModel):
    id: str | None = None
    type: RecipientType | None = Field(
        default=None,
        deprecated=True,
        description="One of the allowed Recipient types.\nDeprecated: Use the Recipients API first, then pass the Recipient ID.\n",
    )
    target: str | None = Field(
        default=None,
        deprecated=True,
        description='The target of the notification. For example, the specific Slack channel or email address.\nFor Recipients of `type = "webhook"` or `type = "msteams_workflow"`,\nthis will be the Name in the UI and `webhook_name` in the Recipients API.\nDeprecated: Use the Recipients API first, then pass the Recipient ID.\n',
    )
    details: NotificationRecipientDetails | None = None


class UpdatePipelineConfigurationRolloutResponse(BaseModel):
    data: UpdatePipelineConfigurationRollout


class PagerDutyRecipient(RecipientProperties):
    type: Literal["pagerduty"]
    details: PagerDutyRecipientDetails | None = Field(
        default=None,
        description="Specific schema for the Pagerduty Recipient Type",
        title="PagerDutyRecipientDetails",
    )


class EmailRecipient(RecipientProperties):
    type: Literal["email"]
    details: EmailRecipientDetails | None = Field(
        default=None,
        description="Specific schema for the Email Recipient Type",
        title="EmailRecipientDetails",
    )


class SlackRecipient(RecipientProperties):
    type: Literal["slack"]
    details: SlackRecipientDetails | None = Field(
        default=None,
        description="Specific schema for the Slack Recipient Type.",
        title="SlackRecipientDetails",
    )


class MSTeamsRecipient(RecipientProperties):
    type: Literal["msteams"]
    details: MSTeamsRecipientDetails | None = Field(
        default=None,
        description="Specific schema for the MS Teams Recipient Type. Now deprecated, please use the `msteams_workflow` type instead.",
        title="MSTeamsRecipientDetails",
    )


class MSTeamsWorkflowRecipient(RecipientProperties):
    type: Literal["msteams_workflow"]
    details: MSTeamsWorkflowRecipientDetails | None = Field(
        default=None,
        description="Specific schema for the MS Teams Workflow Recipient Type.",
        title="MSTeamsWorkflowRecipientDetails",
    )


class WebhookRecipientDetailsWebhookPayloadsPayloadTemplates(BaseModel):
    trigger: PayloadTemplate | None = None
    budget_rate: PayloadTemplate | None = None
    exhaustion_time: PayloadTemplate | None = None


class WebhookRecipientDetailsWebhookPayloads(BaseModel):
    """
    Specify a custom webhook payload.
    """

    template_variables: list[TemplateVariableDefinition] | None = Field(
        default=None,
        description="Custom variable definitions for this webhook",
        examples=[[{"name": "severity", "default_value": "CRITICAL"}]],
        max_length=10,
    )
    payload_templates: WebhookRecipientDetailsWebhookPayloadsPayloadTemplates | None = None


class WebhookRecipientDetails(BaseModel):
    """
    Specific schema for the Webhook Recipient Type
    """

    model_config = ConfigDict(
        extra="forbid",
    )
    webhook_headers: list[WebhookHeader] | None = Field(
        default=None,
        description="Custom headers for this webhook",
        examples=[[{"header": "Authorization", "value": "Bearer xyz123"}]],
        max_length=5,
    )
    webhook_name: str = Field(
        ...,
        description="A name for this Integration.",
        examples=["Example webhook"],
        max_length=255,
    )
    webhook_url: str = Field(
        ..., description="Webhook URL.", examples=["https://webhook.example.com"], max_length=2048
    )
    webhook_secret: str | None = Field(
        default=None, description="Webhook secret.", examples=["secret"], max_length=255
    )
    webhook_payloads: WebhookRecipientDetailsWebhookPayloads | None = Field(
        default=None, description="Specify a custom webhook payload."
    )


class WebhookRecipient(RecipientProperties):
    type: Literal["webhook"]
    details: WebhookRecipientDetails | None = Field(
        default=None,
        description="Specific schema for the Webhook Recipient Type",
        title="WebhookRecipientDetails",
    )


class Recipient(
    RootModel[
        PagerDutyRecipient
        | EmailRecipient
        | SlackRecipient
        | WebhookRecipient
        | MSTeamsRecipient
        | MSTeamsWorkflowRecipient
    ]
):
    root: (
        PagerDutyRecipient
        | EmailRecipient
        | SlackRecipient
        | WebhookRecipient
        | MSTeamsRecipient
        | MSTeamsWorkflowRecipient
    ) = Field(..., discriminator="type")


class BaseTrigger(BaseModel):
    id: str | None = Field(default=None, description="The unique identifier (ID) for this Trigger.")
    dataset_slug: str | None = Field(
        default=None,
        description='The slug of the dataset this trigger belongs to. For environment-wide triggers, this will be "__all__".',
    )
    name: str | None = Field(
        default=None,
        description="A short, human-readable name for this Trigger, which will be displayed in the UI and when the trigger fires.\n",
        max_length=120,
        min_length=1,
    )
    description: str | None = Field(
        default=None,
        description="A longer description, displayed on the Trigger's detail page.\n",
        max_length=1023,
    )
    tags: list[Tag] | None = Field(
        default=None,
        description="A list of key-value pairs to help identify the Trigger.",
        examples=[[{"key": "team", "value": "blue"}]],
        max_length=10,
    )
    threshold: BaseTriggerThreshold | None = Field(
        default=None,
        description="The threshold over which the trigger will fire, specified as both an operator and a value.\n",
    )
    frequency: int | None = Field(
        default=None,
        description="The interval in seconds in which to check the results of the querys calculation against the threshold. Cannot be more than 4 times the query's duration (i.e. `duration <= frequency*4`). See [A Caveat on Time](https://docs.honeycomb.io/investigate/collaborate/share-query/define-query-json/#how-to-specify-an-absolute-time-range) for more information on specifying a query's duration. minimum: 60 maximum: 86400 multipleOf: 60 default: 900\n",
    )
    alert_type: BaseTriggerAlertType | None = Field(
        default=BaseTriggerAlertType.on_change,
        description='How often to fire an alert when a trigger threshold is crossed.\n- `on_change` sends a trigger notification when the result of the specified calculation crosses the threshold.\n  The trigger resolves only when the result of the query no longer satisfies the threshold condition.\n- `on_true` keeps sending a trigger notification at current frequency when and while the threshold is met.\n  (This reflects the same behavior as the "Send an alert every time a threshold is met" checkbox in the Honeycomb UI.)\n',
    )
    disabled: bool | None = Field(
        default=False,
        description="If true, the trigger will not be evaluated and alerts will not be sent.\n",
    )
    triggered: bool | None = Field(
        default=None,
        description="If true, the trigger has crossed its specified threshold without resolving.\n",
    )
    recipients: list[NotificationRecipient] | None = Field(
        default=None,
        description="A list of [Recipients](/api/recipients/) to notify when the Trigger fires. Using `type`+`target` is deprecated. First, create the Recipient via the Recipients API, and then specify the ID.\n",
    )
    evaluation_schedule_type: BaseTriggerEvaluationScheduleType | None = Field(
        default=None,
        description="The schedule type used by the trigger. The default is frequency, where the trigger runs at the\nspecified frequency. The window type means that the trigger will run at the specified frequency,\nbut only in the time window specified in the evaluation_schedule field.\n",
    )
    evaluation_schedule: BaseTriggerEvaluationSchedule | None = Field(
        default=None,
        description="A schedule that determines when the trigger is run. When the time is within the scheduled\nwindow, the trigger will be run at the specified frequency. Outside of the window, the trigger\nwill not be run.\n",
    )
    created_at: AwareDatetime | None = None
    updated_at: AwareDatetime | None = None
    baseline_details: BaseTriggerBaselineDetails | dict[str, Any] | None = None


class TriggerWithInlineQuery(BaseTrigger):
    query: dict[str, Any] | None = Field(
        default=None,
        description="A query ID or an inline query that is a strict subset of a Query Specification.\n",
    )


class TriggerWithQueryReference(BaseTrigger):
    query_id: str | None = Field(
        default=None,
        description="The ID of a Query that meets the criteria for being used as a Trigger, per above.\n",
    )


class CreateTriggerRequest(RootModel[TriggerWithInlineQuery | TriggerWithQueryReference]):
    root: TriggerWithInlineQuery | TriggerWithQueryReference


class TriggerResponse(TriggerWithInlineQuery, TriggerWithQueryReference):
    pass


class SLOHistoryResponse(RootModel[dict[str, list[SLOHistory]]]):
    """
    A mapping from SLO IDs (e.g., "2LBq9LckbcA") to their historical data. Each SLO ID maps to an array of compliance and budget intervals.

    """

    root: dict[str, list[SLOHistory]]


class ExhaustionTimeBurnAlertListResponse(ExhaustionTime, BurnAlertListSlo):
    alert_type: Literal["exhaustion_time"]


class CreateExhaustionTimeBurnAlertRequest(ExhaustionTime):
    slo: CreateExhaustionTimeBurnAlertRequestSlo = Field(
        ...,
        description="Details about the SLO associated with the burn alert.",
        examples=[{"id": "2LBq9LckbcA"}],
    )
    recipients: list[NotificationRecipient] | None = Field(
        default=None,
        description="A list of [Recipients](/api/recipients/) to notify when an alert fires. Using `type`+`target` is deprecated. First, create the Recipient via the Recipients API, and then specify the ID.\n",
        examples=[[{"id": "abcd123", "type": "email", "target": "alerts@example.com"}]],
        min_length=1,
    )
    alert_type: Literal["exhaustion_time"]


class UpdateExhaustionTimeBurnAlertRequest(ExhaustionTime):
    recipients: list[NotificationRecipient] = Field(
        ...,
        description="A list of [Recipients](/api/recipients/) to notify when an alert fires. Using `type`+`target` is deprecated. First, create the Recipient via the Recipients API, and then specify the ID.\n",
        examples=[[{"id": "abcd123", "type": "email", "target": "alerts@example.com"}]],
        min_length=1,
    )
    alert_type: Literal["exhaustion_time"]


class BudgetRateListResponse(BudgetRate, BurnAlertListSlo):
    alert_type: Literal["budget_rate"]


class CreateBudgetRateBurnAlertRequest(BudgetRate):
    slo: CreateBudgetRateBurnAlertRequestSlo = Field(
        ...,
        description="Details about the SLO associated with the burn alert.",
        examples=[{"id": "2LBq9LckbcA"}],
    )
    recipients: list[NotificationRecipient] | None = Field(
        default=None,
        description="A list of [Recipients](/api/recipients/) to notify when an alert fires. Using `type`+`target` is deprecated. First, create the Recipient via the Recipients API, and then specify the ID.\n",
        examples=[[{"id": "abcd123", "type": "email", "target": "alerts@example.com"}]],
        min_length=1,
    )
    alert_type: Literal["budget_rate"]


class UpdateBudgetRateBurnAlert(BudgetRate):
    recipients: list[NotificationRecipient] = Field(
        ...,
        description="A list of [Recipients](/api/recipients/) to notify when an alert fires. Using `type`+`target` is deprecated. First, create the Recipient via the Recipients API, and then specify the ID.\n",
        examples=[[{"id": "abcd123", "type": "email", "target": "alerts@example.com"}]],
        min_length=1,
    )
    alert_type: Literal["budget_rate"]


class IngestKey(IngestKeyType):
    key_type: Literal["ingest"] = Field(..., description="The type of API Key", examples=["ingest"])
    name: str = Field(
        ...,
        description="A human-readable name for the API Key",
        examples=["us-west-2 collectors key"],
        max_length=100,
    )
    disabled: bool | None = Field(
        default=False, description="Whether the API Key is disabled", examples=[False]
    )
    permissions: Permissions | None = Field(
        default=None, description="The permissions granted to this Ingest API Key"
    )
    timestamps: Timestamps | None = None


class ApiKeyCreateRequestData(BaseModel):
    type: ApiKeyObjectType
    attributes: IngestKey | ConfigurationKey = Field(..., discriminator="key_type")
    relationships: ApiKeyCreateRequestDataRelationships


class ApiKeyCreateRequest(BaseModel):
    data: ApiKeyCreateRequestData


class ApiKeyUpdateRequest(BaseModel):
    data: IngestKeyUpdate | ConfigurationKeyUpdate


class CreateEnvironmentRequestDataAttributes(BaseModel):
    name: str = Field(..., max_length=255)
    description: str | None = Field(default=None, max_length=255)
    color: EnvironmentColor | None = None


class CreateEnvironmentRequestData(BaseModel):
    type: EnvironmentRelationshipDataType
    attributes: CreateEnvironmentRequestDataAttributes


class CreateEnvironmentRequest(BaseModel):
    data: CreateEnvironmentRequestData


class UpdateEnvironmentRequestDataAttributes(BaseModel):
    description: str | None = Field(default=None, max_length=255)
    color: EnvironmentColor | None = None
    settings: UpdateEnvironmentRequestDataAttributesSettings | None = None


class UpdateEnvironmentRequestData(BaseModel):
    id: str
    type: EnvironmentRelationshipDataType
    attributes: UpdateEnvironmentRequestDataAttributes


class UpdateEnvironmentRequest(BaseModel):
    data: UpdateEnvironmentRequestData


class EnvironmentListResponse(BaseModel):
    data: list[Environment]
    links: PaginationLinks | None = None


class CreateMapDependenciesRequest(BaseModel):
    """
    Create a Map Dependency Request.
    """

    start_time: int | None = Field(
        default=None,
        description="Absolute start time to evaluate dependencies, in seconds since UNIX epoch. Must be <= `end_time` (when `time_range` is not provided).\n",
        examples=[1622548800],
    )
    end_time: int | None = Field(
        default=None,
        description="Absolute end time to evaluate dependencies, in seconds since UNIX epoch. Must be >= `start_time` (when `time_range` is not provided).\n",
        examples=[1622635200],
    )
    time_range: int | None = Field(
        default=7200,
        description="Time range in seconds (minimum 1). Can be used with either `start_time` (seconds after `start_time`), `end_time` (seconds before `end_time`), or without either (seconds before now).\n",
        examples=[7200],
        ge=1,
    )
    filters: list[MapNode] | None = Field(
        default=None,
        description="Optional list of service nodes to filter dependencies by. Only dependencies involving these nodes will be returned.\n",
    )


class MapDependency(BaseModel):
    """
    A dependency relationship between two services.
    """

    parent_node: MapNode | None = None
    child_node: MapNode | None = None
    call_count: int | None = Field(
        default=None,
        description="Number of calls between the parent and child services.\n",
        examples=[142],
    )


class BurnAlertDetailRecipients(BaseModel):
    recipients: list[NotificationRecipient] | None = Field(
        default=None,
        description="A list of [Recipients](/api/recipients/) to notify when an alert fires. Using `type`+`target` is deprecated. First, create the Recipient via the Recipients API, and then specify the ID.\n",
        examples=[[{"id": "abcd123", "type": "email", "target": "alerts@example.com"}]],
        min_length=1,
    )


class IngestKeyCreateAttributes(IngestKey, ApiKeySecret):
    key_type: Literal["ingest"]


class BurnAlertListResponse(
    RootModel[ExhaustionTimeBurnAlertListResponse | BudgetRateListResponse]
):
    root: ExhaustionTimeBurnAlertListResponse | BudgetRateListResponse = Field(
        ..., discriminator="alert_type"
    )


class CreateBurnAlertRequest(
    RootModel[CreateExhaustionTimeBurnAlertRequest | CreateBudgetRateBurnAlertRequest]
):
    root: CreateExhaustionTimeBurnAlertRequest | CreateBudgetRateBurnAlertRequest = Field(
        ..., discriminator="alert_type"
    )


class UpdateBurnAlertRequest(
    RootModel[UpdateExhaustionTimeBurnAlertRequest | UpdateBudgetRateBurnAlert]
):
    root: UpdateExhaustionTimeBurnAlertRequest | UpdateBudgetRateBurnAlert = Field(
        ..., discriminator="alert_type"
    )


class ExhaustionTimeDetailResponse(ExhaustionTimeBurnAlertListResponse, BurnAlertDetailRecipients):
    alert_type: Literal["exhaustion_time"]


class BudgetRateBurnAlertDetailResponse(BudgetRateListResponse, BurnAlertDetailRecipients):
    alert_type: Literal["budget_rate"]


class ApiKeyObject(BaseModel):
    id: str | None = Field(
        default=None,
        description="The unique identifier of the API Key.\n\nThe last two characters of the prefix define the type of key. `ik` for Ingest Keys and `lk` for\nConfiguration Keys.\n",
        examples=["hcxik_12345678901234567890123456"],
    )
    type: ApiKeyObjectType | None = None
    attributes: IngestKey | ConfigurationKey | None = Field(default=None, discriminator="key_type")
    relationships: ApiKeyObjectRelationships | None = None
    links: ApiKeyObjectLinks | None = None


class ApiKeyResponse(BaseModel):
    data: ApiKeyObject


class ApiKeyCreateResponseData(BaseModel):
    id: str = Field(
        ...,
        description="The unique identifier of the API Key",
        examples=["hcxik_12345678901234567890123456"],
    )
    type: ApiKeyObjectType
    attributes: IngestKeyCreateAttributes | ConfigurationKeyCreateAttributes = Field(
        ..., discriminator="key_type"
    )
    relationships: ApiKeyCreateResponseDataRelationships
    links: ApiKeyCreateResponseDataLinks


class ApiKeyCreateResponse(BaseModel):
    data: ApiKeyCreateResponseData


class ApiKeyListResponse(BaseModel):
    data: list[ApiKeyObject]
    links: PaginationLinks | None = None


class GetMapDependenciesResponse(BaseModel):
    """
    Response containing map dependencies data.
    """

    request_id: str | None = Field(
        default=None,
        description="Unique identifier for the Map Dependency Request.\n",
        examples=["abc123"],
    )
    status: CreateMapDependenciesResponseStatus | None = Field(
        default=None, description="Status of the Map Dependency Request.\n", examples=["ready"]
    )
    dependencies: list[MapDependency] | None = Field(
        default=None,
        description='Array of service dependencies. Null when status is "pending" or "error".\n',
    )
    links: PaginationLinks | None = None


class Board(BaseModel):
    name: str = Field(
        ...,
        description="The name of the Board.",
        examples=["My Board"],
        max_length=255,
        min_length=1,
    )
    description: str | None = Field(
        default=None,
        description="A description of the Board.",
        examples=["A board created via the API"],
        max_length=1024,
        min_length=0,
    )
    type: BoardType
    links: BoardLinks | None = None
    id: str | None = Field(
        default=None,
        description="Unique identifier (ID), returned in response bodies.",
        examples=["2NeeaE9bBLd"],
    )
    panels: (
        list[Annotated[QueryPanel | SLOPanel | TextPanel, Field(discriminator="type")]] | None
    ) = None
    layout_generation: BoardLayoutGeneration | None = Field(
        default=BoardLayoutGeneration.manual,
        description='The layout generation mode for the board. When set to "auto", the board will be automatically laid out based on the panels. When set to "manual", the board will be laid out manually by the user.\n',
    )
    tags: list[Tag] | None = Field(
        default=None,
        description="A list of key-value pairs to help identify the Trigger.",
        examples=[[{"key": "team", "value": "blue"}]],
        max_length=10,
    )
    preset_filters: list[PresetFilter] | None = Field(
        default=None,
        description="A list of preset filters to apply to the board. For backwards compatibility, if no preset filters are provided, the existing preset filters will be preserved. If an empty array is provided, all preset filters will be deleted.\n**Note**: Each board is limited to a maximum of 5 preset filters. Attempting to create or update a board with more than 5 preset filters will result in an error.\n",
        examples=[[{"column": "app.Service", "alias": "Service"}]],
        max_length=5,
    )


class BurnAlertDetailResponse(
    RootModel[ExhaustionTimeDetailResponse | BudgetRateBurnAlertDetailResponse]
):
    root: ExhaustionTimeDetailResponse | BudgetRateBurnAlertDetailResponse = Field(
        ..., discriminator="alert_type"
    )
