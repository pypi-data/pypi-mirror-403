# 这里记录了每个微服务**发出**的topic事件及对应的protobuf数据结构描述
# ref是引用的数据名称，name是topic字符串:service.entity.event
entryService:
  - ref: EntryRecordPreprocess
    name: entry.record.preprocess
    description: 用户记录预处理，如asr/ocr等
    schema: entryService/record.proto
    message: entryService.Record
    versions: [v1]
  - ref: EntryRecordPreprocessReply
    name: entry.record.preprocess.reply
    description: 用户记录预处理完成
    schema: entryService/record.proto
    message: entryService.Record
    versions: [v1]
  - ref: EntryRecordProcess
    name: entry.record.process
    description: 给总agent使用
    schema: entryService/record.proto
    message: entryService.Record
    versions: [v1]
  - ref: EntryRecordUpdate
    name: entry.record.update
    description: 用户记录更新
    schema: entryService/record.proto
    message: entryService.Record
    versions: [v1]

intentService:
  - ref: IntentResponse
    name: intent.response
    description: 用户意图解析完成
    schema: intentService/intent_response.proto
    message: intentService.IntentResponse
    versions: [v1]

  - ref: IntentRecordGroup
    name: intent.record.group
    description: 用户记录组
    schema: intentService/record_group.proto
    message: intentService.RecordGroup
    versions: [v1]

chatService:
  - ref: ChatRequest
    name: chat.request
    description: 用户对话请求
    schema: entryService/chat_message.proto
    message: entryService.ChatHistory
    versions: [v1]

  - ref: ChatResponse
    name: chat.response
    description: 用户对话结果返回
    schema: entryService/chat_message.proto
    message: entryService.ChatMessage
    versions: [v1]

scheduleService:
  - ref: ScheduleRequest
    name: schedule.request
    description: 用户记录调度请求
    schema: entryService/record.proto
    message: entryService.Record
    versions: [v1]

  - ref: ScheduleResponse
    name: schedule.response
    description: 用户记录调度结果
    schema: scheduleService/schedule.proto
    message: scheduleService.Schedule
    versions: [v1]

feedbackService:
  - ref: FeedbackRequest
    name: feedback.request
    description: 用户反馈请求
    schema: entryService/record.proto
    message: entryService.Record
    versions: [v1]

  - ref: FeedbackResponse
    name: feedback.response
    description: 用户反馈结果
    schema: entryService/record.proto
    message: entryService.Record
    versions: [v1]

tagService:
  - ref: TagRequest
    name: tag.request
    description: 用户标签请求
    schema: entryService/record.proto
    message: entryService.Record
    versions: [v1]

  - ref: TagResponse
    name: tag.response
    description: 用户标签结果
    schema: tagService/tag.proto
    message: tagService.Tag
    versions: [v1]