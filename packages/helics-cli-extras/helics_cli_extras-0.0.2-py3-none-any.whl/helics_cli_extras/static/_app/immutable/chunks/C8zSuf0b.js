var J=Object.defineProperty;var B=s=>{throw TypeError(s)};var K=(s,e,t)=>e in s?J(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var L=(s,e,t)=>K(s,typeof e!="symbol"?e+"":e,t),F=(s,e,t)=>e.has(s)||B("Cannot "+t);var r=(s,e,t)=>(F(s,e,"read from private field"),t?t.call(s):e.get(s)),v=(s,e,t)=>e.has(s)?B("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),Y=(s,e,t,a)=>(F(s,e,"write to private field"),a?a.call(s,t):e.set(s,t),t);import{j as x,X as Q,$ as D,Y as W,V as C,M as U,i as O,I as ee,ar as se,N as te,C as ae,o as re,as as ie,D as ne,H as fe,E as ue,F as ce,G as $,a5 as de,h as he,u as G,a1 as oe,at as H,aa as q,b as le,e as j,g as T,a6 as _e,au as ve,av as be,aw as ge,ax as Se,ay as pe,ak as Ee,az as Ae,aA as Pe,ad as ye,aB as Ie,aC as Te,A as Re,O as me,aD as De,aE as Oe,aF as Me}from"./DxqtznRv.js";import{s as Ne,g as we}from"./C0R47HOl.js";var o,l,h,b,A,P,R;class ke{constructor(e,t=!0){L(this,"anchor");v(this,o,new Map);v(this,l,new Map);v(this,h,new Map);v(this,b,new Set);v(this,A,!0);v(this,P,()=>{var e=x;if(r(this,o).has(e)){var t=r(this,o).get(e),a=r(this,l).get(t);if(a)Q(a),r(this,b).delete(t);else{var n=r(this,h).get(t);n&&(r(this,l).set(t,n.effect),r(this,h).delete(t),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),a=n.effect)}for(const[i,u]of r(this,o)){if(r(this,o).delete(i),i===e)break;const f=r(this,h).get(u);f&&(D(f.effect),r(this,h).delete(u))}for(const[i,u]of r(this,l)){if(i===t||r(this,b).has(i))continue;const f=()=>{if(Array.from(r(this,o).values()).includes(i)){var _=document.createDocumentFragment();se(u,_),_.append(C()),r(this,h).set(i,{effect:u,fragment:_})}else D(u);r(this,b).delete(i),r(this,l).delete(i)};r(this,A)||!a?(r(this,b).add(i),W(u,f,!1)):f()}}});v(this,R,e=>{r(this,o).delete(e);const t=Array.from(r(this,o).values());for(const[a,n]of r(this,h))t.includes(a)||(D(n.effect),r(this,h).delete(a))});this.anchor=e,Y(this,A,t)}ensure(e,t){var a=x,n=te();if(t&&!r(this,l).has(e)&&!r(this,h).has(e))if(n){var i=document.createDocumentFragment(),u=C();i.append(u),r(this,h).set(e,{effect:U(()=>t(u)),fragment:i})}else r(this,l).set(e,U(()=>t(this.anchor)));if(r(this,o).set(a,e),n){for(const[f,c]of r(this,l))f===e?a.skipped_effects.delete(c):a.skipped_effects.add(c);for(const[f,c]of r(this,h))f===e?a.skipped_effects.delete(c.effect):a.skipped_effects.add(c.effect);a.oncommit(r(this,P)),a.ondiscard(r(this,R))}else O&&(this.anchor=ee),r(this,P).call(this)}}o=new WeakMap,l=new WeakMap,h=new WeakMap,b=new WeakMap,A=new WeakMap,P=new WeakMap,R=new WeakMap;function xe(s,e,t=!1){O&&re();var a=new ke(s),n=t?ie:0;function i(u,f){if(O){const _=ne(s)===fe;if(u===_){var c=ue();ce(c),a.anchor=c,$(!1),a.ensure(u,f),$(!0);return}}a.ensure(u,f)}ae(()=>{var u=!1;e((f,c=!0)=>{u=!0,i(c,f)}),u||i(!1,null)},n)}function z(s,e){return s===e||(s==null?void 0:s[H])===e}function Ce(s={},e,t,a){return de(()=>{var n,i;return he(()=>{n=i,i=[],G(()=>{s!==t(...i)&&(e(s,...i),n&&z(t(...n),s)&&e(null,...n))})}),()=>{oe(()=>{i&&z(t(...i),s)&&e(null,...i)})}}),s}let I=!1,M=Symbol();function Ue(s,e,t){const a=t[e]??(t[e]={store:null,source:le(void 0),unsubscribe:q});if(a.store!==s&&!(M in t))if(a.unsubscribe(),a.store=s??null,s==null)a.source.v=void 0,a.unsubscribe=q;else{var n=!0;a.unsubscribe=Ne(s,i=>{n?a.source.v=i:j(a.source,i)}),n=!1}return s&&M in t?we(s):T(a.source)}function $e(s,e){return s.set(e),e}function qe(){const s={};function e(){_e(()=>{for(var t in s)s[t].unsubscribe();ve(s,M,{enumerable:!1,value:!0})})}return[s,e]}function ze(s,e,t){return s.set(t),e}function Be(s){var e=I;try{return I=!1,[s(),I]}finally{I=e}}function Ge(s,e,t,a){var w;var n=!ye||(t&Ie)!==0,i=(t&Pe)!==0,u=(t&De)!==0,f=a,c=!0,_=()=>(c&&(c=!1,f=u?G(a):a),f),S;if(i){var V=H in s||Me in s;S=((w=be(s,e))==null?void 0:w.set)??(V&&e in s?d=>s[e]=d:void 0)}var p,N=!1;i?[p,N]=Be(()=>s[e]):p=s[e],p===void 0&&a!==void 0&&(p=_(),S&&(n&&ge(),S(p)));var g;if(n?g=()=>{var d=s[e];return d===void 0?_():(c=!0,d)}:g=()=>{var d=s[e];return d!==void 0&&(f=void 0),d===void 0?f:d},n&&(t&Se)===0)return g;if(S){var X=s.$$legacy;return(function(d,y){return arguments.length>0?((!n||!y||X||N)&&S(y?g():d),d):g()})}var m=!1,E=((t&Te)!==0?Re:me)(()=>(m=!1,g()));i&&T(E);var Z=Ee;return(function(d,y){if(arguments.length>0){const k=y?T(E):n&&i?pe(d):d;return j(E,k),m=!0,f!==void 0&&(f=k),d}return Oe&&m||(Z.f&Ae)!==0?E.v:T(E)})}export{ke as B,qe as a,ze as b,Ce as c,$e as d,xe as i,Ge as p,Ue as s};
