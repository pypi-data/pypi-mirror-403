[mypy]
plugins = 
	sqlmypy,
	pydantic.mypy
exclude = ^(venv|build|dist)/
ignore_missing_imports = yes
strict_optional = yes
check_untyped_defs = yes
disallow_incomplete_defs = yes
disallow_untyped_decorators = yes
warn_unused_configs = yes

[mypy-datahub_airflow_plugin._extractors]
ignore_errors = True

[mypy-datahub_airflow_plugin.airflow2._extractors]
ignore_errors = True

[mypy-datahub_airflow_plugin.airflow2.datahub_listener]
ignore_errors = True

[mypy-tests.unit.test_teradata_extractor]
ignore_errors = True

[mypy-datahub_airflow_plugin.example_dags.*]
ignore_errors = True

[mypy-tests.integration.dags.*]
ignore_errors = True
disallow_untyped_defs = no

[mypy-datahub.*]
ignore_missing_imports = no

[mypy-tests.*]
ignore_missing_imports = no

[tool:pytest]
asyncio_mode = auto
addopts = --cov=src --cov-report='' --cov-config setup.cfg --strict-markers -s -v
markers = 
	integration: marks tests to only run in integration (deselect with '-m "not integration"')
testpaths = 
	tests/unit
	tests/integration

[coverage:report]
show_missing = true
exclude_lines = 
	pragma: no cover
	@abstract
	if TYPE_CHECKING:
omit = 
	src/datahub_airflow_plugin/example_dags/*

[egg_info]
tag_build = 
tag_date = 0

