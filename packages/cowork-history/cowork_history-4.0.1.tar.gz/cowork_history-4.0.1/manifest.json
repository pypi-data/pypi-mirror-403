{
  "manifest_version": "0.4",
  "name": "cowork-history",
  "display_name": "Cowork History Search",
  "version": "4.0.1",
  "description": "Search and browse Claude conversation history with hybrid search",
  "long_description": "MCP server for searching and browsing Claude conversation history. Features hybrid search combining FTS5 full-text search, macOS Spotlight indexing, and optional vector embeddings via Ollama. Includes automated Ollama setup tools for embedding generation.",
  "author": {
    "name": "Erik Goughnour",
    "email": "e.goughnour@gmail.com"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/egoughnour/cowork-history.git"
  },
  "icon": "icon.png",
  "server": {
    "type": "python",
    "entry_point": "src/cowork_history_server.py",
    "mcp_config": {
      "command": "uvx",
      "args": [
        "cowork-history"
      ],
      "env": {
        "OLLAMA_URL": "${user_config.ollama_url}",
        "EMBEDDING_MODEL": "${user_config.embedding_model}"
      }
    }
  },
  "compatibility": {
    "platforms": [
      "darwin"
    ],
    "runtimes": {
      "python": ">=3.10"
    }
  },
  "user_config": {
    "ollama_url": {
      "type": "string",
      "title": "Ollama URL",
      "description": "URL for local Ollama server (optional, for vector search)",
      "required": false,
      "default": "http://localhost:11434"
    },
    "embedding_model": {
      "type": "string",
      "title": "Embedding Model",
      "description": "Ollama embedding model for vector search",
      "required": false,
      "default": "nomic-embed-text"
    }
  },
  "tools": [
    {
      "name": "cowork_history_search",
      "description": "Search conversations using hybrid search (FTS + Spotlight + vector)"
    },
    {
      "name": "cowork_history_list",
      "description": "List recent conversations, optionally filtered by project"
    },
    {
      "name": "cowork_history_get",
      "description": "Get full content of a specific conversation by session ID"
    },
    {
      "name": "cowork_history_projects",
      "description": "List all projects with conversation history"
    },
    {
      "name": "cowork_history_stats",
      "description": "Get statistics and search capability status"
    },
    {
      "name": "cowork_history_reindex",
      "description": "Rebuild index and optionally generate embeddings"
    },
    {
      "name": "history_system_check",
      "description": "Check system requirements for Ollama embeddings"
    },
    {
      "name": "history_setup_ollama",
      "description": "Install Ollama via Homebrew for vector search support"
    },
    {
      "name": "history_setup_ollama_direct",
      "description": "Install Ollama via direct download (no Homebrew needed)"
    },
    {
      "name": "history_ollama_status",
      "description": "Check Ollama status and embedding model availability"
    }
  ],
  "keywords": [
    "claude",
    "history",
    "search",
    "conversation",
    "fts",
    "spotlight",
    "vector",
    "embeddings",
    "ollama"
  ],
  "license": "MIT"
}
