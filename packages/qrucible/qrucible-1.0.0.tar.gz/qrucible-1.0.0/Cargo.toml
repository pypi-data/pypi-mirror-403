[package]
name = "qrucible"
version = "1.0.0"
edition = "2021"
description = "Hybrid stateful backtesting engine with Rust hot path and Python bindings"
license = "Apache-2.0"
readme = "README.md"

[lib]
name = "qrucible"
crate-type = ["cdylib"]

[dependencies]
arrow2 = { version = "0.17", optional = true, default-features = false, features = ["io_parquet"] }
csv-core = "0.1"
numpy = "0.21"
pyo3 = { version = "0.21", features = ["extension-module", "abi3-py310"] }
rayon = "1.8"

[features]
default = [
    "parquet",
    "parquet-brotli",
    "parquet-gzip",
    "parquet-lz4",
    "parquet-snappy",
    "parquet-zstd",
]
parquet = ["dep:arrow2"]
parquet-brotli = ["parquet", "arrow2/io_parquet_brotli"]
parquet-gzip = ["parquet", "arrow2/io_parquet_gzip"]
parquet-lz4 = ["parquet", "arrow2/io_parquet_lz4"]
parquet-snappy = ["parquet", "arrow2/io_parquet_snappy"]
parquet-zstd = ["parquet", "arrow2/io_parquet_zstd"]

[package.metadata.maturin]
name = "qrucible"
