(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2428,e=>{"use strict";var t=e.i(43476),s=e.i(93983),n=e.i(71645),r=e.i(18566),a=e.i(70065),l=e.i(94179),i=e.i(71435),c=e.i(30374),u=e.i(95474),o=e.i(54858),d=e.i(67881),m=e.i(69638),f=e.i(73884),x=e.i(3116),h=e.i(75254);let p=(0,h.default)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),g=(0,h.default)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var v=e.i(63059),j=e.i(64659),N=e.i(31278),b=e.i(14683),y=e.i(63209),C=e.i(75505),w=e.i(27025),_=e.i(68054),S=e.i(78583),k=e.i(19909),R=e.i(31343),E=e.i(47163),A=function(){return(A=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++)for(var r in t=arguments[s])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},M="u">typeof window?n.default.useLayoutEffect:n.default.useEffect,T="index-module_num__j6XH3";!function(e,t){void 0===t&&(t={});var s=t.insertAt;if(e&&"u">typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===s&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".index-module_slot_wrap__ZT-DX {\n  display: inline-block;\n  white-space: nowrap;\n}\n\n.index-module_slot__DpPgW {\n  display: inline-block;\n  overflow: hidden;\n  text-align: center;\n  vertical-align: middle;\n  will-change: transform;\n}\n\n.index-module_separator__7GhtE {\n  display: inline-block;\n  vertical-align: middle;\n  text-align: center;\n}\n\n.index-module_numbers__sqlqm {\n  display: block;\n}\n\n.index-module_num__j6XH3 {\n  display: block;\n}\n\n.index-module_top_dummy_list__veRmf {\n  position: absolute;\n  top: 0;\n  transform: translateY(-100%);\n}\n\n[aria-hidden=true] {\n  user-select: none;\n}");var D=[",","."," "],F=/\u0020/,L=/\u00A0/,O=/\u202F/,q="slot-counter-item",I="slot-counter-item-number",P=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(Boolean).join(" ")},B=function(e,t){for(var s=[],n=e;n<t;n+=1)s.push(n);return s},H=function(e,t){for(var s=[],n=e;n!==t;)s.push(n),10===(n+=1)&&(n=0);return s},W=function(e,t){return Math.floor(Math.random()*(t-e)+e)},z=function(e){for(var t,s=function(e,t,s){for(var n,r=0,a=t.length;r<a;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}([],e,0),n=s.length-1;n>0;n-=1){var r=Math.floor(Math.random()*(n+1));t=[s[r],s[n]],s[n]=t[0],s[r]=t[1]}return s},V=function(e){return"number"==typeof e?e:(Array.isArray(e)?e.join(""):e).replace(/[,.]/g,"")},X=function(e){return"object"!=typeof e&&!Number.isNaN(V(e))},Y=function(e){return"object"==typeof e},U=function(e){return!Y(e)&&(D.includes(e)||F.test(e)||L.test(e)||O.test(e))},G=(0,n.memo)((0,n.forwardRef)(function(e,t){var s,r,a=e.isNew,l=e.charClassName,i=e.numbersRef,c=e.active,u=e.isChanged,o=e.effectiveDuration,d=e.delay,m=e.duration,f=e.speed,x=e.value,h=e.startValue,p=e.disableStartValue,g=e.dummyList,v=e.hasSequentialDummyList,j=e.hasInfiniteList,N=e.valueClassName,b=e.numberSlotClassName,y=e.numberClassName,C=e.reverse,w=e.sequentialAnimationMode,_=e.useMonospaceWidth,S=e.maxNumberWidth,k=e.onFontHeightChange,R=e.slotPeek,E=(0,n.useState)(!1),D=E[0],F=E[1],L=(0,n.useState)(x),O=L[0],B=L[1],H=(0,n.useRef)(),W=(0,n.useRef)(x),V=(0,n.useRef)(null),X=(0,n.useState)(0),Y=X[0],U=X[1],G=(0,n.useState)(v?g:z(g)),K=G[0],Z=G[1],$=(0,n.useState)(!1),J=$[0],Q=$[1],ee=Y*(g.length+1);M(function(){Q(!0)},[]),M(function(){var e,t;U(null!=(t=null==(e=V.current)?void 0:e.getBoundingClientRect().height)?t:0)},[J]),(0,n.useEffect)(function(){c?requestAnimationFrame(function(){F(c)}):F(c)},[c]),(0,n.useEffect)(function(){var e=V.current;if(Y&&e&&"u">typeof ResizeObserver){var t=new ResizeObserver(function(e){var t=e[0].contentRect.height;Math.abs(Y-t)>1&&(null==k||k(t))});return t.observe(e),function(){t.disconnect()}}},[Y,k]),(0,n.useMemo)(function(){p&&(H.current=W.current)},[p]),(0,n.useEffect)(function(){D&&(H.current=W.current,W.current=x,setTimeout(function(){return B(x)},w?0:o*f*m*1e3/g.length+1e3*d))},[D,x,o,d,g.length,w,f,m]),(0,n.useEffect)(function(){Z(v?g:z(g))},[g,v]),(0,n.useImperativeHandle)(t,function(){return{refreshStyles:function(){var e,t;F(!0),U(null!=(t=null==(e=V.current)?void 0:e.getBoundingClientRect().height)?t:0),requestAnimationFrame(function(){F(!1)})}}});var et=function(){return K.map(function(e,t){return n.default.createElement("span",{key:t,className:P(T,y,I),"aria-hidden":"true"},e)})},es=C?O:null!=h?h:O;w&&(es=C?O:null!=(s=null!=h?h:H.current)?s:O,w&&a&&!C&&(es=""));var en=C&&null!=h?h:O;w&&(en=C&&null!=(r=null!=h?h:H.current)?r:O);var er=(0,n.useMemo)(function(){if(J)return _?S:void 0},[J,S,_]),ea=(0,n.useMemo)(function(){if(J)return R?Y+2*R:Y},[J,Y,R]);return n.default.createElement("span",{className:P("index-module_slot__DpPgW",l,q),style:A({display:"inline-block",width:er,height:ea},R&&{paddingTop:R,paddingBottom:R})},n.default.createElement("span",{ref:i,className:P("index-module_numbers__sqlqm",b,"slot-counter-item-numbers"),style:A({transition:"none",transform:C?"translateY(-".concat(ee,"px)"):"translateY(0px)"},D&&u&&{transform:C?"translateY(0px)":"translateY(-".concat(ee,"px)"),transition:"transform ".concat(o,"s ").concat(d,"s ease-in-out")})},J?n.default.createElement(n.default.Fragment,null,R&&n.default.createElement("div",{className:"index-module_top_dummy_list__veRmf"},et()),n.default.createElement("span",{className:P(T,y,I),"aria-hidden":"true",style:{height:Y}},es),et(),n.default.createElement("span",{className:P(T,y,N,I,"slot-counter-item-number-value"),ref:V},en),j||R?et():null):n.default.createElement("span",{className:P(T,y,I),"aria-hidden":"true"},null!=h?h:O)))})),K=(0,n.memo)((0,n.forwardRef)(function(e,t){var s,r,a,l,i,c,u,o,d,m,f,x,h,p,g,v,j,N,b,y=e.value,C=e.startValue,w=e.startValueOnce,_=void 0!==w&&w,S=e.duration,k=void 0===S?.7:S,R=e.speed,E=void 0===R?1.4:R,A=e.delay,T=e.dummyCharacters,D=e.dummyCharacterCount,F=e.autoAnimationStart,L=e.containerClassName,O=e.charClassName,I=e.separatorClassName,z=e.valueClassName,K=e.numberSlotClassName,Z=e.numberClassName,$=e.animateUnchanged,J=void 0!==$&&$,Q=e.hasInfiniteList,ee=void 0!==Q&&Q,et=e.sequentialAnimationMode,es=void 0!==et&&et,en=e.useMonospaceWidth,er=void 0!==en&&en,ea=e.direction,el=e.debounceDelay,ei=e.animateOnVisible,ec=e.startFromLastDigit,eu=e.onAnimationStart,eo=e.onAnimationEnd,ed=e.separatorCharacters,em=e.isSeparatorCharacter,ef=void 0===em?U:em,ex=e.slotPeek,eh=(c=null!=el?el:0,o=(u=(0,n.useState)(y))[0],d=u[1],(0,n.useEffect)(function(){if(0===c)return d(y);var e=setTimeout(function(){d(y)},c);return function(){clearTimeout(e)}},[y,c]),o),ep=(0,n.useMemo)(function(){return Array.isArray(eh)&&Y(eh[0])?"":"object"==typeof eh?JSON.stringify(eh):eh.toString()},[eh]),eg=(0,n.useState)(!1),ev=eg[0],ej=eg[1],eN=(0,n.useRef)(),eb=(0,n.useRef)(null),ey=(0,n.useRef)(null),eC=(0,n.useRef)(C),ew=(0,n.useRef)([]),e_=(0,n.useMemo)(function(){return"boolean"==typeof ei?ei:"object"==typeof ei||void 0},[ei]),eS=(0,n.useMemo)(function(){return"object"==typeof ei?ei.rootMargin:void 0},[ei]),ek=(0,n.useMemo)(function(){return"object"==typeof ei?ei.triggerOnce:void 0},[ei]),eR=(0,n.useRef)(!0),eE=!e_&&(void 0===F||F),eA=(0,n.useRef)(null==C||eE?eh:C),eM=(0,n.useRef)(C),eT=(0,n.useRef)(0),eD=(0,n.useRef)(0),eF=(0,n.useState)([]),eL=eF[0],eO=eF[1],eq=(0,n.useRef)(),eI=(0,n.useState)(0),eP=eI[0],eB=eI[1],eH=(0,n.useState)(),eW=eH[0],ez=eH[1],eV=(0,n.useRef)(!1),eX=null!=C&&(!_||eT.current<1),eY=null!=(f=null==(m=eN.current)?void 0:m.dummyCharacterCount)?f:void 0===D?6:D,eU=null!=(h=null==(x=eN.current)?void 0:x.duration)?h:k,eG=(0,n.useRef)({onAnimationStart:eu,onAnimationEnd:eo});eG.current={onAnimationStart:eu,onAnimationEnd:eo};var eK=(0,n.useRef)(!1),eZ=(0,n.useCallback)(function(){var e=ey.current;if(e){var t=B(0,10).map(function(t){var s=document.createElement("span");s.className=null!=z?z:"",s.style.position="absolute",s.style.top="0",s.style.left="-9999px",s.style.visibility="hidden",s.textContent=t.toString(),e.appendChild(s);var n=s.getBoundingClientRect().width;return e.removeChild(s),n});ez(Math.max.apply(Math,t))}},[z]);M(function(){var e;eZ(),null==(e=document.fonts)||e.ready.then(function(){eZ()})},[]),(0,n.useEffect)(function(){eO(B(0,eY*k*E-1).map(function(e){if(!T)return W(0,10);var t=e>=T.length?W(0,T.length):e;return T[t]}))},[T,eY,E,k]),eA.current!==eh&&eV.current&&eD.current>0&&(eM.current=eA.current,eA.current=eh);var e$=Array.isArray(eM.current)?eM.current:null!=(g=null==(p=eM.current)?void 0:p.toString().split(""))?g:[],eJ=Array.isArray(eA.current)?eA.current:null!=(j=null==(v=eA.current)?void 0:v.toString().split(""))?j:[],eQ=Array.isArray(eC.current)?eC.current:null!=(b=null==(N=eC.current)?void 0:N.toString().split(""))?b:[],e0=(0,n.useMemo)(function(){return Array.isArray(eh)?eh:null==eh?void 0:eh.toString().split("")},[eh]),e1=(0,n.useMemo)(function(){return Array.isArray(C)?C:null==C?void 0:C.toString().split("")},[C]),e2=e$.length!==eJ.length,e4=[];eJ.forEach(function(e,t){var s=eJ.length-t-1,n=eX?eQ:e$;(eJ[s]!==n[s]||e2||J)&&e4.push(s)}),void 0!==ec&&ec||e4.reverse();var e5=(0,n.useMemo)(function(){return A||Math.min(.1,eU/e0.length)},[eU,e0.length,A]),e3=(0,n.useCallback)(function(){var e,t,s;null==(t=(e=eG.current).onAnimationEnd)||t.call(e),eK.current=!1,null==(s=ey.current)||s.removeEventListener("transitionend",e3)},[]),e8=(0,n.useCallback)(function(){var e,t,s;eq.current&&window.cancelAnimationFrame(eq.current),eK.current&&e3(),eK.current=!0,null==(e=ey.current)||e.addEventListener("transitionend",e3),null==(s=(t=eG.current).onAnimationStart)||s.call(t),ej(!1),eT.current=eD.current,eT.current+=1,window.requestAnimationFrame(function(){var e;null==(e=ey.current)||e.offsetWidth,eq.current=requestAnimationFrame(function(){eD.current+=1,ej(!0)})})},[e3]),e6=(0,n.useCallback)(function(e){var t,s,n=eX?C:eM.current;if(null==n||!X(n)||!X(eh))return[];var r=n.toString().length,a=eh.toString().length,l=Math.abs(r-a),i=Number(V(n.toString())),c=Number(V(eh.toString())),u=Number(i.toString()[r<a?-l+e:l+e]||0),o=Number(c.toString()[e]||0);if(o===u)return[];var d=i<c,m=d?H((u+1)%10,o):H((o+1)%10,u);return"bottom-up"!==(null!=(s=null==(t=eN.current)?void 0:t.direction)?s:ea)||d?m:m.reverse()},[eX,eh,C,ea]),e7=(0,n.useCallback)(function(){ew.current.forEach(function(e){e.refreshStyles()}),eZ()},[eZ]);(0,n.useEffect)(function(){(eV.current||null!=eM.current)&&(eV.current||null==eC.current)&&(eV.current||eE)&&e8()},[ep,e8,eE]),(0,n.useEffect)(function(){eE&&e8()},[eE,e8]),(0,n.useEffect)(function(){requestAnimationFrame(function(){eV.current=!0})},[]),(0,n.useImperativeHandle)(t,function(){return{startAnimation:ta,refreshStyles:e7,reload:function(){return eB(function(e){return e+1})}}});var e9=null==C||eE||0!==eT.current?e0:e1||[],te=((null==e1?void 0:e1.length)||0)-e9.length,tt=(r=(0,n.useRef)(e9),a=(0,n.useRef)(r.current),l=e9.join(","),i=null==(s=r.current)?void 0:s.join(","),(0,n.useEffect)(function(){i!==l&&(a.current=(null==i?void 0:i.split(","))||[],r.current=l.split(","))},[l,i]),{getPrevDependencies:(0,n.useCallback)(function(){return a.current},[]),setPrevDependenciesToSameAsCurrent:(0,n.useCallback)(function(){a.current=r.current},[])}),ts=tt.getPrevDependencies,tn=tt.setPrevDependenciesToSameAsCurrent,tr=e9.length-ts().length,ta=(0,n.useCallback)(function(e){null==C||_||(eM.current=void 0),eN.current=e,e8(),tn()},[C,_,e8,tn]),tl=(0,n.useMemo)(function(){var e,t;return e=function(){e7()},function(){for(var s=[],n=0;n<arguments.length;n++)s[n]=arguments[n];clearTimeout(t),t=setTimeout(function(){e.apply(void 0,s)},0)}},[e7]);(0,n.useEffect)(function(){if(eb.current&&window.IntersectionObserver){var e=new IntersectionObserver(function(e){e[0].isIntersecting&&e7()});return e.observe(eb.current),function(){return e.disconnect()}}},[e7]),(0,n.useEffect)(function(){if(e_&&eb.current&&window.IntersectionObserver){var e=new IntersectionObserver(function(s){s[0].isIntersecting&&eR.current&&(ta(),eR.current=!1,ek&&(e.disconnect(),t.disconnect()))},{rootMargin:eS,threshold:1}),t=new IntersectionObserver(function(e){e[0].isIntersecting||(eR.current=!0)},{threshold:0});return e.observe(eb.current),t.observe(eb.current),function(){e.disconnect(),t.disconnect()}}},[e_,eS,ek,ta]);var ti=function(e){return ed&&"string"==typeof e?ed.includes(e):null!==ef&&ef(e)},tc=e4.filter(function(e){return!ti(e9[e])}),tu=-1;return n.default.createElement("span",{key:eP,ref:eb,className:P(L,"index-module_slot_wrap__ZT-DX","slot-counter")},e9.map(function(e,t){var s,r,a=e4.includes(t),l=(a?tc.indexOf(t):0)*e5,i=eM.current,c=null!=C&&!!_&&eT.current>1,u=null!=eh&&null!=i&&X(eh)&&X(i)&&V(eh)<V(i);if((null==(s=eN.current)?void 0:s.direction)&&(u="top-down"===(null==(r=eN.current)?void 0:r.direction)),ea&&(u="top-down"===ea),ti(e))return n.default.createElement("span",{key:eJ.length-t-1,className:P("index-module_separator__7GhtE",I,q,"slot-counter-separator")},e);var o=es&&(!eE||eD.current>1);return tu+=1,n.default.createElement(G,{key:e9.length-t-1,index:t,isNew:tr>0&&t<tr,maxNumberWidth:eW,numbersRef:ey,active:ev,isChanged:a,charClassName:O,effectiveDuration:eU,delay:l,value:e,startValue:c||null==e1?void 0:e1[t+te],disableStartValue:c,dummyList:o?e6(tu):eL,hasSequentialDummyList:o,hasInfiniteList:ee,valueClassName:z,numberSlotClassName:K,numberClassName:Z,reverse:u,sequentialAnimationMode:es,useMonospaceWidth:er,onFontHeightChange:tl,speed:E,duration:k,slotPeek:ex,ref:function(e){e&&ew.current.push(e)}})}))}));function Z({pending:e,running:s,passed:n,failed:r,onFilterClick:l,activeFilter:i}){let c=[{label:"Pending",value:e,icon:b.Circle,color:"text-muted-foreground",bgColor:"bg-muted/50",status:"pending"},{label:"Running",value:s,icon:N.Loader2,color:"text-primary",bgColor:"bg-primary/10",status:"running",iconClass:s>0?"animate-spin":""},{label:"Passed",value:n,icon:m.CheckCircle,color:"text-success",bgColor:"bg-success/10",status:"passed"},{label:"Failed",value:r,icon:f.XCircle,color:"text-destructive",bgColor:"bg-destructive/10",status:"failed"}];return(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:c.map(e=>{let s=e.icon,n=i===e.status;return(0,t.jsx)(a.Card,{className:(0,E.cn)("cursor-pointer transition-all hover:scale-105",n&&"ring-2 ring-primary"),onClick:()=>l?.(n?"":e.status),children:(0,t.jsx)(a.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("div",{className:(0,E.cn)("p-2 rounded-lg w-fit",e.bgColor),children:(0,t.jsx)(s,{className:(0,E.cn)("h-5 w-5",e.color,e.iconClass)})}),(0,t.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:e.label})]}),(0,t.jsx)("span",{className:(0,E.cn)("text-5xl font-bold leading-none",e.color),children:(0,t.jsx)(K,{value:e.value,sequentialAnimationMode:!0})})]})})},e.status)})})}function $({completed:e,total:s,passed:n,failed:r}){let l=s>0?Math.round(e/s*100):0;return(0,t.jsx)(a.Card,{children:(0,t.jsxs)(a.CardContent,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Progress"}),(0,t.jsxs)("span",{className:"font-medium",children:[l,"% (",e,"/",s,")"]})]}),(0,t.jsx)("div",{className:"h-3 rounded-full bg-muted overflow-hidden",children:(0,t.jsxs)("div",{className:"h-full flex transition-all duration-500",children:[(0,t.jsx)("div",{className:"bg-success transition-all duration-500",style:{width:`${s>0?n/s*100:0}%`}}),(0,t.jsx)("div",{className:"bg-destructive transition-all duration-500",style:{width:`${s>0?r/s*100:0}%`}})]})}),(0,t.jsxs)("div",{className:"flex justify-between text-xs mt-2 text-muted-foreground",children:[(0,t.jsxs)("span",{className:"text-success",children:[n," passed"]}),(0,t.jsxs)("span",{className:"text-destructive",children:[r," failed"]})]})]})})}function J({tests:e,getElapsed:s}){return 0===e.length?(0,t.jsx)(a.Card,{className:"border-dashed",children:(0,t.jsxs)(a.CardContent,{className:"flex items-center justify-center py-8 text-muted-foreground",children:[(0,t.jsx)(x.Clock,{className:"mr-2 h-5 w-5"}),(0,t.jsx)("span",{children:"Waiting for test execution..."})]})}):(0,t.jsxs)(a.Card,{className:"border-primary bg-primary/5",children:[(0,t.jsx)(a.CardHeader,{className:"pb-2",children:(0,t.jsxs)(a.CardTitle,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(N.Loader2,{className:"h-5 w-5 animate-spin text-primary"}),"Currently Running (",e.length,")"]})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-primary/20 pb-2 last:border-0 last:pb-0",children:[(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"font-medium truncate",children:e.name||e.test_id}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground font-mono truncate",children:e.test_id})]}),(0,t.jsx)("p",{className:"font-mono text-sm text-primary ml-4",children:(0,o.formatDuration)(s(e))})]},e.test_id))})})]})}function Q(e){switch(e){case"passed":return(0,t.jsx)(m.CheckCircle,{className:"h-4 w-4 text-success"});case"failed":case"crashed":return(0,t.jsx)(f.XCircle,{className:"h-4 w-4 text-destructive"});case"running":return(0,t.jsx)(N.Loader2,{className:"h-4 w-4 text-primary animate-spin"});case"skipped":return(0,t.jsx)(y.AlertCircle,{className:"h-4 w-4 text-warning"});default:return(0,t.jsx)(b.Circle,{className:"h-4 w-4 text-muted-foreground"})}}function ee({useCases:e,expandedIds:s,onToggle:n,onTestClick:r,onRerunTest:i,filter:c,suiteId:u}){if(!e||0===e.length)return(0,t.jsx)(a.Card,{children:(0,t.jsxs)(a.CardContent,{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[(0,t.jsx)(C.FolderOpen,{className:"h-12 w-12 mb-4 opacity-50"}),(0,t.jsx)("p",{children:"No tests in this run"})]})});let d=e.map(e=>({...e,tests:c?e.tests.filter(e=>e.status===c):e.tests})).filter(e=>e.tests.length>0);return(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"p-4",children:(0,t.jsx)("div",{className:"space-y-1",children:d.map(e=>{let a=s.has(e.use_case),c=e.tests.length,d=e.passed+e.failed,m=e.running>0,f=e.failed>0;return(0,t.jsxs)("div",{className:"border rounded-md overflow-hidden",children:[(0,t.jsxs)("button",{onClick:()=>n(e.use_case),className:(0,E.cn)("flex items-center gap-2 w-full p-3 text-left hover:bg-muted/50 transition-colors",m&&"bg-primary/5",f&&"bg-destructive/5"),children:[a?(0,t.jsx)(j.ChevronDown,{className:"h-4 w-4 text-muted-foreground"}):(0,t.jsx)(v.ChevronRight,{className:"h-4 w-4 text-muted-foreground"}),a?(0,t.jsx)(C.FolderOpen,{className:"h-4 w-4 text-amber-500"}):(0,t.jsx)(w.Folder,{className:"h-4 w-4 text-amber-500"}),(0,t.jsx)("span",{className:"font-medium flex-1",children:e.use_case}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[e.running>0&&(0,t.jsxs)(l.Badge,{variant:"outline",className:"text-primary border-primary",children:[e.running," running"]}),(0,t.jsxs)("span",{className:"text-muted-foreground",children:[d,"/",c]}),e.passed>0&&(0,t.jsxs)("span",{className:"text-success",children:[e.passed,"✓"]}),e.failed>0&&(0,t.jsxs)("span",{className:"text-destructive",children:[e.failed,"✗"]})]})]}),a&&(0,t.jsx)("div",{className:"border-t bg-muted/20",children:e.tests.map(e=>(0,t.jsxs)("div",{className:(0,E.cn)("flex items-center gap-3 px-4 py-2 pl-10 hover:bg-muted/30 transition-colors group","running"===e.status&&"bg-primary/10",("failed"===e.status||"crashed"===e.status)&&"bg-destructive/5"),children:[(0,t.jsxs)("button",{onClick:()=>r?.(e),className:(0,E.cn)("flex items-center gap-3 flex-1 min-w-0 text-left",r&&"cursor-pointer"),children:[Q(e.status),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm truncate",children:e.name||e.test_case}),e.error_message&&(0,t.jsx)("p",{className:"text-xs text-destructive truncate mt-1",children:e.error_message})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[null!==e.duration_ms&&(0,t.jsx)("span",{className:"font-mono",children:(0,o.formatDuration)(e.duration_ms)}),"running"===e.status&&(0,t.jsx)("span",{className:"text-primary",children:"(running)"}),"pending"===e.status&&(0,t.jsx)("span",{children:"(pending)"}),u&&i&&(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),i(e.test_id)},className:"p-1 rounded hover:bg-primary/20 opacity-0 group-hover:opacity-100 transition-opacity",title:"Rerun this test",children:(0,t.jsx)(R.Play,{className:"h-3.5 w-3.5 text-primary"})})]})]},e.test_id))})]},e.use_case)})})})})}function et({open:e,onOpenChange:s,testDetail:r,loading:a,suiteId:u,onRerunTest:x}){let[h,p]=(0,n.useState)(new Set),[g,y]=(0,n.useState)(!1),C=async()=>{if(r&&u&&x){y(!0);try{await x(r.test_id),s(!1)}finally{y(!1)}}};return r||a?(0,t.jsx)(c.Dialog,{open:e,onOpenChange:s,children:(0,t.jsxs)(c.DialogContent,{className:"max-w-4xl max-h-[85vh] flex flex-col",children:[(0,t.jsx)(c.DialogHeader,{className:"flex-shrink-0",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(c.DialogTitle,{className:"flex items-center gap-2",children:[r&&Q(r.status),(0,t.jsx)("span",{className:"truncate",children:r?.name||r?.test_id})]}),u&&r&&x&&(0,t.jsxs)(d.Button,{size:"sm",variant:"outline",onClick:C,disabled:g,className:"ml-4",children:[g?(0,t.jsx)(N.Loader2,{className:"h-4 w-4 animate-spin mr-1"}):(0,t.jsx)(R.Play,{className:"h-4 w-4 mr-1"}),"Rerun"]})]})}),a?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(N.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):r?(0,t.jsx)(i.ScrollArea,{className:"h-[calc(85vh-120px)]",children:(0,t.jsxs)("div",{className:"space-y-6 pr-4",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Test ID: "}),(0,t.jsx)("span",{className:"font-mono",children:r.test_id})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Duration: "}),(0,t.jsx)("span",{className:"font-mono",children:(0,o.formatDuration)(r.duration_ms)})]}),(0,t.jsx)(l.Badge,{variant:"passed"===r.status?"default":"destructive",children:r.status})]}),r.error_message&&(0,t.jsxs)("div",{className:"rounded-md bg-destructive/10 border border-destructive/20 p-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-destructive mb-2",children:"Error"}),(0,t.jsx)("pre",{className:"text-xs font-mono whitespace-pre-wrap text-destructive/90",children:r.error_message})]}),r.steps.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[(0,t.jsx)(_.Terminal,{className:"h-4 w-4"}),"Steps (",r.steps.length,")"]}),(0,t.jsx)("div",{className:"space-y-3",children:r.steps.map((e,s)=>(0,t.jsxs)("div",{className:(0,E.cn)("rounded-md border p-3","passed"===e.status&&"border-success/30 bg-success/5",("failed"===e.status||"crashed"===e.status)&&"border-destructive/30 bg-destructive/5"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["passed"===e.status?(0,t.jsx)(m.CheckCircle,{className:"h-4 w-4 text-success"}):"failed"===e.status||"crashed"===e.status?(0,t.jsx)(f.XCircle,{className:"h-4 w-4 text-destructive"}):(0,t.jsx)(b.Circle,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:["Step ",e.step_index+1,": ",e.description||e.phase]}),e.handler&&(0,t.jsx)(l.Badge,{variant:"outline",className:"text-xs",children:e.handler})]}),null!==e.duration_ms&&(0,t.jsx)("span",{className:"text-xs font-mono text-muted-foreground",children:(0,o.formatDuration)(e.duration_ms)})]}),e.error_message&&(0,t.jsx)("div",{className:"mt-2 p-2 rounded bg-destructive/10 text-xs font-mono text-destructive",children:e.error_message}),e.stdout&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"stdout:"}),(0,t.jsx)("pre",{className:"p-2 rounded bg-muted text-xs font-mono overflow-x-auto whitespace-pre-wrap max-h-40",children:e.stdout})]}),e.stderr&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"stderr:"}),(0,t.jsx)("pre",{className:"p-2 rounded bg-destructive/10 text-xs font-mono overflow-x-auto whitespace-pre-wrap max-h-40 text-destructive/90",children:e.stderr})]})]},e.id||s))})]}),r.assertions.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[(0,t.jsx)(S.FileText,{className:"h-4 w-4"}),"Assertions (",r.assertions.length,")"]}),(0,t.jsx)("div",{className:"space-y-2",children:r.assertions.map((e,s)=>{let n=h.has(s),r=e.actual_value||e.expected_value;return(0,t.jsxs)("div",{className:(0,E.cn)("rounded-md border",e.passed?"border-success/30 bg-success/5":"border-destructive/30 bg-destructive/5"),children:[(0,t.jsxs)("div",{className:(0,E.cn)("flex items-center gap-2 p-3",r&&"cursor-pointer hover:bg-muted/30"),onClick:()=>r&&void p(e=>{let t=new Set(e);return t.has(s)?t.delete(s):t.add(s),t}),children:[r&&(n?(0,t.jsx)(j.ChevronDown,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}):(0,t.jsx)(v.ChevronRight,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})),e.passed?(0,t.jsx)(m.CheckCircle,{className:"h-4 w-4 text-success flex-shrink-0"}):(0,t.jsx)(f.XCircle,{className:"h-4 w-4 text-destructive flex-shrink-0"}),(0,t.jsx)("span",{className:"text-sm",children:e.message||e.expression})]}),n&&r&&(0,t.jsx)("div",{className:"px-3 pb-3 pt-0 border-t border-border/50",children:(0,t.jsxs)("div",{className:"mt-2 text-xs font-mono space-y-1",children:[(0,t.jsxs)("p",{className:"text-muted-foreground",children:[(0,t.jsx)("span",{className:"text-foreground/70",children:"Expression:"})," ",(0,t.jsx)("code",{className:"bg-muted px-1 py-0.5 rounded",children:e.expression})]}),e.expected_value&&(0,t.jsxs)("p",{className:"text-muted-foreground",children:[(0,t.jsx)("span",{className:"text-foreground/70",children:"Expected:"})," ",(0,t.jsx)("code",{className:"bg-muted px-1 py-0.5 rounded",children:e.expected_value})]}),e.actual_value&&(0,t.jsxs)("p",{className:"text-muted-foreground",children:[(0,t.jsx)("span",{className:"text-foreground/70",children:"Actual:"})," ",(0,t.jsx)("code",{className:(0,E.cn)("px-1 py-0.5 rounded",e.passed?"bg-success/20":"bg-destructive/20"),children:e.actual_value})]})]})})]},e.id||s)})})]}),0===r.steps.length&&0===r.assertions.length&&(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(_.Terminal,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"No step or assertion details available for this test."})]})]})}):null]})}):null}function es(){let e=(0,r.useRouter)(),{events:s,connected:i,currentRunId:c}=(0,u.useLiveEvents)({maxEvents:500}),[m,f]=(0,n.useState)(null),[h,v]=(0,n.useState)(null),[j,b]=(0,n.useState)(new Set),[y,C]=(0,n.useState)(""),[w,_]=(0,n.useState)(null),[S,R]=(0,n.useState)(null),[E,A]=(0,n.useState)(null),[M,T]=(0,n.useState)(!1),[D,F]=(0,n.useState)(!1);(0,n.useEffect)(()=>{c&&c!==w&&(_(c),b(new Set))},[c,w]),(0,n.useEffect)(()=>{if(!w){f(null),v(null);return}(async()=>{try{let[e,t]=await Promise.all([(0,o.getRunExtended)(w),(0,o.getRunTestsTree)(w)]);f(e),v(t);let s=t.use_cases.filter(e=>e.running>0).map(e=>e.use_case);s.length>0&&b(e=>new Set([...e,...s]))}catch(e){console.error("Failed to fetch run data:",e)}})()},[w]),(0,n.useEffect)(()=>{if(!w||0===s.length)return;let e=s[0];("test_started"===e.type||"test_completed"===e.type||"run_completed"===e.type)&&Promise.all([(0,o.getRunExtended)(w),(0,o.getRunTestsTree)(w)]).then(([e,t])=>{f(e),v(t)}).catch(console.error)},[s,w]);let[,L]=(0,n.useState)(0);(0,n.useEffect)(()=>{if(!w||!h||0===h.use_cases.flatMap(e=>e.tests).filter(e=>"running"===e.status).length)return;let e=setInterval(()=>{L(e=>e+1)},100);return()=>clearInterval(e)},[w,h]);let O=(0,n.useCallback)(e=>{b(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},[]),q=(0,n.useCallback)(async e=>{if(w){R(e),A(null),T(!0);try{let t=await (0,o.getTestDetail)(w,e.id);A(t)}catch(e){console.error("Failed to fetch test detail:",e)}finally{T(!1)}}},[w]),I=(0,n.useCallback)(async()=>{if(w){F(!0);try{await (0,o.cancelRun)(w);let e=await (0,o.getRunExtended)(w);f(e)}catch(e){console.error("Failed to cancel run:",e)}finally{F(!1)}}},[w]),P=(0,n.useCallback)(async t=>{if(m?.suite_id)try{await (0,o.runTests)(m.suite_id,{tc:t}),e.push("/live")}catch(e){console.error("Failed to rerun test:",e)}},[m?.suite_id,e]),B=(0,n.useMemo)(()=>m?{pending:m.pending_count,running:m.running_count,passed:m.passed,failed:m.failed}:{pending:0,running:0,passed:0,failed:0},[m]),H=(0,n.useMemo)(()=>h?h.use_cases.flatMap(e=>e.tests).filter(e=>"running"===e.status):[],[h]),W=(0,n.useCallback)(e=>{let t=e.started_at?new Date(e.started_at).getTime():Date.now();return Date.now()-t},[]);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(a.Card,{className:"border-border bg-card rounded-md",children:(0,t.jsxs)(a.CardContent,{className:"flex items-center justify-between p-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-3",children:i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded bg-success/20",children:(0,t.jsx)(p,{className:"h-5 w-5 text-success"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-foreground",children:"Connected"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Receiving live events"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded bg-destructive/20",children:(0,t.jsx)(g,{className:"h-5 w-5 text-destructive"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-foreground",children:"Disconnected"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Attempting to reconnect..."})]})]})}),w&&(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded bg-primary/10 px-4 py-2",children:[c!==w||m?.status!=="running"||m?.cancel_requested?(0,t.jsx)("span",{className:"flex h-3 w-3 rounded-full bg-muted-foreground"}):(0,t.jsxs)("span",{className:"relative flex h-3 w-3",children:[(0,t.jsx)("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-primary opacity-75"}),(0,t.jsx)("span",{className:"relative inline-flex h-3 w-3 rounded-full bg-primary"})]}),(0,t.jsxs)("span",{className:"font-mono text-sm font-medium text-primary",children:["Run: ",w.slice(0,8),"..."]}),m?.status==="cancelled"&&(0,t.jsx)("span",{className:"text-xs text-warning",children:"(cancelled)"}),m?.cancel_requested&&m?.status==="running"&&(0,t.jsx)("span",{className:"text-xs text-warning",children:"(cancelling...)"}),c!==w&&m?.status==="completed"&&(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"(completed)"})]})]})}),w&&m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z,{...B,onFilterClick:C,activeFilter:y||null}),(0,t.jsx)($,{completed:B.passed+B.failed,total:m.total_tests,passed:B.passed,failed:B.failed}),("running"===m.status||"pending"===m.status)&&H.length>0&&(0,t.jsx)(J,{tests:H,getElapsed:W}),(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("span",{className:"text-muted-foreground",children:["Run: ",(0,t.jsx)("span",{className:"font-mono",children:w.slice(0,12)})]}),(0,t.jsx)(l.Badge,{variant:"outline",children:m.cancel_requested&&"running"===m.status?"cancelling":m.status}),(0,t.jsx)(l.Badge,{variant:"outline",children:m.mode}),(0,t.jsxs)("span",{className:"text-muted-foreground",children:[m.total_tests," tests"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[m.started_at&&(0,t.jsxs)("span",{className:"text-muted-foreground",children:["Started: ",new Date(m.started_at).toLocaleTimeString()]}),("running"===m.status||"pending"===m.status)&&(0,t.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:I,disabled:D||m.cancel_requested,className:"gap-2 text-destructive border-destructive/50 hover:bg-destructive/10",children:[D?(0,t.jsx)(N.Loader2,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(k.StopCircle,{className:"h-4 w-4"}),m.cancel_requested?"Cancelling...":"Cancel"]})]})]})})}),h&&(0,t.jsx)(ee,{useCases:h.use_cases,expandedIds:j,onToggle:O,onTestClick:q,onRerunTest:P,filter:y,suiteId:m.suite_id})]}):(0,t.jsx)(a.Card,{className:"border-dashed",children:(0,t.jsxs)(a.CardContent,{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,t.jsx)(x.Clock,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No Active Run"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground max-w-md",children:"Start a test run from the Tests page or CLI to see live progress here. The dashboard will automatically update when a new run begins."})]})}),(0,t.jsx)(et,{open:!!S,onOpenChange:e=>{e||(R(null),A(null))},testDetail:E,loading:M,suiteId:m?.suite_id,onRerunTest:P})]})}function en(){return(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(s.Header,{title:"Live View",subtitle:"Real-time test execution monitor"}),(0,t.jsx)("div",{className:"flex-1 p-6",children:(0,t.jsx)(es,{})})]})}e.s(["default",()=>en],2428)}]);