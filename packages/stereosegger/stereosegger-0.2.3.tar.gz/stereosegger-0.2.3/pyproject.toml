[build-system]
requires = ["setuptools>=42", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "stereosegger"
version = "0.2.3"
description = "Fast and accurate cell segmentation for single-molecule spatial omics (Stereo-seq)"
authors = [
    { name = "Elyas Heidari", email = "elyas.heidari@dkfz-heidelberg.de" }
]
license = { text = "MIT" }
readme = "README.md"
requires-python = ">=3.10"
keywords = ["segmentation", "deep learning", "pytorch", "geometric deep learning", "stereo-seq"]
classifiers = [
    "Development Status :: 4 - Beta",
    "Intended Audience :: Science/Research",
    "License :: OSI Approved :: MIT License",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.10",
    "Topic :: Scientific/Engineering :: Bio-Informatics",
]

dependencies = [
    "torch==2.5.1",
    "torchvision==0.20.1",
    "nvidia-nvjitlink-cu12>=12.4.127",
    "distributed==2024.7.1",
    "numpy>=1.24.4",
    "pandas==2.1.4",
    "scipy>=1.7.0",
    "matplotlib>=3.4.0",
    "seaborn>=0.11.0",
    "tqdm>=4.61.0",
    "lightning>=1.9.0",
    "torchmetrics>=0.5.0",
    "zarr>=2.6.1,<3.0.0",
    "anndata==0.10.8",
    "scanpy==1.10.2",
    "squidpy==1.4.1",
    "adjustText>=0.8",
    "scikit-learn>=0.24.0",
    "geopandas>=0.9.0,<1.0",
    "shapely>=1.7.0",
    "path>=17.0.0",
    "pyarrow>=16.1.0",
    "dask==2024.7.1",
    "dask_geopandas>=0.4.0",
    "dask-cuda>=23.10.0",
    "torch-geometric>=2.3.0",
    "pqdm>=0.2.0",
    "rtree>=1.3.0",
    "cudf-cu12>=24.8.0,<24.9.0",
    "cuml-cu12>=24.8.0,<24.9.0",
    "cugraph-cu12>=24.8.0,<24.9.0",
    "cuspatial-cu12>=24.8.0,<24.9.0",
    "cupy-cuda12x>=12.0.0",
]

[project.optional-dependencies]
dev = [
    "pytest",
    "black",
    "flake8",
    "twine>=4.0.2"
]

tests = [
    "pytest",
    "coverage"
]

[project.scripts]
stereosegger = "stereosegger.cli.cli:main"

[project.urls]
bug_tracker = "https://github.com/nrclaudio/stereosegger/issues"
source_code = "https://github.com/nrclaudio/stereosegger"
repository = "https://github.com/nrclaudio/stereosegger"

[tool.setuptools.packages.find]
where = ["src"]
include = ["stereosegger*"]

[tool.black]
line-length = 120
target-version = ['py39']
include = '\.pyi?$'
exclude = '''
(
  /(
      \.eggs
    | \.git
    | \.hg
    | \.tox
    | \.venv
    | _build
    | buck-out
    | build
    | dist
  )/
)
'''
