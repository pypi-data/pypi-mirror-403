{
  "template": {
    "version": "vYYYY.MM.DD or semantic version",
    "date": "ISO-8601 release date",
    "changes": [
      {
        "type": "added | changed | fixed | removed",
        "area": "subsystem or feature name",
        "description": "Concise summary of the change",
        "commit": "git hash or link",
        "files_affected": [
          "List of key files or directories impacted"
        ],
        "issues": [
          "Optional list of bug IDs or tickets"
        ]
      }
    ]
  },
  "entries": [
    {
      "version": "v0.9.0",
      "date": "2026-01-24",
      "changes": [
        {
          "type": "added",
          "area": "pipeline.retry",
          "description": "RetryInterceptor with configurable exponential/linear/constant backoff, full/equal/decorrelated jitter strategies, and customizable retryable error types for transient failure handling.",
          "commit": "pending",
          "files_affected": [
            "stageflow/pipeline/retry.py",
            "stageflow/pipeline/__init__.py",
            "tests/pipeline/test_retry_interceptor.py"
          ],
          "issues": ["WORK-003"]
        },
        {
          "type": "added",
          "area": "pipeline.failure_tolerance",
          "description": "Continue-on-failure mode (FailureCollector), conditional dependencies (ConditionalDependency), and backpressure management (BackpressureMonitor) for DAG execution resilience.",
          "commit": "pending",
          "files_affected": [
            "stageflow/pipeline/failure_tolerance.py",
            "stageflow/pipeline/__init__.py",
            "tests/pipeline/test_failure_tolerance.py"
          ],
          "issues": ["DAG-004", "DAG-005", "DAG-006"]
        },
        {
          "type": "added",
          "area": "pipeline.builder_helpers",
          "description": "FluentPipelineBuilder and helper functions (with_linear_chain, with_parallel_stages, with_fan_out_fan_in, with_conditional_branch) for ergonomic deep/wide DAG construction.",
          "commit": "pending",
          "files_affected": [
            "stageflow/pipeline/builder_helpers.py",
            "stageflow/pipeline/__init__.py",
            "tests/pipeline/test_builder_helpers.py"
          ],
          "issues": ["DAG-007"]
        },
        {
          "type": "added",
          "area": "context.enrich",
          "description": "ENRICH utilities: ContextUtilization for token tracking, TruncationTracker for truncation event emission, VersionMetadata for document versioning, and ConflictDetector for context update conflict resolution.",
          "commit": "pending",
          "files_affected": [
            "stageflow/context/enrich.py",
            "stageflow/context/__init__.py",
            "tests/context/test_enrich.py"
          ],
          "issues": ["ENRICH-002", "ENRICH-003", "ENRICH-004"]
        },
        {
          "type": "added",
          "area": "docs.saga_pattern",
          "description": "Saga Pattern guide for distributed transactions with compensation handlers, state machines, and rollback strategies.",
          "commit": "pending",
          "files_affected": ["docs/advanced/saga-pattern.md"],
          "issues": ["WORK-DX-001"]
        },
        {
          "type": "added",
          "area": "docs.retry_backoff",
          "description": "Retry & Backoff Patterns guide covering exponential/linear backoff, jitter strategies, and RetryInterceptor usage.",
          "commit": "pending",
          "files_affected": ["docs/advanced/retry-backoff.md"],
          "issues": ["WORK-DX-002"]
        },
        {
          "type": "added",
          "area": "docs.checkpointing",
          "description": "Checkpoint & Restore Patterns guide for long-running pipeline state persistence and recovery.",
          "commit": "pending",
          "files_affected": ["docs/advanced/checkpointing.md"],
          "issues": ["WORK-DX-003"]
        },
        {
          "type": "added",
          "area": "docs.tool_sandboxing",
          "description": "Tool Sandboxing & Security guide covering Docker/process isolation, network policies, resource quotas, and capability restrictions.",
          "commit": "pending",
          "files_affected": ["docs/advanced/tool-sandboxing.md"],
          "issues": ["WORK-DX-004"]
        },
        {
          "type": "added",
          "area": "docs.multimodal_fusion",
          "description": "Multimodal Fusion Cookbook for combining audio, text, and image modalities with parallel processing and cross-modal attention patterns.",
          "commit": "pending",
          "files_affected": ["docs/examples/multimodal-fusion.md"],
          "issues": ["TRANSFORM-DX-001"]
        },
        {
          "type": "added",
          "area": "docs.timestamps",
          "description": "Timestamp Handling Guide covering parsing, normalization, timezone handling, and best practices for temporal data.",
          "commit": "pending",
          "files_affected": ["docs/guides/timestamps.md"],
          "issues": ["TRANSFORM-DX-002"]
        },
        {
          "type": "added",
          "area": "docs.chunking",
          "description": "Chunking Patterns guide for fixed-size, semantic, and recursive chunking with parallel processing and assembly.",
          "commit": "pending",
          "files_affected": ["docs/advanced/chunking.md"],
          "issues": ["TRANSFORM-DX-003"]
        },
        {
          "type": "added",
          "area": "docs.guard_security",
          "description": "GUARD Stage Security Best Practices covering defense-in-depth, fail-closed defaults, injection detection, and multi-language content filtering.",
          "commit": "pending",
          "files_affected": ["docs/advanced/guard-security.md"],
          "issues": ["GUARD-DX-001"]
        },
        {
          "type": "added",
          "area": "docs.ab_testing",
          "description": "A/B Testing Patterns guide with consistent bucketing, experiment tracking, statistical significance, and Thompson Sampling.",
          "commit": "pending",
          "files_affected": ["docs/examples/ab-testing.md"],
          "issues": ["ROUTE-DX-001"]
        },
        {
          "type": "added",
          "area": "docs.routing_loops",
          "description": "Routing Loop Detection & Prevention guide covering direct, indirect, and semantic loop detection strategies.",
          "commit": "pending",
          "files_affected": ["docs/advanced/routing-loops.md"],
          "issues": ["ROUTE-DX-002"]
        },
        {
          "type": "added",
          "area": "docs.routing_confidence",
          "description": "Routing Confidence & Threshold Tuning guide with calibration, drift detection, and staged rollout patterns.",
          "commit": "pending",
          "files_affected": ["docs/advanced/routing-confidence.md"],
          "issues": ["ROUTE-DX-003"]
        }
      ]
    },
    {
      "version": "v0.8.0",
      "date": "2026-01-23",
      "changes": [
        {
          "type": "added",
          "area": "pipeline.guard_retry",
          "description": "UnifiedStageGraph now accepts guard_retry_strategy policies (max attempts, stagnation hashing, timeout) and emits guard_retry.* events while automatically rerunning the configured transformer + guard loop.",
          "commit": "pending",
          "files_affected": [
            "stageflow/pipeline/dag.py",
            "stageflow/pipeline/pipeline.py"
          ],
          "issues": [
            "DAG-003"
          ]
        },
        {
          "type": "added",
          "area": "docs.guard_retry",
          "description": "Updated Guard Retry cookbook to show GuardRetryStrategy wiring and document new guard_retry.* metrics/events for observability.",
          "commit": "pending",
          "files_affected": [
            "docs/examples/agent-tools.md"
          ],
          "issues": []
        },
        {
          "type": "added",
          "area": "tests.execution",
          "description": "Expanded execution/configuration suites with guard retry success, max-attempt exhaustion, stagnation, timeout, and builder validation scenarios.",
          "commit": "pending",
          "files_affected": [
            "tests/execution/test_unified_graph.py",
            "tests/configuration/test_pipeline.py"
          ],
          "issues": []
        },
        {
          "type": "fixed",
          "area": "pipeline.idempotency",
          "description": "IdempotencyInterceptor now uses per-key asyncio locks so concurrent duplicates block until the cached StageResult is stored, closing remaining race conditions in high-QPS workloads.",
          "commit": "pending",
          "files_affected": [
            "stageflow/pipeline/idempotency.py",
            "tests/unit/pipeline/test_idempotency_interceptor.py"
          ],
          "issues": [
            "BUG-072",
            "BUG-073",
            "BUG-075"
          ]
        },
        {
          "type": "added",
          "area": "docs.idempotency",
          "description": "Published advanced idempotency guide, updated core docs/examples to use timezone-aware timestamps, and linked the new guide from the docs index for WORK phase hardening.",
          "commit": "pending",
          "files_affected": [
            "docs/advanced/idempotency.md",
            "docs/index.md",
            "docs/guides/context.md",
            "docs/guides/observability.md",
            "docs/advanced/custom-interceptors.md",
            "docs/api/events.md",
            "docs/api/wide-events.md",
            "docs/examples/chat.md"
          ],
          "issues": [
            "DX-071",
            "BUG-076"
          ]
        },
        {
          "type": "added",
          "area": "docs.enrich_phase1",
          "description": "Documented ENRICH Phase 1 guidance: multi-hop RAG example, knowledge verification guards, version-aware enrichment patterns, and context management best practices.",
          "commit": "pending",
          "files_affected": [
            "docs/examples/multi-hop-rag.md",
            "docs/advanced/knowledge-verification.md",
            "docs/guides/enrich.md",
            "docs/advanced/context-management.md",
            "ops/24-testers/fixes/ENRICH-Fixes.md"
          ],
          "issues": [
            "ENRICH-001",
            "ENRICH-003",
            "ENRICH-004",
            "ENRICH-005"
          ]
        },
        {
          "type": "fixed",
          "area": "helpers.guardrails",
          "description": "GuardrailStage now emits mandatory guardrail.fail_open audits, ContentFilter normalizes leetspeak/obfuscation, and InjectionDetector covers social-engineering prompts with matching unit/docs updates.",
          "commit": "pending",
          "files_affected": [
            "stageflow/helpers/guardrails.py",
            "tests/unit/test_helpers_guardrails.py",
            "docs/api/helpers.md",
            "ops/24-testers/fixes/GUARD-Fixes.md"
          ],
          "issues": [
            "BUG-056",
            "BUG-066",
            "BUG-055"
          ]
        },
        {
          "type": "added",
          "area": "helpers.timestamps",
          "description": "Introduced parse_timestamp()/detect_unix_precision() utilities covering ISO 8601, RFC 2822, and multi-precision Unix epochs with UTC normalization.",
          "commit": "pending",
          "files_affected": [
            "stageflow/helpers/timestamps.py",
            "stageflow/helpers/__init__.py"
          ],
          "issues": [
            "BUG-032",
            "BUG-031"
          ]
        },
        {
          "type": "fixed",
          "area": "docs",
          "description": "Corrected StageContext examples to reference ctx.try_emit_event() and documented the new timestamp helpers for tester alignment.",
          "commit": "pending",
          "files_affected": [
            "docs/api/core.md",
            "docs/api/events.md",
            "ops/24-testers/fixes/TRANSFORM-Fixes.md"
          ],
          "issues": [
            "DX-036"
          ]
        },
        {
          "type": "added",
          "area": "tests",
          "description": "Added unit coverage for timestamp precision detection, RFC 2822 parsing, and timezone normalization edge cases.",
          "commit": "pending",
          "files_affected": [
            "tests/unit/test_helpers_timestamps.py"
          ],
          "issues": []
        },
        {
          "type": "added",
          "area": "pipeline.idempotency",
          "description": "Introduced IdempotencyInterceptor + InMemoryIdempotencyStore, wired it into get_default_interceptors with CriticalInterceptorError handling so duplicate WORK stages short-circuit safely.",
          "commit": "pending",
          "files_affected": [
            "stageflow/pipeline/idempotency.py",
            "stageflow/pipeline/interceptors.py"
          ],
          "issues": [
            "BUG-072",
            "BUG-073"
          ]
        },
        {
          "type": "added",
          "area": "tests.pipeline",
          "description": "Split idempotency unit coverage into interceptor/store suites and added framework integration tests validating short-circuiting + default interceptor ordering.",
          "commit": "pending",
          "files_affected": [
            "tests/unit/pipeline/test_idempotency_interceptor.py",
            "tests/unit/pipeline/test_inmemory_idempotency_store.py",
            "tests/framework/test_interceptors.py"
          ],
          "issues": [
            "BUG-072",
            "BUG-073"
          ]
        },
        {
          "type": "changed",
          "area": "docs.interceptors",
          "description": "Updated the concepts + interceptor guides to cover IdempotencyInterceptor defaults, shared store wiring, and the revised ordering of get_default_interceptors().",
          "commit": "pending",
          "files_affected": [
            "docs/getting-started/concepts.md",
            "docs/guides/interceptors.md"
          ],
          "issues": []
        }
      ]
    },
    {
      "version": "v0.7.0",
      "date": "2026-01-22",
      "changes": [
        {
          "type": "added",
          "area": "contracts",
          "description": "Implemented TypedStageOutput helper, StageOutput version tagging, schema registry with compatibility diffing, and structured ContractErrorInfo metadata across pipeline validation.",
          "commit": "pending",
          "files_affected": [
            "stageflow/contracts/*",
            "stageflow/core/stage_output.py",
            "stageflow/pipeline/spec.py",
            "stageflow/pipeline/builder.py"
          ],
          "issues": []
        },
        {
          "type": "added",
          "area": "cli",
          "description": "Added contracts CLI (list/diff/plan-upgrade) plus documentation for typed outputs, schema registry, and error messaging.",
          "commit": "pending",
          "files_affected": [
            "scripts/contracts.py",
            "stageflow/cli/__main__.py",
            "docs/guides/stages.md",
            "docs/advanced/testing.md",
            "docs/advanced/error-messages.md"
          ],
          "issues": []
        },
        {
          "type": "added",
          "area": "tests",
          "description": "Expanded unit coverage for typed outputs, registry diffing, suggestions, and StageOutput version metadata.",
          "commit": "pending",
          "files_affected": [
            "tests/unit/test_contracts_*.py",
            "tests/unit/test_core_stages.py",
            "tests/unit/pipeline/test_builder.py"
          ],
          "issues": []
        }
      ]
    },
    {
      "version": "v0.6.0",
      "date": "2026-01-22",
      "changes": [
        {
          "type": "added",
          "area": "helpers.runtime",
          "description": "Introduced UUIDv7 generation with clock-skew detection, sliding-window collision monitor, MemoryTracker/@track_memory decorator, and shallow delta compression utilities.",
          "commit": "68cba4a",
          "files_affected": [
            "stageflow/helpers/uuid_utils.py",
            "stageflow/helpers/memory_tracker.py",
            "stageflow/compression/__init__.py",
            "tests/unit/test_hardening_helpers.py",
            "tests/unit/test_helpers_runtime*.py"
          ],
          "issues": []
        },
        {
          "type": "added",
          "area": "pipeline.runner",
          "description": "Added ImmutabilityInterceptor and ContextSizeInterceptor plus optional UUID/memory/context-size wiring in PipelineRunner and ToolExecutor.",
          "commit": "68cba4a",
          "files_affected": [
            "stageflow/pipeline/interceptors_hardening.py",
            "stageflow/helpers/run_utils.py",
            "stageflow/tools/executor.py",
            "tests/unit/pipeline/test_hardening_interceptors.py"
          ],
          "issues": []
        },
        {
          "type": "added",
          "area": "docs",
          "description": "Documented runtime safety & hardening features (UUID monitoring, memory tracking, compression) and updated Stageflow PR playbook.",
          "commit": "68cba4a",
          "files_affected": [
            "docs/advanced/testing.md",
            "docs/advanced/hardening.md",
            "pr.md",
            "ops/24-testers/fixes/CORE-Summary.md"
          ],
          "issues": []
        }
      ]
    },
    {
      "version": "v0.5.1",
      "date": "2026-01-16",
      "changes": [
        {
          "type": "added",
          "area": "core.stage_context",
          "description": "StageContext now exposes as_pipeline_context() so custom stages can reconstruct PipelineContext instances for subpipeline spawning.",
          "commit": "pending",
          "files_affected": [
            "stageflow/core/stage_context.py",
            "tests/unit/test_execution_context.py"
          ],
          "issues": []
        },
        {
          "type": "changed",
          "area": "docs",
          "description": "Documented the StageContext â†’ PipelineContext conversion helper across README, docs/index, and the advanced subpipeline guide.",
          "commit": "pending",
          "files_affected": [
            "README.md",
            "docs/index.md",
            "docs/advanced/subpipelines.md"
          ],
          "issues": []
        }
      ]
    },
    {
      "version": "v0.5.0",
      "date": "2026-01-15",
      "changes": [
        {
          "type": "added",
          "area": "tools.executor",
          "description": "ToolExecutor now exposes spawn_subpipeline(), enabling tools to launch child pipelines via SubpipelineSpawner with a single call.",
          "commit": "pending",
          "files_affected": [
            "stageflow/tools/executor.py",
            "docs/advanced/subpipelines.md"
          ],
          "issues": []
        },
        {
          "type": "changed",
          "area": "observability",
          "description": "Spawn operations emit structured ToolExecutor logs and surface SubpipelineResult metadata for improved tracing.",
          "commit": "pending",
          "files_affected": [
            "stageflow/tools/executor.py",
            "docs/index.md"
          ],
          "issues": []
        },
        {
          "type": "added",
          "area": "testing",
          "description": "Introduced dedicated unit/integration suites covering subpipeline spawning, depth limits, registry lookup errors, and event emission.",
          "commit": "pending",
          "files_affected": [
            "tests/unit/tools/test_spawn_subpipeline.py",
            "tests/integration/test_subpipelines.py"
          ],
          "issues": []
        }
      ]
    },
    {
      "version": "v0.4.0",
      "date": "2026-01-15",
      "changes": [
        {
          "type": "added",
          "area": "websearch.run_utils",
          "description": "Introduced high-level helpers (fetch_page/fetch_pages/fetch_with_retry/search_and_extract/map_site/extract_all_links) plus FetchProgress, SearchResult, and SiteMap dataclasses for accelerated agent workflows.",
          "commit": "bfc01a25aabf9f3b566c2164b5ca8c71d5340a95",
          "files_affected": [
            "stageflow/websearch/run_utils.py",
            "stageflow/websearch/__init__.py",
            "tests/websearch/test_run_utils.py",
            "docs/guides/websearch.md"
          ],
          "issues": []
        },
        {
          "type": "fixed",
          "area": "websearch.navigation",
          "description": "FallbackNavigator now inspects each anchor tag individually, preventing pagination loops and improving multi-page crawling stability.",
          "commit": "bfc01a25aabf9f3b566c2164b5ca8c71d5340a95",
          "files_affected": [
            "stageflow/websearch/navigator.py",
            "tests/websearch/test_client.py"
          ],
          "issues": []
        },
        {
          "type": "added",
          "area": "performance",
          "description": "fetch_pages gained optional parallel extraction backed by a shared ThreadPoolExecutor to overlap CPU-bound HTML parsing with HTTP I/O.",
          "commit": "pending",
          "files_affected": [
            "stageflow/websearch/run_utils.py"
          ],
          "issues": []
        },
        {
          "type": "added",
          "area": "docs",
          "description": "Documented selectolax recommendation, client lifecycle guidance, run utilities, and new release highlights across README and docs/index.",
          "commit": "pending",
          "files_affected": [
            "docs/guides/websearch.md",
            "docs/index.md",
            "README.md"
          ],
          "issues": []
        }
      ]
    },
    {
      "version": "v0.3.0",
      "date": "2026-01-14",
      "changes": [
        {
          "type": "fixed",
          "area": "stages.inputs",
          "description": "StageInputs now validates keys to prevent None/empty lookups from silently dropping upstream data.",
          "commit": "bfc01a25aabf9f3b566c2164b5ca8c71d5340a95",
          "issues": [
            "BUG-20260114-01"
          ]
        },
        {
          "type": "added",
          "area": "docs",
          "description": "Added StageInputs API reference, updated stage guide, and linked docs to reflect validation rules.",
          "commit": "bfc01a25aabf9f3b566c2164b5ca8c71d5340a95",
          "issues": []
        },
        {
          "type": "added",
          "area": "ci",
          "description": "Introduced GitHub Actions workflow to run pytest across unit, integration, property, execution, framework, contract, configuration, and utils suites.",
          "commit": "pending",
          "issues": []
        },
        {
          "type": "added",
          "area": "websearch",
          "description": "Added web search module with async HTTP fetching, HTML-to-markdown extraction preserving structure, and page navigation capabilities.",
          "commit": "ace7cb0",
          "files_affected": [
            "stageflow/websearch/*",
            "docs/guides/websearch.md",
            "tests/websearch/*",
            "pyproject.toml",
            "changelog.json"
          ],
          "issues": []
        }
      ]
    }
  ]
}
