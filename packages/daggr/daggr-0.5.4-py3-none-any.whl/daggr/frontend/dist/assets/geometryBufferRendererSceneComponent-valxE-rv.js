import{j as t,k as n}from"./index-C7ioxznG.js";import{G as o}from"./geometryBufferRenderer-CgPbeID2.js";import"./index-BmJkaHuF.js";import"./clipPlaneFragment-De5ww3cH.js";import"./bumpFragment-BJQi6xPa.js";import"./helperFunctions-B2fIE0QR.js";import"./bakedVertexAnimation-BEH8Oe3p.js";import"./morphTargetsVertex-BRGjlcgZ.js";import"./instancesDeclaration-BPyR_knl.js";import"./sceneUboDeclaration-Cl2yaWm5.js";import"./clipPlaneVertex-CtJF83UU.js";import"./bumpVertex-DIZksVbw.js";Object.defineProperty(n.prototype,"geometryBufferRenderer",{get:function(){return this._geometryBufferRenderer},set:function(e){e&&e.isSupported&&(this._geometryBufferRenderer=e)},enumerable:!0,configurable:!0});n.prototype.enableGeometryBufferRenderer=function(e=1,r=15,i){return this._geometryBufferRenderer?this._geometryBufferRenderer:(this._geometryBufferRenderer=new o(this,e,r,i),this._geometryBufferRenderer.isSupported||(this._geometryBufferRenderer=null),this._geometryBufferRenderer)};n.prototype.disableGeometryBufferRenderer=function(){this._geometryBufferRenderer&&(this._geometryBufferRenderer.dispose(),this._geometryBufferRenderer=null)};class f{constructor(r){this.name=t.NAME_GEOMETRYBUFFERRENDERER,this.scene=r}register(){this.scene._gatherRenderTargetsStage.registerStep(t.STEP_GATHERRENDERTARGETS_GEOMETRYBUFFERRENDERER,this,this._gatherRenderTargets)}rebuild(){}dispose(){}_gatherRenderTargets(r){this.scene._geometryBufferRenderer&&r.push(this.scene._geometryBufferRenderer.getGBuffer())}}o._SceneComponentInitialization=e=>{let r=e._getComponent(t.NAME_GEOMETRYBUFFERRENDERER);r||(r=new f(e),e._addComponent(r))};export{f as GeometryBufferRendererSceneComponent};
