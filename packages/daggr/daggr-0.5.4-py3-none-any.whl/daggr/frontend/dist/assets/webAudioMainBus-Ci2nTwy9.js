import{A as i}from"./abstractAudioBus-LnyfbX6J.js";import{a as r}from"./webAudioBaseSubGraph-2o5xwuHA.js";import"./audioEngine-uesWbcoE.js";import"./index-BmJkaHuF.js";import"./index-C7ioxznG.js";class o extends i{constructor(e,t){super(e,t)}}class s extends o{constructor(e,t){super(e,t),this._subGraph=new s._SubGraph(this)}async _initAsync(e){if(await this._subGraph.initAsync(e),this.engine.mainOut&&!this._connect(this.engine.mainOut))throw new Error("Connect failed");this.engine._addMainBus(this)}dispose(){super.dispose(),this.engine._removeMainBus(this)}get _inNode(){return this._subGraph._inNode}get _outNode(){return this._subGraph._outNode}_connect(e){var n;return super._connect(e)?(e._inNode&&((n=this._outNode)==null||n.connect(e._inNode)),!0):!1}_disconnect(e){var n;return super._disconnect(e)?(e._inNode&&((n=this._outNode)==null||n.disconnect(e._inNode)),!0):!1}getClassName(){return"_WebAudioMainBus"}}s._SubGraph=class extends r{get _downstreamNodes(){return this._owner._downstreamNodes??null}};export{s as _WebAudioMainBus};
