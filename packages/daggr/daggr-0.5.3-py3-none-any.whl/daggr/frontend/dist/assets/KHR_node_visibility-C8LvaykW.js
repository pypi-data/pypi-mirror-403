import{bR as r,bQ as b}from"./index-C7ioxznG.js";import{A as l}from"./objectModelMapping-CY2JGqxk.js";import"./index-BmJkaHuF.js";const t="KHR_node_visibility";l("/nodes/{}/extensions/KHR_node_visibility/visible",{get:e=>{const i=e._babylonTransformNode;return i&&i.isVisible!==void 0?i.isVisible:!0},set:(e,i)=>{var s,o;(s=i._primitiveBabylonMeshes)==null||s.forEach(n=>{n.inheritVisibility=!0}),i._babylonTransformNode&&(i._babylonTransformNode.isVisible=e),(o=i._primitiveBabylonMeshes)==null||o.forEach(n=>{n.isVisible=e})},getTarget:e=>e._babylonTransformNode,getPropertyName:[()=>"isVisible"],type:"boolean"});class a{constructor(i){this.name=t,this._loader=i,this.enabled=i.isExtensionUsed(t)}onReady(){if(!this._loader)return;const i=this._loader.gltf.nodes;if(i)for(const s of i){const o=s._babylonTransformNode;o&&(o.inheritVisibility=!0,s.extensions&&s.extensions.KHR_node_visibility&&s.extensions.KHR_node_visibility.visible===!1&&(o.isVisible=!1))}}dispose(){delete this._loader}}r(t);b(t,!0,e=>new a(e));export{a as KHR_node_visibility};
