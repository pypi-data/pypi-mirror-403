import{GLTFLoader as p}from"./glTFLoader-dcV3nFjy.js";import{bR as d,bQ as m}from"./index-C7ioxznG.js";import"./index-BmJkaHuF.js";import"./bone-D3wPsQsS.js";import"./skeleton-Dp5NNatR.js";import"./rawTexture-B_Rn1rXF.js";import"./assetContainer-WmWzRef8.js";import"./objectModelMapping-CY2JGqxk.js";const t="KHR_materials_dispersion";class l{constructor(s){this.name=t,this.order=174,this._loader=s,this.enabled=this._loader.isExtensionUsed(t)}dispose(){this._loader=null}loadMaterialPropertiesAsync(s,e,i){return p.LoadExtensionAsync(s,e,this.name,async(o,r)=>{const n=new Array;return n.push(this._loader.loadMaterialPropertiesAsync(s,e,i)),n.push(this._loadDispersionPropertiesAsync(o,e,i,r)),await Promise.all(n).then(()=>{})})}_loadDispersionPropertiesAsync(s,e,i,o){const r=this._loader._getOrCreateMaterialAdapter(i);return r.transmissionWeight==0||!o.dispersion||(r.transmissionDispersionAbbeNumber=20,r.transmissionDispersionScale=o.dispersion),Promise.resolve()}}d(t);m(t,!0,a=>new l(a));export{l as KHR_materials_dispersion};
