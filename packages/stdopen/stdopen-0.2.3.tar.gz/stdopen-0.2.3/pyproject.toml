[build-system]
requires = ["setuptools>=61", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "stdopen"
dynamic = ["version"]                                      # reads from stdopen/_version.py
description = "Streamlining file opening from files/stdin/stdout and write via temp"
readme = "README.md"
requires-python = ">=3.9,<3.14"
license = "GPL-3.0-or-later"  # SPDX identifier for your license
license-files = ["LICENCE.txt"]
authors = [{ name = "Chris Finan", email = "c.finan@ucl.ac.uk" }]
classifiers = [
    "Programming Language :: Python",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.9",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Programming Language :: Python :: 3.13",
    "Programming Language :: Python :: Implementation :: CPython",
    "Programming Language :: Python :: Implementation :: PyPy",
]

# Runtime dependencies (add them here when you have any)
dependencies = [
]

# Optional extras (dev/tools, etc.)
[project.optional-dependencies]
dev = [
    "pytest",
    "pytest-dependency",
    "flake8",
    "bump2version",
    "build",
    "twine",
]

[project.urls]
Homepage = "https://cfinan.gitlab.io/stdopen/"
Repository = "https://gitlab.com/cfinan/stdopen"

# No console scripts in this package (you had empty entry_points)
# â†’ nothing to declare here

# ------------------------------------------------------------------
# setuptools-specific configuration
# ------------------------------------------------------------------

[tool.setuptools]
include-package-data = true
# Same exclude rules as your old find_packages()
packages.find.exclude = [
	"tests", "tests.*", "*.tests", "*.tests.*",
	"docs", "docs.*",  # Exclude docs dir from being discovered as a package
	"resources", "resources.*",  # Exclude resources dir
	"misc", "misc.*",  # And any other non-package dirs
	"conda_env", "conda_env.*",
	"build", "build.*"
]

# Force-include the example data package if it ever gets missed
# (very common with nested data packages)
# packages = ["stdopen", "stdopen.example_data.example_datasets"]

[tool.setuptools.package-data]
# Include everything in example data (and any other data files)
# "*" = ["*"]                                   # safest: include all non-py files
# Or be more selective:
"stdopen.example_data.example_datasets" = ["*"]

# ------------------------------------------------------------------
# Dynamic version from _version.py (exactly like your old setup.py)
# ------------------------------------------------------------------

[tool.setuptools.dynamic]
version = {attr = "stdopen._version.__version__"}
