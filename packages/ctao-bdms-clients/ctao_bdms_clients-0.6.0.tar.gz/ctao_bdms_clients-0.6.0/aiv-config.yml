# This is the configuration used both in CI and local Makefile

variables:
  # used to select requirements from Jama
  RELEASE_PLAN_FROM_JAMA: true
  DPPS_UC_SUBTREE_NAME: Manage Data Products

  # these paths are relative to TEST_ARTIFACTS_PATH
  REPORT_XML: report.xml
  RELEASE_PLAN_FN: dpps-aiv-toolkit/dpps-release-plan/release_development_document/dpps-release-plan.tex
  TRACEABILITY_CSV_FN: dpps-aiv-toolkit/requirements-traceability/DPPS_Requirements_Traceability_Matrix.csv

  APPLICATION_NAME: BDMS
  APPLICATION_AUTHOR: BDMS Team
  APPLICATION_AUTHOR_ORGANIZATION: CTAO

  EXTRA_CONFIG_FILES: aiv-config-dependencies.yml

  DEFAULT_HELM_TEST: name=bdms-pytest
  # TODO: this is current name of the variable, but we'll keep old value https://gitlab.cta-observatory.org/cta-computing/common/aiv-toolkit/-/merge_requests/362
  AIV_DEPLOY_HELM_DEV_TEST_POD: bdms-pytest
  AIV_DEPLOY_HELM_TEST_FILTER: name=bdms-pytest

  HELM_REPO_CONFIG: repositories.yaml

  # options for creating kind cluster
  # configures the kind cluster to use registry mirrors. The mirrors need to be started before the cluster is created and can persist across cluster restarts, this can be done with `make registry-mirror`.
  ENABLE_REGISTRY_MIRRORS: true

  # enables ingress controller in kind cluster. note that it is not possible to start several clusters with ingress controller enabled at the same time since they will conflict on the same ports. Ingress controller can be deployed in the cluster with `make ingress-controller`.
  ENABLE_INGRESS: true

  # enables the repository mount from host to the kind cluster. This is useful for local development. The workloads in the cluster will be able to mount the host repository by using the host path.
  MOUNT_REPO: true

  RANDOMIZED_RELEASE_NAME: false

  ALLOWED_IMAGE_PREFIXES: registry.k8s.io
