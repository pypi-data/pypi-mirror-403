"""Help Screen - Documentation and guides"""

from rich.panel import Panel
from rich.console import Console as RichConsole
from rich.table import Table
from rich.markdown import Markdown


def help_screen(console: RichConsole):
    """Help and documentation
    
    Args:
        console: Rich Console instance
    """
    console.print(Panel("[bold]Help & Documentation[/bold]", style="cyan"))
    console.print()
    
    # Keyboard Shortcuts
    console.print("[bold yellow]Keyboard Shortcuts:[/bold yellow]")
    console.print()

    shortcuts = Table(show_header=False, box=None, padding=(0, 1))
    shortcuts.add_column(style="cyan bold", width=8)
    shortcuts.add_column(style="white")

    shortcuts.add_row("1-17", "Navigate to menu option")
    shortcuts.add_row("d", "Dashboard - quick overview")
    shortcuts.add_row("t", "Tutorial - interactive walkthrough")
    shortcuts.add_row("g", "Glossary - market terminology")
    shortcuts.add_row("sim", "Simulate - P&L calculator")
    shortcuts.add_row("risk", "Risk - market assessment")
    shortcuts.add_row("follow", "Copy trading - follow wallets")
    shortcuts.add_row("parlay", "Parlay - combine bets")
    shortcuts.add_row("bm", "Bookmarks - saved markets")
    shortcuts.add_row("cmp", "Compare - side-by-side markets")
    shortcuts.add_row("ch", "Chart - price history graphs")
    shortcuts.add_row("sz", "Size - position size calculator")
    shortcuts.add_row("rec", "Recent - recently viewed markets")
    shortcuts.add_row("pa", "Price alerts - set price targets")
    shortcuts.add_row("cal", "Calendar - upcoming resolutions")
    shortcuts.add_row("fee", "Fees - calculate trade costs")
    shortcuts.add_row("st", "Stats - market statistics")
    shortcuts.add_row("sr", "Search - find markets with filters")
    shortcuts.add_row("pos", "Position - track your trades manually")
    shortcuts.add_row("nt", "Notes - personal market research")
    shortcuts.add_row("pr", "Presets - saved search filters")
    shortcuts.add_row("sent", "Sentiment - market sentiment analysis")
    shortcuts.add_row("corr", "Correlate - find related markets")
    shortcuts.add_row("ex", "Exit Plan - profit targets & stops")
    shortcuts.add_row("dp", "Depth - liquidity analysis")
    shortcuts.add_row("tr", "Trade - quick trade calculator")
    shortcuts.add_row("tl", "Timeline - resolution timeline")
    shortcuts.add_row("an", "Analyze - portfolio analytics")
    shortcuts.add_row("jn", "Journal - trade journal")
    shortcuts.add_row("hot", "Hot - biggest movers")
    shortcuts.add_row("pnl", "P&L - profit/loss tracker")
    shortcuts.add_row("ac", "Alert Center - unified alerts")
    shortcuts.add_row("gr", "Groups - watchlist groups")
    shortcuts.add_row("attr", "Attribution - performance analysis")
    shortcuts.add_row("snap", "Snapshot - save/compare states")
    shortcuts.add_row("sig", "Signals - entry/exit signals")
    shortcuts.add_row("sml", "Similar - find related markets")
    shortcuts.add_row("lad", "Ladder - price ladder view")
    shortcuts.add_row("bench", "Benchmark - performance comparison")
    shortcuts.add_row("pin", "Pin - pinned markets quick access")
    shortcuts.add_row("sp", "Spread - bid/ask spread analysis")
    shortcuts.add_row("hist", "History - market price history")
    shortcuts.add_row("stk", "Streak - win/loss streak tracker")
    shortcuts.add_row("dig", "Digest - daily/weekly summary")
    shortcuts.add_row("tm", "Timing - optimal trade timing")
    shortcuts.add_row("od", "Odds - convert between formats")
    shortcuts.add_row("hp", "Health - portfolio health check")
    shortcuts.add_row("sc", "Scenario - what-if analysis")
    shortcuts.add_row("wd", "Watchdog - continuous monitoring")
    shortcuts.add_row("vol", "Volume - volume profile analysis")
    shortcuts.add_row("scr", "Screener - multi-criteria filter")
    shortcuts.add_row("bt", "Backtest - test strategies")
    shortcuts.add_row("rp", "Report - generate reports")
    shortcuts.add_row("liq", "Liquidity - compare liquidity")
    shortcuts.add_row("ev", "EV - expected value calculator")
    shortcuts.add_row("cb", "Calibrate - track prediction accuracy")
    shortcuts.add_row("qk", "Quick - fast actions menu")
    shortcuts.add_row("lb", "Leaderboard - top traders")
    shortcuts.add_row("nf", "Notify - notification settings")
    shortcuts.add_row("h, ?", "Show this help screen")
    shortcuts.add_row("u", "Quick update (when available)")
    shortcuts.add_row("q", "Quit / Return to menu")
    shortcuts.add_row("Ctrl+C", "Stop current operation")

    console.print(shortcuts)
    console.print()
    
    # Features
    console.print("[bold yellow]Features:[/bold yellow]")
    console.print()
    
    features = Table(show_header=False, box=None, padding=(0, 1))
    features.add_column(style="cyan bold", width=2)
    features.add_column(style="white")
    
    features.add_row("ğŸ“Š", "[bold]Monitor:[/bold] Real-time market tracking with customizable refresh rates")
    features.add_row("ğŸ‹", "[bold]Whales:[/bold] High-volume market detection and tracking")
    features.add_row("ğŸ‘", "[bold]Watch:[/bold] Track specific markets with price alerts")
    features.add_row("ğŸ“ˆ", "[bold]Analytics:[/bold] Market trends, correlations, and predictions")
    features.add_row("ğŸ’¼", "[bold]Portfolio:[/bold] Track your positions and P&L")
    features.add_row("ğŸ“¤", "[bold]Export:[/bold] Export market data to JSON/CSV")
    features.add_row("âš™ï¸", "[bold]Settings:[/bold] Configure alerts, API, and display options")
    features.add_row("ğŸ›¡ï¸", "[bold]Risk:[/bold] Market risk assessment with A-F grades")
    features.add_row("ğŸ‘¥", "[bold]Copy Trading:[/bold] Follow successful wallets")
    features.add_row("ğŸ°", "[bold]Parlay:[/bold] Combine multiple bets for higher payouts")
    features.add_row("ğŸ”–", "[bold]Bookmarks:[/bold] Save and manage favorite markets")
    features.add_row("ğŸ“Š", "[bold]Dashboard:[/bold] Quick overview of market activity")
    features.add_row("ğŸ“‰", "[bold]Charts:[/bold] ASCII price history visualization")
    features.add_row("âš–ï¸", "[bold]Compare:[/bold] Side-by-side market comparison")
    features.add_row("ğŸ¯", "[bold]Size:[/bold] Kelly Criterion position calculator")
    features.add_row("ğŸ•", "[bold]Recent:[/bold] Recently viewed markets history")
    features.add_row("ğŸ””", "[bold]Price Alerts:[/bold] Notify when prices hit targets")
    features.add_row("ğŸ“…", "[bold]Calendar:[/bold] Upcoming market resolutions")
    features.add_row("ğŸ’°", "[bold]Fees:[/bold] Trade cost and slippage calculator")
    features.add_row("ğŸ“ˆ", "[bold]Stats:[/bold] Volatility, RSI, trend analysis")
    features.add_row("ğŸ”", "[bold]Search:[/bold] Advanced filters for finding markets")
    features.add_row("ğŸ“", "[bold]Position:[/bold] Manual P&L tracking without wallet")
    features.add_row("ğŸ““", "[bold]Notes:[/bold] Personal research notes on markets")
    features.add_row("ğŸ’¾", "[bold]Presets:[/bold] Save and reuse search filters")
    features.add_row("ğŸ­", "[bold]Sentiment:[/bold] Multi-signal sentiment analysis")
    features.add_row("ğŸ”—", "[bold]Correlate:[/bold] Find related markets for hedging")
    features.add_row("ğŸ¯", "[bold]Exit Plan:[/bold] Profit targets and stop losses")
    features.add_row("ğŸ“Š", "[bold]Depth:[/bold] Order book liquidity analysis")
    features.add_row("ğŸ’µ", "[bold]Trade:[/bold] Quick pre-trade analysis")
    features.add_row("ğŸ“†", "[bold]Timeline:[/bold] Visual resolution timeline")
    features.add_row("ğŸ“Š", "[bold]Analyze:[/bold] Portfolio exposure analytics")
    features.add_row("ğŸ“’", "[bold]Journal:[/bold] Trade documentation")
    features.add_row("ğŸ”¥", "[bold]Hot:[/bold] Biggest market movers")
    features.add_row("ğŸ’°", "[bold]P&L:[/bold] Profit/loss tracking")
    features.add_row("ğŸ”", "[bold]Lookup:[/bold] Quick market info")
    features.add_row("ğŸ””", "[bold]Alert Center:[/bold] Unified alert view")
    features.add_row("ğŸ“", "[bold]Groups:[/bold] Organize markets into collections")
    features.add_row("ğŸ“Š", "[bold]Attribution:[/bold] Performance by category/side/size")
    features.add_row("ğŸ“¸", "[bold]Snapshot:[/bold] Save and compare market states")
    features.add_row("ğŸ“ˆ", "[bold]Signals:[/bold] Entry/exit timing signals")
    features.add_row("ğŸ”—", "[bold]Similar:[/bold] Find related markets")
    features.add_row("ğŸ“Š", "[bold]Ladder:[/bold] Visual price ladder")
    features.add_row("ğŸ†", "[bold]Benchmark:[/bold] Compare to market average")
    features.add_row("ğŸ“Œ", "[bold]Pin:[/bold] Quick access favorites")
    features.add_row("ğŸ’±", "[bold]Spread:[/bold] Bid/ask spread analysis")
    features.add_row("ğŸ“œ", "[bold]History:[/bold] Market price/volume history")
    features.add_row("ğŸ”¥", "[bold]Streak:[/bold] Win/loss streak tracking")
    features.add_row("ğŸ“°", "[bold]Digest:[/bold] Daily/weekly summaries")
    features.add_row("â±ï¸", "[bold]Timing:[/bold] Optimal trade timing")
    features.add_row("ğŸ”¢", "[bold]Odds:[/bold] Convert probability/decimal/american/fractional")
    features.add_row("â¤ï¸", "[bold]Health:[/bold] Portfolio health score and grades")
    features.add_row("ğŸ²", "[bold]Scenario:[/bold] What-if outcome modeling")
    features.add_row("ğŸ‘", "[bold]Watchdog:[/bold] Continuous condition monitoring")
    features.add_row("ğŸ“Š", "[bold]Volume:[/bold] Volume profile at price levels")
    features.add_row("ğŸ”", "[bold]Screener:[/bold] Multi-criteria market filter")
    features.add_row("ğŸ“ˆ", "[bold]Backtest:[/bold] Test trading strategies")
    features.add_row("ğŸ“„", "[bold]Report:[/bold] Generate trading reports")
    features.add_row("ğŸ’§", "[bold]Liquidity:[/bold] Cross-market liquidity comparison")
    features.add_row("ğŸ“Š", "[bold]EV:[/bold] Expected value and Kelly calculator")
    features.add_row("ğŸ¯", "[bold]Calibrate:[/bold] Track prediction accuracy")
    features.add_row("âš¡", "[bold]Quick:[/bold] Fast access to common actions")
    features.add_row("ğŸ†", "[bold]Leaderboard:[/bold] Top trader rankings")
    features.add_row("ğŸ””", "[bold]Notify:[/bold] Configure notifications")

    console.print(features)
    console.print()
    
    # CLI Commands
    console.print("[bold yellow]CLI Commands (for power users):[/bold yellow]")
    console.print()
    console.print("You can also use direct CLI commands:")
    console.print()
    console.print("[dim]  polyterm tutorial              # Interactive walkthrough[/dim]")
    console.print("[dim]  polyterm glossary              # Market terminology[/dim]")
    console.print("[dim]  polyterm simulate -i           # P&L calculator[/dim]")
    console.print("[dim]  polyterm monitor --limit 10    # Market monitoring[/dim]")
    console.print("[dim]  polyterm whales --hours 24     # Whale activity[/dim]")
    console.print("[dim]  polyterm arbitrage             # Find arbitrage[/dim]")
    console.print("[dim]  polyterm predict               # Get predictions[/dim]")
    console.print("[dim]  polyterm risk --market X       # Risk assessment[/dim]")
    console.print("[dim]  polyterm follow --list         # Copy trading[/dim]")
    console.print("[dim]  polyterm parlay -i             # Parlay calculator[/dim]")
    console.print("[dim]  polyterm bookmarks --list      # Saved markets[/dim]")
    console.print("[dim]  polyterm dashboard             # Quick overview[/dim]")
    console.print("[dim]  polyterm chart -m \"bitcoin\"    # Price chart[/dim]")
    console.print("[dim]  polyterm compare -i            # Compare markets[/dim]")
    console.print("[dim]  polyterm size -i               # Position sizing[/dim]")
    console.print("[dim]  polyterm recent                # Recent markets[/dim]")
    console.print("[dim]  polyterm pricealert -i         # Set price alerts[/dim]")
    console.print("[dim]  polyterm calendar --days 7     # Upcoming resolutions[/dim]")
    console.print("[dim]  polyterm fees -i               # Fee calculator[/dim]")
    console.print("[dim]  polyterm stats -m \"bitcoin\"    # Market statistics[/dim]")
    console.print("[dim]  polyterm search --min-volume 100000  # Filter markets[/dim]")
    console.print("[dim]  polyterm position --list       # View your positions[/dim]")
    console.print("[dim]  polyterm notes --list          # Your market notes[/dim]")
    console.print("[dim]  polyterm presets --list        # Saved search presets[/dim]")
    console.print("[dim]  polyterm sentiment -m \"btc\"    # Market sentiment[/dim]")
    console.print("[dim]  polyterm correlate -m \"btc\"   # Find correlated markets[/dim]")
    console.print("[dim]  polyterm exit -i               # Plan exit strategy[/dim]")
    console.print("[dim]  polyterm depth -m \"btc\"       # Liquidity analysis[/dim]")
    console.print("[dim]  polyterm trade -m \"btc\" -a 500 # Trade calculator[/dim]")
    console.print("[dim]  polyterm timeline --days 30   # Resolution timeline[/dim]")
    console.print("[dim]  polyterm analyze               # Portfolio analytics[/dim]")
    console.print("[dim]  polyterm journal --add         # Add journal entry[/dim]")
    console.print("[dim]  polyterm hot --gainers         # Top gainers[/dim]")
    console.print("[dim]  polyterm pnl --period month    # Monthly P&L[/dim]")
    console.print("[dim]  polyterm lookup bitcoin        # Quick market lookup[/dim]")
    console.print("[dim]  polyterm center                # Alert center[/dim]")
    console.print("[dim]  polyterm groups --list         # Watchlist groups[/dim]")
    console.print("[dim]  polyterm attribution           # Performance attribution[/dim]")
    console.print("[dim]  polyterm snapshot --list       # Market snapshots[/dim]")
    console.print("[dim]  polyterm signals --scan        # Scan for signals[/dim]")
    console.print("[dim]  polyterm similar bitcoin       # Find similar markets[/dim]")
    console.print("[dim]  polyterm ladder bitcoin        # Price ladder view[/dim]")
    console.print("[dim]  polyterm benchmark             # Performance comparison[/dim]")
    console.print("[dim]  polyterm pin bitcoin           # Pin a market[/dim]")
    console.print("[dim]  polyterm spread bitcoin        # Spread analysis[/dim]")
    console.print("[dim]  polyterm history bitcoin       # Market history[/dim]")
    console.print("[dim]  polyterm streak                # Win/loss streaks[/dim]")
    console.print("[dim]  polyterm digest                # Daily summary[/dim]")
    console.print("[dim]  polyterm timing bitcoin        # Timing analysis[/dim]")
    console.print("[dim]  polyterm odds 0.65             # Convert probability to other formats[/dim]")
    console.print("[dim]  polyterm health --detailed     # Full health analysis[/dim]")
    console.print("[dim]  polyterm scenario --portfolio  # Model all outcomes[/dim]")
    console.print("[dim]  polyterm summary bitcoin       # Quick one-line summary[/dim]")
    console.print("[dim]  polyterm watchdog -m btc --above 0.70  # Monitor condition[/dim]")
    console.print("[dim]  polyterm volume -m bitcoin           # Volume profile[/dim]")
    console.print("[dim]  polyterm screener -i                 # Interactive screener[/dim]")
    console.print("[dim]  polyterm backtest -s momentum        # Test strategy[/dim]")
    console.print("[dim]  polyterm report -t daily             # Daily report[/dim]")
    console.print("[dim]  polyterm liquidity -s score          # Compare liquidity[/dim]")
    console.print("[dim]  polyterm ev -m btc -p 0.65           # Expected value calc[/dim]")
    console.print("[dim]  polyterm calibrate --stats           # View calibration[/dim]")
    console.print("[dim]  polyterm quick price bitcoin         # Quick price check[/dim]")
    console.print("[dim]  polyterm leaderboard --me            # Your ranking[/dim]")
    console.print("[dim]  polyterm notify --configure          # Set up notifications[/dim]")
    console.print("[dim]  polyterm alerts                # View alerts[/dim]")
    console.print("[dim]  polyterm export --format json  # Export data[/dim]")
    console.print()
    
    # API Status
    console.print("[bold yellow]API Status:[/bold yellow]")
    console.print()
    console.print("âœ… [green]Gamma API[/green] - Live market data")
    console.print("âœ… [green]CLOB API[/green] - Order book data")
    console.print("âš ï¸  [yellow]Subgraph API[/yellow] - Limited (deprecated by PolyMarket)")
    console.print()
    
    # Links
    console.print("[bold yellow]Resources:[/bold yellow]")
    console.print()
    console.print("ğŸ“– [link=https://github.com/NYTEMODEONLY/polyterm]GitHub Repository[/link]")
    console.print("ğŸ“„ [link=https://docs.polymarket.com]PolyMarket Docs[/link]")
    console.print("ğŸ› [link=https://github.com/NYTEMODEONLY/polyterm/issues]Report Issues[/link]")
    console.print()
    console.print("[bright_magenta]a nytemode project[/bright_magenta] - [link=https://nytemode.com]nytemode.com[/link]")
    console.print()


