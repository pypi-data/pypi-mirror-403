prod: True
push: False
courses:
  - name: CST334-online
    id: 29233
    # Course-level defaults
    grader: CST334online
    record_retention: true  # Enable feedback record retention for entire course
    records_dir: "./course_records"  # Custom directory for records (default: ./records)
    assignment_defaults:
      kind: ProgrammingAssignment
      kwargs:
        num_repeats: 10
    assignments:
      - repo_path: PA1
        id: 487781
      - repo_path: PA2
        id: 487782
        record_retention: false  # Override course-level setting - disable for this assignment
      - repo_path: PA3
        id: 487783
      - repo_path: PA4
        id: 487784
      - repo_path: PA5
        id: 487785
      - repo_path: PA6-script
        id: 487786
        grader: docker-configurable
        kwargs:
          grading_script: "./grade.py"
          working_dir: "/tmp/grading"
          canvas_points: 85  # OVERRIDES Canvas API points_possible - converts local scores to 85 Canvas points
      - repo_path: PA7-commands
        id: 487787
        grader: docker-configurable
        kwargs:
          grading_commands:
            - "gcc -o program *.c"
            - "python test_runner.py --yaml-output"
          working_dir: "/tmp/grading"
      - repo_path: PA8-advanced
        id: 487788
        grader: docker-configurable
        record_retention: true  # Explicitly enable for this assignment (redundant with course-level, but shows usage)
        records_dir: "~/assignment_specific_records"  # Assignment-specific records directory
        kwargs:
          image: "python:3.9"
          additional_installs:
            - "apt-get update && apt-get install -y gcc"
            - "pip install pytest pyyaml"
          additional_files:
            - src: "./test_framework/*"
              dst: "/tmp/grading/tests/"
            - "./grade_template.py"
          grading_script: "python grade_template.py"
          working_dir: "/tmp/grading"
      - repo_path: PA9-dockerfile
        id: 487789
        grader: docker-configurable
        kwargs:
          dockerfile_text: |
            FROM ubuntu:20.04
            RUN apt-get update && apt-get install -y python3 python3-pip gcc
            RUN pip3 install pytest pyyaml
            COPY ./grading_tools/ /opt/grading/
            ENV PATH="/opt/grading:${PATH}"
            WORKDIR /tmp/grading
            CMD ["/bin/bash"]
          grading_commands:
            - "python3 /opt/grading/auto_grade.py"
