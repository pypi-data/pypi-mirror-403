<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: OmniNLIArchitecture Pages: 1 -->
<svg width="1238pt" height="321pt"
 viewBox="0.00 0.00 1238.00 321.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 317)">
<title>OmniNLIArchitecture</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-317 1234,-317 1234,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_clients</title>
<polygon fill="white" stroke="#888888" stroke-dasharray="5,2" points="8,-49 8,-234 211,-234 211,-49 8,-49"/>
<text text-anchor="middle" x="109.5" y="-218.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#555555">Clients</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_server</title>
<path fill="#fafafa" stroke="#666666" d="M271,-27C271,-27 985,-27 985,-27 991,-27 997,-33 997,-39 997,-39 997,-293 997,-293 997,-299 991,-305 985,-305 985,-305 271,-305 271,-305 265,-305 259,-299 259,-293 259,-293 259,-39 259,-39 259,-33 265,-27 271,-27"/>
<text text-anchor="middle" x="628" y="-289.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#333333">Omni&#45;NLI Server</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_interfaces</title>
<polygon fill="#fafafa" stroke="#9c27b0" stroke-dasharray="5,2" points="279,-53 279,-230 399,-230 399,-53 279,-53"/>
<text text-anchor="middle" x="339" y="-214.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#7b1fa2">Interfaces</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_core</title>
<polygon fill="#fafafa" stroke="#4caf50" stroke-dasharray="5,2" points="438,-47 438,-262 579,-262 579,-47 438,-47"/>
<text text-anchor="middle" x="508.5" y="-246.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#388e3c">Core</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_providers</title>
<polygon fill="#fafafa" stroke="#ff9800" stroke-dasharray="5,2" points="618,-66 618,-217 977,-217 977,-66 618,-66"/>
<text text-anchor="middle" x="797.5" y="-201.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#f57c00">Backend</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_backends</title>
<polygon fill="white" stroke="#888888" stroke-dasharray="5,2" points="1089,-8 1089,-275 1222,-275 1222,-8 1089,-8"/>
<text text-anchor="middle" x="1155.5" y="-259.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#555555">Model Providers</text>
</g>
<!-- rest_client -->
<g id="node1" class="node">
<title>rest_client</title>
<path fill="#e8f4fd" stroke="#2196f3" stroke-width="1.5" d="M154.5,-193C154.5,-193 64.5,-193 64.5,-193 58.5,-193 52.5,-187 52.5,-181 52.5,-181 52.5,-167 52.5,-167 52.5,-161 58.5,-155 64.5,-155 64.5,-155 154.5,-155 154.5,-155 160.5,-155 166.5,-161 166.5,-167 166.5,-167 166.5,-181 166.5,-181 166.5,-187 160.5,-193 154.5,-193"/>
<text text-anchor="middle" x="109.5" y="-177.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">REST Client</text>
<text text-anchor="middle" x="109.5" y="-162.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">(curl, httpx, etc.)</text>
</g>
<!-- rest_api -->
<g id="node3" class="node">
<title>rest_api</title>
<path fill="#f3e5f5" stroke="#9c27b0" stroke-width="1.5" d="M366,-193C366,-193 312,-193 312,-193 306,-193 300,-187 300,-181 300,-181 300,-167 300,-167 300,-161 306,-155 312,-155 312,-155 366,-155 366,-155 372,-155 378,-161 378,-167 378,-167 378,-181 378,-181 378,-187 372,-193 366,-193"/>
<text text-anchor="middle" x="339" y="-177.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">REST API</text>
<text text-anchor="middle" x="339" y="-162.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">/api/v1/*</text>
</g>
<!-- rest_client&#45;&gt;rest_api -->
<g id="edge1" class="edge">
<title>rest_client&#45;&gt;rest_api</title>
<path fill="none" stroke="#2196f3" stroke-width="1.2" d="M166.74,-174C204.46,-174 253.64,-174 289.61,-174"/>
<polygon fill="#2196f3" stroke="#2196f3" stroke-width="1.2" points="289.86,-177.5 299.86,-174 289.86,-170.5 289.86,-177.5"/>
<text text-anchor="middle" x="238.5" y="-176.8" font-family="Helvetica,Arial,sans-serif" font-size="9.00" fill="#555555">HTTP</text>
</g>
<!-- mcp_client -->
<g id="node2" class="node">
<title>mcp_client</title>
<path fill="#e8f4fd" stroke="#2196f3" stroke-width="1.5" d="M181,-105C181,-105 38,-105 38,-105 32,-105 26,-99 26,-93 26,-93 26,-79 26,-79 26,-73 32,-67 38,-67 38,-67 181,-67 181,-67 187,-67 193,-73 193,-79 193,-79 193,-93 193,-93 193,-99 187,-105 181,-105"/>
<text text-anchor="middle" x="109.5" y="-89.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">MCP Client</text>
<text text-anchor="middle" x="109.5" y="-74.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">(Claude, LM Studio, etc.)</text>
</g>
<!-- mcp_server -->
<g id="node4" class="node">
<title>mcp_server</title>
<path fill="#f3e5f5" stroke="#9c27b0" stroke-width="1.5" d="M373,-105C373,-105 305,-105 305,-105 299,-105 293,-99 293,-93 293,-93 293,-79 293,-79 293,-73 299,-67 305,-67 305,-67 373,-67 373,-67 379,-67 385,-73 385,-79 385,-79 385,-93 385,-93 385,-99 379,-105 373,-105"/>
<text text-anchor="middle" x="339" y="-89.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">MCP Server</text>
<text text-anchor="middle" x="339" y="-74.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">/mcp/</text>
</g>
<!-- mcp_client&#45;&gt;mcp_server -->
<g id="edge2" class="edge">
<title>mcp_client&#45;&gt;mcp_server</title>
<path fill="none" stroke="#2196f3" stroke-width="1.2" d="M193.28,-86C223,-86 255.77,-86 282.61,-86"/>
<polygon fill="#2196f3" stroke="#2196f3" stroke-width="1.2" points="282.96,-89.5 292.96,-86 282.96,-82.5 282.96,-89.5"/>
<text text-anchor="middle" x="238.5" y="-88.8" font-family="Helvetica,Arial,sans-serif" font-size="9.00" fill="#555555">MCP</text>
</g>
<!-- tool_registry -->
<g id="node5" class="node">
<title>tool_registry</title>
<path fill="#e8f5e9" stroke="#4caf50" stroke-width="1.5" d="M553,-138.5C553,-138.5 464,-138.5 464,-138.5 458,-138.5 452,-132.5 452,-126.5 452,-126.5 452,-73.5 452,-73.5 452,-67.5 458,-61.5 464,-61.5 464,-61.5 553,-61.5 553,-61.5 559,-61.5 565,-67.5 565,-73.5 565,-73.5 565,-126.5 565,-126.5 565,-132.5 559,-138.5 553,-138.5"/>
<text text-anchor="start" x="465.5" y="-119.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Tool Registry</text>
<text text-anchor="start" x="464.5" y="-95.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">• evaluate_nli</text>
<text text-anchor="start" x="464.5" y="-72.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">• list_providers</text>
</g>
<!-- rest_api&#45;&gt;tool_registry -->
<g id="edge3" class="edge">
<title>rest_api&#45;&gt;tool_registry</title>
<path fill="none" stroke="#9c27b0" stroke-width="1.2" d="M378.01,-157.21C397.1,-148.78 420.76,-138.32 442.61,-128.67"/>
<polygon fill="#9c27b0" stroke="#9c27b0" stroke-width="1.2" points="444.11,-131.83 451.84,-124.59 441.28,-125.43 444.11,-131.83"/>
</g>
<!-- mcp_server&#45;&gt;tool_registry -->
<g id="edge4" class="edge">
<title>mcp_server&#45;&gt;tool_registry</title>
<path fill="none" stroke="#9c27b0" stroke-width="1.2" d="M385.33,-89.79C402.74,-91.24 422.98,-92.94 441.92,-94.52"/>
<polygon fill="#9c27b0" stroke="#9c27b0" stroke-width="1.2" points="441.72,-98.01 451.98,-95.36 442.3,-91.04 441.72,-98.01"/>
</g>
<!-- provider_factory -->
<g id="node7" class="node">
<title>provider_factory</title>
<path fill="#fff3e0" stroke="#ff9800" stroke-width="1.5" d="M736,-148C736,-148 644,-148 644,-148 638,-148 632,-142 632,-136 632,-136 632,-124 632,-124 632,-118 638,-112 644,-112 644,-112 736,-112 736,-112 742,-112 748,-118 748,-124 748,-124 748,-136 748,-136 748,-142 742,-148 736,-148"/>
<text text-anchor="middle" x="690" y="-126.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Provider Factory</text>
</g>
<!-- tool_registry&#45;&gt;provider_factory -->
<g id="edge5" class="edge">
<title>tool_registry&#45;&gt;provider_factory</title>
<path fill="none" stroke="#4caf50" stroke-width="1.2" d="M565.31,-109.33C583.28,-112.33 603.38,-115.69 622.07,-118.81"/>
<polygon fill="#4caf50" stroke="#4caf50" stroke-width="1.2" points="621.55,-122.27 631.99,-120.47 622.7,-115.37 621.55,-122.27"/>
</g>
<!-- settings -->
<g id="node6" class="node">
<title>settings</title>
<path fill="#e8f5e9" stroke="#4caf50" stroke-width="1.5" d="M529.5,-225C529.5,-225 487.5,-225 487.5,-225 481.5,-225 475.5,-219 475.5,-213 475.5,-213 475.5,-201 475.5,-201 475.5,-195 481.5,-189 487.5,-189 487.5,-189 529.5,-189 529.5,-189 535.5,-189 541.5,-195 541.5,-201 541.5,-201 541.5,-213 541.5,-213 541.5,-219 535.5,-225 529.5,-225"/>
<text text-anchor="middle" x="508.5" y="-203.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Settings</text>
</g>
<!-- settings&#45;&gt;provider_factory -->
<g id="edge6" class="edge">
<title>settings&#45;&gt;provider_factory</title>
<path fill="none" stroke="#4caf50" stroke-width="1.2" stroke-dasharray="5,2" d="M541.59,-193.23C568.18,-181.83 606.49,-165.39 637.39,-152.14"/>
<polygon fill="#4caf50" stroke="#4caf50" stroke-width="1.2" points="638.91,-155.3 646.72,-148.14 636.15,-148.86 638.91,-155.3"/>
</g>
<!-- base_provider -->
<g id="node8" class="node">
<title>base_provider</title>
<path fill="#fff3e0" stroke="#ff9800" stroke-width="1.5" d="M951,-180C951,-180 827,-180 827,-180 821,-180 815,-174 815,-168 815,-168 815,-92 815,-92 815,-86 821,-80 827,-80 827,-80 951,-80 951,-80 957,-80 963,-86 963,-92 963,-92 963,-168 963,-168 963,-174 957,-180 951,-180"/>
<text text-anchor="start" x="848.5" y="-161.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">NLI Provider</text>
<text text-anchor="start" x="827" y="-137.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">• Prompt Building</text>
<text text-anchor="start" x="827" y="-114.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">• Response Parsing</text>
<text text-anchor="start" x="827" y="-91.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">• Thinking Extraction</text>
</g>
<!-- provider_factory&#45;&gt;base_provider -->
<g id="edge7" class="edge">
<title>provider_factory&#45;&gt;base_provider</title>
<path fill="none" stroke="#ff9800" stroke-width="1.2" d="M748.25,-130C765.87,-130 785.64,-130 804.64,-130"/>
<polygon fill="#ff9800" stroke="#ff9800" stroke-width="1.2" points="804.8,-133.5 814.8,-130 804.8,-126.5 804.8,-133.5"/>
</g>
<!-- ollama -->
<g id="node9" class="node">
<title>ollama</title>
<path fill="#eceff1" stroke="#607d8b" stroke-width="1.5" d="M1174,-234C1174,-234 1137,-234 1137,-234 1131,-234 1125,-228 1125,-222 1125,-222 1125,-210 1125,-210 1125,-204 1131,-198 1137,-198 1137,-198 1174,-198 1174,-198 1180,-198 1186,-204 1186,-210 1186,-210 1186,-222 1186,-222 1186,-228 1180,-234 1174,-234"/>
<text text-anchor="middle" x="1155.5" y="-212.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Ollama</text>
</g>
<!-- base_provider&#45;&gt;ollama -->
<g id="edge8" class="edge">
<title>base_provider&#45;&gt;ollama</title>
<path fill="none" stroke="#607d8b" stroke-width="1.2" d="M963.28,-154.32C977.13,-158.88 991.5,-163.6 1005,-168 1042.38,-180.17 1085.08,-193.86 1115.25,-203.5"/>
<polygon fill="#607d8b" stroke="#607d8b" stroke-width="1.2" points="1114.38,-206.9 1124.98,-206.6 1116.51,-200.23 1114.38,-206.9"/>
</g>
<!-- huggingface -->
<g id="node10" class="node">
<title>huggingface</title>
<path fill="#eceff1" stroke="#607d8b" stroke-width="1.5" d="M1192,-148C1192,-148 1119,-148 1119,-148 1113,-148 1107,-142 1107,-136 1107,-136 1107,-124 1107,-124 1107,-118 1113,-112 1119,-112 1119,-112 1192,-112 1192,-112 1198,-112 1204,-118 1204,-124 1204,-124 1204,-136 1204,-136 1204,-142 1198,-148 1192,-148"/>
<text text-anchor="middle" x="1155.5" y="-126.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">HuggingFace</text>
</g>
<!-- base_provider&#45;&gt;huggingface -->
<g id="edge9" class="edge">
<title>base_provider&#45;&gt;huggingface</title>
<path fill="none" stroke="#607d8b" stroke-width="1.2" d="M963.33,-130C1005.43,-130 1057.55,-130 1096.73,-130"/>
<polygon fill="#607d8b" stroke="#607d8b" stroke-width="1.2" points="1096.9,-133.5 1106.9,-130 1096.9,-126.5 1096.9,-133.5"/>
</g>
<!-- openrouter -->
<g id="node11" class="node">
<title>openrouter</title>
<path fill="#eceff1" stroke="#607d8b" stroke-width="1.5" d="M1189,-62C1189,-62 1122,-62 1122,-62 1116,-62 1110,-56 1110,-50 1110,-50 1110,-38 1110,-38 1110,-32 1116,-26 1122,-26 1122,-26 1189,-26 1189,-26 1195,-26 1201,-32 1201,-38 1201,-38 1201,-50 1201,-50 1201,-56 1195,-62 1189,-62"/>
<text text-anchor="middle" x="1155.5" y="-40.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">OpenRouter</text>
</g>
<!-- base_provider&#45;&gt;openrouter -->
<g id="edge10" class="edge">
<title>base_provider&#45;&gt;openrouter</title>
<path fill="none" stroke="#607d8b" stroke-width="1.2" d="M963.33,-106.16C1006.6,-92.09 1060.44,-74.58 1099.95,-61.74"/>
<polygon fill="#607d8b" stroke="#607d8b" stroke-width="1.2" points="1101.25,-65 1109.67,-58.58 1099.08,-58.34 1101.25,-65"/>
</g>
</g>
</svg>
