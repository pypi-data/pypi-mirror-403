<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: OmniNLIArchitecture Pages: 1 -->
<svg width="1274pt" height="321pt"
 viewBox="0.00 0.00 1274.00 321.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 317)">
<title>OmniNLIArchitecture</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-317 1270,-317 1270,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_clients</title>
<polygon fill="white" stroke="#888888" stroke-dasharray="5,2" points="8,-49 8,-234 247,-234 247,-49 8,-49"/>
<text text-anchor="middle" x="127.5" y="-218.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#555555">Clients</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_server</title>
<path fill="#fafafa" stroke="#666666" d="M307,-27C307,-27 1021,-27 1021,-27 1027,-27 1033,-33 1033,-39 1033,-39 1033,-293 1033,-293 1033,-299 1027,-305 1021,-305 1021,-305 307,-305 307,-305 301,-305 295,-299 295,-293 295,-293 295,-39 295,-39 295,-33 301,-27 307,-27"/>
<text text-anchor="middle" x="664" y="-289.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#333333">Omni&#45;NLI Server</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_interfaces</title>
<polygon fill="#fafafa" stroke="#9c27b0" stroke-dasharray="5,2" points="315,-53 315,-230 435,-230 435,-53 315,-53"/>
<text text-anchor="middle" x="375" y="-214.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#7b1fa2">Interfaces</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_core</title>
<polygon fill="#fafafa" stroke="#4caf50" stroke-dasharray="5,2" points="474,-47 474,-262 615,-262 615,-47 474,-47"/>
<text text-anchor="middle" x="544.5" y="-246.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#388e3c">Tools and Settings</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_providers</title>
<polygon fill="#fafafa" stroke="#ff9800" stroke-dasharray="5,2" points="654,-66 654,-217 1013,-217 1013,-66 654,-66"/>
<text text-anchor="middle" x="833.5" y="-201.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#f57c00">Backend</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_backends</title>
<polygon fill="white" stroke="#888888" stroke-dasharray="5,2" points="1125,-8 1125,-275 1258,-275 1258,-8 1125,-8"/>
<text text-anchor="middle" x="1191.5" y="-259.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#555555">Model Providers</text>
</g>
<!-- rest_client -->
<g id="node1" class="node">
<title>rest_client</title>
<path fill="#e8f4fd" stroke="#2196f3" stroke-width="1.5" d="M172.5,-193C172.5,-193 82.5,-193 82.5,-193 76.5,-193 70.5,-187 70.5,-181 70.5,-181 70.5,-167 70.5,-167 70.5,-161 76.5,-155 82.5,-155 82.5,-155 172.5,-155 172.5,-155 178.5,-155 184.5,-161 184.5,-167 184.5,-167 184.5,-181 184.5,-181 184.5,-187 178.5,-193 172.5,-193"/>
<text text-anchor="middle" x="127.5" y="-177.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">REST Client</text>
<text text-anchor="middle" x="127.5" y="-162.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">(curl, httpx, etc.)</text>
</g>
<!-- rest_api -->
<g id="node3" class="node">
<title>rest_api</title>
<path fill="#f3e5f5" stroke="#9c27b0" stroke-width="1.5" d="M402,-193C402,-193 348,-193 348,-193 342,-193 336,-187 336,-181 336,-181 336,-167 336,-167 336,-161 342,-155 348,-155 348,-155 402,-155 402,-155 408,-155 414,-161 414,-167 414,-167 414,-181 414,-181 414,-187 408,-193 402,-193"/>
<text text-anchor="middle" x="375" y="-177.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">REST API</text>
<text text-anchor="middle" x="375" y="-162.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">/api/v1/*</text>
</g>
<!-- rest_client&#45;&gt;rest_api -->
<g id="edge1" class="edge">
<title>rest_client&#45;&gt;rest_api</title>
<path fill="none" stroke="#2196f3" stroke-width="1.2" d="M184.51,-174C227.09,-174 285.04,-174 325.61,-174"/>
<polygon fill="#2196f3" stroke="#2196f3" stroke-width="1.2" points="325.79,-177.5 335.79,-174 325.79,-170.5 325.79,-177.5"/>
<text text-anchor="middle" x="274.5" y="-176.8" font-family="Helvetica,Arial,sans-serif" font-size="9.00" fill="#555555">HTTP</text>
</g>
<!-- mcp_client -->
<g id="node2" class="node">
<title>mcp_client</title>
<path fill="#e8f4fd" stroke="#2196f3" stroke-width="1.5" d="M217,-105C217,-105 38,-105 38,-105 32,-105 26,-99 26,-93 26,-93 26,-79 26,-79 26,-73 32,-67 38,-67 38,-67 217,-67 217,-67 223,-67 229,-73 229,-79 229,-79 229,-93 229,-93 229,-99 223,-105 217,-105"/>
<text text-anchor="middle" x="127.5" y="-89.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">MCP Client</text>
<text text-anchor="middle" x="127.5" y="-74.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">(Claude Code, LM Studio, etc.)</text>
</g>
<!-- mcp_server -->
<g id="node4" class="node">
<title>mcp_server</title>
<path fill="#f3e5f5" stroke="#9c27b0" stroke-width="1.5" d="M409,-105C409,-105 341,-105 341,-105 335,-105 329,-99 329,-93 329,-93 329,-79 329,-79 329,-73 335,-67 341,-67 341,-67 409,-67 409,-67 415,-67 421,-73 421,-79 421,-79 421,-93 421,-93 421,-99 415,-105 409,-105"/>
<text text-anchor="middle" x="375" y="-89.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">MCP Server</text>
<text text-anchor="middle" x="375" y="-74.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">/mcp/</text>
</g>
<!-- mcp_client&#45;&gt;mcp_server -->
<g id="edge2" class="edge">
<title>mcp_client&#45;&gt;mcp_server</title>
<path fill="none" stroke="#2196f3" stroke-width="1.2" d="M229.06,-86C259.69,-86 292.22,-86 318.69,-86"/>
<polygon fill="#2196f3" stroke="#2196f3" stroke-width="1.2" points="318.89,-89.5 328.89,-86 318.89,-82.5 318.89,-89.5"/>
<text text-anchor="middle" x="274.5" y="-88.8" font-family="Helvetica,Arial,sans-serif" font-size="9.00" fill="#555555">MCP</text>
</g>
<!-- tool_registry -->
<g id="node5" class="node">
<title>tool_registry</title>
<path fill="#e8f5e9" stroke="#4caf50" stroke-width="1.5" d="M589,-138.5C589,-138.5 500,-138.5 500,-138.5 494,-138.5 488,-132.5 488,-126.5 488,-126.5 488,-73.5 488,-73.5 488,-67.5 494,-61.5 500,-61.5 500,-61.5 589,-61.5 589,-61.5 595,-61.5 601,-67.5 601,-73.5 601,-73.5 601,-126.5 601,-126.5 601,-132.5 595,-138.5 589,-138.5"/>
<text text-anchor="start" x="501.5" y="-119.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Tool Registry</text>
<text text-anchor="start" x="500.5" y="-95.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">• evaluate_nli</text>
<text text-anchor="start" x="500.5" y="-72.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">• list_providers</text>
</g>
<!-- rest_api&#45;&gt;tool_registry -->
<g id="edge3" class="edge">
<title>rest_api&#45;&gt;tool_registry</title>
<path fill="none" stroke="#9c27b0" stroke-width="1.2" d="M414.01,-157.21C433.1,-148.78 456.76,-138.32 478.61,-128.67"/>
<polygon fill="#9c27b0" stroke="#9c27b0" stroke-width="1.2" points="480.11,-131.83 487.84,-124.59 477.28,-125.43 480.11,-131.83"/>
</g>
<!-- mcp_server&#45;&gt;tool_registry -->
<g id="edge4" class="edge">
<title>mcp_server&#45;&gt;tool_registry</title>
<path fill="none" stroke="#9c27b0" stroke-width="1.2" d="M421.33,-89.79C438.74,-91.24 458.98,-92.94 477.92,-94.52"/>
<polygon fill="#9c27b0" stroke="#9c27b0" stroke-width="1.2" points="477.72,-98.01 487.98,-95.36 478.3,-91.04 477.72,-98.01"/>
</g>
<!-- provider_factory -->
<g id="node7" class="node">
<title>provider_factory</title>
<path fill="#fff3e0" stroke="#ff9800" stroke-width="1.5" d="M772,-148C772,-148 680,-148 680,-148 674,-148 668,-142 668,-136 668,-136 668,-124 668,-124 668,-118 674,-112 680,-112 680,-112 772,-112 772,-112 778,-112 784,-118 784,-124 784,-124 784,-136 784,-136 784,-142 778,-148 772,-148"/>
<text text-anchor="middle" x="726" y="-126.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Provider Factory</text>
</g>
<!-- tool_registry&#45;&gt;provider_factory -->
<g id="edge5" class="edge">
<title>tool_registry&#45;&gt;provider_factory</title>
<path fill="none" stroke="#4caf50" stroke-width="1.2" d="M601.31,-109.33C619.28,-112.33 639.38,-115.69 658.07,-118.81"/>
<polygon fill="#4caf50" stroke="#4caf50" stroke-width="1.2" points="657.55,-122.27 667.99,-120.47 658.7,-115.37 657.55,-122.27"/>
</g>
<!-- settings -->
<g id="node6" class="node">
<title>settings</title>
<path fill="#e8f5e9" stroke="#4caf50" stroke-width="1.5" d="M565.5,-225C565.5,-225 523.5,-225 523.5,-225 517.5,-225 511.5,-219 511.5,-213 511.5,-213 511.5,-201 511.5,-201 511.5,-195 517.5,-189 523.5,-189 523.5,-189 565.5,-189 565.5,-189 571.5,-189 577.5,-195 577.5,-201 577.5,-201 577.5,-213 577.5,-213 577.5,-219 571.5,-225 565.5,-225"/>
<text text-anchor="middle" x="544.5" y="-203.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Settings</text>
</g>
<!-- settings&#45;&gt;provider_factory -->
<g id="edge6" class="edge">
<title>settings&#45;&gt;provider_factory</title>
<path fill="none" stroke="#4caf50" stroke-width="1.2" stroke-dasharray="5,2" d="M577.59,-193.23C604.18,-181.83 642.49,-165.39 673.39,-152.14"/>
<polygon fill="#4caf50" stroke="#4caf50" stroke-width="1.2" points="674.91,-155.3 682.72,-148.14 672.15,-148.86 674.91,-155.3"/>
</g>
<!-- base_provider -->
<g id="node8" class="node">
<title>base_provider</title>
<path fill="#fff3e0" stroke="#ff9800" stroke-width="1.5" d="M987,-180C987,-180 863,-180 863,-180 857,-180 851,-174 851,-168 851,-168 851,-92 851,-92 851,-86 857,-80 863,-80 863,-80 987,-80 987,-80 993,-80 999,-86 999,-92 999,-92 999,-168 999,-168 999,-174 993,-180 987,-180"/>
<text text-anchor="start" x="884.5" y="-161.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">NLI Provider</text>
<text text-anchor="start" x="863" y="-137.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">• Prompt Building</text>
<text text-anchor="start" x="863" y="-114.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">• Response Parsing</text>
<text text-anchor="start" x="863" y="-91.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">• Thinking Extraction</text>
</g>
<!-- provider_factory&#45;&gt;base_provider -->
<g id="edge7" class="edge">
<title>provider_factory&#45;&gt;base_provider</title>
<path fill="none" stroke="#ff9800" stroke-width="1.2" d="M784.25,-130C801.87,-130 821.64,-130 840.64,-130"/>
<polygon fill="#ff9800" stroke="#ff9800" stroke-width="1.2" points="840.8,-133.5 850.8,-130 840.8,-126.5 840.8,-133.5"/>
</g>
<!-- ollama -->
<g id="node9" class="node">
<title>ollama</title>
<path fill="#eceff1" stroke="#607d8b" stroke-width="1.5" d="M1210,-234C1210,-234 1173,-234 1173,-234 1167,-234 1161,-228 1161,-222 1161,-222 1161,-210 1161,-210 1161,-204 1167,-198 1173,-198 1173,-198 1210,-198 1210,-198 1216,-198 1222,-204 1222,-210 1222,-210 1222,-222 1222,-222 1222,-228 1216,-234 1210,-234"/>
<text text-anchor="middle" x="1191.5" y="-212.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Ollama</text>
</g>
<!-- base_provider&#45;&gt;ollama -->
<g id="edge8" class="edge">
<title>base_provider&#45;&gt;ollama</title>
<path fill="none" stroke="#607d8b" stroke-width="1.2" d="M999.28,-154.32C1013.13,-158.88 1027.5,-163.6 1041,-168 1078.38,-180.17 1121.08,-193.86 1151.25,-203.5"/>
<polygon fill="#607d8b" stroke="#607d8b" stroke-width="1.2" points="1150.38,-206.9 1160.98,-206.6 1152.51,-200.23 1150.38,-206.9"/>
</g>
<!-- huggingface -->
<g id="node10" class="node">
<title>huggingface</title>
<path fill="#eceff1" stroke="#607d8b" stroke-width="1.5" d="M1228,-148C1228,-148 1155,-148 1155,-148 1149,-148 1143,-142 1143,-136 1143,-136 1143,-124 1143,-124 1143,-118 1149,-112 1155,-112 1155,-112 1228,-112 1228,-112 1234,-112 1240,-118 1240,-124 1240,-124 1240,-136 1240,-136 1240,-142 1234,-148 1228,-148"/>
<text text-anchor="middle" x="1191.5" y="-126.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">HuggingFace</text>
</g>
<!-- base_provider&#45;&gt;huggingface -->
<g id="edge9" class="edge">
<title>base_provider&#45;&gt;huggingface</title>
<path fill="none" stroke="#607d8b" stroke-width="1.2" d="M999.33,-130C1041.43,-130 1093.55,-130 1132.73,-130"/>
<polygon fill="#607d8b" stroke="#607d8b" stroke-width="1.2" points="1132.9,-133.5 1142.9,-130 1132.9,-126.5 1132.9,-133.5"/>
</g>
<!-- openrouter -->
<g id="node11" class="node">
<title>openrouter</title>
<path fill="#eceff1" stroke="#607d8b" stroke-width="1.5" d="M1225,-62C1225,-62 1158,-62 1158,-62 1152,-62 1146,-56 1146,-50 1146,-50 1146,-38 1146,-38 1146,-32 1152,-26 1158,-26 1158,-26 1225,-26 1225,-26 1231,-26 1237,-32 1237,-38 1237,-38 1237,-50 1237,-50 1237,-56 1231,-62 1225,-62"/>
<text text-anchor="middle" x="1191.5" y="-40.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">OpenRouter</text>
</g>
<!-- base_provider&#45;&gt;openrouter -->
<g id="edge10" class="edge">
<title>base_provider&#45;&gt;openrouter</title>
<path fill="none" stroke="#607d8b" stroke-width="1.2" d="M999.33,-106.16C1042.6,-92.09 1096.44,-74.58 1135.95,-61.74"/>
<polygon fill="#607d8b" stroke="#607d8b" stroke-width="1.2" points="1137.25,-65 1145.67,-58.58 1135.08,-58.34 1137.25,-65"/>
</g>
</g>
</svg>
