id: dir-backup
title: "Directory Backup Script"
stack: linux
difficulty: Hard
xp: 150
goal: "Create a Bash script to back up a directory into a compressed archive"

skills:
  - bash-scripting
  - file-archiving
  - automation-scripts

hint: "Create backup.sh that generates backup.tar.gz containing the data directory."

validator: "validator.py"

mentor:
  why: "Reliable backups are a fundamental operational responsibility, and scripting them correctly requires attention to archive structure, repeatability, and safety."
  intent: stretch

  guidance:
    before: |
      Think about how Linux archiving tools package directories and how scripts should behave when run multiple times.

      Optional manual commands (not required for validation):
      These commands operate only on local files.

      - tar -tzf backup.tar.gz
    after: |
      Consider how backup scripts can be extended with timestamps, logging, or configurable paths in real environments.

  tags:
    - linux
    - backup
    - bash
    - automation

solution:
  overview: >
    At hard level, backup automation is about reliability and repeatability,
    not just command usage. This lab evaluates whether an engineer can
    create a script that consistently produces a correct archive without
    manual intervention or side effects.
  professional_reasoning:
    - Backup scripts must be safe to run repeatedly
    - Archive structure matters for restore operations
    - Automation reduces human error in operational tasks
    - Verification should focus on results, not commands
  real_world_context:
    - Most production backups are scripted and unattended
    - Incorrect archive structure can break recovery processes
    - Engineers are expected to validate backups without restoring them

execution:
  runtime: docker
  requires_execution: true
  required_tools:
    - linux
