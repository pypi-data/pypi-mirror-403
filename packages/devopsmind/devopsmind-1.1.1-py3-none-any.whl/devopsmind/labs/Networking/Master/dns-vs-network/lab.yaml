id: dns-vs-network
title: "Diagnose DNS vs Network Connectivity Failure"
stack: networking
difficulty: Master
xp: 500
goal: "Diagnose whether a connectivity issue originates from DNS resolution or underlying network reachability"

skills:
  - network-troubleshooting
  - dns-analysis
  - layered-debugging
  - root-cause-analysis

hint: "Ping succeeds while DNS fails â€” reason about what layer is broken."

validator: "validator.py"

mentor:
  why: "Senior engineers must distinguish between failures at different layers of the network stack. Misidentifying DNS issues as network outages leads to wasted effort and prolonged incidents."
  intent: stretch

  guidance:
    before: |
      Think in terms of layers- physical connectivity, IP reachability, and name resolution.
      Successful ICMP responses do not guarantee DNS functionality.
    after: |
      Consider how misconfigured resolvers, firewalls, or upstream DNS providers
      can cause failures even when basic network connectivity is intact.

  tags:
    - networking
    - dns
    - troubleshooting
    - root-cause-analysis

solution:
  overview: >
    Master-level troubleshooting requires isolating failures by layer.
    This lab evaluates whether an engineer can correctly determine
    that network connectivity exists while DNS resolution is the failing
    component, based solely on diagnostic evidence.
  professional_reasoning:
    - ICMP reachability confirms basic network access
    - DNS failures indicate resolver or upstream resolution issues
    - Correct diagnosis prevents unnecessary network-level remediation
    - Layered reasoning is critical in high-severity incidents
  real_world_context:
    - DNS outages commonly masquerade as network failures
    - Senior engineers are expected to diagnose issues without trial-and-error
    - Accurate root cause analysis reduces mean time to recovery (MTTR)

execution:
  runtime: docker
  requires_execution: true
  required_tools:
    - networking
