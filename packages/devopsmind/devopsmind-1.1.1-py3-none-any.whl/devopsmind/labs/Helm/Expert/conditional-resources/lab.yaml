id: conditional-resources
title: "Conditionally render resources using Helm values"
stack: helm
difficulty: Expert
xp: 300
goal: "Conditionally render Kubernetes resources in a Helm chart based on values configuration"

skills:
  - helm-conditionals
  - helm-templating
  - dynamic-chart-design

hint: "Use if/else blocks to enable or disable a ConfigMap."

validator: "validator.py"

mentor:
  why: "This lab teaches dynamic Helm chart design by conditionally rendering resources, enabling flexible and environment-aware Kubernetes deployments."
  intent: stretch

  guidance:
    before: |
      Think about how Helm conditionals allow charts to enable or disable entire resources based on configuration values.
    after: |
      Consider how conditional rendering can be combined with defaults and overrides to support multiple environments from a single chart.

  tags:
    - helm
    - conditionals
    - templating
    - dynamic-charts

solution:
  overview: >
    At expert level, Helm charts are expected to adapt dynamically to
    configuration without duplication or hardcoded logic. This lab
    evaluates whether an engineer can design conditional resources that
    remain readable, predictable, and maintainable.
  professional_reasoning:
    - Conditional rendering prevents unnecessary resources
    - Values-driven logic enables environment-specific behavior
    - Clean templates reduce cognitive load during reviews
    - Overusing conditionals can harm chart readability
  real_world_context:
    - Teams often toggle resources per environment
    - Production charts frequently gate resources behind flags
    - Senior engineers balance flexibility with simplicity

execution:
  runtime: docker
  requires_execution: true
  required_tools:
    - helm

