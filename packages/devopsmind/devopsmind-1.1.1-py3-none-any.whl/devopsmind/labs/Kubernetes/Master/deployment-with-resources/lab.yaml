id: deployment-with-resources
title: "Define a Deployment with resource requests and limits"
stack: kubernetes
difficulty: Master
xp: 500
goal: "Define a Kubernetes Deployment with appropriate resource requests and limits for containers"

skills:
  - resource-management
  - kubernetes-deployments
  - capacity-planning
  - production-workload-design

hint: "Add CPU and memory requests and limits to the container resources section."

validator: "validator.py"

mentor:
  why: "Production Kubernetes workloads require deliberate resource definitions to ensure predictable scheduling, fair cluster usage, and protection against noisy neighbors."
  intent: judgment

  guidance:
    before: |
      Think about how resource requests influence Pod scheduling decisions and how limits protect cluster stability during unexpected load.

      Optional manual commands (not required for validation):
      These commands operate only on local files.
      Results are for personal verification only.

      - kubectl explain deployment.spec.template.spec.containers.resources
      - kubectl explain resourcequotas
    after: |
      Consider how poor resource sizing can lead to throttling, eviction, or wasted capacity in real production clusters.

  tags:
    - kubernetes
    - resource-management
    - deployments
    - production-workloads

solution:
  overview: >
    At master level, defining resource requests and limits is an exercise in
    engineering judgment rather than syntax. This lab evaluates whether
    an engineer can make deliberate sizing decisions that balance performance,
    stability, and efficient cluster utilization.
  professional_reasoning:
    - Requests determine scheduling guarantees and capacity planning
    - Limits protect nodes from runaway resource consumption
    - Overprovisioning wastes capacity, underprovisioning causes instability
    - Resource definitions communicate intent to platform teams
  real_world_context:
    - Most production incidents involve mis-sized workloads
    - SRE teams rely on resource definitions for autoscaling and quotas
    - Mature organizations standardize baseline resource profiles

execution:
  runtime: docker
  requires_execution: true
  required_tools:
    - kubernetes
