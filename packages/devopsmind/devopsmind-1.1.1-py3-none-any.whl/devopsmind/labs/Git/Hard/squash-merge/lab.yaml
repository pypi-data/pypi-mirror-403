id: squash-merge
title: Squash-merge a feature branch cleanly into main
stack: git
git_mode: transformation
difficulty: Hard
xp: 150

goal: >
  Integrate a feature branch into main using a squash-merge
  strategy that preserves a clean, linear commit history.

skills:
  - git-squash
  - git-merging
  - commit-message-discipline
  - history-hygiene

validator: validator.py

hint:
  - Integrate the feature branch into main using a squash strategy
    so that main receives a single, non-merge commit.

mentor:
  why: Squash-merging consolidates feature work into a single,
       reviewable commit and prevents noisy history.
  intent: stretch
  guidance:
    before: |
      Think about how squash-merge differs from merge and rebase
      in terms of history shape and commit ancestry.

      Optional manual commands (not required for validation):
      These commands operate only on local files.
      Results are for personal verification only.

      - git log --oneline --graph --decorate
      - git branch
      - git status
    after: >
      Practice writing concise, meaningful commit messages that
      accurately summarize feature-level changes.
  tags:
    - git
    - squash
    - merge-strategies
    - history-hygiene

solution:
  overview: >
    Hard-level Git history labs evaluate whether engineers
    can intentionally shape commit history rather than relying
    on default workflows.
  approach:
    - Preserve linear history on main
    - Consolidate feature work into a single semantic commit
    - Avoid merge commits and ancestry noise
  professional_considerations:
    - Clean history improves reviewability and rollback safety
    - Squash-merge trades granular history for clarity
    - Commit messages become primary documentation

execution:
  runtime: docker
  requires_execution: true
  required_tools:
    - git
