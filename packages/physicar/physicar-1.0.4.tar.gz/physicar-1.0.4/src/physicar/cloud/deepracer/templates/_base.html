<!doctype html>
<html lang="{{ lang | default('ko') }}" data-bs-theme-base="slate" data-bs-theme-primary="purple" data-bs-theme-radius="0">
<head>
  {% include "partials/_head.html" %}

  <title>{% block title %}{{ title }}{% endblock %} | Physicar Cloud - DeepRacer</title>

  <!-- Main CSS (with cache busting) -->
  <link rel="stylesheet" href="/static/css/main.css?v={{ version }}">

  <!-- Page Styles -->
  {% block styles %}{% endblock %}
</head>

<body>
  <!-- Theme Script (before content) -->
  <script src="https://cdn.jsdelivr.net/npm/@tabler/core@1.2.0/dist/js/tabler-theme.min.js"></script>

  <div class="page">
    <!-- Sidebar -->
    {% include "partials/layout/_sidebar.html" %}
    
    <!-- Navbar -->
    {% include "partials/layout/_navbar.html" %}

    <div class="page-wrapper">
      <!-- Page Header -->
      {% block header %}
      <div class="page-header d-print-none">
        <div class="container-xl">
          <div class="row g-2 align-items-center">
            <div class="col">
              <h2 class="page-title">{{ title }}</h2>
            </div>
            {% block header_actions %}{% endblock %}
          </div>
        </div>
      </div>
      {% endblock %}

      <!-- Page Body -->
      <div class="page-body">
        <div class="container-xl">
          {% block content %}{% endblock %}
        </div>
      </div>

      <!-- Footer -->
      {% include "partials/_footer.html" %}
    </div>
  </div>

  <!-- Settings Panel -->
  {% include "partials/_settings.html" ignore missing %}

  <!-- Modals -->
  {% block modals %}{% endblock %}

  <!-- Global Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@tabler/core@1.2.0/dist/js/tabler.min.js" defer></script>
  <script src="https://unpkg.com/htmx.org@1.9.12"></script>
  <script src="https://cdn.jsdelivr.net/npm/tom-select@2.2.2/dist/js/tom-select.complete.min.js"></script>

  <!-- Page Libraries -->
  {% block libraries %}{% endblock %}

  <!-- Page Scripts -->
  {% block scripts %}{% endblock %}
</body>
</html>
