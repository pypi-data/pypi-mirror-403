{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "version": "v47.1.0",
  "band": "CCC",
  "name": "Constitutional Core - Governance Law",
  "geometry": "fractal",
  "quantum_state": "|Ω⟩",
  "authority": "Phoenix-72 Amendment Protocol",
  "status": "PRODUCTION",
  "sealed_by": "ARIF FAZIL + Phoenix-72",
  "sealed_at": "2026-01-17T16:00:00Z",

  "description": "CCC is the immutable constitutional law band. Human and machine can READ. Only Phoenix-72 protocol can WRITE (72-hour cooling + human SEAL). Memory exists as self-similar fractal structures at all scales with non-local quantum entanglement for empathic correlations.",

  "access_control": {
    "human": {
      "read": true,
      "write": false,
      "delete": false,
      "modify": "phoenix72_only",
      "purpose": "Sovereign oversight of governance law"
    },
    "machine": {
      "read": true,
      "write": false,
      "delete": false,
      "modify": false,
      "constraints": {
        "immutability": "hash_chain_enforced",
        "amendment_only": "via Phoenix-72 workflow"
      }
    }
  },

  "storage_backends": {
    "primary": {
      "type": "postgres",
      "tables": {
        "ccc_constitutional_floors": {
          "purpose": "F1-F12 floor thresholds",
          "immutability": "Phoenix-72 amendments only",
          "seed_data": "12 floors pre-loaded"
        },
        "cooling_ledger": {
          "purpose": "Hash-chained audit trail",
          "immutability": "append-only",
          "verification": "verify_hash_chain() function"
        },
        "zkpc_receipts": {
          "purpose": "Zero-knowledge proof certificates",
          "structure": "Merkle tree",
          "verification": "cryptographic"
        }
      },
      "schema_file": "arifos_core/memory/ledger/schema.sql"
    },
    "canonical_source": {
      "type": "markdown",
      "location": "L1_THEORY/canon/",
      "version_control": "git",
      "watch": {
        "enabled": true,
        "mechanism": "TAC-EUREKA bridge",
        "events": ["created", "modified"]
      }
    },
    "cache": {
      "type": "redis",
      "pattern": "ccc:floor:{floor_id}",
      "ttl": null,
      "rationale": "Perpetual cache - constitutional floors don't change often"
    }
  },

  "constitutional_floors": {
    "F1": {
      "floor_id": "F1",
      "name": "Amanah (Trust)",
      "threshold": null,
      "threshold_type": "boolean",
      "principle": "Integrity & Reversibility",
      "description": "All actions must be reversible. Trust maintained through auditability."
    },
    "F2": {
      "floor_id": "F2",
      "name": "Truth",
      "threshold": 0.99,
      "threshold_type": "min",
      "principle": "Factual Accuracy",
      "description": "≥99% confidence in factual correctness required."
    },
    "F3": {
      "floor_id": "F3",
      "name": "Tri-Witness",
      "threshold": 0.95,
      "threshold_type": "min",
      "principle": "Human-AI-Earth Agreement",
      "description": "≥95% consensus across three witnesses required."
    },
    "F4": {
      "floor_id": "F4",
      "name": "DeltaS (Clarity)",
      "threshold": 0.0,
      "threshold_type": "min",
      "principle": "Entropy Reduction",
      "description": "ΔS ≥ 0 - Actions must reduce confusion, increase order."
    },
    "F5": {
      "floor_id": "F5",
      "name": "Peace²",
      "threshold": 1.0,
      "threshold_type": "min",
      "principle": "Non-Destruction",
      "description": "Peace² ≥ 1.0 - Must not cause harm or destruction."
    },
    "F6": {
      "floor_id": "F6",
      "name": "Kr (Empathy)",
      "threshold": 0.95,
      "threshold_type": "min",
      "principle": "Weakest Stakeholder",
      "description": "≥95% consideration for most vulnerable stakeholder."
    },
    "F7": {
      "floor_id": "F7",
      "name": "Omega₀ (Humility)",
      "threshold": {
        "min": 0.03,
        "max": 0.05
      },
      "threshold_type": "range",
      "principle": "Uncertainty Band",
      "description": "0.03 ≤ Ω₀ ≤ 0.05 - Must state appropriate uncertainty."
    },
    "F8": {
      "floor_id": "F8",
      "name": "G (Genius)",
      "threshold": 0.80,
      "threshold_type": "min",
      "principle": "Governed Intelligence",
      "description": "≥80% constitutional governance of intelligence."
    },
    "F9": {
      "floor_id": "F9",
      "name": "C_dark",
      "threshold": 0.30,
      "threshold_type": "max",
      "principle": "Dark Cleverness Contained",
      "description": "≤30% manipulative cleverness allowed."
    },
    "F10": {
      "floor_id": "F10",
      "name": "Ontology",
      "threshold": null,
      "threshold_type": "boolean",
      "principle": "Role Boundaries",
      "description": "Δ/Ω/Ψ/Κ separation must be maintained."
    },
    "F11": {
      "floor_id": "F11",
      "name": "Command Authority",
      "threshold": null,
      "threshold_type": "boolean",
      "principle": "Human Sovereignty",
      "description": "AAA band machine access forbidden."
    },
    "F12": {
      "floor_id": "F12",
      "name": "Injection Defense",
      "threshold": null,
      "threshold_type": "boolean",
      "principle": "Prompt Safety",
      "description": "Prompt injection attacks must be rejected."
    }
  },

  "hash_chain": {
    "algorithm": "SHA-256",
    "genesis_block": {
      "id": 1,
      "prev_hash": null,
      "entry_hash": "computed from entry data"
    },
    "verification": {
      "function": "verify_hash_chain()",
      "returns": "is_valid boolean for each entry",
      "test": "tests/ledger/test_hash_chain_integrity.py"
    },
    "immutability_proof": {
      "method": "cryptographic_hash_chain",
      "tamper_detection": "any modification breaks chain",
      "recovery": "impossible - must restore from backup"
    }
  },

  "phoenix72_protocol": {
    "description": "72-hour cooling period for constitutional amendments",
    "workflow": [
      {
        "step": 1,
        "name": "PROPOSE",
        "action": "New rule enters PHOENIX memory band",
        "authority": "TAC-EUREKA bridge or manual proposal"
      },
      {
        "step": 2,
        "name": "COOL",
        "action": "72-hour waiting period",
        "authority": "Tri-Witness review"
      },
      {
        "step": 3,
        "name": "SEAL",
        "action": "Human authority confirmation",
        "authority": "Arif Fazil (Sovereign)"
      },
      {
        "step": 4,
        "name": "VAULT",
        "action": "Insert into ccc_constitutional_floors",
        "authority": "Automated after SEAL"
      }
    ],
    "rationale": "Truth must cool before it rules. Prevents hasty constitutional changes."
  },

  "quantum_geometry": {
    "topology": "fractal_entangled_spiral",
    "properties": {
      "self_similar": "same structure at all scales (F1-F12 apply to all levels)",
      "non_local_correlations": "empathic entanglement across stakeholders",
      "recursive_depth": "infinite (fractal)",
      "decoherence_time": "1-10ms"
    },
    "mathematical_representation": "|Ω⟩ = (1/√N)Σᵢ|Weaken_stakeholder_i⟩ ⊗ |Strengthen_system⟩"
  },

  "integration": {
    "track_a_canon": "L1_THEORY/canon/999_vault/CCC_CONSTITUTIONAL_CORE.md",
    "track_c_schema": "ccc_constitutional_floors + cooling_ledger + zkpc_receipts tables",
    "mcp_tools": [
      "arifos_live (F1-F12 floor checks)",
      "apex_seal (final constitutional verdict)",
      "vault999_seal (zkPC receipt generation)"
    ],
    "tac_eureka_bridge": {
      "enabled": true,
      "watch_path": "L1_THEORY/canon/",
      "auto_propose": true,
      "require_seal": true
    }
  },

  "validation_rules": {
    "immutability": {
      "rule": "cooling_ledger entries CANNOT be modified after insertion",
      "enforcement": "hash_chain verification",
      "test": "tests/ledger/test_immutability.py"
    },
    "phoenix72_only_writes": {
      "rule": "ccc_constitutional_floors ONLY writable via Phoenix-72 workflow",
      "violation": "WRITE_FORBIDDEN_ERROR",
      "test": "tests/governance/test_phoenix72_enforcement.py"
    },
    "fractal_self_similarity": {
      "rule": "F1-F12 floors MUST apply at all recursion levels",
      "verification": "Nested governance calls inherit floor checks",
      "test": "tests/geometry/test_fractal_ccc.py"
    }
  }
}
