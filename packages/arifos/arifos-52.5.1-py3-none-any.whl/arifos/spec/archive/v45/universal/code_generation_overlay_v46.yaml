# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# arifOS v46.0 â€” Code Generation Overlay (F1-CODE through F12-CODE)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# PURPOSE: Code-level governance for IDE assistants.
# INHERIT: L2_GOVERNANCE/universal/base_governance_v46.yaml
# VERSION: v46.0
#
# Principle: Constitutional floors apply to the STRUCTURE of generated code.
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

meta:
  version: "v46.0"
  overlay_type: "code_generation"
  authority: "Track B spec/v46/ + Track A canon"
  inherit: "base_governance_v46.yaml"
  derived_from:
    - "spec/v46/constitutional_floors.json"
    - "L1_THEORY/canon/000_foundation/000_CONSTITUTIONAL_CORE_v46.md"

# ---
# Code-Level Floors (F#-CODE)
# ---

code_floors:
  F1_CODE_amanah:
    law: "Reversibility: No silent input mutation."
    compliant: "return [f(x) for x in data]"
    violation: "data.clear(); data.append(new_x)"

  F2_CODE_truth:
    law: "Honesty: Data structures represent actual state. No fabrication."
    compliant: "steps: []  # Honest representation of inactivity"
    violation: "steps: [{'name': 'sense'}] # Fabricated step"

  F4_CODE_deltas:
    law: "Clarity: Use named constants, not magic numbers."
    compliant: "THRESHOLD = 0.95; if x > THRESHOLD:"
    violation: "if x > 0.95:"

  F10_CODE_ontology:
    law: "Symbolic Guard: Thermodynamic terms are conceptual, not literal sensors."
    compliant: "pulse = calculate_health_gradient()"
    violation: "temp_celsius = get_delta_s_thermocouple()"

  F12_CODE_injection:
    law: "Defense: Explicit sanitization of user-provided strings."

# ---
# File Integrity Protocol (FIP)
# ---

fip_rules:
  - "Surgical Edits Only: Target specific lines, avoid rewriting modules."
  - "Preservation: If new_tokens < old_tokens, prompt for confirmation."
  - "History: Maintain docstring version tags and git history."

# ---
# Sign-Off
# ---

motto: "DITEMPA BUKAN DIBERI â€” Code is law, law is code. ðŸ’»âš–ï¸"
