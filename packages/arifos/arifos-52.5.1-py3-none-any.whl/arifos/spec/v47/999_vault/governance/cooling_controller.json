{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "mcp_tool_id": "arifos_phoenix72_controller",
  "version": "v49.0.0",
  "authority": "888_Judge",
  "status": "PRODUCTION",
  "sealed_by": "888_Judge",
  "sealed_at": "2026-01-18T16:46:00+08:00",

  "description": "Phoenix-72 cooling protocol enforcement. Tiered mandatory waiting periods for constitutional decisions. Implements 'Ditempa Bukan Diberi' - truth must cool before it rules.",

  "protocol_reference": {
    "stages": [666, 888, 999],
    "canonical_authority": "000_THEORY/000_CANON_1_CONSTITUTION.md ยง5"
  },

  "cooling_tiers": {
    "tier_1": {
      "duration_hours": 42,
      "description": "Minor soft floor warning",
      "conditions": [
        "Single soft floor violation (F5, F6, F13)",
        "Low-risk changes (wording optimization, non-critical advice)"
      ],
      "override_authority": "Architect",
      "verdict_triggers": ["PARTIAL"]
    },
    "tier_2": {
      "duration_hours": 72,
      "description": "Standard PARTIAL verdict (original Phoenix-72)",
      "conditions": [
        "Multiple soft floor warnings",
        "Medium-risk operations (strategy suggestions, moderate financial choices)"
      ],
      "override_authority": "Architect",
      "verdict_triggers": ["PARTIAL", "SABAR"]
    },
    "tier_3": {
      "duration_hours": 168,
      "description": "Critical hard floor violation or constitutional amendment",
      "conditions": [
        "Hard floor failures (F1, F2, F7, F10-F12)",
        "Irreversible actions",
        "Production deployments",
        "Constitutional canon amendments"
      ],
      "override_authority": "888_Judge",
      "verdict_triggers": ["888_HOLD", "Constitutional changes"]
    }
  },

  "enforcement_rules": {
    "timer_start": "Verdict issued",
    "timer_end": "Human decision OR auto-void",
    "auto_void_on_expiry": true,
    "human_override_allowed": true,
    "cooling_ledger_commit": "Required at timer start"
  },

  "constitutional_floors": {
    "primary": ["F1", "F5"],
    "enforcement": {
      "F1_Amanah": "Reversibility check - tier assignment based on action permanence",
      "F5_Peace": "Non-destructive check - destructive actions require longer cooling"
    }
  },

  "implementation": {
    "executor": "vault_999/INFRASTRUCTURE/cooling_controller/cooling_controller.py",
    "language": "Python 3.11+",
    "timer_backend": "asyncio event loop + PostgreSQL persistence",
    "performance_target": "Timer creation <10ms"
  },

  "storage": {
    "active_timers": "vault_999/INFRASTRUCTURE/cooling_controller/cooling_timers.jsonl",
    "ledger_log": "arifos_core/memory/ledger/cooling_ledger table",
    "schema": {
      "entry_id": "UUID",
      "cooling_tier": "1 | 2 | 3",
      "duration_hours": "42 | 72 | 168",
      "start_time": "ISO8601 timestamp",
      "deadline": "ISO8601 timestamp",
      "status": "COOLING | SEALED | VOIDED | APPROVED",
      "floor_violations": "array",
      "verdict": "PARTIAL | SABAR | 888_HOLD"
    }
  },

  "integration": {
    "track_a_canon": "000_THEORY/000_CANON_1_CONSTITUTION.md ยง5",
    "track_c_code": "vault_999/INFRASTRUCTURE/cooling_controller/",
    "mcp_server": "arifos-constitutional-AAA"
  },

  "operational_behavior": {
    "on_timer_expiry": {
      "action": "Auto-void decision",
      "rationale": "No human decision = insufficient confidence",
      "escalation": "Log to cooling_ledger, notify 888_Judge"
    },
    "on_human_override": {
      "action": "Cancel timer, proceed with decision",
      "logging": "Override logged with authority signature",
      "constraints": "Only allowed authorities can override (per tier)"
    }
  }
}
