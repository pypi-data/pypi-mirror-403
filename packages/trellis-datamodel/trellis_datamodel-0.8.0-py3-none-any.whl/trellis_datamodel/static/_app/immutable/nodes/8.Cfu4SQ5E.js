import{d as Pt,f as l,a as s,c as X,t as Qt}from"../chunks/CjZGm4I-.js";import{y as kt,z as L,A as yt,B as wt,C as e,F as w,G as Yt,H as t,I as r,J as $t,K as Ne,w as N,L as i,x as b,M as R,f as Zt,$ as er}from"../chunks/QnYduk6G.js";import{p as Et,a as fe,i as m,b as Ft,c as ne}from"../chunks/DjhwXl_d.js";import{r as tr,s as xe,a as rr,b as Se,c as Ie,d as Ae,h as ar}from"../chunks/9BfctgED.js";import{e as Be,v as zt,a as He,b as Ve,f as sr,t as or,n as nr,c as lr}from"../chunks/CX-jWEeK.js";import{g as Mt,I as B,e as J,i as K,a as ir,b as dr}from"../chunks/CfnWWzkx.js";import{s as F}from"../chunks/B9JYo02m.js";import{b as vr}from"../chunks/6fX-1bKn.js";import{n as cr}from"../chunks/NVXBPEyd.js";var ur=l('<div class="flex items-center justify-center h-full"><div class="text-center"><!> <p class="text-sm text-gray-600">Loading exposures...</p></div></div>'),pr=l('<div class="flex items-center justify-center h-full"><div class="bg-white/90 backdrop-blur-sm p-8 rounded-xl border border-red-200 shadow-xl text-center max-w-md mx-4"><div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"><!></div> <h3 class="text-xl font-bold text-slate-800 mb-2">Error Loading Exposures</h3> <p class="text-slate-600 mb-4"> </p></div></div>'),fr=l(`<div class="flex items-center justify-center h-full"><div class="bg-white/90 backdrop-blur-sm p-8 rounded-xl border border-amber-200 shadow-xl text-center max-w-md mx-4"><div class="w-16 h-16 bg-amber-50 rounded-full flex items-center justify-center mx-auto mb-4"><!></div> <h3 class="text-xl font-bold text-slate-800 mb-2">No Exposures Found</h3> <p class="text-slate-600 mb-4">Create an <code class="bg-amber-50 px-2 py-1 rounded text-sm">exposures.yml</code> file in your dbt project to define downstream usage of your data model.</p> <div class="bg-amber-50 border border-amber-200 rounded p-3 text-xs text-amber-800 text-left mt-4"><strong class="block mb-1">Example structure:</strong> <pre class="text-[10px] overflow-x-auto"><code>exposures:
  - name: my_dashboard
    label: My Dashboard
    type: dashboard
    description: Main business dashboard
    owner:
      name: analytics-team
    depends_on:
      - ref('my_model')</code></pre></div></div></div>`),xr=l("<option> </option>"),mr=l('<span class="inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs"> <button class="hover:text-primary-900"><!></button></span>'),_r=l("<option> </option>"),gr=l('<span class="inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs"> <button class="hover:text-primary-900"><!></button></span>'),br=l('<span class="inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs"> <button class="hover:text-primary-900"><!></button></span>'),hr=l('<button class="text-xs text-gray-600 hover:text-gray-800 underline">Clear exposure filters</button>'),yr=l('<span class="text-gray-700 font-medium"> </span>'),wr=l('<span class="text-gray-700 font-medium"><!> </span>'),Er=l('<div class="mt-3 pt-3 border-t border-gray-200"><div class="flex items-center gap-2 text-xs text-gray-600"><!> <span>Entity filters active:</span> <!> <!></div></div>'),kr=l('<div class="h-20 flex items-end"><div class="origin-bottom-right -rotate-45 whitespace-nowrap flex items-center gap-1.5"><!> <span> </span></div></div>'),$r=l('<div class="flex items-center gap-2"><!> <span> </span></div>'),Fr=l('<div class="text-[10px] font-normal text-gray-500 mt-1"> </div>'),zr=l("<th><!> <!></th>"),Mr=l('<tr><td class="px-4 py-8 text-center text-sm text-gray-500">No entities match the current filters.</td></tr>'),Lr=l('<tr><td colspan="2" class="px-4 py-8 text-center text-sm text-gray-500">No exposures match the current filters.</td></tr>'),Cr=l('<span class="text-green-600 font-semibold">✓</span>'),Dr=l('<span class="text-gray-300">—</span>'),Tr=l('<td class="px-4 py-3 text-sm text-center"><!></td>'),jr=l('<tr class="hover:bg-gray-50 transition-colors"><td class="px-4 py-3 text-sm font-medium text-gray-900 bg-white sticky left-0 z-10 border-r border-gray-200"><div class="truncate"> </div></td><!></tr>'),Or=l('<thead class="bg-gray-50 sticky top-0 z-10"><tr><th class="px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider bg-gray-50 sticky left-0 z-20 border-r border-gray-200 relative"><div class="flex items-center justify-between"><span>Entity</span> <button class="absolute right-0 top-0 h-full w-1 cursor-col-resize hover:bg-primary-500 hover:w-1.5 transition-all" title="Drag to resize column" type="button"></button></div></th><!></tr></thead> <tbody class="bg-white divide-y divide-gray-200"><!></tbody>',1),Rr=l("<th><span> </span></th>"),Nr=l('<tr><td colspan="2" class="px-4 py-8 text-center text-sm text-gray-500">No exposures match the current filters.</td></tr>'),Sr=l('<tr><td class="px-4 py-8 text-center text-sm text-gray-500">No entities match the current filters.</td></tr>'),Ir=l('<div class="text-[10px] font-normal text-gray-500 mt-1 truncate"> </div>'),Ar=l('<span class="text-green-600 font-semibold">✓</span>'),Br=l('<span class="text-gray-300">—</span>'),Hr=l('<td class="px-4 py-3 text-sm text-center"><!></td>'),Vr=l('<tr class="hover:bg-gray-50 transition-colors"><td class="px-4 py-3 text-sm font-medium text-gray-900 bg-white sticky left-0 z-10 border-r border-gray-200"><div><div class="flex items-center gap-2 truncate"><!> <span class="truncate"> </span></div> <!></div></td><!></tr>'),Ur=l('<thead class="bg-gray-50 sticky top-0 z-10"><tr><th class="px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider bg-gray-50 sticky left-0 z-20 border-r border-gray-200 relative"><div class="flex items-center justify-between"><span>Dashboard</span> <button class="absolute right-0 top-0 h-full w-1 cursor-col-resize hover:bg-primary-500 hover:w-1.5 transition-all" title="Drag to resize column" type="button"></button></div></th><!></tr></thead> <tbody class="bg-white divide-y divide-gray-200"><!></tbody>',1),Wr=l('<div class="p-6"><div class="bg-white rounded-lg border border-gray-200 shadow-sm p-4 mb-4"><div class="flex flex-wrap items-center gap-4"><div class="flex items-center gap-2"><!> <span class="text-sm font-medium text-gray-700">Filters:</span></div> <div class="flex items-center gap-2"><label for="exposure-type-filter" class="text-xs text-gray-600">Type:</label> <select id="exposure-type-filter" class="text-xs border border-gray-300 rounded px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-primary-500"><option>Select type...</option><!></select> <!></div> <div class="flex items-center gap-2"><label for="exposure-owner-filter" class="text-xs text-gray-600">Owner:</label> <select id="exposure-owner-filter" class="text-xs border border-gray-300 rounded px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-primary-500"><option>Select owner...</option><!></select> <!></div> <!> <!> <div class="flex items-center gap-2 ml-auto"><button class="px-3 py-1.5 text-xs rounded font-medium text-gray-600 bg-white border border-gray-300 hover:bg-gray-50 transition-colors flex items-center gap-1.5"><!> </button> <label class="flex items-center gap-2 text-xs text-gray-600 select-none cursor-pointer"><input type="checkbox" class="rounded border-gray-300 text-primary-600 focus:ring-primary-500"/> Auto-fit columns</label></div></div> <!></div> <div class="bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden"><div class="overflow-x-auto overflow-y-auto max-h-[calc(100vh-10rem)]"><table class="min-w-full divide-y divide-gray-200"><!></table></div></div></div>'),Gr=l('<div class="h-full w-full overflow-auto bg-gray-50"><!></div>');function Jr(Ue,ke){kt(ke,!0);const nt=()=>fe(nr,"$nodes",P),le=()=>fe(Be,"$exposureEntityFilter",P),H=()=>fe(sr,"$folderFilter",P),S=()=>fe(or,"$tagFilter",P),V=()=>fe(He,"$exposureTypeFilter",P),I=()=>fe(Ve,"$exposureOwnerFilter",P),me=()=>fe(zt,"$viewMode",P),[P,We]=Ft();Et(ke,"exposuresEnabled",3,!0);let Te=Et(ke,"exposuresDefaultLayout",3,"dashboards-as-rows"),E=L(yt([])),U=L(yt({})),ie=L(!0),_e=L(null),de=L(!0),$e=L(0),ge=L(null),re=L(Te()==="dashboards-as-rows"),lt=L(!1),C=L(240),it=L(!1);wt(()=>{if(!e(lt)){const a=Te()==="dashboards-as-rows";e(re)!==a&&w(re,a)}});let ae=R(()=>nt().filter(a=>a.type!=="group").map(a=>{const d=a.data;return{id:a.id,label:(d?.label||"").trim()||"Entity",folder:d?.folder,tags:cr(d?.tags)}}).filter(a=>{if(le()!==null&&a.id!==le())return!1;if(H().length>0){const d=a.folder;if(!d||!H().includes(d))return!1}if(S().length>0){const d=a.tags;if(!S().some(ce=>d.includes(ce)))return!1}return!0}).map(a=>({id:a.id,label:a.label})).sort((a,d)=>a.label.localeCompare(d.label))),ve=R(()=>e(E).filter(a=>{if(V().length>0){const d=a.type?.toLowerCase()||"";if(!d||!V().includes(d))return!1}if(I().length>0){const d=a.owner?.name||"";if(!d||!I().includes(d))return!1}return!0})),Fe=R(()=>{if(!e(de))return"normal";const a=e(re)?e(ae).length:e(ve).length;if(e($e)<=0)return a>=40?"angled":a>=20?"narrow":"normal";const d=Math.max(e($e)-e(C),0),T=Q=>Q>0?Math.floor(d/Q):0,ce=T(150),Xe=T(120);return a<=ce?"normal":a<=Xe?"narrow":"angled"}),dt=R(()=>()=>{switch(e(Fe)){case"angled":return"px-2 py-2 text-left text-[11px] font-semibold text-gray-700 uppercase tracking-wider bg-gray-50 min-w-[96px] align-bottom";case"narrow":return"px-2 py-2 text-left text-[11px] font-semibold text-gray-700 uppercase tracking-wider bg-gray-50 min-w-[120px]";default:return"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider bg-gray-50 min-w-[150px]"}}),Ge=R(()=>()=>e(Fe)==="normal"?"w-4 h-4":"w-3.5 h-3.5"),Lt=R(()=>Array.from(new Set(e(E).map(a=>a.type).filter(Boolean))).sort()),Ct=R(()=>Array.from(new Set(e(E).map(a=>a.owner?.name).filter(Boolean))).sort());function Je(a){switch(a?.toLowerCase()){case"dashboard":return"mdi:view-dashboard";case"notebook":return"mdi:notebook";case"application":return"mdi:application";case"analysis":return"mdi:chart-line";default:return"mdi:file-document"}}async function vt(){if(me()==="exposures"){w(ie,!0),w(_e,null);try{const a=await Mt();w(E,a.exposures,!0),w(U,a.entityUsage,!0)}catch(a){w(_e,a instanceof Error?a.message:"Failed to load exposures",!0),console.error("Error loading exposures:",a)}finally{w(ie,!1)}}}function ct(a){a.preventDefault(),w(it,!0),document.addEventListener("mousemove",ut),document.addEventListener("mouseup",pt)}function ut(a){if(!e(ge))return;const d=e(ge).getBoundingClientRect(),T=a.clientX-d.left;w(C,Math.max(100,Math.min(600,T)),!0)}function pt(){w(it,!1),document.removeEventListener("mousemove",ut),document.removeEventListener("mouseup",pt)}wt(()=>{me()==="exposures"?vt():Be.set(null)}),Yt(()=>{if(me()==="exposures"&&vt(),typeof ResizeObserver<"u"){const a=new ResizeObserver(d=>{const T=d[0];T&&w($e,Math.round(T.contentRect.width),!0)});return e(ge)&&a.observe(e(ge)),()=>{a.disconnect()}}});var Ke=Gr(),Dt=t(Ke);{var Tt=a=>{var d=ur(),T=t(d),ce=t(T);B(ce,{icon:"lucide:loader-2",class:"w-8 h-8 animate-spin text-primary-600 mx-auto mb-2"}),Ne(2),r(T),r(d),s(a,d)},jt=a=>{var d=X(),T=N(d);{var ce=Q=>{var be=pr(),je=t(be),ze=t(je),qe=t(ze);B(qe,{icon:"lucide:alert-circle",class:"w-8 h-8 text-red-500"}),r(ze);var Y=i(ze,4),Z=t(Y,!0);r(Y),r(je),r(be),b(()=>F(Z,e(_e))),s(Q,be)},Xe=Q=>{var be=X(),je=N(be);{var ze=Y=>{var Z=fr(),he=t(Z),ye=t(he),Me=t(ye);B(Me,{icon:"mdi:file-document-outline",class:"w-8 h-8 text-amber-600"}),r(ye),Ne(6),r(he),r(Z),s(Y,Z)},qe=Y=>{var Z=Wr(),he=t(Z),ye=t(he),Me=t(ye),Ot=t(Me);B(Ot,{icon:"lucide:filter",class:"w-4 h-4 text-gray-500"}),Ne(2),r(Me);var Pe=i(Me,2),Oe=i(t(Pe),2);Oe.__change=n=>{const o=n.target.value;o&&(V().includes(o)||ne(He,[...V(),o]),n.target.value="")};var Qe=t(Oe);Qe.value=Qe.__value="";var Rt=i(Qe);J(Rt,17,()=>e(Lt),K,(n,o)=>{var c=X(),_=N(c);{var u=x=>{var p=xr(),j=t(p,!0);r(p);var g={};b(()=>{F(j,e(o)),g!==(g=e(o))&&(p.value=(p.__value=e(o))??"")}),s(x,p)};m(_,x=>{e(o)&&!V().includes(e(o))&&x(u)})}s(n,c)}),r(Oe);var Nt=i(Oe,2);J(Nt,1,V,K,(n,o)=>{var c=mr(),_=t(c),u=i(_);u.__click=()=>{ne(He,V().filter(p=>p!==e(o)))};var x=t(u);B(x,{icon:"lucide:x",class:"w-3 h-3"}),r(u),r(c),b(()=>F(_,`${e(o)??""} `)),s(n,c)}),r(Pe);var Ye=i(Pe,2),Re=i(t(Ye),2);Re.__change=n=>{const o=n.target.value;o&&(I().includes(o)||ne(Ve,[...I(),o]),n.target.value="")};var Ze=t(Re);Ze.value=Ze.__value="";var St=i(Ze);J(St,17,()=>e(Ct),K,(n,o)=>{var c=X(),_=N(c);{var u=x=>{var p=_r(),j=t(p,!0);r(p);var g={};b(()=>{F(j,e(o)),g!==(g=e(o))&&(p.value=(p.__value=e(o))??"")}),s(x,p)};m(_,x=>{e(o)&&!I().includes(e(o))&&x(u)})}s(n,c)}),r(Re);var It=i(Re,2);J(It,1,I,K,(n,o)=>{var c=gr(),_=t(c),u=i(_);u.__click=()=>{ne(Ve,I().filter(p=>p!==e(o)))};var x=t(u);B(x,{icon:"lucide:x",class:"w-3 h-3"}),r(u),r(c),b(()=>F(_,`${e(o)??""} `)),s(n,c)}),r(Ye);var ft=i(Ye,2);{var At=n=>{var o=X(),c=N(o);J(c,17,()=>e(ae).filter(_=>_.id===le()),K,(_,u)=>{var x=br(),p=t(x),j=i(p);j.__click=()=>{Be.set(null)};var g=t(j);B(g,{icon:"lucide:x",class:"w-3 h-3"}),r(j),r(x),b(()=>F(p,`Entity: ${e(u).label??""} `)),s(_,x)}),s(n,o)};m(ft,n=>{le()!==null&&n(At)})}var xt=i(ft,2);{var Bt=n=>{var o=hr();o.__click=()=>{ne(He,[]),ne(Ve,[]),Be.set(null)},s(n,o)};m(xt,n=>{(V().length>0||I().length>0||le()!==null)&&n(Bt)})}var mt=i(xt,2),Le=t(mt);Le.__click=()=>{w(re,!e(re)),w(lt,!0)};var _t=t(Le);B(_t,{icon:"lucide:rotate-cw",class:"w-3.5 h-3.5"});var Ht=i(_t);r(Le);var gt=i(Le,2),et=t(gt);tr(et),et.__change=n=>w(de,n.target.checked,!0),Ne(),r(gt),r(mt),r(ye);var Vt=i(ye,2);{var Ut=n=>{var o=Er(),c=t(o),_=t(c);B(_,{icon:"lucide:info",class:"w-3 h-3"});var u=i(_,4);{var x=g=>{var W=yr(),se=t(W);r(W),b(()=>F(se,`${H().length??""} folder${H().length===1?"":"s"}`)),s(g,W)};m(u,g=>{H().length>0&&g(x)})}var p=i(u,2);{var j=g=>{var W=wr(),se=t(W);{var Ce=v=>{var y=Qt(",");s(v,y)};m(se,v=>{H().length>0&&v(Ce)})}var h=i(se);r(W),b(()=>F(h,` ${S().length??""} tag${S().length===1?"":"s"}`)),s(g,W)};m(p,g=>{S().length>0&&g(j)})}r(c),r(o),s(n,o)};m(Vt,n=>{(H().length>0||S().length>0)&&n(Ut)})}r(he);var bt=i(he,2),tt=t(bt),ht=t(tt),Wt=t(ht);{var Gt=n=>{var o=Or(),c=N(o),_=t(c),u=t(_),x=t(u),p=i(t(x),2);p.__mousedown=ct,r(x),r(u);var j=i(u);J(j,17,()=>e(ve),K,(h,v)=>{var y=zr(),A=t(y);{var ue=k=>{var f=kr(),M=t(f),$=t(M);{let oe=R(()=>Je(e(v).type)),we=R(()=>`${e(Ge)} text-gray-500`);B($,{get icon(){return e(oe)},get class(){return e(we)}})}var G=i($,2),q=t(G,!0);r(G),r(M),r(f),b(()=>F(q,e(v).label||e(v).name)),s(k,f)},z=k=>{var f=$r(),M=t(f);{let q=R(()=>Je(e(v).type)),oe=R(()=>`${e(Ge)} text-gray-500`);B(M,{get icon(){return e(q)},get class(){return e(oe)}})}var $=i(M,2),G=t($,!0);r($),r(f),b(()=>{Se($,1,Ie(e(Fe)==="narrow"?"truncate max-w-[9rem]":"")),F(G,e(v).label||e(v).name)}),s(k,f)};m(A,k=>{e(Fe)==="angled"?k(ue):k(z,!1)})}var O=i(A,2);{var pe=k=>{var f=Fr(),M=t(f);r(f),b(()=>F(M,`Owner: ${e(v).owner.name??""}`)),s(k,f)};m(O,k=>{e(v).owner?.name&&k(pe)})}r(y),b(()=>{Se(y,1,Ie(e(dt))),xe(y,"title",e(v).description||e(v).name)}),s(h,y)}),r(_),r(c);var g=i(c,2),W=t(g);{var se=h=>{var v=Mr(),y=t(v);r(v),b(A=>xe(y,"colspan",A),[()=>Math.max(e(ve).length,1)+1]),s(h,v)},Ce=h=>{var v=X(),y=N(v);{var A=z=>{var O=Lr();s(z,O)},ue=z=>{var O=X(),pe=N(O);J(pe,17,()=>e(ae),K,(k,f)=>{var M=jr(),$=t(M),G=t($),q=t(G,!0);r(G),r($);var oe=i($);J(oe,17,()=>e(ve),K,(we,rt)=>{var De=Tr(),at=t(De);{var st=D=>{var te=Cr();s(D,te)},ee=D=>{var te=Dr();s(D,te)};m(at,D=>{e(U)[e(f).id]?.includes(e(rt).name)?D(st):D(ee,!1)})}r(De),s(we,De)}),r(M),b(()=>{Ae($,`width: ${e(C)}px; min-width: ${e(C)}px; max-width: ${e(C)}px;`),xe(G,"title",e(f).label),F(q,e(f).label)}),s(k,M)}),s(z,O)};m(y,z=>{e(ve).length===0?z(A):z(ue,!1)},!0)}s(h,v)};m(W,h=>{e(ae).length===0?h(se):h(Ce,!1)})}r(g),b(()=>Ae(u,`width: ${e(C)}px; min-width: ${e(C)}px; max-width: ${e(C)}px;`)),s(n,o)},Jt=n=>{var o=Ur(),c=N(o),_=t(c),u=t(_),x=t(u),p=i(t(x),2);p.__mousedown=ct,r(x),r(u);var j=i(u);J(j,17,()=>e(ae),K,(h,v)=>{var y=Rr(),A=t(y),ue=t(A,!0);r(A),r(y),b(()=>{Se(y,1,Ie(e(dt))),xe(y,"title",e(v).label),Se(A,1,Ie(e(Fe)==="narrow"?"truncate max-w-[9rem]":"")),F(ue,e(v).label)}),s(h,y)}),r(_),r(c);var g=i(c,2),W=t(g);{var se=h=>{var v=Nr();s(h,v)},Ce=h=>{var v=X(),y=N(v);{var A=z=>{var O=Sr(),pe=t(O);r(O),b(k=>xe(pe,"colspan",k),[()=>Math.max(e(ae).length,1)+1]),s(z,O)},ue=z=>{var O=X(),pe=N(O);J(pe,17,()=>e(ve),K,(k,f)=>{var M=Vr(),$=t(M),G=t($),q=t(G),oe=t(q);{let ee=R(()=>Je(e(f).type)),D=R(()=>`${e(Ge)} text-gray-500 flex-shrink-0`);B(oe,{get icon(){return e(ee)},get class(){return e(D)}})}var we=i(oe,2),rt=t(we,!0);r(we),r(q);var De=i(q,2);{var at=ee=>{var D=Ir(),te=t(D);r(D),b(()=>F(te,`Owner: ${e(f).owner.name??""}`)),s(ee,D)};m(De,ee=>{e(f).owner?.name&&ee(at)})}r(G),r($);var st=i($);J(st,17,()=>e(ae),K,(ee,D)=>{var te=Hr(),Kt=t(te);{var Xt=Ee=>{var ot=Ar();s(Ee,ot)},qt=Ee=>{var ot=Br();s(Ee,ot)};m(Kt,Ee=>{e(U)[e(D).id]?.includes(e(f).name)?Ee(Xt):Ee(qt,!1)})}r(te),s(ee,te)}),r(M),b(()=>{Ae($,`width: ${e(C)}px; min-width: ${e(C)}px; max-width: ${e(C)}px;`),xe(q,"title",e(f).label||e(f).name),F(rt,e(f).label||e(f).name)}),s(k,M)}),s(z,O)};m(y,z=>{e(ae).length===0?z(A):z(ue,!1)},!0)}s(h,v)};m(W,h=>{e(ve).length===0?h(se):h(Ce,!1)})}r(g),b(()=>Ae(u,`width: ${e(C)}px; min-width: ${e(C)}px; max-width: ${e(C)}px;`)),s(n,o)};m(Wt,n=>{e(re)?n(Jt,!1):n(Gt)})}r(ht),r(tt),vr(tt,n=>w(ge,n),()=>e(ge)),r(bt),r(Z),b(()=>{xe(Le,"title",e(re)?"Switch to entities as rows":"Switch to dashboards as rows"),F(Ht,` ${e(re)?"Entities as rows":"Dashboards as rows"}`),rr(et,e(de))}),s(Y,Z)};m(je,Y=>{e(E).length===0?Y(ze):Y(qe,!1)},!0)}s(Q,be)};m(T,Q=>{e(_e)?Q(ce):Q(Xe,!1)},!0)}s(a,d)};m(Dt,a=>{e(ie)?a(Tt):a(jt,!1)})}r(Ke),s(Ue,Ke),$t(),We()}Pt(["change","click","mousedown"]);var Kr=l('<meta name="description" content="Exposures view - visualize your dbt exposures and downstream data products"/>'),Xr=l('<div class="flex items-center justify-center h-full text-gray-500"><p>Exposures view is not available.</p></div>');function sa(Ue,ke){kt(ke,!0);const[nt,le]=Ft();let H=L(!0),S=L(!1),V=L("dashboards-as-rows"),I=L(!1);(async()=>{try{const E=await ir();ne(lr,E);const U=await dr();if(w(S,U?.exposures_enabled??!1,!0),w(V,U?.exposures_default_layout??"dashboards-as-rows",!0),e(S)){const ie=await Mt();w(I,ie.exposures.length>0)}e(S)&&e(I)?ne(zt,"exposures"):window.location.href="/canvas"}catch(E){console.error("Failed to load exposures:",E),window.location.href="/canvas"}finally{w(H,!1)}})();var me=X();ar("1ndvsvw",E=>{var U=Kr();Zt(()=>{er.title="trellis - Exposures"}),s(E,U)});var P=N(me);{var We=E=>{Jr(E,{get exposuresEnabled(){return e(S)},get exposuresDefaultLayout(){return e(V)}})},Te=E=>{var U=X(),ie=N(U);{var _e=de=>{var $e=Xr();s(de,$e)};m(ie,de=>{e(H)||de(_e)},!0)}s(E,U)};m(P,E=>{!e(H)&&e(S)&&e(I)?E(We):E(Te,!1)})}s(Ue,me),$t(),le()}export{sa as component};
