[workspace]
resolver = "2"
members = ["crates/polydup-py"]

[workspace.package]
version = "0.9.3"
edition = "2021"
authors = ["PolyDup Contributors"]
license = "MIT OR Apache-2.0"

[workspace.dependencies]
# Core dependencies
tree-sitter = "0.20"
tree-sitter-javascript = "0.20"
tree-sitter-python = "0.20"
tree-sitter-rust = "0.20"
rayon = "1.8"
dashmap = "5.5"
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
anyhow = "1.0"
thiserror = "1.0"
ignore = "=0.4.23"  # Pin to avoid edition2024 requirement in 0.4.25+
globset = "=0.4.15"  # Pin to avoid edition2024 requirement in 0.4.18+

# Testing
proptest = "1.4"
insta = { version = "1.34", features = ["json", "redactions"] }

# FFI bindings
napi = "2.16"
napi-derive = "2.16"
pyo3 = { version = "0.22", features = ["extension-module"] }

# CLI
clap = { version = "4.5", features = ["derive"] }
tokio = { version = "1.35", features = ["full"] }
toml = "0.8"
dialoguer = "0.11"
colored = "2.1"
indicatif = "0.17"
atty = "0.2"

# Local crates
polydup-core = { version = "0.9.0", path = "crates/polydup-core" }
