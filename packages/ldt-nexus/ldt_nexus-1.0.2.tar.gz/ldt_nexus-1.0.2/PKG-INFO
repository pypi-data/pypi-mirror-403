Metadata-Version: 2.4
Name: ldt-nexus
Version: 1.0.2
Summary: Reactive data-tree management with pathlib-hybrid interface
Author: SnayperTihCreator
Requires-Python: >=3.11
Requires-Dist: attrs>=23.1.0
Provides-Extra: all
Requires-Dist: json5>=0.9.14; extra == 'all'
Requires-Dist: pyyaml>=6.0; extra == 'all'
Requires-Dist: toml>=0.10.2; extra == 'all'
Provides-Extra: json5
Requires-Dist: json5>=0.9.14; extra == 'json5'
Provides-Extra: toml
Requires-Dist: toml>=0.10.2; extra == 'toml'
Provides-Extra: yaml
Requires-Dist: pyyaml>=6.0; extra == 'yaml'
Description-Content-Type: text/markdown

# üìÇ LDT Nexus

**LDT Nexus** ‚Äî —ç—Ç–æ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –û–Ω –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –æ–±—ã—á–Ω—ã–µ JSON/YAML —Ñ–∞–π–ª—ã –≤ —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–µ—Ä–µ–≤—å—è –¥–∞–Ω–Ω—ã—Ö —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º `pathlib`.

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
* **Dot-Notation**: –ó–∞–±—É–¥—å—Ç–µ –æ `data["ui"]["theme"]["color"]`. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `config.value("ui.theme.color")`.
* **NexusFields**: –û–ø–∏—Å—ã–≤–∞–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ. –í–∞—à–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–∞–º–∏ –∑–Ω–∞—é—Ç, –∫–∞–∫ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –∏ —É–≤–µ–¥–æ–º–ª—è—Ç—å –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö.
* **Type-Safe**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ (`Path`, `datetime`, `QColor` –∏ –≤–∞—à–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã).
* **Zero-Dependency Core**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä. –í–Ω–µ—à–Ω–∏–µ –¥—Ä–∞–π–≤–µ—Ä—ã (YAML, TOML) –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è (—Ç–æ–ª—å–∫–æ JSON)
uv add ldt-nexus

# –ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è (YAML, TOML, JSON5)
uv add ldt-nexus --extra all

```

---

## üöÄ –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

### 1. –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è –º–æ–¥–µ–ª—å (–†–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)

–°–∞–º—ã–π —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç—ã ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞-–º–æ–¥–µ–ª–∏.

```python
from ldt import NexusStore, NexusField, JsonDriver

class AppSettings(NexusStore):
    # –ü–æ–ª—è —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
    theme = NexusField("ui.theme", default="dark")
    volume = NexusField("audio.max_volume", default=80)
    last_file = NexusField("system.history.last_opened")

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
cfg = AppSettings("config.json", driver=JsonDriver())

# –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—è
AppSettings.theme.connect(cfg, lambda val: print(f"–¢–µ–º–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞: {val}"))

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–ø–∏—Å—å –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
cfg.theme = "light"  # –í –∫–æ–Ω—Å–æ–ª–∏: "–¢–µ–º–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞: light"
cfg.sync()           # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ –¥–∏—Å–∫

```

### 2. –†–∞–±–æ—Ç–∞ —Å –≥—Ä—É–ø–ø–∞–º–∏ (—Å—Ç–∏–ª—å QSettings)

–ï—Å–ª–∏ –≤—ã –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ —Å Qt, –≤–∞–º –±—É–¥–µ—Ç –ø—Ä–∏–≤—ã—á–µ–Ω —ç—Ç–æ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:

```python
with cfg.group_context("database"):
    cfg.setValue("host", "localhost")
    cfg.setValue("port", 5432)
    
# –ó–Ω–∞—á–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –ø–æ –ø—É—Ç–∏ "database.host"
print(cfg.value("database.host")) 

```

### 3. –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã

–ù–∞—É—á–∏—Ç–µ Nexus —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≤–∞—à–∏–º–∏ –∫–ª–∞—Å—Å–∞–º–∏.

```python
from ldt import LDT
from dataclasses import dataclass

@dataclass
class User:
    name: str
    role: str

@LDT.serializer(User)
def ser_user(u: User):
    return {"name": u.name, "role": u.role}

@LDT.deserializer(User)
def deser_user(data):
    return User(name=data["name"], role=data["role"])

# –¢–µ–ø–µ—Ä—å Nexus –ø–æ–Ω–∏–º–∞–µ—Ç —ç—Ç–æ—Ç —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö
cfg.setValue("current_user", User("Admin", "root"))
user = cfg.value("current_user", type_cls=User)

```

### 4. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ (Bulk Update)

–ß—Ç–æ–±—ã –Ω–µ —Å–ø–∞–º–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –ø—Ä–∏ –º–∞—Å—Å–æ–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:

```python
with cfg.blockSignals():
    for i in range(100):
        cfg.setValue(f"item_{i}", i)
# –°–∏–≥–Ω–∞–ª—ã —Å—Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ –∏–∑ –±–ª–æ–∫–∞, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ

```

---

## üõ† –í—ã–±–æ—Ä –¥—Ä–∞–π–≤–µ—Ä–∞ (Optional Dependencies)

LDT Nexus –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –¥—Ä–∞–π–≤–µ—Ä–æ–≤:

```python
from ldt.io_drives.drivers import JsonDriver, YamlDriver, TomlDriver

# –î–ª—è YAML (—Ç—Ä–µ–±—É–µ—Ç—Å—è ldt-nexus[yaml])
cfg_yaml = NexusStore("config.yaml", driver=YamlDriver())

# –î–ª—è TOML (—Ç—Ä–µ–±—É–µ—Ç—Å—è ldt-nexus[toml])
cfg_toml = NexusStore("config.toml", driver=TomlDriver())

```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

–ë–ª–∞–≥–æ–¥–∞—Ä—è `PathProtocol`, –≤—ã –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –∫–æ–Ω—Ñ–∏–≥–∏, –∏—Å–ø–æ–ª—å–∑—É—è `tmp_path` –≤ `pytest`:

```python
def test_settings(tmp_path):
    path = tmp_path / "test.json"
    cfg = AppSettings(path, driver=JsonDriver())
    cfg.theme = "blue"
    cfg.sync()
    assert path.exists()

```

---

## üèó –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

* `ldt.core`: –Ø–¥—Ä–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ—Ä–µ–≤—å–µ–≤ –¥–∞–Ω–Ω—ã—Ö.
* `ldt.fields`: –†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã.
* `ldt.io.store`: –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.
* `ldt.io.drivers`: –°–º–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

---

## ‚öñÔ∏è –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
