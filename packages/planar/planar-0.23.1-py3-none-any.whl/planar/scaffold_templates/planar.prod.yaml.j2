db_connections:
  app:
    driver: postgresql+asyncpg
    host: ${DB_HOST}
    port: ${DB_PORT}
    user: ${DB_USER}
    password: ${DB_PASSWORD}
    db: ${DB_NAME}

app:
  db_connection: app

storage:
  backend: s3
  region: us-west-2
  bucket_name: ${S3_BUCKET_NAME}

sse_hub: true

security:
  cors:
    allow_origins: ["https://app.coplane.com"]
    allow_credentials: true
    allow_methods: ["*"]
    allow_headers: ["*"]
  jwt:
    client_id: ${WORKOS_CLIENT_ID}
    org_id: ${WORKOS_ORG_ID}

ai_models:
  default: default_model
  providers:
    openai:
      factory: openai_responses
      options:
        api_key_env: OPENAI_API_KEY
    # azure_llm:
    #   factory: azure_openai_responses
    #   options:
    #     endpoint_env: PROD_AZURE_OPENAI_ENDPOINT
    #     deployment_env: PROD_AZURE_OPENAI_DEPLOYMENT
    #     # Optional: omit to use DefaultAzureCredential
    #     static_api_key: PROD_AZURE_OPENAI_KEY
  models:
    default_model:
      provider: openai
      model: gpt-4o
    # Example named model override used by ConfiguredModelKey("invoice_model")
    # invoice_model:
    #   provider: openai
    #   model: ${PROD_INVOICE_MODEL_ID}
    # azure_invoice_model:
    #   provider: azure_llm
    #   deployment_env: PROD_AZURE_OPENAI_DEPLOYMENT

# Uncomment to enable data features with Ducklake
# data:
#   catalog:
#     type: postgres
#     host: ${DB_HOST}
#     port: ${DB_PORT}
#     user: ${DB_USER}
#     password: ${DB_PASSWORD}
#     db: ducklake_catalog
#   storage:
#     backend: s3
#     region: us-west-2
#     bucket_name: ${S3_DATA_BUCKET}
