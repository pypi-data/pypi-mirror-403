# ═══════════════════════════════════════════════════════════════════════════════
# EMDASH CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════
#
# CONFIGURATION FILE LOCATIONS (in load order):
#
#   1. ~/.emdash/.env           - Global user defaults (API keys, preferences)
#      (or $XDG_CONFIG_HOME/emdash/.env on Linux)
#
#   2. <project>/.env           - Project-specific settings (overrides global)
#      (searches up to 5 parent directories)
#
# RECOMMENDED SETUP:
#
#   Global (~/.emdash/.env) - Set once, use everywhere:
#     - API keys (ANTHROPIC_API_KEY, OPENAI_API_KEY, GITHUB_TOKEN)
#     - Default model preference (EMDASH_MODEL)
#     - Personal preferences
#
#   Project (.env) - Project-specific overrides:
#     - Team settings (EMDASH_TEAM_ID)
#     - Multiuser configuration
#     - Project-specific model or features
#
# QUICK START:
#
#   # Create global config directory
#   mkdir -p ~/.emdash
#
#   # Set up global API keys (recommended)
#   echo "ANTHROPIC_API_KEY=sk-xxx" >> ~/.emdash/.env
#   chmod 600 ~/.emdash/.env  # Secure the file
#
#   # Or copy this file for project-specific config
#   cp .env.example .env
#
# ═══════════════════════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────────────────────
# MODEL CONFIGURATION
# ───────────────────────────────────────────────────────────────────────────────

# Model to use (provider:model format)
EMDASH_MODEL=fireworks:accounts/fireworks/models/qwen3-235b-a22b
FIREWORKS_API_KEY=your-api-key

# Vision support (auto-detected from model name, or override here)
EMDASH_ENABLE_VISION=true

# Reasoning/thinking settings
EMDASH_REASONING_EFFORT=medium  # none, low, medium, high

# Debug settings
EMDASH_LOG_LLM_PAYLOAD=false

# ───────────────────────────────────────────────────────────────────────────────
# MULTIUSER CONFIGURATION
# ───────────────────────────────────────────────────────────────────────────────

# Enable multiuser features (true/false)
# Default: false
EMDASH_MULTIUSER_ENABLED=false

# Sync provider to use (local/firebase)
# - local: File-based, single machine only (good for development)
# - firebase: Firebase Realtime Database (multi-machine real-time sync)
# Default: local
EMDASH_MULTIUSER_PROVIDER=local

# Local storage path for multiuser data
# Default: ~/.emdash/multiuser
# EMDASH_MULTIUSER_STORAGE=~/.emdash/multiuser

# Heartbeat interval in seconds
# Default: 30
# EMDASH_MULTIUSER_HEARTBEAT=30

# Session timeout in seconds (mark user offline after this)
# Default: 120
# EMDASH_MULTIUSER_TIMEOUT=120

# ───────────────────────────────────────────────────────────────────────────────
# TEAM CONFIGURATION
# ───────────────────────────────────────────────────────────────────────────────
#
# Teams allow groups of users to share sessions without individual invite codes.
# Team members can browse and join any team session.
#
# ───────────────────────────────────────────────────────────────────────────────

# Default team ID
# When set, the /team commands will use this team by default
# Get team ID by running: emdash team list
# EMDASH_TEAM_ID=

# Auto-share to team
# If true, new shared sessions are automatically added to the default team
# Requires EMDASH_TEAM_ID to be set
# Default: false
# EMDASH_AUTO_SHARE_TO_TEAM=false

# ───────────────────────────────────────────────────────────────────────────────
# FIREBASE CONFIGURATION (required if EMDASH_MULTIUSER_PROVIDER=firebase)
# ───────────────────────────────────────────────────────────────────────────────
#
# Setup steps:
# 1. Go to https://console.firebase.google.com
# 2. Create a project (or use existing)
# 3. Enable Realtime Database: Build → Realtime Database → Create Database
# 4. Start in "test mode" for development
# 5. Get credentials (see authentication options below)
#
# ───────────────────────────────────────────────────────────────────────────────

# Firebase Project ID
# Found in: Firebase Console → Project Settings → General → Project ID
# Example: my-awesome-project-12345
FIREBASE_PROJECT_ID=

# Firebase Realtime Database URL
# Found in: Firebase Console → Build → Realtime Database (shown at top)
# Format: https://{project-id}-default-rtdb.firebaseio.com
# Regional: https://{project-id}-default-rtdb.{region}.firebasedatabase.app
FIREBASE_DATABASE_URL=

# ───────────────────────────────────────────────────────────────────────────────
# FIREBASE AUTHENTICATION (choose ONE)
# ───────────────────────────────────────────────────────────────────────────────

# Option 1: Service Account JSON file (RECOMMENDED)
# How to get:
#   Firebase Console → Project Settings → Service accounts → Generate new private key
# Requires: pip install google-auth
FIREBASE_CREDENTIALS_PATH=

# Option 2: Web API Key (simpler, less secure)
# How to get:
#   Firebase Console → Project Settings → General → Web API Key
# FIREBASE_API_KEY=

# ───────────────────────────────────────────────────────────────────────────────
# FIREBASE DATABASE RULES (set in Firebase Console → Realtime Database → Rules)
# ───────────────────────────────────────────────────────────────────────────────
#
# Development (open access):
# {
#   "rules": {
#     ".read": true,
#     ".write": true
#   }
# }
#
# Production (authenticated):
# {
#   "rules": {
#     "sessions": {
#       "$session_id": {
#         ".read": "auth != null",
#         ".write": "auth != null"
#       }
#     },
#     "invites": {
#       ".read": true,
#       "$code": { ".write": "auth != null" }
#     }
#   }
# }
