# PROJECT.md Rules

> How we document the Wix Vibe code generation CLI for the team.

## Purpose

PROJECT.md is the "senior engineer explaining the codebase over coffee" document.
It captures the ESSENCE of the project - the key mental models someone needs to work here effectively.

## Document Structure

1. **What This Is** - 2-3 sentences capturing the essence
2. **The Main Idea** - Core mental model (agent-driven code generation for Wix Vibe)
3. **How It Works** - Narrative walkthrough of the generation flow
4. **Where The Complexity Lives** - Where the team spends time and why
5. **What's Happening Now** - Current focus based on open/merged PRs
6. **The Key Players** - 3-5 most important modules/files explained in context
7. **Before You Start Coding** - The "aha" moments and gotchas for CLI work

## Writing Style

- Write like talking to a teammate, not writing documentation
- Use "we" and "you" language
- Explain WHY things are the way they are
- NO comprehensive lists - only what matters
- Paragraphs that flow, not bullet points
- Specific file paths in context

## What to Explore First

Before writing PROJECT.md:
- Check commit activity to find where the team spends time
- Look at open PRs to see current focus
- Look at recent merged PRs to see what shipped
- Find code communities (how code naturally groups)
- Find technically central pieces (high PageRank)

## How to Use Data

DON'T dump metrics. Use them to INFORM writing:

- Instead of "65 commits, 17 authors" → "The team spends most time here because..."
- Instead of listing communities → "The code naturally groups into three areas..."
- Instead of "high PageRank" → "Everything flows through X because..."

## Example Format

```markdown
# Wix Vibe Code Generation CLI

## What This Is
A CLI tool that agents use to generate Vibe components from user intent. It powers code generation workflows by handling component creation, validation, and integration patterns.

## The Main Idea
The core flow: agent receives a request → CLI processes it through handlers → generates component code → validates against Vibe patterns → outputs result.

## How It Works
Narrative walkthrough of how a generation request flows through the system.

## Where The Complexity Lives
Where does the team spend time? Why is it complex?

## What's Happening Now
Current focus from open PRs. Recent ships from merged PRs.

## The Key Players
**Agent Flow** (`src/agent/`) - How requests enter and move through the system.

**Handlers** (`src/handlers/`) - Individual generation patterns for different component types.

**Validation** (`src/validate/`) - Ensures generated code matches Vibe standards.

## Before You Start Coding
- Agent flows are state machines - follow existing patterns
- Don't break existing component generation - stability is critical
- Handlers are pattern-based - look at similar ones first
- Test with code eval on demand, don't add tests unless critical
```

## Things to Avoid

- Comprehensive lists of everything
- Tables of files and descriptions
- Generic descriptions that could apply to any project
- Statistics without insight
- Implementation details better suited for code comments