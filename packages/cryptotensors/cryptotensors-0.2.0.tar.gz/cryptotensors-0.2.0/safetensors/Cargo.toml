[package]
name = "cryptotensors"
version = "0.2.0"
edition = "2021"
rust-version = "1.80"
homepage = "https://github.com/aiyah-meloken/cryptotensors"
repository = "https://github.com/aiyah-meloken/cryptotensors"
documentation = "https://docs.rs/cryptotensors/"
license = "Apache-2.0"
keywords = ["safetensors", "Pytorch", "cryptotensors", "encryption", "security"]
readme = "README.md"
description = """
CryptoTensors is an extension of safetensors that adds encryption, signing, 
and access control (Rego-based policy engine) while maintaining full backward
compatibility with the safetensors format. It provides functions to read and write safetensors
which aim to be safer than their PyTorch counterpart.
"""
exclude = ["rust-toolchain", "target/*", "Cargo.lock"]


# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
# Original safetensors dependencies
serde = { version = "1.0", default-features = false, features = [
    "derive",
    "alloc",
] }
serde_json = { version = "1.0", default-features = false, features = ["alloc"] }
hashbrown = { version = "0.16", features = ["serde"] }

# CryptoTensors: New cryptographic dependencies
ring = "0.17"
rand = "0.8"
zeroize = "1.7"
once_cell = "1.7"
base64 = "0.22"
regorus = "0.4"
thiserror = "2.0"
libloading = "0.8"

[dev-dependencies]
criterion = "0.6"
memmap2 = "0.9"
proptest = "1.7"
tempfile = "3.10"

[features]
default = ["std", "provider-env", "provider-file"]
std = ["serde/default", "serde_json/default"]
# Kept for backward compatibility - no-op since alloc is always available
alloc = []

# Provider features
provider-env = []
provider-file = []

[[bench]]
name = "benchmark"
harness = false
