$(document).ready(()=>{'use strict';const a=afatSettings.dataTables.language,t=({table:a,url:t,columns:e,columnDefs:n,order:l,columnControl:r})=>{fetchGet({url:t}).then(t=>{new DataTable(a,{...afatSettings.dataTables,data:t,columns:e,order:l,ordering:{indicators:!1,handler:!1},columnDefs:n||[],columnControl:r||afatSettings.dataTables.columnControl})}).catch(t=>console.error(`Error fetching data for ${a}:`,t))},e=()=>{const a=[{data:'fleet_name'},{data:'fleet_type'},{data:'doctrine'},{data:'system'},{data:'ship_type'},{data:{display:a=>_dateRender(a.fleet_time.time),sort:a=>a.fleet_time.timestamp}}];characters.forEach(e=>{const n=$('#recent-fats-character-'+e.charId),l=afatSettings.url.characterFats.replace('0',e.charId);t({table:n,url:l,columns:a,columnControl:[],order:[[5,'desc']]})})},n=()=>{const e=[{data:'fleet_name'},{data:'fleet_type'},{data:'doctrine'},{data:'creator_name'},{data:{display:a=>_dateRender(a.fleet_time.time),sort:a=>a.fleet_time.timestamp}}],n=[];(afatSettings.permissions.addFatLink||afatSettings.permissions.manageAfat)&&(e.push({data:'actions'}),n.push({target:5,orderable:!1,createdCell:a=>$(a).addClass('text-end'),width:125})),a.emptyTable=`<div class="aa-callout aa-callout-warning" role="alert">\n            <p>${afatSettings.translation.dataTable.noFatlinksWarning}</p>\n        </div>`,t({table:$('#dashboard-recent-fatlinks'),url:afatSettings.url.recentFatLinks,columns:e,columnDefs:n,columnControl:[],order:[[4,'desc']]})},l=()=>{[afatSettings.modal.cancelEsiFleetModal.element,afatSettings.modal.deleteFatLinkModal.element].forEach(a=>{_manageModal($(a))})};characters.length>0&&e(),n(),l()});
//# sourceMappingURL=afat-dashboard.min.js.map