[build-system]
build-backend = "setuptools.build_meta"

requires = [ "setuptools>=61" ]

[project]
name = "pytest-human"
version = "1.2.0"
description = "A beautiful nested pytest HTML test report"
readme = "README.md"
keywords = [
  "debug",
  "html",
  "human",
  "log",
  "logging",
  "pytest",
  "report",
  "testing",
  "automation",
  "e2e",
  "robot"
]
license = { file = "LICENSE" }
maintainers = [ { name = "Dan Ilan", email = "dan.ilan@q.ai" } ]
authors = [ { name = "Dan Ilan", email = "dan.ilan@q.ai" } ]
requires-python = ">=3.10"
classifiers = [
  "Development Status :: 4 - Beta",
  "Framework :: Pytest",
  "Intended Audience :: Developers",
  "License :: OSI Approved :: Apache Software License",
  "Operating System :: OS Independent",
  "Programming Language :: Python",
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
  "Programming Language :: Python :: 3.14",
  "Programming Language :: Python :: Implementation :: CPython",
  "Programming Language :: Python :: Implementation :: PyPy",
  "Topic :: Software Development :: Quality Assurance",
  "Topic :: Software Development :: Testing",
]

dependencies = [
 "gitpython==3.*",
 "jinja2>=3.1",
 "pytest>=8",
 "rich==14.*",
]

urls.Changelog = "https://github.com/Q-cue-ai/pytest-human/releases"
urls.Issues = "https://github.com/Q-cue-ai/pytest-human/issues"
urls.Repository = "https://github.com/Q-cue-ai/pytest-human"
entry-points.pytest11.human = "pytest_human._hooks"

[tool.setuptools.package-data]
"pytest_human" = ["templates/*"]

[tool.ruff]
line-length = 100

[tool.ruff.lint]
select = [
  "ANN",
  "ASYNC",
  "C4",
  "D",
  "E",
  "ERA",
  "F",
  "FBT",
  "FLY",
  "FURB",
  "I",
  "ICN",
  "INP",
  "ISC",
  "N",
  "NPY",
  "PERF",
  "PL",
  "PT",
  "PTH",
  "Q",
  "RET",
  "RSE",
  "RUF",
  "S",
  "SIM",
  "SLF",
  "TD",
  "TID",
  "UP",
  "W",
]

ignore = [
  "ANN401", # allow use of Any type hints
  "D105",   # no need to document magic methods
  "D107",   # No need to document __init__
  "D202",   # no-blank-lines-after-function-docstring
  "D203",   # incorrect-blank-line-before-class
  "D213",   # multi-line-summary-second-line
  "FBT001", # allow boolean parameters
  "FBT002", # allow default boolean parameters
  "RET504", # Unnecessary assignment before return
  "S101",   # Allow asserts,
  "UP007", # Allow optional
  "UP045", # Allow optional
]

[tool.ruff.lint.per-file-ignores]
"tests/**" = ["D", "PLR2004"]
"tests/examples/**" = ["ANN"]
"tests/test_example.py" = ["ANN"]

[tool.pytest.ini_options]
asyncio_default_fixture_loop_scope = "function"

[tool.commitizen]
name = "cz_conventional_commits"
tag_format = "v$version"
version_scheme = "pep440"
version_provider = "uv"
update_changelog_on_bump = false

[dependency-groups]
dev = [
  "mkdocs>=1.6.1",
  "mkdocs-material>=9.6.22",
  # "mkdocstrings[python]>=0.18",
  "playwright>=1.56,<1.58",
  "pytest-asyncio==1.3.0",
  "pytest-cov==7.0.0",
  "pre-commit>=4.4.0",
]
