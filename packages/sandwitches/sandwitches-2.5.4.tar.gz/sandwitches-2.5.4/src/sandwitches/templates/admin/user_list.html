{% extends "admin/admin_base.html" %}
{% load i18n %}

{% block admin_title %}{% trans "Users" %}{% endblock %}

{% block content %}
<h5 class="bold mb-2">{% trans "User Management" %}</h5>

<table class="border striped scroll surface large-space">
    <thead>
        <tr>
            <th>{% trans "Avatar" %}</th>
            <th>{% trans "User" %}</th>
            <th>{% trans "Email" %}</th>
            <th>{% trans "Staff" %}</th>
            <th>{% trans "Active" %}</th>
            <th>{% trans "Actions" %}</th>
        </tr>
    </thead>
    <tbody>
        {% for user in users %}
        <tr class="pointer" onclick="location.href='{% url 'admin_user_edit' user.pk %}'">
            <td>
                {% if user.avatar %}
                <img src="{{ user.avatar.url }}" class="admin-thumb round">
                {% else %}
                <div class="admin-thumb round gray1 middle-align center-align">
                    <i class="extra">person</i>
                </div>
                {% endif %}
            </td>
            <td>
                <b>{{ user.username }}</b>
                <div class="small-text">{{ user.get_full_name }}</div>
            </td>
            <td>{{ user.email }}</td>
            <td>
                {% if user.is_staff %}
                <i class="primary-text">check_circle</i>
                {% else %}
                <i class="grey-text">cancel</i>
                {% endif %}
            </td>
            <td>
                {% if user.is_active %}
                <i class="primary-text">check_circle</i>
                {% else %}
                <i class="grey-text">cancel</i>
                {% endif %}
            </td>
            <td>
                {% if user != request.user %}
                <a href="{% url 'admin_user_delete' user.pk %}" class="button circle transparent" onclick="event.stopPropagation();" title="{% trans 'Delete' %}"><i>delete</i></a>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
