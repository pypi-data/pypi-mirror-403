# Tutorial schema for Stillsuit documentation
#
# Supported types (https://www.sqlite.org/datatype3.html)
#
#   NULL. The value is a NULL value.
#   INTEGER. The value is a signed integer, stored in 0, 1, 2, 3, 4, 6, or 8 bytes depending on the magnitude of the value.
#   REAL. The value is a floating point value, stored as an 8-byte IEEE floating point number.
#   TEXT. The value is a text string, stored using the database encoding (UTF-8, UTF-16BE or UTF-16LE).
#   BLOB. The value is a blob of data, stored exactly as it was input.
#
#   Reserved column names start with "__", e.g.,  "__filter_id",
#   "__trigger_id", "__trigger_map_id", "__simulation_id", "__event_id"
#   "__data_id"
#

filter:
  columns:
    - {name: "__filter_id", type: INTEGER, constraints: PRIMARY KEY}
    - {name: "mass1", type: REAL}
    - {name: "mass2", type: REAL}
    - {name: "chi", type: REAL}
    - {name: "approximant", type: TEXT, display: False}
  relationships: []
  static: True

simulation:
  columns:
    - {name: "_simulation_id", type: INTEGER, constraints: PRIMARY KEY}
    - {name: "geocent_end_time", type: INTEGER}
    - {name: "ra", type: REAL}
    - {name: "dec", type: REAL}
    - {name: "distance", type: REAL}
  relationships: []
  static: True

data:
  columns:
    - {name: "__data_id", type: INTEGER, constraints: PRIMARY KEY}
    - {name: "ifo", type: TEXT}
    - {name: "horizon", type: REAL}
  relationships: []
  static: False

trigger:
  columns:
    - {name: "__trigger_id", type: INTEGER, constraints: PRIMARY KEY}
    - {name: "__data_id", type: INTEGER}
    - {name: "__filter_id", type: INTEGER}
    - {name: "time", type: INTEGER}
    - {name: "snr", type: REAL}
    - {name: "chisq", type: REAL}
    - {name: "phase", type: REAL}
  relationships: [{"filter": "__filter_id", "data": "__data_id"}]
  static: False

event:
  columns:
    - {name: "__event_id", type: INTEGER, constraints: PRIMARY KEY}
    - {name: "_simulation_id", type: INTEGER}
    - {name: "time", type: INTEGER}
    - {name: "network_snr", type: REAL}
    - {name: "likelihood", type: REAL}
    - {name: "far", type: REAL}
  relationships: []
  static: False

trigger_map:
  columns:
    - {name: "__trigger_map_id", type: INTEGER, constraints: PRIMARY KEY}
    - {name: "__event_id", type: INTEGER}
    - {name: "__trigger_id", type: INTEGER}
  relationships: [{"event": "__event_id", "trigger": "__trigger_id"}]
  static: False
