{%- extends "basic/layout.html" -%}

{%- block css -%}
  {{ super() }}
  <noscript>
    <style>
      .bz-js-only { display: none !important; }
    </style>
  </noscript>
  {% if meta and "content-width" in meta %}
    <style>
      #bz-main-content { max-width: {{ meta["content-width"] }}; }
    </style>
  {%- endif -%}
{%- endblock css -%}

{%- block scripts -%}
  {{- script() }}
  <script data-cfasync="false">
    const mode = localStorage.getItem("breeze-mode") || "{{ theme_default_mode }}";
    document.documentElement.dataset.mode = mode;
    if (mode === "auto") {
      const prefers = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light"
      document.documentElement.dataset.theme = prefers;
    } else {
      document.documentElement.dataset.theme = mode;
    }
  </script>
{%- endblock scripts -%}

{%- block extrahead -%}
  <meta name="docsearch:language" content="{{ language }}"/>
  <meta name="docsearch:version" content="{{ version }}" />
  {%- if last_updated %}<meta name="docbuild:last-update" content="{{ last_updated | e }}"/>{%- endif %}
  {%- if READTHEDOCS -%}<meta name="readthedocs-addons-api-version" content="1" />{%- endif -%}
{%- endblock extrahead -%}

{%- block header -%}
  {# A button hidden by default to help assistive devices quickly jump to main content #}
  {# ref: https://www.youtube.com/watch?v=VUR0I5mqq7I #}
  <div class="bz-skip-to-content">
    <a href="#bz-main-content">{{ _("Skip to main content") }}</a>
  </div>
  {%- include "sections/announcement.html" -%}
  {%- include "sections/header-main.html" -%}
  {%- if theme_header_tabs | tobool -%}
    {%- include "sections/header-tabs.html" -%}
  {%- endif -%}
  <hr class="bz-header-separator">
{%- endblock header -%}

{%- block content -%}
  <div class="bz-content">
    {%- include "sections/sidebar-primary.html" -%}
    <main id="bz-main-content">
      {%- block main -%}
        {%- include "sections/article-header.html" -%}
        {%- include "sections/article-main.html" -%}
        {%- include "sections/article-footer.html" -%}
        {%- include "sections/sidebar-secondary.html" -%}
      {%- endblock main -%}
    </main>
  </div>
{%- endblock content -%}

{%- block footer -%}
  {%- include "sections/footer.html" -%}
  <a href="#" class="bz-back-to-top">
    <svg class="sized" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
      <path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>
    </svg>
    <span>{{ _("Back to top") }}</span>
  </a>
  <label class="bz-overlay bz-overlay-primary" for="bz-sidebar-primary"></label>
  <label class="bz-overlay bz-overlay-secondary" for="bz-sidebar-secondary"></label>
  <input type="checkbox" name="bz-sidebar-primary" id="bz-sidebar-primary" aria-label="Toggle site navigation sidebar">
  <input type="checkbox" name="bz-sidebar-secondary" id="bz-sidebar-secondary" aria-label="Toggle table of contents sidebar">
{%- endblock footer -%}

{%- block relbar1 -%}{%- endblock -%}
{%- block relbar2 -%}{%- endblock -%}
{%- block sidebarsourcelink -%}{%- endblock -%}
