kind: LinearJob
name: shakespeare_ingestion_job
description: |
  Ingests Shakespeare source texts to our data lake.

owner: literature@tiozin.com
maintainer: tiozin
cost_center: tio_scrooge

org: tiozin
region: latam
domain: literature
product: shakespeare
model: shakespeare
layer: raw

runner:
  kind: SparkRunner
  master: local[*]
  enable_hive_support: true
  log_level: WARN

inputs:
  - kind: SparkFileInput
    name: load_poems
    path: examples/data/{{product}}
    format: text
    include_input_file: true

outputs:
  - kind: SparkFileOutput
    name: save_poems
    path: .output/lake-{{domain}}-{{layer}}/{{product}}/{{model}}/date={{today}}
    partition_by:
    - input_file_name
