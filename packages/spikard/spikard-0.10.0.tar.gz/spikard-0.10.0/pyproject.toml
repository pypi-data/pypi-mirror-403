[build-system]
build-backend = "maturin"
requires = [ "maturin>=1.11.5,<2" ]

[project]
name = "spikard"
version = "0.10.0"
description = "High-performance Python web framework with a Rust core. Build REST APIs, WebSockets, and SSE services with FastAPI/Litestar-style decorators backed by Axum and Tower-HTTP. 2.8x faster than FastAPI."
readme = "README.md"
keywords = [
  "api",
  "async",
  "axum",
  "fastapi",
  "framework",
  "http",
  "litestar",
  "msgspec",
  "performance",
  "rest",
  "rust",
  "sse",
  "tower",
  "validation",
  "web",
  "websocket",
]
license = { text = "MIT" }
authors = [ { name = "Na'aman Hirschfeld", email = "nhirschfeld@gmail.com" } ]
requires-python = ">=3.10"
classifiers = [
  "Development Status :: 3 - Alpha",
  "Environment :: Web Environment",
  "Framework :: AsyncIO",
  "Intended Audience :: Developers",
  "License :: OSI Approved :: MIT License",
  "Natural Language :: English",
  "Operating System :: OS Independent",
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
  "Programming Language :: Python :: 3.14",
  "Programming Language :: Rust",
  "Topic :: Internet :: WWW/HTTP",
  "Topic :: Internet :: WWW/HTTP :: Dynamic Content",
  "Topic :: Internet :: WWW/HTTP :: HTTP Servers",
  "Topic :: Software Development :: Libraries :: Application Frameworks",
  "Topic :: Software Development :: Libraries :: Python Modules",
  "Typing :: Stubs Only",
]

dependencies = [
  "cloudpickle>=3.1.2",
  "granian>=2.6.1",
  "grpcio>=1.76",
  "httpx>=0.28.1",
  "httpx-sse>=0.4.3",
  "msgspec>=0.19",
  "typing-extensions>=4",
  "uvloop>=0.22; sys_platform!='win32'",
  "websockets>=16",
]

optional-dependencies.uvloop = [
  "uvloop>=0.22; sys_platform!='win32'",
]

urls."Bug Tracker" = "https://github.com/Goldziher/spikard/issues"
urls.Changelog = "https://github.com/Goldziher/spikard/releases"
urls.Discord = "https://discord.gg/pXxagNK2zN"
urls.Documentation = "https://github.com/Goldziher/spikard/blob/main/packages/python/README.md"
urls.Homepage = "https://github.com/Goldziher/spikard"
urls.Repository = "https://github.com/Goldziher/spikard"

[tool.hatch.build.targets.wheel]
packages = [ "spikard" ]

[tool.hatch.build.targets.wheel.force-include]
"spikard/py.typed" = "spikard/py.typed"

[tool.maturin]
module-name = "_spikard"
python-source = "../../packages/python"
python-packages = [ "spikard", "_spikard" ]
features = [ "extension-module" ]
manifest-path = "crates/spikard-py/Cargo.toml"
