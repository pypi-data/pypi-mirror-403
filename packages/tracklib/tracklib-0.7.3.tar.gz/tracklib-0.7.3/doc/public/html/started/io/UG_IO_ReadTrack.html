
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Loading track or track collection from files &#8212; TrackLib 1.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/nbsphinx-code-cells.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=3ee479438cf8b5e0d341"></script>

    <script src="../../_static/documentation_options.js?v=f2a433a1"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'started/io/UG_IO_ReadTrack';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Load a network with an existing topology structure" href="UG_IO_Network.html" />
    <link rel="prev" title="Track(s)" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/TracklibLogo.png" class="logo__image only-light" alt="TrackLib 1.0 documentation - Home"/>
    <script>document.write(`<img src="../../_static/TracklibLogo.png" class="logo__image only-dark" alt="TrackLib 1.0 documentation - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item pst-header-nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Getting Started
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../../userguide/gallery.html">
    Quick Examples
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../../usecase/index.html">
    Use Cases
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/umrlastig/tracklib" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <button class="sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item pst-header-nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Getting Started
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../../userguide/gallery.html">
    Quick Examples
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../../usecase/index.html">
    Use Cases
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/umrlastig/tracklib" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jupyter.html">Jupyter Notebook</a></li>
</ul>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Track(s)</a><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Loading track or track collection from files</a></li>
</ul><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary>
</details></li>

</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">Getting Started</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Track(s)</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Loading...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="Loading-track-or-track-collection-from-files">
<h1>Loading track or track collection from files<a class="headerlink" href="#Loading-track-or-track-collection-from-files" title="Link to this heading">#</a></h1>
<p><em>tracklib</em> permet de charger des données GPS depuis un ou plusieurs fichiers de type CSV, GPX et dont les géométries sont sous forme de coordonnées ou au format wkt. Le timestamp, s’il existe peut-être fourni en format texte ou en time unix, les <em>Analytic Features</em> (AF) peuvent être ou non chargées et on peut aussi filtrer les données à charger. Tout ceci en spécifiant les paramètres un à un ou en passant par un template.</p>
<p>Toutes les méthodes sont dans la classe <em>TrackReader</em> et les méthodes statiques suivant le format des données:</p>
<div class="alert alert-block alert-info" style="padding:1em"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">tkl</span><span class="o">.</span><span class="n">TrackReader</span><span class="o">.</span><span class="n">readFromGpx</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">tkl</span><span class="o">.</span><span class="n">TrackReader</span><span class="o">.</span><span class="n">readFromCsv</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">tkl</span><span class="o">.</span><span class="n">TrackReader</span><span class="o">.</span><span class="n">readFromWkt</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</div><p>Time field Le format du champ time peut être défini de différentes façons dans les fichiers CSV:</p>
<p>champ texte, on spécifie le format</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ObsTime</span><span class="o">.</span><span class="n">setReadFormat</span><span class="p">(</span><span class="s2">&quot;4Y-2M-2DT2h:2m:2sZ&quot;</span><span class="p">)</span>
<span class="n">ObsTime</span><span class="o">.</span><span class="n">setReadFormat</span><span class="p">(</span><span class="s2">&quot;2D/2M/4Y 2h:2m:2s&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Crs field</p>
<p>Pour les 3 méthodes d’import, vous pouvez préciser le type de coordonnées</p>
<p>geographic coordinates</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">srid</span><span class="o">=</span><span class="s2">&quot;GeoCoords&quot;</span>
<span class="c1"># or</span>
<span class="n">srid</span> <span class="o">=</span> <span class="s2">&quot;GEO&quot;</span>
</pre></div>
</div>
<p>or local projection (ENU or ENUCoords)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">srid</span><span class="o">=</span><span class="s2">&quot;ENUCoords&quot;</span>
<span class="c1"># or</span>
<span class="n">srid</span><span class="o">=</span><span class="s2">&quot;ENU&quot;</span>
</pre></div>
</div>
<section id="As-usual,-let's-start-by-defining-our-environment">
<h2>As usual, let’s start by defining our environment<a class="headerlink" href="#As-usual,-let's-start-by-defining-our-environment" title="Link to this heading">#</a></h2>
<p>The first task is only useful for the online notebook and import the local tracklib code source. It’s not necessary if tracklib is installed from PyPI.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="c1"># Import de tracklib</span>
<span class="n">module_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;../../../..&#39;</span><span class="p">))</span>
<span class="k">if</span> <span class="n">module_path</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">module_path</span><span class="p">)</span>

<span class="c1"># Import tracklib library</span>
<span class="kn">import</span> <span class="nn">tracklib</span> <span class="k">as</span> <span class="nn">tkl</span>
</pre></div>
</div>
</div>
<p>The following two imports are necessary for the tutorial:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</section>
<section id="Example-for-a-GPX-file">
<h2>Example for a GPX file<a class="headerlink" href="#Example-for-a-GPX-file" title="Link to this heading">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tkl</span><span class="o">.</span><span class="n">ObsTime</span><span class="o">.</span><span class="n">setReadFormat</span><span class="p">(</span><span class="s2">&quot;4Y-2M-2DT2h:2m:2sZ&quot;</span><span class="p">)</span>
<span class="n">resource_path</span> <span class="o">=</span> <span class="s1">&#39;../../../../data/gpx/&#39;</span>
<span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">resource_path</span><span class="p">,</span> <span class="s1">&#39;activity_5807084803.gpx&#39;</span><span class="p">)</span>
<span class="n">tracks</span> <span class="o">=</span> <span class="n">tkl</span><span class="o">.</span><span class="n">TrackReader</span><span class="o">.</span><span class="n">readFromGpx</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
<span class="n">tracks</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/started_io_UG_IO_ReadTrack_6_0.png" src="../../_images/started_io_UG_IO_ReadTrack_6_0.png" />
</div>
</div>
</section>
<section id="Example-for-a-CSV-file">
<h2>Example for a CSV file<a class="headerlink" href="#Example-for-a-CSV-file" title="Link to this heading">#</a></h2>
<ul>
<li><p>pas de champ time, -1</p>
<p>idT = -1</p>
</li>
<li><p>Timestamp is in milliseconds</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">PATH</span> <span class="o">=</span> <span class="s1">&#39;/home/marie-dominique/DATA/GPX/MOPSI/0/&#39;</span>
<span class="n">dateInitiale</span> <span class="o">=</span> <span class="s1">&#39;1970-01-01 00:00:00&#39;</span>
<span class="n">collection</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">readFromCsv</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">PATH</span><span class="p">,</span> <span class="n">id_E</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">id_N</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">id_T</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                  <span class="n">srid</span><span class="o">=</span><span class="s2">&quot;GeoCoords&quot;</span><span class="p">,</span>
                                  <span class="n">DateIni</span> <span class="o">=</span> <span class="n">GPSTime</span><span class="o">.</span><span class="n">readTimestamp</span><span class="p">(</span><span class="n">dateInitiale</span><span class="p">),</span>
                                  <span class="n">selector</span> <span class="o">=</span> <span class="n">s</span><span class="p">,</span>
                                  <span class="n">separator</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tkl</span><span class="o">.</span><span class="n">ObsTime</span><span class="o">.</span><span class="n">setReadFormat</span><span class="p">(</span><span class="s2">&quot;4Y-2M-2D 2h:2m:2s&quot;</span><span class="p">)</span>
<span class="n">resource_path</span> <span class="o">=</span> <span class="s1">&#39;../../../../data&#39;</span>
<span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">resource_path</span><span class="p">,</span> <span class="s1">&#39;trace10_mm.dat&#39;</span><span class="p">)</span>
<span class="n">track</span> <span class="o">=</span> <span class="n">tkl</span><span class="o">.</span><span class="n">TrackReader</span><span class="o">.</span><span class="n">readFromCsv</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">track</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/started_io_UG_IO_ReadTrack_8_0.png" src="../../_images/started_io_UG_IO_ReadTrack_8_0.png" />
</div>
</div>
</section>
<section id="Example-for-a-CSV-file-with-a-geometry-structured-in-WKT">
<h2>Example for a CSV file with a geometry structured in WKT<a class="headerlink" href="#Example-for-a-CSV-file-with-a-geometry-structured-in-WKT" title="Link to this heading">#</a></h2>
<p>track is associated with a linestring</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">resource_path</span> <span class="o">=</span> <span class="s1">&#39;../../../../data/wkt&#39;</span>
<span class="n">csvpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">resource_path</span><span class="p">,</span> <span class="s1">&#39;iti.wkt&#39;</span><span class="p">)</span>
<span class="n">TRACES</span> <span class="o">=</span> <span class="n">tkl</span><span class="o">.</span><span class="n">TrackReader</span><span class="o">.</span><span class="n">readFromWkt</span><span class="p">(</span><span class="n">csvpath</span><span class="p">,</span> <span class="n">id_geom</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s2">&quot;#&quot;</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">doublequote</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">TRACES</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;k-&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/started_io_UG_IO_ReadTrack_10_0.png" src="../../_images/started_io_UG_IO_ReadTrack_10_0.png" />
</div>
</div>
</section>
<section id="If-you-have-a-list-of-CVS-files-in-a-folder">
<h2>If you have a list of CVS files in a folder<a class="headerlink" href="#If-you-have-a-list-of-CVS-files-in-a-folder" title="Link to this heading">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tkl</span><span class="o">.</span><span class="n">ObsTime</span><span class="o">.</span><span class="n">setReadFormat</span><span class="p">(</span><span class="s2">&quot;2D/2M/4Y 2h:2m:2s&quot;</span><span class="p">)</span>
<span class="n">resource_path</span> <span class="o">=</span> <span class="s1">&#39;../../../../data/test/csv&#39;</span>
<span class="n">collection</span> <span class="o">=</span> <span class="n">tkl</span><span class="o">.</span><span class="n">TrackReader</span><span class="o">.</span><span class="n">readFromCsv</span><span class="p">(</span><span class="n">resource_path</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">collection</span><span class="o">.</span><span class="n">size</span><span class="p">(),</span> <span class="s1">&#39; CSV tracks loaded&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2  CSV tracks loaded
</pre></div></div>
</div>
</section>
<section id="If-you-have-a-list-of-GPX-files-in-a-folder">
<h2>If you have a list of GPX files in a folder<a class="headerlink" href="#If-you-have-a-list-of-GPX-files-in-a-folder" title="Link to this heading">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">resource_path</span> <span class="o">=</span> <span class="s1">&#39;../../../../data/gpx/geo&#39;</span>
<span class="n">tkl</span><span class="o">.</span><span class="n">ObsTime</span><span class="o">.</span><span class="n">setReadFormat</span><span class="p">(</span><span class="s2">&quot;4Y-2M-2DT2h:2m:2sZ&quot;</span><span class="p">)</span>
<span class="n">tracks</span> <span class="o">=</span> <span class="n">tkl</span><span class="o">.</span><span class="n">TrackReader</span><span class="o">.</span><span class="n">readFromGpx</span><span class="p">(</span><span class="n">resource_path</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">collection</span><span class="o">.</span><span class="n">size</span><span class="p">(),</span> <span class="s1">&#39; GPX tracks loaded&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2  GPX tracks loaded
</pre></div></div>
</div>
</section>
<section id="Loading-tracks-with-Analytical-Features">
<h2>Loading tracks with Analytical Features<a class="headerlink" href="#Loading-tracks-with-Analytical-Features" title="Link to this heading">#</a></h2>
<p>If the CVS file contains AF, to load all of them</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ObsTime.setReadFormat(&quot;2D/2M/4Y 2h:2m:2s&quot;)
chemin = os.path.join(self.resource_path, &#39;data/test/ecrins_interpol4.csv&#39;)
track = TrackReader.readFromCsv(chemin, 0, 1, 2, 3, separator=&quot;;&quot;,read_all=True)
</pre></div>
</div>
<ul class="simple">
<li><p>Select tracks inside a defined bounding box</p></li>
</ul>
<p>Load a track collection by specifying and a directory in the variable ‘path’. Timestamp is in milliseconds. Select only tracks inside a defined bounding box</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>from tracklib.io.TrackReader import TrackReader as reader
from tracklib.core.GPSTime import GPSTime
from tracklib.core.Coords import ENUCoords
import tracklib.algo.Geometrics as Geometrics
from tracklib.algo.Selection import Constraint
from tracklib.algo.Selection import TYPE_CUT_AND_SELECT, MODE_INSIDE
from tracklib.algo.Selection import Selector

Xmin = 29.72
Xmax = 29.77
Ymin = 62.585
Ymax = 62.615

ll = ENUCoords(Xmin, Ymin)
ur = ENUCoords(Xmax, Ymax)
bbox = Geometrics.Rectangle(ll, ur)

constraintBBox = Constraint(shape = bbox, mode = MODE_INSIDE, type=TYPE_CUT_AND_SELECT)
s = Selector([constraintBBox])

PATH = &#39;/home/marie-dominique/DATA/GPX/MOPSI/0/&#39;
GPSTime.setReadFormat(&quot;4Y-2M-2D 2h:2m:2s&quot;)
dateInitiale = &#39;1970-01-01 00:00:00&#39;
collection = reader.readFromCsv(path=PATH, id_E=1, id_N=0, id_T=2,
                                srid=&quot;GeoCoords&quot;,
                                DateIni = GPSTime.readTimestamp(dateInitiale),
                                selector = s,
                                separator = &#39; &#39;, verbose = True)
</pre></div>
</div>
</section>
<section id="Template">
<h2>Template<a class="headerlink" href="#Template" title="Link to this heading">#</a></h2>
<p>First, it is necessary to define the template in resources/track_file_format</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>RTKLIB    , pos, 2, 1, 3, 0, -1, bb, 1, %, -999999, GEO, 4Y/2M/2D 2h:2m:2s.3z, FALSE
</pre></div>
</div>
<p>Then to load the file</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>resource_path = &#39;/home/glagaffe/tracklib/data/&#39;
csvpath = os.path.join(resource_path, &#39;raw_gps.pos&#39;)
gps = TrackReader.readFromCsv(csvpath, &quot;RTKLIB&quot;)
print (gps.size())
</pre></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Track(s)</p>
      </div>
    </a>
    <a class="right-next"
       href="UG_IO_Network.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Load a network with an existing topology structure</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#As-usual,-let's-start-by-defining-our-environment">As usual, let’s start by defining our environment</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Example-for-a-GPX-file">Example for a GPX file</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Example-for-a-CSV-file">Example for a CSV file</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Example-for-a-CSV-file-with-a-geometry-structured-in-WKT">Example for a CSV file with a geometry structured in WKT</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#If-you-have-a-list-of-CVS-files-in-a-folder">If you have a list of CVS files in a folder</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#If-you-have-a-list-of-GPX-files-in-a-folder">If you have a list of GPX files in a folder</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Loading-tracks-with-Analytical-Features">Loading tracks with Analytical Features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Template">Template</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../_sources/started/io/UG_IO_ReadTrack.ipynb.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, LASTIG lab, French National Institute of Geographic and Forest Information.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>