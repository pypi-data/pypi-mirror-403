[build-system]
requires = ["setuptools>=77.0.0", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "kamiwaza-mlx"
version = "0.2.4"
description = "Unified MLX server & CLI (language and vision) with OpenAI-compatible endpoints"
readme = "README.md"
authors = [{name = "Matt", email = "opensource@kamiwaza.ai"}]
# Provide license text to avoid emitting License-Expression (PEP 621)
license = { text = "MIT License" }
requires-python = ">=3.10"
dependencies = [
    "fastapi>=0.116.0",
    "uvicorn[standard]>=0.34.0",
    "pydantic>=2.8.0",
    "requests>=2.31.0",
    "Pillow>=11.0.0",
    "mlx>=0.30.1,<0.31",
    "mlx-lm>=0.30.0,<0.31",
    "mlx-metal>=0.30.1,<0.31",
    "mlx-vlm>=0.3.9,<0.4",
    "torchvision>=0.24.0",
]

[project.urls]
Homepage = "https://github.com/kamiwaza-ai/kamiwaza-mlx"
"Bug Tracker" = "https://github.com/kamiwaza-ai/kamiwaza-mlx/issues"

[tool.setuptools.packages.find]
include = ["kamiwaza_mlx*"]

[tool.setuptools.package-data]
# ship the helper script & docs
"kamiwaza_mlx" = ["mem.sh", "config/*.json"]

# Optional console entry-points (syntactic sugar)
[project.scripts]
kamiwaza-mlx-server = "kamiwaza_mlx.server:main_entry"
kamiwaza-mlx-infer = "kamiwaza_mlx.infer:main"

[tool.setuptools]
include-package-data = true
license-files = []
