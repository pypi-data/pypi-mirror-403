# –°–ø—Ä—ñ–Ω—Ç 1 (–†–æ–∑—à–∏—Ä–µ–Ω–∏–π): MVP Code Reviewer ‚Äî GitHub, GitLab & WOW-–µ—Ñ–µ–∫—Ç

**–ú–µ—Ç–∞ —Å–ø—Ä—ñ–Ω—Ç—É:** –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–∞–¥—ñ–π–Ω–∏–π, —Å—Ç—ñ–π–∫–∏–π –¥–æ –ø–æ–º–∏–ª–æ–∫ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é GitHub —Ç–∞ GitLab, —è–∫–∏–π –≤—Ä–∞–∂–∞—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —è–∫—ñ—Å—Ç—é —Ç–∞ –∑—Ä—É—á–Ω—ñ—Å—Ç—é

**–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å:** 1 —Å–ø—Ä—ñ–Ω—Ç (–≥–Ω—É—á–∫–æ)
**–°—Ç–∞—Ç—É—Å:** üöß –í —Ä–æ–±–æ—Ç—ñ
**–¢–∏–ø:** –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏–π —Å–ø—Ä—ñ–Ω—Ç
**–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–Ω–∏–π

---

## üéØ –¶—ñ–ª—ñ —Å–ø—Ä—ñ–Ω—Ç—É

### –û—Å–Ω–æ–≤–Ω–∞ –º–µ—Ç–∞
–ü–æ–±—É–¥—É–≤–∞—Ç–∏ MVP, —è–∫–µ:
- ‚úÖ –ü—Ä–∞—Ü—é—î —è–∫ –∑ **GitHub**, —Ç–∞–∫ —ñ –∑ **GitLab**
- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **Inline Comments** –∑ –∫–Ω–æ–ø–∫–æ—é "Apply Suggestion" (WOW!)
- ‚úÖ –ù–∞–¥–∞—î –∫–æ—Ä–∏—Å–Ω—ñ, "–º–µ–Ω—Ç–æ—Ä—Å—å–∫—ñ" —Ä–µ–≤'—é –∑ –ø–æ—è—Å–Ω–µ–Ω–Ω—è–º–∏ **—á–æ–º—É** —Ü–µ –≤–∞–∂–ª–∏–≤–æ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∞—î –º–æ–≤—É —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–µ—é (–∞–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å)
- ‚úÖ –°—Ç—ñ–π–∫–µ –¥–æ –ø–æ–º–∏–ª–æ–∫ –º–µ—Ä–µ–∂—ñ (Retry logic) —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–µ –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö
- ‚úÖ –ü–æ–∫–∞–∑—É—î –ø—Ä–æ–∑–æ—Ä—ñ –º–µ—Ç—Ä–∏–∫–∏ (—á–∞—Å, —Ç–æ–∫–µ–Ω–∏, –≤–∞—Ä—Ç—ñ—Å—Ç—å)

### –í—Ç–æ—Ä–∏–Ω–Ω–∞ –º–µ—Ç–∞ (–Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∞!)
**–í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è –≤—Å—å–æ–≥–æ –ª–∞–Ω—Ü—é–∂–∫–∞ —Ä–æ–∑—Ä–æ–±–∫–∏:**
- ‚úÖ –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —è–∫–æ—Å—Ç—ñ –∫–æ–¥—É (ruff, mypy, pre-commit)
- ‚úÖ –¢–µ—Å—Ç–æ–≤–∏–π pipeline (pytest + –ø–æ–∫—Ä–∏—Ç—Ç—è ‚â•80%)
- ‚úÖ CI/CD pipeline (—Ç–µ—Å—Ç–∏, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è, —Ä–µ–ª—ñ–∑)
- ‚úÖ –ë–∞–≥–∞—Ç–æ–º–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (6 –º–æ–≤)
- ‚úÖ –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è –≤ PyPI + Docker + GitHub Action

---

## üéÜ WOW-–µ—Ñ–µ–∫—Ç: –ö–ª—é—á–æ–≤—ñ —Ñ—ñ—á—ñ

### Must-Have (—Ä–µ–∞–ª—ñ–∑—É—î–º–æ –≤ MVP)

1. **"Apply Suggestion" –∫–Ω–æ–ø–∫–∞** ‚Äî GitHub –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —è–∫ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É –∫–Ω–æ–ø–∫—É
2. **Severity Badges –∑ –µ–º–æ–¥–∑—ñ** ‚Äî –≤—ñ–∑—É–∞–ª—å–Ω–æ –∑—Ä–æ–∑—É–º—ñ–ª–æ –∑ –ø–µ—Ä—à–æ–≥–æ –ø–æ–≥–ª—è–¥—É
3. **Collapsible Learning Sections** ‚Äî —á–∏—Å—Ç–∏–π UI –∑ –≥–ª–∏–±–∏–Ω–æ—é –¥–ª—è —Ç–∏—Ö, —Ö—Ç–æ —Ö–æ—á–µ –≤—á–∏—Ç–∏—Å—è
4. **Before/After Diff Preview** ‚Äî –Ω–∞–æ—á–Ω–æ –ø–æ–∫–∞–∑—É—î —â–æ –∑–º—ñ–Ω–∏—Ç–∏
5. **Summary Card –∑ –º–µ—Ç—Ä–∏–∫–∞–º–∏** ‚Äî –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –≤–∏–≥–ª—è–¥
6. **Positive Feedback** ‚Äî –º–æ—Ç–∏–≤—É—î —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤, –≤—ñ–¥–∑–Ω–∞—á–∞—î —Ö–æ—Ä–æ—à—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏

---

## üìä –ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É

### –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –≤–∏–º–æ–≥–∏
1. ‚úÖ –ü—Ä–∞—Ü—é—î –Ω–∞ GitHub Actions —Ç–∞ GitLab CI
2. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∞—î –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (GitHub/GitLab)
3. ‚úÖ –ü—É–±–ª—ñ–∫—É—î **Inline Comments** –∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–º–∏ suggestions
4. ‚úÖ –í–∏–∑–Ω–∞—á–∞—î –º–æ–≤—É –∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É (PR –æ–ø–∏—Å, task, –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ)
5. ‚úÖ –ù–∞–¥–∞—î "–º–µ–Ω—Ç–æ—Ä—Å—å–∫—ñ" –ø–æ—è—Å–Ω–µ–Ω–Ω—è –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏ –Ω–∞ —Ä–µ—Å—É—Ä—Å–∏
6. ‚úÖ –ü–æ–∫–∞–∑—É—î –º–µ—Ç—Ä–∏–∫–∏ (—á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, —Ç–æ–∫–µ–Ω–∏, –≤–∞—Ä—Ç—ñ—Å—Ç—å)
7. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –Ω–∞ 6 –º–æ–≤–∞—Ö (uk, en, de, es, me, it)

### –¢–µ—Ö–Ω—ñ—á–Ω—ñ –≤–∏–º–æ–≥–∏
1. ‚úÖ –í—Å—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –ø—Ä–∞—Ü—é—é—Ç—å: ruff, mypy, pytest, pre-commit
2. ‚úÖ CI –ø—Ä–æ—Ö–æ–¥–∏—Ç—å: —è–∫—ñ—Å—Ç—å, —Ç–µ—Å—Ç–∏, –∑–±—ñ—Ä–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó
3. ‚úÖ CD –ø—Ä–∞—Ü—é—î: —Ç–µ–≥ ‚Üí PyPI + Docker + –¥–µ–ø–ª–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó
4. ‚úÖ –ü–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏ ‚â•80%
5. ‚úÖ Type hints –Ω–∞ –≤—Å—ñ—Ö —Ñ—É–Ω–∫—Ü—ñ—è—Ö
6. ‚úÖ Retry logic –¥–ª—è 429/5xx –ø–æ–º–∏–ª–æ–∫
7. ‚úÖ Fail Fast –∑ —á—ñ—Ç–∫–∏–º–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º–∏ –¥–ª—è 4xx –ø–æ–º–∏–ª–æ–∫

---

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### –í–∏—Å–æ–∫–æ—Ä—ñ–≤–Ω–µ–≤–∏–π –ø–æ—Ç—ñ–∫
```
PR/MR —Å—Ç–≤–æ—Ä–µ–Ω–æ/–æ–Ω–æ–≤–ª–µ–Ω–æ
    ‚Üì
CI –∑–∞–ø—É—â–µ–Ω–æ (GitHub Actions / GitLab CI)
    ‚Üì
–ü–µ—Ä–µ–≤—ñ—Ä–∫–∏ —è–∫–æ—Å—Ç—ñ (ruff, mypy)
    ‚Üì
–¢–µ—Å—Ç–∏ (pytest)
    ‚Üì
AI Reviewer Job
    ‚Üì
[–í–∏–∑–Ω–∞—á–∏—Ç–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞] ‚Üí [–û—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ MR/PR] ‚Üí [–û—Ç—Ä–∏–º–∞—Ç–∏ linked task]
    ‚Üì
[–í–∏–∑–Ω–∞—á–∏—Ç–∏ –º–æ–≤—É] ‚Üí [–ü–æ–±—É–¥—É–≤–∞—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç] ‚Üí [–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –¥–æ Gemini]
    ‚Üì
[–ü–∞—Ä—Å–∏—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å] ‚Üí [–§–æ—Ä–º–∞—Ç—É–≤–∞—Ç–∏ WOW-output]
    ‚Üì
[–û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ Inline Comments + Summary]
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥—É
```python
src/ai_reviewer/
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ models.py          # Pydantic –º–æ–¥–µ–ª—ñ (CodeIssue, GoodPractice, etc.)
‚îÇ   ‚îú‚îÄ‚îÄ config.py          # Settings + LanguageMode
‚îÇ   ‚îî‚îÄ‚îÄ formatter.py       # WOW-—Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è Markdown
‚îÇ
‚îú‚îÄ‚îÄ integrations/
‚îÇ   ‚îú‚îÄ‚îÄ base.py            # GitProvider ABC + LineComment
‚îÇ   ‚îú‚îÄ‚îÄ github.py          # GitHubClient(GitProvider)
‚îÇ   ‚îú‚îÄ‚îÄ gitlab.py          # GitLabClient(GitProvider)
‚îÇ   ‚îú‚îÄ‚îÄ gemini.py          # GeminiClient
‚îÇ   ‚îî‚îÄ‚îÄ prompts.py         # System prompt + prompt builder
‚îÇ
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ retry.py           # Retry decorators (tenacity)
‚îÇ   ‚îú‚îÄ‚îÄ time.py            # ensure_timezone utility
‚îÇ   ‚îî‚îÄ‚îÄ language.py        # Language detection helpers
‚îÇ
‚îú‚îÄ‚îÄ reviewer.py            # –û—Å–Ω–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—ó
‚îî‚îÄ‚îÄ cli.py                 # Typer CLI + auto-detection
```

### –ú–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö

```python
# === Enums ===
class LanguageMode(str, Enum):
    ADAPTIVE = "adaptive"  # –í–∏–∑–Ω–∞—á–∞—î –∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
    FIXED = "fixed"        # –ó–∞–≤–∂–¥–∏ –≤–∫–∞–∑–∞–Ω–∞ –º–æ–≤–∞

class IssueSeverity(str, Enum):
    CRITICAL = "critical"      # Must fix (security)
    WARNING = "warning"        # Should fix
    INFO = "info"              # Educational/minor

class IssueCategory(str, Enum):
    SECURITY = "security"
    CODE_QUALITY = "code_quality"
    ARCHITECTURE = "architecture"
    PERFORMANCE = "performance"
    TESTING = "testing"

# === Core Models ===
class CodeIssue(BaseModel):
    """–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ –º–æ–¥–µ–ª—å –¥–ª—è –≤—Å—ñ—Ö —Ç–∏–ø—ñ–≤ issues."""
    category: IssueCategory
    severity: IssueSeverity
    title: str
    description: str
    file_path: str | None = None
    line_number: int | None = None

    # –î–ª—è inline suggestions
    existing_code: str | None = None
    proposed_code: str | None = None

    # Educational (–¥–ª—è juniors)
    why_matters: str | None = None
    learn_more_url: str | None = None

class GoodPractice(BaseModel):
    """–ü–æ–∑–∏—Ç–∏–≤–Ω–∏–π —Ñ—ñ–¥–±–µ–∫ –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü—ñ—ó."""
    description: str
    file_path: str | None = None

class ReviewMetrics(BaseModel):
    """–ú–µ—Ç—Ä–∏–∫–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–µ–≤ º—é."""
    duration_seconds: float
    input_tokens: int
    output_tokens: int
    total_tokens: int
    estimated_cost_usd: float

class ReviewResult(BaseModel):
    """–†–µ–∑—É–ª—å—Ç–∞—Ç AI —Ä–µ–≤ º—é."""
    summary: str
    issues: tuple[CodeIssue, ...]
    good_practices: tuple[GoodPractice, ...]
    task_alignment: TaskAlignmentStatus
    task_alignment_reasoning: str
    metrics: ReviewMetrics
    detected_language: str

# === Git Provider Abstraction ===
@dataclass
class LineComment:
    """–ö–æ–º–µ–Ω—Ç–∞—Ä –¥–ª—è –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó –≤ Git."""
    path: str
    line: int
    body: str
    suggestion: str | None = None

class GitProvider(ABC):
    @abstractmethod
    def get_merge_request(self, mr_id: int) -> MergeRequest: ...

    @abstractmethod
    def get_linked_task(self, mr: MergeRequest) -> LinkedTask | None: ...

    @abstractmethod
    def submit_review(
        self,
        mr_id: int,
        summary: str,
        line_comments: list[LineComment]
    ) -> None: ...
```

---

## üìã –ë–µ–∫–ª–æ–≥ —Å–ø—Ä—ñ–Ω—Ç—É (10 –∑–∞–≤–¥–∞–Ω—å)

### –ó–∞–≤–¥–∞–Ω–Ω—è 1: –§—É–Ω–¥–∞–º–µ–Ω—Ç —Ç–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è üîß
**–ú–µ—Ç–∞:** –ó–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ —Å—Ç–∞–±—ñ–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫ CLI —Ç–∞ –∫–æ—Ä–µ–∫—Ç–Ω—É —Ä–æ–±–æ—Ç—É

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û—á—ñ–∫—É—î
**–û—Ü—ñ–Ω–∫–∞ —á–∞—Å—É:** 2 –≥–æ–¥–∏–Ω–∏

**–ö—Ä–æ–∫–∏:**
1. –í–∏–ø—Ä–∞–≤–∏—Ç–∏ entry point –≤ `pyproject.toml` (app –∑–∞–º—ñ—Å—Ç—å main)
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ `ensure_timezone()` —É—Ç–∏–ª—ñ—Ç—É –¥–ª—è datetime
3. –î–æ–¥–∞—Ç–∏ `LanguageMode` enum –≤ Settings
4. –î–æ–¥–∞—Ç–∏ `api_timeout` –≤ Settings
5. –î–æ–¥–∞—Ç–∏ `@lru_cache` –¥–ª—è `get_settings()`
6. –û–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ (tenacity, structlog)

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è:**
- ‚úÖ `ai-review --help` –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ Pydantic –Ω–µ –ø–∞–¥–∞—î –ø—Ä–∏ –æ–±—Ä–æ–±—Ü—ñ –¥–∞—Ç
- ‚úÖ –ù–æ–≤—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø–Ω—ñ —á–µ—Ä–µ–∑ env vars

**–§–∞–π–ª–∏:**
- `pyproject.toml` (–≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è)
- `src/ai_reviewer/core/config.py` (–æ–Ω–æ–≤–ª–µ–Ω–Ω—è)
- `src/ai_reviewer/utils/time.py` (–Ω–æ–≤–∏–π)

---

### –ó–∞–≤–¥–∞–Ω–Ω—è 2: –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ñ–≤ (Adapter) üîå
**–ú–µ—Ç–∞:** –£–Ω—ñ—Ñ—ñ–∫—É–≤–∞—Ç–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è GitHub/GitLab –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é Inline Comments

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û—á—ñ–∫—É—î
**–û—Ü—ñ–Ω–∫–∞ —á–∞—Å—É:** 3 –≥–æ–¥–∏–Ω–∏

**–ö—Ä–æ–∫–∏:**
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ `GitProvider` ABC –≤ `base.py`
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ `LineComment` dataclass
3. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç–∏ `GitHubClient` –¥–ª—è –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è `GitProvider`
4. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `submit_review()` –∑ batch posting
5. –û–Ω–æ–≤–∏—Ç–∏ `reviewer.py` –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è:**
- ‚úÖ `GitHubClient` —ñ–º–ø–ª–µ–º–µ–Ω—Ç—É—î `GitProvider`
- ‚úÖ `reviewer.py` –Ω–µ —ñ–º–ø–æ—Ä—Ç—É—î –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∫–ª—ñ—î–Ω—Ç–∏ –Ω–∞–ø—Ä—è–º—É
- ‚úÖ Inline comments –ø—É–±–ª—ñ–∫—É—é—Ç—å—Å—è —á–µ—Ä–µ–∑ GitHub Review API

**–§–∞–π–ª–∏:**
- `src/ai_reviewer/integrations/base.py` (–Ω–æ–≤–∏–π)
- `src/ai_reviewer/integrations/github.py` (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥)
- `src/ai_reviewer/reviewer.py` (–æ–Ω–æ–≤–ª–µ–Ω–Ω—è)

---

### –ó–∞–≤–¥–∞–Ω–Ω—è 3: –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è GitLab ü¶ä
**–ú–µ—Ç–∞:** –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–æ–≤–Ω—É –ø—ñ–¥—Ç—Ä–∏–º–∫—É GitLab API

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û—á—ñ–∫—É—î
**–û—Ü—ñ–Ω–∫–∞ —á–∞—Å—É:** 4 –≥–æ–¥–∏–Ω–∏

**–ö—Ä–æ–∫–∏:**
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ `GitLabClient(GitProvider)` –≤ `gitlab.py`
2. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `get_merge_request()` –∑ –º–∞–ø–ø—ñ–Ω–≥–æ–º –ø–æ–ª—ñ–≤
3. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `get_linked_task()` —á–µ—Ä–µ–∑ regex
4. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `submit_review()` —á–µ—Ä–µ–∑ Discussions API
5. –î–æ–¥–∞—Ç–∏ `GITLAB_TOKEN`, `GITLAB_URL` –≤ Settings
6. –û–Ω–æ–≤–∏—Ç–∏ CLI –¥–ª—è GitLab context extraction
7. –ù–∞–ø–∏—Å–∞—Ç–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è:**
- ‚úÖ `ai-review --provider gitlab` –ø—Ä–∞—Ü—é—î
- ‚úÖ Inline comments –∑'—è–≤–ª—è—é—Ç—å—Å—è —è–∫ Threads –≤ GitLab
- ‚úÖ Self-hosted GitLab –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ `GITLAB_URL`

**GitLab CI –∑–º—ñ–Ω–Ω—ñ:**
```bash
CI_MERGE_REQUEST_IID      # –ù–æ–º–µ—Ä MR
CI_PROJECT_PATH           # owner/repo
CI_SERVER_URL             # URL —ñ–Ω—Å—Ç–∞–Ω—Å—É
GITLAB_TOKEN              # Access token
```

**–§–∞–π–ª–∏:**
- `src/ai_reviewer/integrations/gitlab.py` (–Ω–æ–≤–∏–π, ~250 —Ä—è–¥–∫—ñ–≤)
- `src/ai_reviewer/core/config.py` (–æ–Ω–æ–≤–ª–µ–Ω–Ω—è)
- `src/ai_reviewer/cli.py` (–æ–Ω–æ–≤–ª–µ–Ω–Ω—è)
- `tests/integration/test_gitlab.py` (–Ω–æ–≤–∏–π)

---

### –ó–∞–≤–¥–∞–Ω–Ω—è 4a: –ú–æ–≤–Ω–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å üåç
**–ú–µ—Ç–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –º–æ–≤–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é ISO 639

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ
**–û—Ü—ñ–Ω–∫–∞ —á–∞—Å—É:** 3 –≥–æ–¥–∏–Ω–∏

**–ê–ª–≥–æ—Ä–∏—Ç–º "Proximity Rule":**
1. –ó—ñ–±—Ä–∞—Ç–∏ —Ç–µ–∫—Å—Ç–∏: `[Task.desc, MR.desc, Comments...]`
2. –í—ñ–¥—Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –∫–æ—Ä–æ—Ç–∫—ñ (< 20 —Å–ª—ñ–≤)
3. –í–∑—è—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ–π –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–æ–≤–≥–∏–π —Ç–µ–∫—Å—Ç
4. –í–∫–ª—é—á–∏—Ç–∏ –≤ prompt —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é –¥–ª—è LLM –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –º–æ–≤—É

**–í–∞–ª—ñ–¥–∞—Ü—ñ—è –º–æ–≤–Ω–æ–≥–æ –∫–æ–¥—É (ISO 639):**
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É `python-iso639` –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `LANGUAGE`:
- –ü—Ä–∏–π–º–∞—é—Ç—å—Å—è –≤—Å—ñ –≤–∞–ª—ñ–¥–Ω—ñ ISO 639 –∫–æ–¥–∏ (639-1, 639-2, 639-3)
- –ü—Ä–∏–π–º–∞—é—Ç—å—Å—è –Ω–∞–∑–≤–∏ –º–æ–≤ (English, Ukrainian, Deutsch...)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–æ ISO 639-1 (–¥–≤–æ–ª—ñ—Ç–µ—Ä–Ω–∏–π –∫–æ–¥)
- –î–ª—è –º–æ–≤ –±–µ–∑ ISO 639-1 –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è ISO 639-3

```python
# –ü—Ä–∏–∫–ª–∞–¥–∏ –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó:
"en" ‚Üí "en"           # ISO 639-1 –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è
"ukr" ‚Üí "uk"          # ISO 639-3 ‚Üí ISO 639-1
"Ukrainian" ‚Üí "uk"    # –ù–∞–∑–≤–∞ ‚Üí ISO 639-1
"yue" ‚Üí "yue"         # Cantonese (–Ω–µ–º–∞—î 639-1, –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è 639-3)
"invalid" ‚Üí ValidationError  # –ù–µ–≤–∞–ª—ñ–¥–Ω–∏–π –∫–æ–¥
```

**–ö—Ä–æ–∫–∏:**
1. ‚úÖ –î–æ–¥–∞—Ç–∏ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å `python-iso639` –≤ `pyproject.toml`
2. ‚úÖ –°—Ç–≤–æ—Ä–∏—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ç–æ—Ä `_validate_language_code()` –≤ `config.py`
3. ‚úÖ –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ç–æ—Ä –¥–æ –ø–æ–ª—è `language` –≤ Settings
4. ‚úÖ –ù–∞–ø–∏—Å–∞—Ç–∏ —Ç–µ—Å—Ç–∏ –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –º–æ–≤–∏
5. ‚úÖ –°—Ç–≤–æ—Ä–∏—Ç–∏ `src/ai_reviewer/utils/language.py`
6. ‚úÖ –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `collect_text_samples()`, `build_language_instruction()`
7. ‚úÖ –û–Ω–æ–≤–∏—Ç–∏ system prompt –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—ñ
8. ‚úÖ –î–æ–¥–∞—Ç–∏ `detected_language` –≤ `ReviewResult`
9. ‚úÖ –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –≤ `reviewer.py`
10. ‚úÖ –ù–∞–ø–∏—Å–∞—Ç–∏ —Ç–µ—Å—Ç–∏ (15 –Ω–æ–≤–∏—Ö —Ç–µ—Å—Ç—ñ–≤)

**–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è:**
```bash
LANGUAGE=uk              # –ú–æ–≤–∞ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º (ISO 639 –∫–æ–¥ –∞–±–æ –Ω–∞–∑–≤–∞)
LANGUAGE_MODE=adaptive   # adaptive | fixed
```

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è:**
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è –º–æ–≤–Ω–æ–≥–æ –∫–æ–¥—É –∑–∞ ISO 639 (–≤—Å—ñ —á–∞—Å—Ç–∏–Ω–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É)
- ‚úÖ –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–æ ISO 639-1 –¥–µ –º–æ–∂–ª–∏–≤–æ
- ‚úÖ –ß—ñ—Ç–∫—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏ –¥–ª—è –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏—Ö –∫–æ–¥—ñ–≤
- ‚úÖ –ë–æ—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é, —è–∫—â–æ PR description —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é
- ‚úÖ `LANGUAGE_MODE=fixed` –ø—Ä–∏–º—É—Å–æ–≤–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `LANGUAGE`
- ‚úÖ Fallback –Ω–∞ –∞–Ω–≥–ª—ñ–π—Å—å–∫—É —è–∫—â–æ –Ω–µ –≤–¥–∞–ª–æ—Å—è –≤–∏–∑–Ω–∞—á–∏—Ç–∏

**üá∫üá¶ –°–ø–µ—Ü—ñ–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è —Ä–æ—Å—ñ–π—Å—å–∫–æ—ó –º–æ–≤–∏:**

–ü—Ä–∏ –≤–∏–±–æ—Ä—ñ —Ä–æ—Å—ñ–π—Å—å–∫–æ—ó –º–æ–≤–∏ (`ru`, `rus`, `Russian`) –¥–æ –∫–æ–∂–Ω–æ–≥–æ issue review –¥–æ–¥–∞—î—Ç—å—Å—è footer:

```markdown
<sub>–∫–∞–∂–¥—ã–π —Ä–æ—Å—Å–∏—è–Ω–∏–Ω, –∏–º–µ—é—â–∏–π —á–µ—Å—Ç—å, –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å –≤—Å–µ –¥–ª—è –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è
—É–∫—Ä–∞–¥–µ–Ω–Ω–æ–≥–æ/—É–Ω–∏—á—Ç–æ–∂–µ–Ω–Ω–æ–≥–æ –µ–≥–æ —Å—Ç—Ä–∞–Ω–æ–π –≤ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∞—Ö –∏ —É—á–∏—Ç—å —ç—Ç–æ–º—É —Å–≤–æ–∏—Ö –¥–µ—Ç–µ–π.
–°–ª–∞–≤–∞ –£–∫—Ä–∞–∏–Ω–µ!</sub>
```

–¶–µ —Ä–µ–∞–ª—ñ–∑—É—î—Ç—å—Å—è –≤ `formatter.py` –ø—Ä–∏ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—ñ inline comments —Ç–∞ summary.

**–§–∞–π–ª–∏:**
- `pyproject.toml` (–∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å python-iso639) ‚úÖ
- `src/ai_reviewer/core/config.py` (–≤–∞–ª—ñ–¥–∞—Ç–æ—Ä ISO 639) ‚úÖ
- `src/ai_reviewer/utils/language.py` (–Ω–æ–≤–∏–π) ‚úÖ
- `src/ai_reviewer/integrations/prompts.py` (–æ–Ω–æ–≤–ª–µ–Ω–Ω—è) ‚úÖ
- `src/ai_reviewer/core/models.py` (detected_language) ‚úÖ
- `src/ai_reviewer/core/formatter.py` (footer –¥–ª—è —Ä–æ—Å—ñ–π—Å—å–∫–æ—ó) ‚úÖ
- `src/ai_reviewer/reviewer.py` (—ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è) ‚úÖ
- `tests/unit/test_language.py` (–Ω–æ–≤–∏–π, 15 —Ç–µ—Å—Ç—ñ–≤) ‚úÖ

---

### –ó–∞–≤–¥–∞–Ω–Ω—è 4b: –†–æ–∑—à–∏—Ä–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–≤ º—é —Ç–∞ WOW-—Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è üé®
**–ú–µ—Ç–∞:** –°—Ç–≤–æ—Ä–∏—Ç–∏ –≤—ñ–∑—É–∞–ª—å–Ω–æ –ø—Ä–∏–≤–∞–±–ª–∏–≤–∏–π, —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–∏–π output

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û—á—ñ–∫—É—î
**–û—Ü—ñ–Ω–∫–∞ —á–∞—Å—É:** 4 –≥–æ–¥–∏–Ω–∏

**–í–∫–ª—é—á–∞—î:**
1. Unified `CodeIssue` –º–æ–¥–µ–ª—å –∑ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏
2. `GoodPractice` –¥–ª—è –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–≥–æ —Ñ—ñ–¥–±–µ–∫—É
3. `why_matters` + `learn_more_url` –¥–ª—è –Ω–∞–≤—á–∞–Ω–Ω—è
4. WOW-—Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –≤ Markdown

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ output:**
```markdown
# ü§ñ AI Code Review

## üìä Summary
Brief overview + metrics table

## üîí Security Issues (if any)
Critical issues with Apply Suggestion buttons

## üìù Code Quality
Suggestions with Before/After diffs

## üí° Learning Points
<details>
<summary>Why is this important?</summary>
Explanation + resources
</details>

## ‚ú® Good Practices
Positive feedback to motivate!

## üìã Task Alignment
Does code match requirements?

---
‚è±Ô∏è 2.3s | ü™ô 1540 tokens | üí∞ ~$0.003
```

**–ö—Ä–æ–∫–∏:**
1. –û–Ω–æ–≤–∏—Ç–∏ –º–æ–¥–µ–ª—ñ –≤ `models.py`
2. –û–Ω–æ–≤–∏—Ç–∏ system prompt –≤ `prompts.py`
3. –ü–µ—Ä–µ–ø–∏—Å–∞—Ç–∏ `formatter.py` –∑ WOW-—Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è–º
4. –î–æ–¥–∞—Ç–∏ GitHub suggestion syntax
5. –î–æ–¥–∞—Ç–∏ collapsible sections

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è:**
- ‚úÖ Inline comments –º–∞—é—Ç—å "Apply suggestion" –∫–Ω–æ–ø–∫—É
- ‚úÖ Learning sections —î collapsible
- ‚úÖ Good practices –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è
- ‚úÖ Summary –º—ñ—Å—Ç–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏

**–§–∞–π–ª–∏:**
- `src/ai_reviewer/core/models.py` (–æ–Ω–æ–≤–ª–µ–Ω–Ω—è)
- `src/ai_reviewer/core/formatter.py` (–ø–µ—Ä–µ–ø–∏—Å–∞—Ç–∏)
- `src/ai_reviewer/integrations/prompts.py` (–æ–Ω–æ–≤–ª–µ–Ω–Ω—è)

---

### –ó–∞–≤–¥–∞–Ω–Ω—è 4c: –ú–µ—Ç—Ä–∏–∫–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è üìà
**–ú–µ—Ç–∞:** –í—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏ —á–∞—Å, —Ç–æ–∫–µ–Ω–∏ —Ç–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û—á—ñ–∫—É—î
**–û—Ü—ñ–Ω–∫–∞ —á–∞—Å—É:** 2 –≥–æ–¥–∏–Ω–∏

**–ö—Ä–æ–∫–∏:**
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ `ReviewMetrics` –º–æ–¥–µ–ª—å
2. –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É–≤–∞—Ç–∏ `GeminiClient` –¥–ª—è –∑–±–æ—Ä—É –º–µ—Ç—Ä–∏–∫
3. –û–±—á–∏—Å–ª—é–≤–∞—Ç–∏ estimated cost (Gemini pricing)
4. –î–æ–¥–∞—Ç–∏ footer –∑ –º–µ—Ç—Ä–∏–∫–∞–º–∏ –≤ output

**Pricing (Gemini Flash):**
```python
GEMINI_FLASH_PRICING = {
    "input": 0.075 / 1_000_000,   # $0.075 per 1M tokens
    "output": 0.30 / 1_000_000,   # $0.30 per 1M tokens
}
```

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è:**
- ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ –∑–±–∏—Ä–∞—é—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å —Ä–µ–≤ º—é
- ‚úÖ Footer –ø–æ–∫–∞–∑—É—î: ‚è±Ô∏è Xs | ü™ô N tokens | üí∞ ~$X.XXX
- ‚úÖ –í–∞—Ä—Ç—ñ—Å—Ç—å –æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ

**–§–∞–π–ª–∏:**
- `src/ai_reviewer/core/models.py` (ReviewMetrics)
- `src/ai_reviewer/integrations/gemini.py` (—ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ü—ñ—è)
- `src/ai_reviewer/core/formatter.py` (footer)

---

### –ó–∞–≤–¥–∞–Ω–Ω—è 5: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è —Ç–∞ –ª–æ–∫–∞–ª—å–Ω–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ üê≥
**–ú–µ—Ç–∞:** –ü—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ Docker image —Ç–∞ GitHub Action –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ—ó –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û—á—ñ–∫—É—î
**–û—Ü—ñ–Ω–∫–∞ —á–∞—Å—É:** 3 –≥–æ–¥–∏–Ω–∏

**–ö—Ä–æ–∫–∏:**
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ multi-stage `Dockerfile`
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ `action.yml` –¥–ª—è GitHub Action
3. –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥–∏ CI –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π
4. –°—Ç–≤–æ—Ä–∏—Ç–∏ `.dockerignore` –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –∑–±—ñ—Ä–∫–∏

**Dockerfile:**
```dockerfile
# Stage 1: Builder
FROM python:3.13-slim as builder
WORKDIR /app
RUN pip install uv
COPY pyproject.toml uv.lock ./
RUN uv export > requirements.txt
RUN pip install --target=/deps -r requirements.txt

# Stage 2: Runtime
FROM python:3.13-slim
COPY --from=builder /deps /usr/local/lib/python3.13/site-packages
COPY src/ /app/src/
WORKDIR /app
ENTRYPOINT ["python", "-m", "ai_reviewer.cli"]
```

**GitHub Action (action.yml):**
```yaml
name: 'AI Code Reviewer'
description: 'AI-powered code review with inline suggestions'
branding:
  icon: 'eye'
  color: 'purple'
inputs:
  google_api_key:
    description: 'Google Gemini API Key'
    required: true
  language:
    description: 'Response language (en, uk, de, etc.)'
    default: 'en'
  language_mode:
    description: 'adaptive or fixed'
    default: 'adaptive'
runs:
  using: 'composite'
  steps:
    - uses: actions/setup-python@v5
      with:
        python-version: '3.13'
    - run: pip install ai-reviewbot
      shell: bash
    - run: ai-review
      shell: bash
      env:
        GITHUB_TOKEN: ${{ github.token }}
        GOOGLE_API_KEY: ${{ inputs.google_api_key }}
        LANGUAGE: ${{ inputs.language }}
        LANGUAGE_MODE: ${{ inputs.language_mode }}
```

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è (GitHub):**
```yaml
# .github/workflows/review.yml
- uses: KonstZiv/ai-code-reviewer@v1
  with:
    google_api_key: ${{ secrets.GOOGLE_API_KEY }}
    language: uk
```

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è (GitLab):**
```yaml
# .gitlab-ci.yml
ai-review:
  image: ghcr.io/konstziv/ai-reviewbot:1
  script:
    - ai-review
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
  variables:
    GITLAB_TOKEN: $CI_JOB_TOKEN
    GOOGLE_API_KEY: $GOOGLE_API_KEY
```

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è:**
- ‚úÖ Docker image –∑–±–∏—Ä–∞—î—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ —Ç–∞ –ø—Ä–∞—Ü—é—î
- ‚úÖ `action.yml` —Å—Ç–≤–æ—Ä–µ–Ω–æ —Ç–∞ –≤–∞–ª—ñ–¥–Ω–∏–π
- ‚úÖ –ü—Ä–∏–∫–ª–∞–¥–∏ CI –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π –≥–æ—Ç–æ–≤—ñ

**–§–∞–π–ª–∏:**
- `Dockerfile` (–Ω–æ–≤–∏–π)
- `.dockerignore` (–Ω–æ–≤–∏–π)
- `action.yml` (–Ω–æ–≤–∏–π)
- `examples/github-workflow.yml` (–Ω–æ–≤–∏–π)
- `examples/gitlab-ci.yml` (–Ω–æ–≤–∏–π)
- `examples/README.md` (–Ω–æ–≤–∏–π)

> **–ü—Ä–∏–º—ñ—Ç–∫–∞:** –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è Docker image –Ω–∞ GHCR/DockerHub —Ç–∞ GitHub Marketplace –≤–∏–Ω–µ—Å–µ–Ω–∞ –≤ –ó–∞–≤–¥–∞–Ω–Ω—è 8 (CI/CD Pipeline)

---

### –ó–∞–≤–¥–∞–Ω–Ω—è 6: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —Å—Ç—ñ–π–∫—ñ—Å—Ç—å üß™
**–ú–µ—Ç–∞:** Graceful degradation —Ç–∞ comprehensive testing

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û—á—ñ–∫—É—î
**–û—Ü—ñ–Ω–∫–∞ —á–∞—Å—É:** 4 –≥–æ–¥–∏–Ω–∏

**Retry Logic (–∑ tenacity):**
```python
from tenacity import retry, stop_after_attempt, wait_exponential, retry_if_exception_type

@retry(
    retry=retry_if_exception_type((RateLimitError, ServerError)),
    wait=wait_exponential(multiplier=1, min=2, max=30),
    stop=stop_after_attempt(5),
    before_sleep=log_retry_attempt
)
def api_call(): ...
```

**Fail Fast (–±–µ–∑ retry):**
- `401 Unauthorized` ‚Üí Exit("‚ùå Invalid Token")
- `403 Forbidden` ‚Üí Exit("‚ùå Permission Denied")
- `404 Not Found` ‚Üí Exit("‚ùå PR/Repo not found")

**CLI Tests:**
```python
# tests/unit/test_cli.py
def test_detect_provider_github():
    with mock.patch.dict(os.environ, {"GITHUB_ACTIONS": "true"}):
        assert detect_provider() == Provider.GITHUB

def test_extract_github_context():
    # Mock GITHUB_EVENT_PATH with PR payload
    ...

def test_main_missing_config():
    # Should exit with clear error message
    ...
```

**–ö—Ä–æ–∫–∏:**
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ `src/ai_reviewer/utils/retry.py`
2. –î–æ–¥–∞—Ç–∏ retry decorators –¥–æ API clients
3. –°—Ç–≤–æ—Ä–∏—Ç–∏ error handling wrapper
4. –ù–∞–ø–∏—Å–∞—Ç–∏ unit tests –¥–ª—è CLI (‚â•80% coverage)
5. –ù–∞–ø–∏—Å–∞—Ç–∏ integration tests –¥–ª—è retry logic

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è:**
- ‚úÖ –ë–æ—Ç —Ä–æ–±–∏—Ç—å retry –ø—Ä–∏ 429/5xx (–¥–æ 5 —Å–ø—Ä–æ–±)
- ‚úÖ –ë–æ—Ç –≤–∏—Ö–æ–¥–∏—Ç—å –∑ —á—ñ—Ç–∫–∏–º –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º –ø—Ä–∏ 4xx
- ‚úÖ CLI –º–∞—î ‚â•80% test coverage
- ‚úÖ –õ–æ–≥–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ (–¥–ª—è CI –ø–∞—Ä—Å–∏–Ω–≥—É)

**–§–∞–π–ª–∏:**
- `src/ai_reviewer/utils/retry.py` (–Ω–æ–≤–∏–π)
- `tests/unit/test_cli.py` (–Ω–æ–≤–∏–π)
- `tests/integration/test_retry.py` (–Ω–æ–≤–∏–π)

---

### –ó–∞–≤–¥–∞–Ω–Ω—è 7: –ë–∞–≥–∞—Ç–æ–º–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è üìö
**–ú–µ—Ç–∞:** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –Ω–∞ 6 –º–æ–≤–∞—Ö

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û—á—ñ–∫—É—î
**–û—Ü—ñ–Ω–∫–∞ —á–∞—Å—É:** 4 –≥–æ–¥–∏–Ω–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
docs/
‚îú‚îÄ‚îÄ index.md              # Redirect to /en/
‚îú‚îÄ‚îÄ en/
‚îÇ   ‚îú‚îÄ‚îÄ index.md          # Overview
‚îÇ   ‚îú‚îÄ‚îÄ quick-start.md    # 5-minute setup
‚îÇ   ‚îú‚îÄ‚îÄ configuration.md  # All env vars
‚îÇ   ‚îú‚îÄ‚îÄ github-setup.md   # GitHub Actions guide
‚îÇ   ‚îî‚îÄ‚îÄ gitlab-setup.md   # GitLab CI guide
‚îú‚îÄ‚îÄ uk/                   # Ukrainian
‚îú‚îÄ‚îÄ de/                   # German
‚îú‚îÄ‚îÄ es/                   # Spanish
‚îú‚îÄ‚îÄ me/                   # Montenegrin
‚îî‚îÄ‚îÄ it/                   # Italian
```

**mkdocs.yml:**
```yaml
plugins:
  - i18n:
      default_language: en
      languages:
        en: English
        uk: –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞
        de: Deutsch
        es: Espa√±ol
        me: Crnogorski
        it: Italiano
```

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è:**
- ‚úÖ –ü–µ—Ä–µ–º–∏–∫–∞—á –º–æ–≤ –ø—Ä–∞—Ü—é—î
- ‚úÖ –í—Å—ñ –º–æ–≤–∏ –º–∞—é—Ç—å –±–∞–∑–æ–≤—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–µ–ø–ª–æ—ó—Ç—å—Å—è

**–§–∞–π–ª–∏:**
- `docs/*/` (6 –º–æ–≤ √ó 5 –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤)
- `mkdocs.yml` (–æ–Ω–æ–≤–ª–µ–Ω–Ω—è)

---

### –ó–∞–≤–¥–∞–Ω–Ω—è 8: CI/CD Pipeline —Ç–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è üîÑ
**–ú–µ—Ç–∞:** –ü–æ–≤–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è release –ø—Ä–æ—Ü–µ—Å—É + –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è –Ω–∞ –≤—Å—ñ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö

**–°—Ç–∞—Ç—É—Å:** üöß –í —Ä–æ–±–æ—Ç—ñ
**–û—Ü—ñ–Ω–∫–∞ —á–∞—Å—É:** 4 –≥–æ–¥–∏–Ω–∏
**–í–µ—Ä—Å—ñ—è —Ä–µ–ª—ñ–∑—É:** `1.0.0a1`

---

#### –û—á—ñ–∫—É–≤–∞–Ω—ñ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∏ —Ä–µ–ª—ñ–∑—É

| –ê—Ä—Ç–µ—Ñ–∞–∫—Ç | –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | –û–ø–∏—Å |
|----------|-----------|------|
| README.md | GitHub | –Ø–∫—ñ—Å–Ω–∏–π –æ–ø–∏—Å –∑ badges, quick start, –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏ |
| PyPI package | pypi.org | `pip install ai-reviewbot` |
| Docker image | DockerHub | `konstziv/ai-reviewbot` |
| Docker image | GHCR | `ghcr.io/konstziv/ai-reviewbot` |
| GitHub Action | Marketplace | `uses: KonstZiv/ai-code-reviewer@v1` |
| Documentation | GitHub Pages | 6 –º–æ–≤, –¥–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è |

---

#### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ workflows

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤:**
```
.github/workflows/
‚îú‚îÄ‚îÄ tests.yml           # PR/push ‚Üí —Ç–µ—Å—Ç–∏ + quality checks
‚îú‚îÄ‚îÄ docs.yml            # push to main ‚Üí GitHub Pages
‚îú‚îÄ‚îÄ release.yml         # tag v*.*.* ‚Üí PyPI + GitHub Release
‚îú‚îÄ‚îÄ docker-publish.yml  # –ø—ñ—Å–ª—è release ‚Üí GHCR + DockerHub
‚îî‚îÄ‚îÄ ai-review.yml       # PR ‚Üí self-review (dogfooding)
```

**–ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –ø—Ä–∏ —Ä–µ–ª—ñ–∑—ñ:**
```
git push --tags (v1.0.0a1)
    ‚îÇ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  release.yml                        ‚îÇ
‚îÇ  ‚îú‚îÄ test (quality + pytest)         ‚îÇ
‚îÇ  ‚îú‚îÄ build (uv build ‚Üí dist/)        ‚îÇ
‚îÇ  ‚îú‚îÄ publish-to-pypi                 ‚îÇ
‚îÇ  ‚îî‚îÄ github-release                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ workflow_call (on success)
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  docker-publish.yml                 ‚îÇ
‚îÇ  ‚îú‚îÄ build multi-arch (amd64+arm64)  ‚îÇ
‚îÇ  ‚îú‚îÄ push to GHCR                    ‚îÇ
‚îÇ  ‚îî‚îÄ push to DockerHub               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

push to main (–æ–∫—Ä–µ–º–æ)
    ‚îÇ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  docs.yml                           ‚îÇ
‚îÇ  ‚îî‚îÄ deploy to GitHub Pages          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–†—ñ—à–µ–Ω–Ω—è:**
- Docs deploy: —Ç—ñ–ª—å–∫–∏ –Ω–∞ push to main (–∑–∞–≤–∂–¥–∏ –∞–∫—Ç—É–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è)
- Docker publish: **–ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ –ø—ñ—Å–ª—è PyPI** (–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ñ–≤)
- action.yml: **pre-built image** (—à–≤–∏–¥–∫—ñ—Å—Ç—å –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤)

---

#### 8.1 Docker –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è (GHCR + DockerHub)

**docker-publish.yml:**
```yaml
name: Docker Publish

on:
  workflow_call:  # –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –∑ release.yml –ø—ñ—Å–ª—è —É—Å–ø—ñ—Ö—É
  workflow_dispatch:  # –†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

env:
  REGISTRY_GHCR: ghcr.io
  REGISTRY_DOCKER: docker.io
  IMAGE_NAME: ${{ github.repository }}

jobs:
  build-and-push:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      packages: write

    steps:
      - uses: actions/checkout@v4

      - name: Set up QEMU
        uses: docker/setup-qemu-action@v3

      - name: Set up Docker Buildx
        uses: docker/setup-buildx-action@v3

      - name: Log in to GHCR
        uses: docker/login-action@v3
        with:
          registry: ${{ env.REGISTRY_GHCR }}
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Log in to DockerHub
        uses: docker/login-action@v3
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Extract metadata
        id: meta
        uses: docker/metadata-action@v5
        with:
          images: |
            ${{ env.REGISTRY_GHCR }}/${{ env.IMAGE_NAME }}
            ${{ env.REGISTRY_DOCKER }}/konstziv/ai-reviewbot
          tags: |
            type=semver,pattern={{version}}
            type=semver,pattern={{major}}.{{minor}}
            type=semver,pattern={{major}}
            type=raw,value=latest,enable=${{ !contains(github.ref, 'alpha') && !contains(github.ref, 'beta') && !contains(github.ref, 'rc') }}

      - name: Build and push
        uses: docker/build-push-action@v6
        with:
          context: .
          platforms: linux/amd64,linux/arm64
          push: true
          tags: ${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          cache-from: type=gha
          cache-to: type=gha,mode=max
```

**DOCKERHUB_README.md:**
- –ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å –ø—Ä–æ—î–∫—Ç—É
- Quick start –∑ `docker run`
- –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ø–æ–≤–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é
- Badges (version, pulls, size)

**Secrets –ø–æ—Ç—Ä—ñ–±–Ω—ñ:**
- `DOCKERHUB_USERNAME` ‚Äî username –Ω–∞ DockerHub
- `DOCKERHUB_TOKEN` ‚Äî Access Token (–Ω–µ –ø–∞—Ä–æ–ª—å!)

---

#### 8.2 GitHub Marketplace –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è

**–í–∏–º–æ–≥–∏ –¥–ª—è Marketplace:**
1. –†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –º–∞—î –±—É—Ç–∏ **–ø—É–±–ª—ñ—á–Ω–∏–º** ‚úÖ
2. `action.yml` –≤ –∫–æ—Ä–µ–Ω—ñ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é ‚úÖ
3. –°—Ç–≤–æ—Ä–∏—Ç–∏ **Release** –∑ semantic version tag
4. –î–µ—Ç–∞–ª—å–Ω–∏–π **README.md** –∑ –ø—Ä–∏–∫–ª–∞–¥–∞–º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

**action.yml –∑ pre-built image:**
```yaml
name: 'AI Code Reviewer'
description: 'AI-powered code review with inline suggestions and Apply button'
author: 'Kostyantin Zivenko'

branding:
  icon: 'code'
  color: 'blue'

inputs:
  github_token:
    description: 'GitHub token for API access (usually secrets.GITHUB_TOKEN)'
    required: true
  google_api_key:
    description: 'Google API key for Gemini'
    required: true
  language:
    description: 'Response language (ISO 639 code, e.g., en, uk, de)'
    required: false
    default: 'en'
  language_mode:
    description: 'Language mode: adaptive (detect from PR) or fixed'
    required: false
    default: 'adaptive'
  gemini_model:
    description: 'Gemini model to use'
    required: false
    default: 'gemini-2.5-flash'
  log_level:
    description: 'Log level (DEBUG, INFO, WARNING, ERROR)'
    required: false
    default: 'INFO'

runs:
  using: 'docker'
  image: 'docker://ghcr.io/konstziv/ai-reviewbot:1'  # Pre-built –¥–ª—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ
  env:
    GITHUB_TOKEN: ${{ inputs.github_token }}
    GOOGLE_API_KEY: ${{ inputs.google_api_key }}
    LANGUAGE: ${{ inputs.language }}
    LANGUAGE_MODE: ${{ inputs.language_mode }}
    GEMINI_MODEL: ${{ inputs.gemini_model }}
    LOG_LEVEL: ${{ inputs.log_level }}
    GITHUB_ACTIONS: 'true'
```

**–ö—Ä–æ–∫–∏ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó –Ω–∞ Marketplace:**
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ Release –∑ —Ç–µ–≥–æ–º `v1.0.0a1`
2. –ü–æ—Å—Ç–∞–≤–∏—Ç–∏ –≥–∞–ª–æ—á–∫—É "Publish this Action to the GitHub Marketplace"
3. –û–±—Ä–∞—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó: `Code quality`, `Code review`

---

#### 8.3 PyPI –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è

**Trusted Publishing (–±–µ–∑ API token):**
1. pypi.org ‚Üí Settings ‚Üí Publishing ‚Üí Add trusted publisher
2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
   - Owner: `KonstZiv`
   - Repository: `ai-code-reviewer`
   - Workflow: `release.yml`
   - Environment: `pypi`

**release.yml (–≤–∂–µ —ñ—Å–Ω—É—î, –ø–æ—Ç—Ä—ñ–±–Ω—ñ –∑–º—ñ–Ω–∏):**
- –í–∏–¥–∞–ª–∏—Ç–∏ `deploy-docs` job (–ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å—Å—è –≤ docs.yml)
- –î–æ–¥–∞—Ç–∏ –≤–∏–∫–ª–∏–∫ `docker-publish.yml` –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ —Ä–µ–ª—ñ–∑—É

---

#### –ü–ª–∞–Ω –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

**–§–∞–∑–∞ 1: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–π–ª—ñ–≤ (Claude)**

| # | –§–∞–π–ª | –î—ñ—è |
|---|------|-----|
| 1.1 | `pyproject.toml` | –í–µ—Ä—Å—ñ—è `0.1.0` ‚Üí `1.0.0a1` |
| 1.2 | `release.yml` | –í–∏–¥–∞–ª–∏—Ç–∏ `deploy-docs`, –¥–æ–¥–∞—Ç–∏ –≤–∏–∫–ª–∏–∫ docker-publish |
| 1.3 | `docker-publish.yml` | –°—Ç–≤–æ—Ä–∏—Ç–∏ (GHCR + DockerHub, multi-arch) |
| 1.4 | `action.yml` | Pre-built image –∑–∞–º—ñ—Å—Ç—å Dockerfile |
| 1.5 | `DOCKERHUB_README.md` | –°—Ç–≤–æ—Ä–∏—Ç–∏ |
| 1.6 | `README.md` | –°—Ç–≤–æ—Ä–∏—Ç–∏ (—Ñ—ñ–Ω–∞–ª—å–Ω–∏–π –∫—Ä–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó) |

**–§–∞–∑–∞ 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (Human)**

| # | –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | –î—ñ—è |
|---|-----------|-----|
| 2.1 | PyPI | Trusted Publisher |
| 2.2 | GitHub | Secrets: `DOCKERHUB_USERNAME`, `DOCKERHUB_TOKEN` |
| 2.3 | GitHub | Settings ‚Üí Pages ‚Üí gh-pages branch |

**–§–∞–∑–∞ 3: –†–µ–ª—ñ–∑ (Human)**

| # | –î—ñ—è |
|---|-----|
| 3.1 | Merge to main |
| 3.2 | `git tag v1.0.0a1 && git push --tags` |
| 3.3 | GitHub Release + ‚úÖ "Publish to Marketplace" |
| 3.4 | –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è –≤—Å—ñ—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ñ–≤ |

---

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è:**
- ‚úÖ –í—Å—ñ workflows –∑–µ–ª–µ–Ω—ñ
- ‚úÖ PyPI: `pip install ai-reviewbot` –ø—Ä–∞—Ü—é—î
- ‚úÖ DockerHub: `docker pull konstziv/ai-reviewbot` –ø—Ä–∞—Ü—é—î
- ‚úÖ GHCR: `docker pull ghcr.io/konstziv/ai-reviewbot` –ø—Ä–∞—Ü—é—î
- ‚úÖ Marketplace: `uses: KonstZiv/ai-code-reviewer@v1` –ø—Ä–∞—Ü—é—î
- ‚úÖ GitHub Pages: –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ 6 –º–æ–≤–∞—Ö
- ‚úÖ README.md: —è–∫—ñ—Å–Ω–∏–π –æ–ø–∏—Å –∑ badges

**–§–∞–π–ª–∏:**
- `pyproject.toml` (–≤–µ—Ä—Å—ñ—è)
- `.github/workflows/release.yml` (–æ–Ω–æ–≤–ª–µ–Ω–Ω—è)
- `.github/workflows/docker-publish.yml` (–Ω–æ–≤–∏–π)
- `action.yml` (pre-built image)
- `DOCKERHUB_README.md` (–Ω–æ–≤–∏–π)
- `README.md` (–Ω–æ–≤–∏–π)

---

### –ó–∞–≤–¥–∞–Ω–Ω—è 9: –§—ñ–Ω–∞–ª—å–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è —Ç–∞ QA üîç
**–ú–µ—Ç–∞:** End-to-end –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Å—å–æ–≥–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û—á—ñ–∫—É—î
**–û—Ü—ñ–Ω–∫–∞ —á–∞—Å—É:** 3 –≥–æ–¥–∏–Ω–∏

**–ö—Ä–æ–∫–∏:**
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤–∏–π PR –Ω–∞ GitHub –∑ —Ä—ñ–∑–Ω–∏–º–∏ issues
2. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ AI reviewer –≤—Ä—É—á–Ω—É
3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ inline comments –∑ Apply button
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –º–æ–≤–Ω—É –∞–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å
5. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤–∏–π MR –Ω–∞ GitLab
6. –ü–æ–≤—Ç–æ—Ä–∏—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –¥–ª—è GitLab
7. –í–∏–ø—Ä–∞–≤–∏—Ç–∏ –∑–Ω–∞–π–¥–µ–Ω—ñ –±–∞–≥–∏

**Test Scenarios:**
- [ ] PR –∑ security issue ‚Üí Critical inline comment
- [ ] PR –∑ code quality issues ‚Üí Suggestions
- [ ] PR –∑ —Ö–æ—Ä–æ—à–∏–º –∫–æ–¥–æ–º ‚Üí Good practices
- [ ] PR —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é ‚Üí –í—ñ–¥–ø–æ–≤—ñ–¥—å —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é
- [ ] PR –±–µ–∑ linked task ‚Üí Appropriate messaging
- [ ] Network timeout ‚Üí Retry —Ç–∞ —É—Å–ø—ñ—Ö
- [ ] Invalid token ‚Üí Clear error message

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è:**
- ‚úÖ –í—Å—ñ test scenarios –ø—Ä–æ—Ö–æ–¥—è—Ç—å
- ‚úÖ UX –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è–º
- ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ

---

### –ó–∞–≤–¥–∞–Ω–Ω—è 10: –†–µ–ª—ñ–∑ v0.1.0 üöÄ
**–ú–µ—Ç–∞:** –û—Ñ—ñ—Ü—ñ–π–Ω–∏–π —Ä–µ–ª—ñ–∑ MVP

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û—á—ñ–∫—É—î
**–û—Ü—ñ–Ω–∫–∞ —á–∞—Å—É:** 1 –≥–æ–¥–∏–Ω–∞

**–ö—Ä–æ–∫–∏:**
1. –û–Ω–æ–≤–∏—Ç–∏ –≤–µ—Ä—Å—ñ—é –≤ `pyproject.toml`
2. –ù–∞–ø–∏—Å–∞—Ç–∏ CHANGELOG.md
3. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ–≥ `v0.1.0`
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ PyPI publish
5. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ Docker image –≤ GHCR
6. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ GitHub Release
7. –ê–Ω–æ–Ω—Å—É–≤–∞—Ç–∏ —Ä–µ–ª—ñ–∑

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è:**
- ‚úÖ `pip install ai-reviewbot` –ø—Ä–∞—Ü—é—î
- ‚úÖ Docker image –¥–æ—Å—Ç—É–ø–Ω–∏–π
- ‚úÖ GitHub Action –¥–æ—Å—Ç—É–ø–Ω–∏–π —á–µ—Ä–µ–∑ `uses:`
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –∑–∞–¥–µ–ø–ª–æ—î–Ω–∞
- ‚úÖ Release notes –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω—ñ

---

## üß™ –°—Ç—Ä–∞—Ç–µ–≥—ñ—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ü–æ–∫—Ä–∏—Ç—Ç—è –ø–æ –º–æ–¥—É–ª—è—Ö

| –ú–æ–¥—É–ª—å | –¶—ñ–ª—å | –¢–∏–ø —Ç–µ—Å—Ç—ñ–≤ |
|--------|------|------------|
| `core/models.py` | ‚â•90% | Unit |
| `core/config.py` | ‚â•90% | Unit |
| `core/formatter.py` | ‚â•80% | Unit |
| `integrations/github.py` | ‚â•80% | Integration (mocked) |
| `integrations/gitlab.py` | ‚â•80% | Integration (mocked) |
| `integrations/gemini.py` | ‚â•80% | Integration (mocked) |
| `utils/retry.py` | ‚â•90% | Unit |
| `cli.py` | ‚â•80% | Unit + Integration |
| `reviewer.py` | ‚â•80% | E2E (mocked) |

### –¢–µ—Å—Ç–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó

**Unit Tests:**
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –º–æ–¥–µ–ª–µ–π
- –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è output
- Language detection logic
- Retry logic

**Integration Tests:**
- GitHub API (mocked)
- GitLab API (mocked)
- Gemini API (mocked)

**E2E Tests:**
- –ü–æ–≤–Ω–∏–π workflow –∑ –º–æ–∫–∞–º–∏
- CLI –∑–∞–ø—É—Å–∫ –∑ env vars

---

## üìö –î–æ–≤—ñ–¥–∫–æ–≤—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏

### API Documentation
- **GitHub REST API:** https://docs.github.com/en/rest
- **GitHub Review API:** https://docs.github.com/en/rest/pulls/reviews
- **GitLab API:** https://docs.gitlab.com/ee/api/
- **GitLab Discussions:** https://docs.gitlab.com/ee/api/discussions.html
- **Google Gemini:** https://ai.google.dev/docs

### Libraries
- **PyGithub:** https://pygithub.readthedocs.io/
- **python-gitlab:** https://python-gitlab.readthedocs.io/
- **tenacity:** https://tenacity.readthedocs.io/
- **Typer:** https://typer.tiangolo.com/

### GitHub Suggestion Syntax
```markdown
```suggestion
proposed code here
```‚Å£```
```

---

## üéØ –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ—Å—Ç—ñ (Definition of Done)

–°–ø—Ä—ñ–Ω—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–æ –∫–æ–ª–∏:
1. ‚úÖ –í—Å—ñ 10 –∑–∞–≤–¥–∞–Ω—å –≤–∏–∫–æ–Ω–∞–Ω–æ
2. ‚úÖ –ü–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏ ‚â•80%
3. ‚úÖ CI/CD pipeline –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–µ–ª–µ–Ω–∏–π
4. ‚úÖ GitHub + GitLab —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –ø—Ä–∞—Ü—é—é—Ç—å
5. ‚úÖ Inline Comments –∑ "Apply" –∫–Ω–æ–ø–∫–æ—é –ø—Ä–∞—Ü—é—é—Ç—å
6. ‚úÖ –ú–æ–≤–Ω–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å –ø—Ä–∞—Ü—é—î
7. ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è
8. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –Ω–∞ 6 –º–æ–≤–∞—Ö –∑–∞–¥–µ–ø–ª–æ—î–Ω–∞
9. ‚úÖ PyPI package –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ
10. ‚úÖ Docker image –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ
11. ‚úÖ GitHub Action –¥–æ—Å—Ç—É–ø–Ω–∏–π
12. ‚úÖ –¢–µ–≥ v0.1.0 —Å—Ç–≤–æ—Ä–µ–Ω–æ

---

## üìå –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ –ø—ñ—Å–ª—è —Å–ø—Ä—ñ–Ω—Ç—É

**–°–ø—Ä—ñ–Ω—Ç 2: Intelligence & Learning**
- –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é (—ñ—Å—Ç–æ—Ä—ñ—è, conventions)
- Multi-LLM router –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –≤–∞—Ä—Ç–æ—Å—Ç—ñ
- –ö–µ—à—É–≤–∞–Ω–Ω—è —Ç–∞ —ñ–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ñ —Ä–µ–≤ º—é
- –ù–∞–∫–æ–ø–∏—á—É–≤–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- Auto-fix PR creation

---

## ü§ù –ù–æ—Ç–∞—Ç–∫–∏ –¥–ª—è —Å–ø—ñ–≤–ø—Ä–∞—Ü—ñ

**–î–ª—è AI –∞—Å–∏—Å—Ç–µ–Ω—Ç–∞ (Claude):**
- –ß–∏—Ç–∞–π —Ü–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –ø–µ—Ä–µ–¥ –∫–æ–∂–Ω–æ—é —Å–µ—Å—ñ—î—é
- –û–Ω–æ–≤–ª—é–π PROCESS_TASK_UA.md –ø–æ –º—ñ—Ä—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
- –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑—É–π WOW-–µ—Ñ–µ–∫—Ç —É —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—ñ
- –¢–µ—Å—Ç—É–π inline comments —Ä–µ—Ç–µ–ª—å–Ω–æ

**–î–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞:**
- –ü–µ—Ä–µ–≥–ª—è–¥–∞–π –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó AI
- –¢–µ—Å—Ç—É–π –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏—Ö PR/MR
- –î–∞–≤–∞–π —Ñ—ñ–¥–±–µ–∫ —â–æ–¥–æ UX
- –û–Ω–æ–≤–ª—é–π –¥–æ–∫—É–º–µ–Ω—Ç–∏ –∑–∞ –ø–æ—Ç—Ä–µ–±–∏

---

**–ë—É–¥—É—î–º–æ —â–æ—Å—å –≤—Ä–∞–∂–∞—é—á–µ! üöÄ**
