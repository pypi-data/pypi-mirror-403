import{r as v,j as e}from"./vendor-tanstack-BcZfOOfy.js";import{ct as P,q as E,I as L,ak as N,cu as f,aq as k,al as D,cO as C,C as y,b5 as h,S as _,a as O,b as B,c as z,e as R,b6 as U,b7 as q,b8 as m,cC as V,b9 as W,ba as F,cD as G}from"./index-m48E4KcG.js";import{D as H,a as X,b as Y,d as g}from"./dropdown-menu-0atiOSFo.js";const A=2,ee=({defaultValue:c,selectedFilters:l=c||new Set,onSelectFilter:s})=>{const[n,r]=v.useState(!1),d=v.useMemo(()=>{const a=new Set(P);return l.has("Scheduled")||a.size!==l.size?!1:Array.from(l).every(t=>a.has(t))},[l]),u=()=>{s(new Set(P))},j=()=>{s(new Set)},S=a=>{if(d){s(new Set([a]));return}const t=new Set(l);l.has(a)?t.delete(a):t.add(a),s(t)},p=()=>{if(l.size===0)return"All run states";if(d)return"All except scheduled";const a=Array.from(l),t=a.slice(0,A),o=a.length-A;return e.jsxs("div",{className:"flex flex-1 min-w-0 items-center gap-2",children:[e.jsx("div",{className:"flex flex-1 min-w-0 items-center gap-2 overflow-hidden",children:t.map(i=>e.jsx(k,{name:i,type:f[i]},i))}),o>0&&e.jsxs(D,{variant:"bodySmall",className:"shrink-0",children:["+ ",o]})]})};return e.jsxs(H,{open:n,onOpenChange:r,children:[e.jsx(X,{asChild:!0,children:e.jsxs(E,{variant:"outline",className:"justify-between w-full bg-card dark:bg-background",children:[e.jsx("span",{className:"flex-1 min-w-0",children:p()}),e.jsx(L,{id:"ChevronDown",className:"ml-2 size-4 shrink-0"})]})}),e.jsxs(Y,{className:"max-h-96 overflow-x-hidden overflow-y-auto",children:[e.jsxs(g,{onSelect:a=>{a.preventDefault(),u()},children:[e.jsx(N,{checked:d,className:"mr-2"}),"All except scheduled"]}),e.jsxs(g,{onSelect:a=>{a.preventDefault(),j()},children:[e.jsx(N,{checked:l.size===0,className:"mr-2"}),"All run states"]}),Object.keys(f).map(a=>e.jsxs(g,{"aria-label":a,onSelect:t=>{t.preventDefault(),S(a)},children:[e.jsx(N,{"aria-label":a,className:"mr-2",checked:!d&&l.has(a)}),e.jsx(k,{name:a,type:f[a]})]},a))]})]})},se=({flowRuns:c,onClearFilters:l,...s})=>c?c.length===0?e.jsx("div",{className:"flex justify-center py-4",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(D,{children:"No runs found"}),l&&e.jsx(E,{onClick:l,children:"Clear Filters"})]})}):e.jsx("ul",{className:"flex flex-col gap-2",children:c.map(n=>"onSelect"in s&&"selectedRows"in s?e.jsx("li",{children:e.jsx(C,{flowRun:n,checked:s.selectedRows.has(n.id),onCheckedChange:r=>s.onSelect(n.id,r)})},n.id):e.jsx("li",{children:e.jsx(C,{flowRun:n})},n.id))}):e.jsx(J,{numSkeletons:5}),J=({numSkeletons:c=1})=>e.jsx("ul",{className:"flex flex-col gap-1",children:Array.from({length:c}).map((l,s)=>e.jsx("li",{children:e.jsxs(y,{className:"flex flex-col gap-2 p-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(h,{className:"h-4 w-[350px]"}),e.jsx(h,{className:"h-4 w-[400px]"})]}),e.jsx(h,{className:"h-4 w-[400px]"}),e.jsx(h,{className:"h-4 w-[200px]"})]})},s))}),Q=[5,10,25,50,100],ae=({count:c,pages:l,pagination:s,onChangePagination:n,onPrefetchPage:r})=>{const d=()=>n({limit:s.limit,page:1}),u=()=>n({limit:s.limit,page:s.page-1}),j=()=>n({limit:s.limit,page:s.page+1}),S=()=>n({limit:s.limit,page:l}),p=()=>{s.page>1&&r?.(1)},a=()=>{s.page>1&&r?.(s.page-1)},t=()=>{s.page<l&&r?.(s.page+1)},o=()=>{s.page<l&&r?.(l)},i=s.page<=1,w=s.page>=l,M=x=>{const b=Number(x),T=Math.ceil(c/b),I=Math.min(s.page,T);n({limit:b,page:I})};return e.jsxs("div",{className:"flex flex-row justify-between items-center",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2 text-xs text-muted-foreground",children:[e.jsx("span",{className:"whitespace-nowrap",children:"Items per page"}),e.jsxs(_,{value:String(s.limit),onValueChange:M,children:[e.jsx(O,{"aria-label":"Items per page",children:e.jsx(B,{placeholder:"Theme"})}),e.jsx(z,{children:Q.map(x=>e.jsx(R,{value:String(x),children:x},x))})]})]}),e.jsx(U,{className:"justify-end",children:e.jsxs(q,{children:[e.jsxs(m,{children:[e.jsx(V,{onClick:d,onMouseEnter:p,disabled:i}),e.jsx(W,{onClick:u,onMouseEnter:a,disabled:i})]}),e.jsxs(m,{className:"text-sm",children:["Page ",l===0?0:s.page," of ",l]}),e.jsx(m,{children:e.jsx(F,{onClick:j,onMouseEnter:t,disabled:w})}),e.jsx(m,{children:e.jsx(G,{onClick:S,onMouseEnter:o,disabled:w})})]})})]})};export{ae as F,ee as S,se as a};
//# sourceMappingURL=flow-runs-pagination-BATUweRV.js.map
