import{r as c,j as e,E as h}from"./vendor-tanstack-BcZfOOfy.js";import{al as j,N as b,O as v,S,a as A,b as C,c as N,e as T,I as x,B as E,g as k,h as I,D as y,E as D,t as M,v as V,w as L,x as w,au as B,bt as p,bu as R,bv as _}from"./index-m48E4KcG.js";import{A as G}from"./artifact-card-BBzQR-Cj.js";import{T as Q,a as f}from"./toggle-group-Cn07UIim.js";import{u as F}from"./use-debounce-callback-CSs1BjLI.js";import"./vendor-react-Bce9NwRC.js";import"./vendor-radix-BTiKGWfR.js";import"./vendor-recharts-BAN776s_.js";import"./vendor-forms-ClCIacbh.js";import"./vendor-date-wwuDAncJ.js";import"./lazy-markdown-Du2Xu3Yp.js";const O=[{value:"all",label:"All Types"},{value:"markdown",label:"Markdown"},{value:"progress",label:"Progress"},{value:"image",label:"Image"},{value:"table",label:"Table"}],P=({filters:a,onFilterChange:s,totalCount:r,displayMode:o,setDisplayMode:i})=>{const l=c.useCallback(t=>{s([...a.filter(u=>u.id!=="name"),{id:"name",label:"Name",value:t}])},[a,s]),d=c.useCallback(t=>{s([...a.filter(u=>u.id!=="type"),{id:"type",label:"Type",value:t}])},[a,s]),m=c.useMemo(()=>a.find(t=>t.id==="type")?.value,[a]),n=c.useMemo(()=>a.find(t=>t.id==="name")?.value,[a]);return e.jsxs("div",{"data-testid":"artifact-filter",className:"flex justify-between items-center",children:[e.jsx("div",{children:e.jsxs(j,{variant:"body",className:"text-sm text-muted-foreground",children:[r," ",b(r,"artifact")]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(v,{"data-testid":"search-input",defaultValue:n,placeholder:"Search artifacts",onChange:t=>l(t.target.value)}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(S,{"data-testid":"type-select",value:m,onValueChange:d,children:[e.jsx(A,{"aria-label":"Artifact type",children:e.jsx(C,{placeholder:"Type"})}),e.jsx(N,{children:O.map(({value:t,label:u})=>e.jsx(T,{value:t,children:u},t))})]}),e.jsx("div",{children:e.jsxs(Q,{type:"single",defaultValue:o,onValueChange:t=>i(t),children:[e.jsx(f,{"data-testid":"grid-layout",value:"grid",children:e.jsx(x,{id:"LayoutGrid"})}),e.jsx(f,{"data-testid":"list-layout",value:"list",children:e.jsx(x,{id:"AlignJustify"})})]})})]})]})]})},q=()=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(E,{children:e.jsx(k,{children:e.jsx(I,{className:"text-xl font-semibold",children:"Artifacts"})})})}),e.jsx(y,{id:"artifacts-guide",label:"Documentation"})]}),z=()=>e.jsxs(D,{children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(M,{id:"Image"})}),e.jsx(V,{children:"Create an artifact to get started"}),e.jsx(L,{children:"Artifacts are byproducts of your runs; they can be anything from a markdown string to a table."}),e.jsx(w,{children:e.jsx(y,{id:"artifacts-guide"})})]}),H=({filters:a,onFilterChange:s,artifactsList:r,artifactsCount:o})=>{const[i,l]=B("artifacts-grid-style","grid"),d=c.useMemo(()=>i==="grid"?"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4":"grid-cols-1",[i]),m=c.useMemo(()=>r.reduce((n,t)=>(n.find(u=>u.key===t.key)||n.push(t),n),[]),[r]);return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(q,{}),e.jsx(P,{filters:a,onFilterChange:s,totalCount:o,setDisplayMode:l,displayMode:i}),m.length===0?e.jsx(z,{}):e.jsx("div",{className:d,children:m.map(n=>e.jsx(G,{artifact:n},n.id))})]})},g=a=>({artifacts:{operator:"and_",type:{any_:a?.type&&a?.type!=="all"?[a.type]:void 0},key:{like_:a?.name??""}},sort:"CREATED_DESC",offset:0}),J=()=>{const a=p.useSearch(),s=p.useNavigate(),r=c.useMemo(()=>[{id:"type",label:"Type",value:a.type??"all"},{id:"name",label:"Name",value:a.name}],[a.type,a.name]),o=F(c.useCallback(i=>{i&&s({to:".",search:()=>i.filter(l=>l.value).reduce((l,d)=>(d.value&&(l[d.id]=d.value),l),{}),replace:!0})},[s]),400);return{filters:r,onFilterChange:o}};function ie(){const a=p.useSearch(),{filters:s,onFilterChange:r}=J(),[{data:o},{data:i}]=h({queries:[R(g(a)),_(g(a))]});return e.jsx(H,{filters:s,onFilterChange:r,artifactsCount:o,artifactsList:i})}export{ie as component};
//# sourceMappingURL=index-Eqdr6Ff7.js.map
