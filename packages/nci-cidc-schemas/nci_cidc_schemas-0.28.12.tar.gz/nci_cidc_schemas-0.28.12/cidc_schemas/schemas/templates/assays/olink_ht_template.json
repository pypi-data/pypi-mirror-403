{
    "title": "Olink HT assay template",
    "description": "Olink HT submission.",
    "prism_template_root_object_schema": "assays/olink_ht_assay.json",
    "prism_template_root_object_pointer": "/assays/olink_ht/0",
    "properties": {
        "worksheets": {
            "Olink HT": {
                "prism_data_object_pointer": "/records/-",
                "preamble_rows": {
                    "protocol identifier": {
                        "merge_pointer": "3/protocol_identifier",
                        "type_ref": "clinical_trial.json#properties/protocol_identifier"
                    },
                    "assay creator": {
                        "merge_pointer": "0/assay_creator",
                        "type_ref": "assays/components/assay_core.json#properties/assay_creator"
                    },
                    "CIMAC Batch ID": {
                        "merge_pointer": "0/batch_id",
                        "type_ref": "assays/mibi_assay.json#properties/batch_id"
                    },
                    "CIDC Submission ID": {
                        "merge_pointer": "0/optional_id",
                        "type_ref": "assays/mibi_assay.json#properties/optional_id"
                    },
                    "Panel": {
                        "merge_pointer": "0/panel",
                        "type": "string"
                    },
                    "Assay panel lot": {
                        "merge_pointer": "0/assay_panel_lot",
                        "type": "string"
                    },
                    "study-level combined file": {
                        "merge_pointer": "0/study_level_combined_file",
                        "gcs_uri_format": "{protocol identifier}/olink_ht/{cimac batch id}/study_level_combined_file.parquet",
                        "is_artifact": 1,
                        "type_ref": "assays/components/local_file.json#properties/file_path"
                    },
                    "Study-level combined npx manager version": {
                        "merge_pointer": "0/study_level_combined_npx_manager_version",
                        "type": "string"
                    },
                    "batch-level combined file": {
                        "merge_pointer": "0/batch_level_combined_file",
                        "gcs_uri_format": "{protocol identifier}/olink_ht/{cimac batch id}/batch_level_combined_file.parquet",
                        "is_artifact": 1,
                        "type_ref": "assays/components/local_file.json#properties/file_path"
                    },
                    "Batch-level combined npx manager version": {
                        "merge_pointer": "0/batch_level_combined_npx_manager_version",
                        "type": "string"
                    }
                },
                "data_columns": {
                    "Olink HT Details": {
                        "cimac id": {
                            "merge_pointer": "0/cimac_id",
                            "type_ref": "sample.json#properties/cimac_id"
                        },
                        "npx run file": {
                            "merge_pointer": "0/npx_run_file",
                            "is_artifact": 1,
                            "type_ref": "assays/components/local_file.json#properties/file_path",
                            "gcs_uri_format": "{protocol identifier}/olink_ht/{cimac batch id}/{cimac id}/npx_run_file.parquet"
                        },
                        "instrument": {
                            "merge_pointer": "0/instrument",
                            "type": "string"
                        },
                        "npx manager version": {
                            "merge_pointer": "0/npx_manager_version",
                            "type": "string"
                        },
                        "comments": {
                            "merge_pointer": "0/comments",
                            "type": "string",
                            "allow_empty": true
                        }
                    }
                }
            }
        }
    }
}
