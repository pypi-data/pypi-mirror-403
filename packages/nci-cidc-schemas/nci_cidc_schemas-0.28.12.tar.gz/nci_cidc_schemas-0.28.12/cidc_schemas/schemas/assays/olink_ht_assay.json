{
    "$schema": "metaschema/strict_meta_schema.json#",
    "$id": "olink_ht_assay",
    "title": "Olink HT Assay",
    "type": "object",
    "$comment": "description used in docs/index.html and docs/assays.olink_ht.html",
    "description": "Olink HT assay",
    "additionalProperties": false,
    "definitions": {
        "record": {
            "type": "object",
            "mergeStrategy": "objectMerge",
            "description": "A single data record from an Olink HT assay.",
            "additionalProperties": false,
            "required": [
                "cimac_id",
                "npx_run_file",
                "instrument",
                "npx_manager_version"
            ],
            "properties": {
                "cimac_id": {
                    "description": "Id of an sample within this clinical trial, that this assay record is based upon.",
                    "$ref": "sample.json#properties/cimac_id"
                },
                "npx_run_file": {
                    "$ref": "artifacts/artifact_parquet.json",
                    "$comment": "Parquet file of the overall run the sample was in."
                },
                "instrument": {
                    "description": "Instrument used for the Olink HT assay.",
                    "type": "string"
                },
                "npx_manager_version": {
                    "description": "Version of NPX manager used for the analysis.",
                    "type": "string"
                },
                "comments": {
                    "description": "Comments on the Olink HT assay sample.",
                    "type": "string"
                }
            }
        }
    },
    "properties": {
        "assay_creator": {
            "$ref": "assays/components/assay_core.json#properties/assay_creator"
        },
        "batch_id": {
            "description": "Batch identification number. Unique to every upload.",
            "type": "string"
        },
        "optional_id": {
            "description": "User provided optional id. Currently comes from CIDC Submission ID",
            "type": "string"
        },
        "panel": {
            "description": "Panel used for the assay.",
            "type": "string"
        },
        "assay_panel_lot": {
            "description": "Lot number of the assay panel.",
            "type": "string"
        },
        "study_level_combined_file": {
            "$comment": "Parquet file of the study level run.",
            "$ref": "artifacts/artifact_parquet.json"
        },
        "study_level_combined_npx_manager_version": {
            "description": "Version of NPX manager used for the analysis.",
            "type": "string"
        },
        "batch_level_combined_file": {
            "$comment": "Parquet file of the batch level run.",
            "$ref": "artifacts/artifact_parquet.json"
        },
        "batch_level_combined_npx_manager_version": {
            "description": "Version of NPX manager used for the analysis.",
            "type": "string"
        },
        "records": {
            "type": "array",
            "description": "A single data record from an Olink HT assay.",
            "items": {
                "$ref": "assays/olink_ht_assay.json#definitions/record"
            },
            "mergeStrategy": "append"
        }
    },
    "required": [
        "assay_creator",
        "batch_id",
        "panel",
        "assay_panel_lot",
        "study_level_combined_file",
        "study_level_combined_npx_manager_version",
        "batch_level_combined_file",
        "batch_level_combined_npx_manager_version"
    ]
}
